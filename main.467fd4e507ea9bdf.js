"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179],{64:()=>{function Se(e){return"function"==typeof e}function ts(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Za=ts(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function ns(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Wt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Se(r))try{r()}catch(o){n=o instanceof Za?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Om(o)}catch(s){n=n??[],s instanceof Za?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Za(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Om(n);else{if(n instanceof Wt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&ns(t,n)}remove(n){const{_finalizers:t}=this;t&&ns(t,n),n instanceof Wt&&n._removeParent(this)}}Wt.EMPTY=(()=>{const e=new Wt;return e.closed=!0,e})();const Nm=Wt.EMPTY;function Rm(e){return e instanceof Wt||e&&"closed"in e&&Se(e.remove)&&Se(e.add)&&Se(e.unsubscribe)}function Om(e){Se(e)?e():e.unsubscribe()}const ti={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ya={setTimeout(e,n,...t){const{delegate:r}=Ya;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Ya;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function km(e){Ya.setTimeout(()=>{const{onUnhandledError:n}=ti;if(!n)throw e;n(e)})}function Nl(){}const t1=Rl("C",void 0,void 0);function Rl(e,n,t){return{kind:e,value:n,error:t}}let ni=null;function Qa(e){if(ti.useDeprecatedSynchronousErrorHandling){const n=!ni;if(n&&(ni={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=ni;if(ni=null,t)throw r}}else e()}class Ol extends Wt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,Rm(n)&&n.add(this)):this.destination=c1}static create(n,t,r){return new rs(n,t,r)}next(n){this.isStopped?Pl(function r1(e){return Rl("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Pl(function n1(e){return Rl("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Pl(t1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const o1=Function.prototype.bind;function kl(e,n){return o1.call(e,n)}class s1{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Ja(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Ja(r)}else Ja(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ja(t)}}}class rs extends Ol{constructor(n,t,r){let i;if(super(),Se(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ti.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&kl(n.next,o),error:n.error&&kl(n.error,o),complete:n.complete&&kl(n.complete,o)}):i=n}this.destination=new s1(i)}}function Ja(e){ti.useDeprecatedSynchronousErrorHandling?function i1(e){ti.useDeprecatedSynchronousErrorHandling&&ni&&(ni.errorThrown=!0,ni.error=e)}(e):km(e)}function Pl(e,n){const{onStoppedNotification:t}=ti;t&&Ya.setTimeout(()=>t(e,n))}const c1={closed:!0,next:Nl,error:function a1(e){throw e},complete:Nl},Fl="function"==typeof Symbol&&Symbol.observable||"@@observable";function Sr(e){return e}function Pm(e){return 0===e.length?Sr:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let ze=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function d1(e){return e&&e instanceof Ol||function l1(e){return e&&Se(e.next)&&Se(e.error)&&Se(e.complete)}(e)&&Rm(e)}(t)?t:new rs(t,r,i);return Qa(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Fm(r))((i,o)=>{const s=new rs({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Fl](){return this}pipe(...t){return Pm(t)(this)}toPromise(t){return new(t=Fm(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function Fm(e){var n;return null!==(n=e??ti.Promise)&&void 0!==n?n:Promise}const f1=ts(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let pn=(()=>{class e extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Lm(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new f1}next(t){Qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Qa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Nm:(this.currentObservers=null,o.push(t),new Wt(()=>{this.currentObservers=null,ns(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new ze;return t.source=this,t}}return e.create=(n,t)=>new Lm(n,t),e})();class Lm extends pn{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:Nm}}function Vm(e){return Se(e?.lift)}function Ke(e){return n=>{if(Vm(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Qe(e,n,t,r,i){return new h1(e,n,t,r,i)}class h1 extends Ol{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){n.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){n.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function ge(e,n){return Ke((t,r)=>{let i=0;t.subscribe(Qe(r,o=>{r.next(e.call(n,o,i++))}))})}function Er(e){return this instanceof Er?(this.v=e,this):new Er(e)}function zm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function $l(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}(a,u,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Hm=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Um(e){return Se(e?.then)}function Gm(e){return Se(e[Fl])}function qm(e){return Symbol.asyncIterator&&Se(e?.[Symbol.asyncIterator])}function Wm(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Xm=function P1(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Zm(e){return Se(e?.[Xm])}function Ym(e){return function Bm(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(m){r[m]&&(i[m]=function(g){return new Promise(function(v,w){o.push([m,g,v,w])>1||a(m,g)})})}function a(m,g){try{!function u(m){m.value instanceof Er?Promise.resolve(m.value.v).then(l,h):p(o[0][2],m)}(r[m](g))}catch(v){p(o[0][3],v)}}function l(m){a("next",m)}function h(m){a("throw",m)}function p(m,g){m(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield Er(t.read());if(i)return yield Er(void 0);yield yield Er(r)}}finally{t.releaseLock()}})}function Qm(e){return Se(e?.getReader)}function Xt(e){if(e instanceof ze)return e;if(null!=e){if(Gm(e))return function F1(e){return new ze(n=>{const t=e[Fl]();if(Se(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Hm(e))return function L1(e){return new ze(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Um(e))return function V1(e){return new ze(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,km)})}(e);if(qm(e))return Jm(e);if(Zm(e))return function j1(e){return new ze(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Qm(e))return function $1(e){return Jm(Ym(e))}(e)}throw Wm(e)}function Jm(e){return new ze(n=>{(function B1(e,n){var t,r,i,o;return function jm(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,u)}l((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=zm(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function sr(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function at(e,n,t=1/0){return Se(n)?at((r,i)=>ge((o,s)=>n(r,o,i,s))(Xt(e(r,i))),t):("number"==typeof n&&(t=n),Ke((r,i)=>function z1(e,n,t,r,i,o,s,a){const u=[];let l=0,h=0,p=!1;const m=()=>{p&&!u.length&&!l&&n.complete()},g=w=>l<r?v(w):u.push(w),v=w=>{o&&n.next(w),l++;let b=!1;Xt(t(w,h++)).subscribe(Qe(n,C=>{i?.(C),o?g(C):n.next(C)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;u.length&&l<r;){const C=u.shift();s?sr(n,s,()=>v(C)):v(C)}m()}catch(C){n.error(C)}}))};return e.subscribe(Qe(n,g,()=>{p=!0,m()})),()=>{a?.()}}(r,i,e,t)))}function Oi(e=1/0){return at(Sr,e)}const zn=new ze(e=>e.complete());function Bl(e){return e[e.length-1]}function Km(e){return Se(Bl(e))?e.pop():void 0}function is(e){return function U1(e){return e&&Se(e.schedule)}(Bl(e))?e.pop():void 0}function eg(e,n=0){return Ke((t,r)=>{t.subscribe(Qe(r,i=>sr(r,e,()=>r.next(i),n),()=>sr(r,e,()=>r.complete(),n),i=>sr(r,e,()=>r.error(i),n)))})}function tg(e,n=0){return Ke((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function ng(e,n){if(!e)throw new Error("Iterable cannot be null");return new ze(t=>{sr(t,n,()=>{const r=e[Symbol.asyncIterator]();sr(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function et(e,n){return n?function Q1(e,n){if(null!=e){if(Gm(e))return function q1(e,n){return Xt(e).pipe(tg(n),eg(n))}(e,n);if(Hm(e))return function X1(e,n){return new ze(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Um(e))return function W1(e,n){return Xt(e).pipe(tg(n),eg(n))}(e,n);if(qm(e))return ng(e,n);if(Zm(e))return function Z1(e,n){return new ze(t=>{let r;return sr(t,n,()=>{r=e[Xm](),sr(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}(e,n);if(Qm(e))return function Y1(e,n){return ng(Ym(e),n)}(e,n)}throw Wm(e)}(e,n):Xt(e)}function zl(...e){const n=is(e),t=function G1(e,n){return"number"==typeof Bl(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?Xt(r[0]):Oi(t)(et(r,n)):zn}class Zt extends pn{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function q(...e){return et(e,is(e))}function rg(e={}){const{connector:n=(()=>new pn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,u,l=0,h=!1,p=!1;const m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=u=void 0,h=p=!1},v=()=>{const w=s;g(),w?.unsubscribe()};return Ke((w,b)=>{l++,!p&&!h&&m();const C=u=u??n();b.add(()=>{l--,0===l&&!p&&!h&&(a=Hl(v,i))}),C.subscribe(b),!s&&l>0&&(s=new rs({next:_=>C.next(_),error:_=>{p=!0,m(),a=Hl(g,t,_),C.error(_)},complete:()=>{h=!0,m(),a=Hl(g,r),C.complete()}}),Xt(w).subscribe(s))})(o)}}function Hl(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new rs({next:()=>{r.unsubscribe(),e()}});return Xt(n(...t)).subscribe(r)}function Mn(e,n){return Ke((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Qe(r,u=>{i?.unsubscribe();let l=0;const h=o++;Xt(e(u,h)).subscribe(i=Qe(r,p=>r.next(n?n(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function K1(e,n){return e===n}function De(e){for(let n in e)if(e[n]===De)return n;throw Error("Could not find renamed property on target object.")}function Ka(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function tt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(tt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Ul(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const eS=De({__forward_ref__:De});function Ne(e){return e.__forward_ref__=Ne,e.toString=function(){return tt(this())},e}function Y(e){return Gl(e)?e():e}function Gl(e){return"function"==typeof e&&e.hasOwnProperty(eS)&&e.__forward_ref__===Ne}function ql(e){return e&&!!e.\u0275providers}const ig="https://g.co/ng/security#xss";class M extends Error{constructor(n,t){super(function ec(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function J(e){return"string"==typeof e?e:null==e?"":String(e)}function Wl(e,n){throw new M(-201,!1)}function mn(e,n){null==e&&function W(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function $(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Nt(e){return{providers:e.providers||[],imports:e.imports||[]}}function tc(e){return og(e,rc)||og(e,sg)}function og(e,n){return e.hasOwnProperty(n)?e[n]:null}function nc(e){return e&&(e.hasOwnProperty(Xl)||e.hasOwnProperty(cS))?e[Xl]:null}const rc=De({\u0275prov:De}),Xl=De({\u0275inj:De}),sg=De({ngInjectableDef:De}),cS=De({ngInjectorDef:De});var ce=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ce||{});let Zl;function Rt(e){const n=Zl;return Zl=e,n}function cg(e,n,t){const r=tc(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ce.Optional?null:void 0!==n?n:void Wl(tt(e))}const Re=globalThis;class P{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const os={},ed="__NG_DI_FLAG__",ic="ngTempTokenPath",dS=/\n/gm,lg="__source";let ki;function Mr(e){const n=ki;return ki=e,n}function pS(e,n=ce.Default){if(void 0===ki)throw new M(-203,!1);return null===ki?cg(e,void 0,n):ki.get(e,n&ce.Optional?null:void 0,n)}function j(e,n=ce.Default){return(function ag(){return Zl}()||pS)(Y(e),n)}function k(e,n=ce.Default){return j(e,oc(n))}function oc(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function td(e){const n=[];for(let t=0;t<e.length;t++){const r=Y(e[t]);if(Array.isArray(r)){if(0===r.length)throw new M(900,!1);let i,o=ce.Default;for(let s=0;s<r.length;s++){const a=r[s],u=mS(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}n.push(j(i,o))}else n.push(j(r))}return n}function ss(e,n){return e[ed]=n,e.prototype[ed]=n,e}function mS(e){return e[ed]}function ar(e){return{toString:e}.toString()}var sc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(sc||{}),Tn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Tn||{});const Hn={},me=[],ac=De({\u0275cmp:De}),nd=De({\u0275dir:De}),rd=De({\u0275pipe:De}),fg=De({\u0275mod:De}),cr=De({\u0275fac:De}),as=De({__NG_ELEMENT_ID__:De}),hg=De({__NG_ENV_ID__:De});function pg(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function id(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];gg(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function mg(e){return 3===e||4===e||6===e}function gg(e){return 64===e.charCodeAt(0)}function cs(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||vg(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function vg(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const yg="ng-template";function yS(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(t&&"class"===o&&-1!==pg(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function wg(e){return 4===e.type&&e.value!==yg}function wS(e,n,t){return n===(4!==e.type||t?e.value:yg)}function bS(e,n,t){let r=4;const i=e.attrs||[],o=function CS(e){for(let n=0;n<e.length;n++)if(mg(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const u=n[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!wS(e,u,t)||""===u&&1===n.length){if(An(r))return!1;s=!0}}else{const l=8&r?u:n[++a];if(8&r&&null!==e.attrs){if(!yS(e.attrs,l,t)){if(An(r))return!1;s=!0}continue}const p=_S(8&r?"class":u,i,wg(e),t);if(-1===p){if(An(r))return!1;s=!0;continue}if(""!==l){let m;m=p>o?"":i[p+1].toLowerCase();const g=8&r?m:null;if(g&&-1!==pg(g,l,0)||2&r&&l!==m){if(An(r))return!1;s=!0}}}}else{if(!s&&!An(r)&&!An(u))return!1;if(s&&An(u))continue;s=!1,r=u|1&r}}return An(r)||s}function An(e){return 0==(1&e)}function _S(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function IS(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function bg(e,n,t=!1){for(let r=0;r<n.length;r++)if(bS(e,n[r],t))return!0;return!1}function xS(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function _g(e,n){return e?":not("+n.trim()+")":n}function SS(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!An(s)&&(n+=_g(o,i),i=""),r=s,o=o||!An(r);t++}return""!==i&&(n+=_g(o,i)),n}function V(e){return ar(()=>{const n=Cg(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===sc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Tn.Emulated,styles:e.styles||me,_:null,schemas:e.schemas||null,tView:null,id:""};Ig(t);const r=e.dependencies;return t.directiveDefs=cc(r,!1),t.pipeDefs=cc(r,!0),t.id=function kS(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function AS(e){return fe(e)||ct(e)}function NS(e){return null!==e}function Qt(e){return ar(()=>({type:e.type,bootstrap:e.bootstrap||me,declarations:e.declarations||me,imports:e.imports||me,exports:e.exports||me,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Dg(e,n){if(null==e)return Hn;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}function G(e){return ar(()=>{const n=Cg(e);return Ig(n),n})}function Ot(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function fe(e){return e[ac]||null}function ct(e){return e[nd]||null}function _t(e){return e[rd]||null}function Jt(e,n){const t=e[fg]||null;if(!t&&!0===n)throw new Error(`Type ${tt(e)} does not have '\u0275mod' property.`);return t}function Cg(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Hn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||me,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dg(e.inputs,n),outputs:Dg(e.outputs)}}function Ig(e){e.features?.forEach(n=>n(e))}function cc(e,n){if(!e)return null;const t=n?_t:AS;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(NS)}const He=0,R=1,te=2,Ve=3,Nn=4,us=5,ht=6,Fi=7,qe=8,Tr=9,Li=10,K=11,ls=12,xg=13,Vi=14,We=15,ds=16,ji=17,Un=18,fs=19,Sg=20,Ar=21,ur=22,hs=23,ps=24,ue=25,od=1,Eg=2,Gn=7,$i=9,ut=11;function kt(e){return Array.isArray(e)&&"object"==typeof e[od]}function Dt(e){return Array.isArray(e)&&!0===e[od]}function sd(e){return 0!=(4&e.flags)}function ii(e){return e.componentOffset>-1}function lc(e){return 1==(1&e.flags)}function Rn(e){return!!e.template}function ad(e){return 0!=(512&e[te])}function oi(e,n){return e.hasOwnProperty(cr)?e[cr]:null}let lt=null,dc=!1;function gn(e){const n=lt;return lt=e,n}const Ag={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Rg(e){if(!gs(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Pg(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function kg(e){e.dirty=!0,function Og(e){if(void 0===e.liveConsumerNode)return;const n=dc;dc=!0;try{for(const t of e.liveConsumerNode)t.dirty||kg(t)}finally{dc=n}}(e),e.consumerMarkedDirty?.(e)}function ud(e){return e&&(e.nextProducerIndex=0),gn(e)}function ld(e,n){if(gn(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(gs(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)fc(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Pg(e){Bi(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Rg(t),r!==t.version))return!0}return!1}function Fg(e){if(Bi(e),gs(e))for(let n=0;n<e.producerNode.length;n++)fc(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function fc(e,n){if(function Vg(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Bi(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)fc(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Bi(i),i.producerIndexOfThis[r]=n}}function gs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Bi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let jg=null;function zg(e){const n=gn(null);try{return e()}finally{gn(n)}}const Hg=()=>{},WS=(()=>({...Ag,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Hg}))();class XS{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function vn(){return Ug}function Ug(e){return e.type.prototype.ngOnChanges&&(e.setInput=YS),ZS}function ZS(){const e=qg(this),n=e?.current;if(n){const t=e.previous;if(t===Hn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function YS(e,n,t,r){const i=this.declaredInputs[t],o=qg(e)||function QS(e,n){return e[Gg]=n}(e,{previous:Hn,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new XS(u&&u.currentValue,n,a===Hn),e[r]=n}vn.ngInherit=!0;const Gg="__ngSimpleChanges__";function qg(e){return e[Gg]||null}const qn=function(e,n,t){};function Oe(e){for(;Array.isArray(e);)e=e[He];return e}function hc(e,n){return Oe(n[e])}function Pt(e,n){return Oe(n[e.index])}function Zg(e,n){return e.data[n]}function zi(e,n){return e[n]}function Kt(e,n){const t=n[e];return kt(t)?t:t[He]}function Rr(e,n){return null==n?null:e[n]}function Yg(e){e[ji]=0}function rE(e){1024&e[te]||(e[te]|=1024,Jg(e,1))}function Qg(e){1024&e[te]&&(e[te]&=-1025,Jg(e,-1))}function Jg(e,n){let t=e[Ve];if(null===t)return;t[us]+=n;let r=t;for(t=t[Ve];null!==t&&(1===n&&1===r[us]||-1===n&&0===r[us]);)t[us]+=n,r=t,t=t[Ve]}const X={lFrame:uv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function tv(){return X.bindingsEnabled}function Hi(){return null!==X.skipHydrationRootTNode}function x(){return X.lFrame.lView}function he(){return X.lFrame.tView}function Ft(e){return X.lFrame.contextLView=e,e[qe]}function Lt(e){return X.lFrame.contextLView=null,e}function dt(){let e=nv();for(;null!==e&&64===e.type;)e=e.parent;return e}function nv(){return X.lFrame.currentTNode}function Wn(e,n){const t=X.lFrame;t.currentTNode=e,t.isParent=n}function md(){return X.lFrame.isParent}function gd(){X.lFrame.isParent=!1}function Ct(){const e=X.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function lr(){return X.lFrame.bindingIndex}function Ui(){return X.lFrame.bindingIndex++}function dr(e){const n=X.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function mE(e,n){const t=X.lFrame;t.bindingIndex=t.bindingRootIndex=e,vd(n)}function vd(e){X.lFrame.currentDirectiveIndex=e}function sv(){return X.lFrame.currentQueryIndex}function wd(e){X.lFrame.currentQueryIndex=e}function vE(e){const n=e[R];return 2===n.type?n.declTNode:1===n.type?e[ht]:null}function av(e,n,t){if(t&ce.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&ce.Host||(i=vE(o),null===i||(o=o[Vi],10&i.type))););if(null===i)return!1;n=i,e=o}const r=X.lFrame=cv();return r.currentTNode=n,r.lView=e,!0}function bd(e){const n=cv(),t=e[R];X.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function cv(){const e=X.lFrame,n=null===e?null:e.child;return null===n?uv(e):n}function uv(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function lv(){const e=X.lFrame;return X.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const dv=lv;function _d(){const e=lv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function It(){return X.lFrame.selectedIndex}function si(e){X.lFrame.selectedIndex=e}function $e(){const e=X.lFrame;return Zg(e.tView,e.selectedIndex)}let mv=!0;function pc(){return mv}function Or(e){mv=e}function mc(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),u&&(e.viewHooks??=[]).push(-t,u),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),null!=h&&(e.destroyHooks??=[]).push(t,h)}}function gc(e,n,t){gv(e,n,3,t)}function vc(e,n,t,r){(3&e[te])===t&&gv(e,n,t,r)}function Dd(e,n){let t=e[te];(3&t)===n&&(t&=8191,t+=1,e[te]=t)}function gv(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let u=void 0!==r?65535&e[ji]:0;u<s;u++)if("number"==typeof n[u+1]){if(a=n[u],null!=r&&a>=r)break}else n[u]<0&&(e[ji]+=65536),(a<o||-1==o)&&(CE(e,t,n,u),e[ji]=(4294901760&e[ji])+u+2),u++}function vv(e,n){qn(4,e,n);const t=gn(null);try{n.call(e)}finally{gn(t),qn(5,e,n)}}function CE(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[te]>>13<e[ji]>>16&&(3&e[te])===n&&(e[te]+=8192,vv(a,o)):vv(a,o)}const Gi=-1;class ys{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Id(e){return e!==Gi}function ws(e){return 32767&e}function bs(e,n){let t=function EE(e){return e>>16}(e),r=n;for(;t>0;)r=r[Vi],t--;return r}let xd=!0;function yc(e){const n=xd;return xd=e,n}const yv=255,wv=5;let ME=0;const Xn={};function wc(e,n){const t=bv(e,n);if(-1!==t)return t;const r=n[R];r.firstCreatePass&&(e.injectorIndex=n.length,Sd(r.data,e),Sd(n,null),Sd(r.blueprint,null));const i=bc(e,n),o=e.injectorIndex;if(Id(i)){const s=ws(i),a=bs(i,n),u=a[R].data;for(let l=0;l<8;l++)n[o+l]=a[s+l]|u[s+l]}return n[o+8]=i,o}function Sd(e,n){e.push(0,0,0,0,0,0,0,0,n)}function bv(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function bc(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=Ev(i),null===r)return Gi;if(t++,i=i[Vi],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Gi}function Ed(e,n,t){!function TE(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(as)&&(r=t[as]),null==r&&(r=t[as]=ME++);const i=r&yv;n.data[e+(i>>wv)]|=1<<i}(e,n,t)}function _v(e,n,t){if(t&ce.Optional||void 0!==e)return e;Wl()}function Dv(e,n,t,r){if(t&ce.Optional&&void 0===r&&(r=null),!(t&(ce.Self|ce.Host))){const i=e[Tr],o=Rt(void 0);try{return i?i.get(n,r,t&ce.Optional):cg(n,r,t&ce.Optional)}finally{Rt(o)}}return _v(r,0,t)}function Cv(e,n,t,r=ce.Default,i){if(null!==e){if(2048&n[te]&&!(r&ce.Self)){const s=function PE(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[te]&&!(512&s[te]);){const a=Iv(o,s,t,r|ce.Self,Xn);if(a!==Xn)return a;let u=o.parent;if(!u){const l=s[Sg];if(l){const h=l.get(t,Xn,r);if(h!==Xn)return h}u=Ev(s),s=s[Vi]}o=u}return i}(e,n,t,r,Xn);if(s!==Xn)return s}const o=Iv(e,n,t,r,Xn);if(o!==Xn)return o}return Dv(n,t,r,i)}function Iv(e,n,t,r,i){const o=function RE(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(as)?e[as]:void 0;return"number"==typeof n?n>=0?n&yv:kE:n}(t);if("function"==typeof o){if(!av(n,e,r))return r&ce.Host?_v(i,0,r):Dv(n,t,r,i);try{let s;if(s=o(r),null!=s||r&ce.Optional)return s;Wl()}finally{dv()}}else if("number"==typeof o){let s=null,a=bv(e,n),u=Gi,l=r&ce.Host?n[We][ht]:null;for((-1===a||r&ce.SkipSelf)&&(u=-1===a?bc(e,n):n[a+8],u!==Gi&&Sv(r,!1)?(s=n[R],a=ws(u),n=bs(u,n)):a=-1);-1!==a;){const h=n[R];if(xv(o,a,h.data)){const p=NE(a,n,t,s,r,l);if(p!==Xn)return p}u=n[a+8],u!==Gi&&Sv(r,n[R].data[a+8]===l)&&xv(o,a,n)?(s=h,a=ws(u),n=bs(u,n)):a=-1}}return i}function NE(e,n,t,r,i,o){const s=n[R],a=s.data[e+8],h=_c(a,s,t,null==r?ii(a)&&xd:r!=s&&0!=(3&a.type),i&ce.Host&&o===a);return null!==h?ai(n,s,h,a):Xn}function _c(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,u=e.directiveStart,h=o>>20,m=i?a+h:e.directiveEnd;for(let g=r?a:a+h;g<m;g++){const v=s[g];if(g<u&&t===v||g>=u&&v.type===t)return g}if(i){const g=s[u];if(g&&Rn(g)&&g.type===t)return u}return null}function ai(e,n,t,r){let i=e[t];const o=n.data;if(function IE(e){return e instanceof ys}(i)){const s=i;s.resolving&&function tS(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new M(-200,`Circular dependency in DI detected for ${e}${t}`)}(function _e(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():J(e)}(o[t]));const a=yc(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Rt(s.injectImpl):null;av(e,r,ce.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function DE(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=Ug(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==l&&Rt(l),yc(a),s.resolving=!1,dv()}}return i}function xv(e,n,t){return!!(t[n+(e>>wv)]&1<<e)}function Sv(e,n){return!(e&ce.Self||e&ce.Host&&n)}class xt{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Cv(this._tNode,this._lView,n,oc(r),t)}}function kE(){return new xt(dt(),x())}function ft(e){return ar(()=>{const n=e.prototype.constructor,t=n[cr]||Md(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[cr]||Md(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Md(e){return Gl(e)?()=>{const n=Md(Y(e));return n&&n()}:oi(e)}function Ev(e){const n=e[R],t=n.type;return 2===t?n.declTNode:1===t?e[ht]:null}const Wi="__parameters__";function Zi(e,n,t){return ar(()=>{const r=function Td(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,l,h){const p=u.hasOwnProperty(Wi)?u[Wi]:Object.defineProperty(u,Wi,{value:[]})[Wi];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Qi(e,n){e.forEach(t=>Array.isArray(t)?Qi(t,n):n(t))}function Tv(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Cc(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Cs(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function en(e,n,t){let r=Ji(e,n);return r>=0?e[1|r]=t:(r=~r,function zE(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Ad(e,n){const t=Ji(e,n);if(t>=0)return e[1|t]}function Ji(e,n){return function Av(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const xc=ss(Zi("Optional"),8),Sc=ss(Zi("SkipSelf"),4);function Nc(e){return 128==(128&e.flags)}var kr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(kr||{});const uM=/^>|^->|<!--|-->|--!>|<!-$/g,lM=/(<|>)/g,dM="\u200b$1\u200b";const Pd=new Map;let fM=0;const Ld="__ngContext__";function pt(e,n){kt(n)?(e[Ld]=n[fs],function pM(e){Pd.set(e[fs],e)}(n)):e[Ld]=n}let Vd;function jd(e,n){return Vd(e,n)}function Ss(e){const n=e[Ve];return Dt(n)?n[Ve]:n}function Yv(e){return Jv(e[ls])}function Qv(e){return Jv(e[Nn])}function Jv(e){for(;null!==e&&!Dt(e);)e=e[Nn];return e}function to(e,n,t,r,i){if(null!=r){let o,s=!1;Dt(r)?o=r:kt(r)&&(s=!0,r=r[He]);const a=Oe(r);0===e&&null!==t?null==i?ny(n,t,a):ci(n,t,a,i||null,!0):1===e&&null!==t?ci(n,t,a,i||null,!0):2===e?function Vc(e,n,t){const r=Fc(e,n);r&&function OM(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function FM(e,n,t,r,i){const o=t[Gn];o!==Oe(t)&&to(n,e,r,o,i);for(let a=ut;a<t.length;a++){const u=t[a];Ms(u[R],u,e,n,r,o)}}(n,e,o,t,i)}}function $d(e,n){return e.createComment(function zv(e){return e.replace(uM,n=>n.replace(lM,dM))}(n))}function kc(e,n,t){return e.createElement(n,t)}function ey(e,n){const t=e[$i],r=t.indexOf(n);Qg(n),t.splice(r,1)}function Pc(e,n){if(e.length<=ut)return;const t=ut+n,r=e[t];if(r){const i=r[ds];null!==i&&i!==e&&ey(i,r),n>0&&(e[t-1][Nn]=r[Nn]);const o=Cc(e,ut+n);!function xM(e,n){Ms(e,n,n[K],2,null,null),n[He]=null,n[ht]=null}(r[R],r);const s=o[Un];null!==s&&s.detachView(o[R]),r[Ve]=null,r[Nn]=null,r[te]&=-129}return r}function Bd(e,n){if(!(256&n[te])){const t=n[K];n[hs]&&Fg(n[hs]),n[ps]&&Fg(n[ps]),t.destroyNode&&Ms(e,n,t,3,null,null),function MM(e){let n=e[ls];if(!n)return zd(e[R],e);for(;n;){let t=null;if(kt(n))t=n[ls];else{const r=n[ut];r&&(t=r)}if(!t){for(;n&&!n[Nn]&&n!==e;)kt(n)&&zd(n[R],n),n=n[Ve];null===n&&(n=e),kt(n)&&zd(n[R],n),t=n&&n[Nn]}n=t}}(n)}}function zd(e,n){if(!(256&n[te])){n[te]&=-129,n[te]|=256,function RM(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof ys)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];qn(4,a,u);try{u.call(a)}finally{qn(5,a,u)}}else{qn(4,i,o);try{o.call(i)}finally{qn(5,i,o)}}}}}(e,n),function NM(e,n){const t=e.cleanup,r=n[Fi];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[Fi]=null);const i=n[Ar];if(null!==i){n[Ar]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,n),1===n[R].type&&n[K].destroy();const t=n[ds];if(null!==t&&Dt(n[Ve])){t!==n[Ve]&&ey(t,n);const r=n[Un];null!==r&&r.detachView(e)}!function mM(e){Pd.delete(e[fs])}(n)}}function Hd(e,n,t){return function ty(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[He];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Tn.None||o===Tn.Emulated)return null}return Pt(r,t)}}(e,n.parent,t)}function ci(e,n,t,r,i){e.insertBefore(n,t,r,i)}function ny(e,n,t){e.appendChild(n,t)}function ry(e,n,t,r,i){null!==r?ci(e,n,t,r,i):ny(e,n,t)}function Fc(e,n){return e.parentNode(n)}function iy(e,n,t){return sy(e,n,t)}let Ud,Xd,$c,sy=function oy(e,n,t){return 40&e.type?Pt(e,t):null};function Lc(e,n,t,r){const i=Hd(e,r,n),o=n[K],a=iy(r.parent||n[ht],r,n);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)ry(o,i,t[u],a,!1);else ry(o,i,t,a,!1);void 0!==Ud&&Ud(o,r,n,t,i)}function Es(e,n){if(null!==n){const t=n.type;if(3&t)return Pt(n,e);if(4&t)return Gd(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Es(e,r);{const i=e[n.index];return Dt(i)?Gd(-1,i):Oe(i)}}if(32&t)return jd(n,e)()||Oe(e[n.index]);{const r=cy(e,n);return null!==r?Array.isArray(r)?r[0]:Es(Ss(e[We]),r):Es(e,n.next)}}return null}function cy(e,n){return null!==n?e[We][ht].projection[n.projection]:null}function Gd(e,n){const t=ut+e+1;if(t<n.length){const r=n[t],i=r[R].firstChild;if(null!==i)return Es(r,i)}return n[Gn]}function qd(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===n&&(a&&pt(Oe(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)qd(e,n,t.child,r,i,o,!1),to(n,e,i,a,o);else if(32&u){const l=jd(t,r);let h;for(;h=l();)to(n,e,i,h,o);to(n,e,i,a,o)}else 16&u?ly(e,n,r,t,i,o):to(n,e,i,a,o);t=s?t.projectionNext:t.next}}function Ms(e,n,t,r,i,o){qd(t,r,e.firstChild,n,i,o,!1)}function ly(e,n,t,r,i,o){const s=t[We],u=s[ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)to(n,e,i,u[l],o);else{let l=u;const h=s[Ve];Nc(r)&&(l.flags|=128),qd(e,n,l,h,i,o,!0)}}function dy(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function fy(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&id(e,n,r),null!==i&&dy(e,n,i),null!==o&&function VM(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}function my(e){return function Zd(){if(void 0===$c&&($c=null,Re.trustedTypes))try{$c=Re.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return $c}()?.createScriptURL(e)||e}class gy{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ig})`}}function Pr(e){return e instanceof gy?e.changingThisBreaksApplicationSecurity:e}function Ts(e,n){const t=function XM(e){return e instanceof gy&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${ig})`)}return t===n}const JM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var io=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(io||{});function Cy(e){const n=Ns();return n?n.sanitize(io.URL,e)||"":Ts(e,"URL")?Pr(e):function Yd(e){return(e=String(e)).match(JM)?e:"unsafe:"+e}(J(e))}function Iy(e){const n=Ns();if(n)return my(n.sanitize(io.RESOURCE_URL,e)||"");if(Ts(e,"ResourceURL"))return my(Pr(e));throw new M(904,!1)}function Ns(){const e=x();return e&&e[Li].sanitizer}const Rs=new P("ENVIRONMENT_INITIALIZER"),Sy=new P("INJECTOR",-1),Ey=new P("INJECTOR_DEF_TYPES");class ef{get(n,t=os){if(t===os){const r=new Error(`NullInjectorError: No provider for ${tt(n)}!`);throw r.name="NullInjectorError",r}return t}}function dT(...e){return{\u0275providers:My(0,e),\u0275fromNgModule:!0}}function My(e,...n){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Qi(n,s=>{const a=s;zc(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Ty(i,o),t}function Ty(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];nf(i,o=>{n(o,r)})}}function zc(e,n,t,r){if(!(e=Y(e)))return!1;let i=null,o=nc(e);const s=!o&&fe(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const u=e.ngModule;if(o=nc(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of u)zc(l,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Qi(o.imports,h=>{zc(h,n,t,r)&&(l||=[],l.push(h))})}finally{}void 0!==l&&Ty(l,n)}if(!a){const l=oi(i)||(()=>new i);n({provide:i,useFactory:l,deps:me},i),n({provide:Ey,useValue:i,multi:!0},i),n({provide:Rs,useValue:()=>j(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const l=e;nf(u,h=>{n(h,l)})}}}return i!==e&&void 0!==e.providers}function nf(e,n){for(let t of e)ql(t)&&(t=t.\u0275providers),Array.isArray(t)?nf(t,n):n(t)}const fT=De({provide:String,useValue:De});function rf(e){return null!==e&&"object"==typeof e&&fT in e}function ui(e){return"function"==typeof e}const sf=new P("Set Injector scope."),Hc={},pT={};let af;function Uc(){return void 0===af&&(af=new ef),af}class tn{}class oo extends tn{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,uf(n,s=>this.processProvider(s)),this.records.set(Sy,so(void 0,this)),i.has("environment")&&this.records.set(tn,so(void 0,this));const o=this.records.get(sf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ey.multi,me,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=Mr(this),r=Rt(void 0);try{return n()}finally{Mr(t),Rt(r)}}get(n,t=os,r=ce.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(hg))return n[hg](this);r=oc(r);const o=Mr(this),s=Rt(void 0);try{if(!(r&ce.SkipSelf)){let u=this.records.get(n);if(void 0===u){const l=function wT(e){return"function"==typeof e||"object"==typeof e&&e instanceof P}(n)&&tc(n);u=l&&this.injectableDefInScope(l)?so(cf(n),Hc):null,this.records.set(n,u)}if(null!=u)return this.hydrate(n,u)}return(r&ce.Self?Uc():this.parent).get(n,t=r&ce.Optional&&t===os?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[ic]=a[ic]||[]).unshift(tt(n)),o)throw a;return function gS(e,n,t,r){const i=e[ic];throw n[lg]&&i.unshift(n[lg]),e.message=function vS(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=tt(n);if(Array.isArray(n))i=n.map(tt).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):tt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(dS,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[ic]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{Rt(s),Mr(o)}}resolveInjectorInitializers(){const n=Mr(this),t=Rt(void 0);try{const i=this.get(Rs.multi,me,ce.Self);for(const o of i)o()}finally{Mr(n),Rt(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(tt(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new M(205,!1)}processProvider(n){let t=ui(n=Y(n))?n:Y(n&&n.provide);const r=function gT(e){return rf(e)?so(void 0,e.useValue):so(Ry(e),Hc)}(n);if(ui(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=so(void 0,Hc,!0),i.factory=()=>td(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===Hc&&(t.value=pT,t.value=t.factory()),"object"==typeof t.value&&t.value&&function yT(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=Y(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function cf(e){const n=tc(e),t=null!==n?n.factory:oi(e);if(null!==t)return t;if(e instanceof P)throw new M(204,!1);if(e instanceof Function)return function mT(e){const n=e.length;if(n>0)throw Cs(n,"?"),new M(204,!1);const t=function aS(e){return e&&(e[rc]||e[sg])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new M(204,!1)}function Ry(e,n,t){let r;if(ui(e)){const i=Y(e);return oi(i)||cf(i)}if(rf(e))r=()=>Y(e.useValue);else if(function Ny(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...td(e.deps||[]));else if(function Ay(e){return!(!e||!e.useExisting)}(e))r=()=>j(Y(e.useExisting));else{const i=Y(e&&(e.useClass||e.provide));if(!function vT(e){return!!e.deps}(e))return oi(i)||cf(i);r=()=>new i(...td(e.deps))}return r}function so(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function uf(e,n){for(const t of e)Array.isArray(t)?uf(t,n):t&&ql(t)?uf(t.\u0275providers,n):n(t)}const Gc=new P("AppId",{providedIn:"root",factory:()=>bT}),bT="ng",Oy=new P("Platform Initializer"),li=new P("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ky=new P("CSP nonce",{providedIn:"root",factory:()=>function ro(){if(void 0!==Xd)return Xd;if(typeof document<"u")return document;throw new M(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Py=(e,n,t)=>null;function vf(e,n,t=!1){return Py(e,n,t)}class AT{}class Vy{}class RT{resolveComponentFactory(n){throw function NT(e){const n=Error(`No component factory found for ${tt(e)}.`);return n.ngComponent=e,n}(n)}}let Qc=(()=>{class e{static#e=this.NULL=new RT}return e})();function OT(){return uo(dt(),x())}function uo(e,n){return new mt(Pt(e,n))}let mt=(()=>{class e{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=OT}return e})();function kT(e){return e instanceof mt?e.nativeElement:e}class $y{}let On=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function PT(){const e=x(),t=Kt(dt().index,e);return(kt(t)?t:e)[K]}()}return e})(),FT=(()=>{class e{static#e=this.\u0275prov=$({token:e,providedIn:"root",factory:()=>null})}return e})();class Ps{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const By=new Ps("16.2.12"),bf={};function Gy(e,n=null,t=null,r){const i=qy(e,n,t,r);return i.resolveInjectorInitializers(),i}function qy(e,n=null,t=null,r,i=new Set){const o=[t||me,dT(e)];return r=r||("object"==typeof e?void 0:tt(e)),new oo(o,n||Uc(),r||null,i)}let nn=(()=>{class e{static#e=this.THROW_IF_NOT_FOUND=os;static#t=this.NULL=new ef;static create(t,r){if(Array.isArray(t))return Gy({name:""},r,t,"");{const i=t.name??"";return Gy({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=$({token:e,providedIn:"any",factory:()=>j(Sy)});static#r=this.__NG_ELEMENT_ID__=-1}return e})();function Df(e){return e.ngOriginalError}class hr{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Df(n);for(;t&&Df(t);)t=Df(t);return t||null}}function If(e){return n=>{setTimeout(e,void 0,n)}}const Le=class HT extends pn{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const u=n;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=If(o),i&&(i=If(i)),s&&(s=If(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof Wt&&n.add(a),a}};function Xy(...e){}class Ee{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),typeof Zone>"u")throw new M(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function UT(){const e="function"==typeof Re.requestAnimationFrame;let n=Re[e?"requestAnimationFrame":"setTimeout"],t=Re[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function WT(e){const n=()=>{!function qT(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Re,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Sf(e),e.isCheckStableRunning=!0,xf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Sf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function ZT(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return Zy(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),Yy(e)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return Zy(e),t.invoke(i,o,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&n(),Yy(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Sf(e),xf(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new M(909,!1)}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new M(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,GT,Xy,Xy);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const GT={};function xf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Sf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Zy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Yy(e){e._nesting--,xf(e)}class XT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const Qy=new P("",{providedIn:"root",factory:Jy});function Jy(){const e=k(Ee);let n=!0;return zl(new ze(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new ze(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(rg()))}function pr(e){return e instanceof Function?e():e}let Ef=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e})}return e})();function Fs(e){for(;e;){e[te]|=64;const n=Ss(e);if(ad(e)&&!n)return e;e=n}return null}const rw=new P("",{providedIn:"root",factory:()=>!1});let Kc=null;function aw(e,n){return e[n]??lw()}function cw(e,n){const t=lw();t.producerNode?.length&&(e[n]=Kc,t.lView=e,Kc=uw())}const oA={...Ag,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Fs(e.lView)},lView:null};function uw(){return Object.create(oA)}function lw(){return Kc??=uw(),Kc}const ee={};function y(e){dw(he(),x(),It()+e,!1)}function dw(e,n,t,r){if(!r)if(3==(3&n[te])){const o=e.preOrderCheckHooks;null!==o&&gc(n,o,t)}else{const o=e.preOrderHooks;null!==o&&vc(n,o,0,t)}si(t)}function I(e,n=ce.Default){const t=x();return null===t?j(e,n):Cv(dt(),t,Y(e),n)}function eu(e,n,t,r,i,o,s,a,u,l,h){const p=n.blueprint.slice();return p[He]=i,p[te]=140|r,(null!==l||e&&2048&e[te])&&(p[te]|=2048),Yg(p),p[Ve]=p[Vi]=e,p[qe]=t,p[Li]=s||e&&e[Li],p[K]=a||e&&e[K],p[Tr]=u||e&&e[Tr]||null,p[ht]=o,p[fs]=function hM(){return fM++}(),p[ur]=h,p[Sg]=l,p[We]=2==n.type?e[We]:p,p}function ho(e,n,t,r,i){let o=e.data[n];if(null===o)o=function Mf(e,n,t,r,i){const o=nv(),s=md(),u=e.data[n]=function hA(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return Hi()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(e,n,t,r,i),function pE(){return X.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function vs(){const e=X.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Wn(o,!0),o}function Ls(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function hw(e,n,t,r,i){const o=aw(n,hs),s=It(),a=2&r;try{si(-1),a&&n.length>ue&&dw(e,n,ue,!1),qn(a?2:0,i);const l=a?o:null,h=ud(l);try{null!==l&&(l.dirty=!1),t(r,i)}finally{ld(l,h)}}finally{a&&null===n[hs]&&cw(n,hs),si(s),qn(a?3:1,i)}}function Tf(e,n,t){if(sd(n)){const r=gn(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{gn(r)}}}function Af(e,n,t){tv()&&(function bA(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;ii(t)&&function EA(e,n,t){const r=Pt(n,e),i=pw(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=tu(e,eu(e,i,null,s,r,n,null,e[Li].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||wc(t,n),pt(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const u=e.data[a],l=ai(n,e,a,t);pt(l,n),null!==s&&MA(0,a-i,l,u,0,s),Rn(u)&&(Kt(t.index,n)[qe]=ai(n,e,a,t))}}(e,n,t,Pt(t,n)),64==(64&t.flags)&&ww(e,n,t))}function Nf(e,n,t=Pt){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function pw(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Rf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Rf(e,n,t,r,i,o,s,a,u,l,h){const p=ue+r,m=p+i,g=function aA(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:ee);return t}(p,m),v="function"==typeof l?l():l;return g[R]={type:e,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:v,incompleteFirstPass:!1,ssrId:h}}let mw=e=>null;function gw(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const o=e[i];null===r?vw(t,n,i,o):r.hasOwnProperty(i)&&vw(t,n,r[i],o)}return t}function vw(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function rn(e,n,t,r,i,o,s,a){const u=Pt(n,t);let h,l=n.inputs;!a&&null!=l&&(h=l[r])?(Lf(e,t,h,r,i),ii(n)&&function gA(e,n){const t=Kt(n,e);16&t[te]||(t[te]|=64)}(t,n.index)):3&n.type&&(r=function mA(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(u,r,i))}function Of(e,n,t,r){if(tv()){const i=null===r?null:{"":-1},o=function DA(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(bg(n,s.selectors,!1))if(r||(r=[]),Rn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),kf(e,n,a.length)}else r.unshift(s),kf(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&yw(e,n,t,s,i,a),i&&function CA(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new M(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=cs(t.mergedAttrs,t.attrs)}function yw(e,n,t,r,i,o){for(let l=0;l<r.length;l++)Ed(wc(t,n),e,r[l].type);!function xA(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let l=0;l<r.length;l++){const h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=Ls(e,n,r.length,null);for(let l=0;l<r.length;l++){const h=r[l];t.mergedAttrs=cs(t.mergedAttrs,h.hostAttrs),SA(e,t,n,u,h),IA(u,h,i),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function pA(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let u=null,l=null;for(let h=n.directiveStart;h<i;h++){const p=o[h],m=t?t.get(p):null,v=m?m.outputs:null;u=gw(p.inputs,h,u,m?m.inputs:null),l=gw(p.outputs,h,l,v);const w=null===u||null===s||wg(n)?null:TA(u,h,s);a.push(w)}null!==u&&(u.hasOwnProperty("class")&&(n.flags|=8),u.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=u,n.outputs=l}(e,t,o)}function ww(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function gE(){return X.lFrame.currentDirectiveIndex}();try{si(o);for(let a=r;a<i;a++){const u=e.data[a],l=n[a];vd(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&_A(u,l)}}finally{si(-1),vd(s)}}function _A(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function kf(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function IA(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Rn(n)&&(t[""]=e)}}function SA(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=oi(i.type)),s=new ys(o,Rn(i),I);e.blueprint[r]=s,t[r]=s,function yA(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function wA(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,Ls(e,t,i.hostVars,ee),i)}function Zn(e,n,t,r,i,o){const s=Pt(e,n);!function Pf(e,n,t,r,i,o,s){if(null==o)e.removeAttribute(n,i,t);else{const a=null==s?J(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}(n[K],s,o,e.value,t,r,i)}function MA(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)bw(r,t,s[a++],s[a++],s[a++])}function bw(e,n,t,r,i){const o=gn(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{gn(o)}}function TA(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function _w(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function Dw(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=e.data[o];wd(t[r]),s.contentQueries(2,n[o],o)}}}function tu(e,n){return e[ls]?e[xg][Nn]=n:e[ls]=n,e[xg]=n,n}function Ff(e,n,t){wd(0);const r=gn(null);try{n(e,t)}finally{gn(r)}}function Cw(e){return e[Fi]||(e[Fi]=[])}function Iw(e){return e.cleanup||(e.cleanup=[])}function Sw(e,n){const t=e[Tr],r=t?t.get(hr,null):null;r&&r.handleError(n)}function Lf(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];bw(e.data[s],n[s],r,a,i)}}function mr(e,n,t){const r=hc(n,e);!function Kv(e,n,t){e.setValue(n,t)}(e[K],r,t)}function AA(e,n){const t=Kt(n,e),r=t[R];!function NA(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[He];null!==i&&null===t[ur]&&(t[ur]=vf(i,t[Tr])),Vf(r,t,t[qe])}function Vf(e,n,t){bd(n);try{const r=e.viewQuery;null!==r&&Ff(1,r,t);const i=e.template;null!==i&&hw(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Dw(e,n),e.staticViewQueries&&Ff(2,e.viewQuery,t);const o=e.components;null!==o&&function RA(e,n){for(let t=0;t<n.length;t++)AA(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[te]&=-5,_d()}}let Ew=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function qS(e,n,t){const r=Object.create(WS);t&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=n;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>kg(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Pg(r))return;r.hasRun=!0;const s=ud(r);try{r.cleanupFn(),r.cleanupFn=Hg,r.fn(i)}finally{ld(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=$({token:e,providedIn:"root",factory:()=>new e})}return e})();function nu(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=Ul(i,a):2==o&&(r=Ul(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Vs(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];null!==o&&r.push(Oe(o)),Dt(o)&&Mw(o,r);const s=t.type;if(8&s)Vs(e,n,t.child,r);else if(32&s){const a=jd(t,n);let u;for(;u=a();)r.push(u)}else if(16&s){const a=cy(n,t);if(Array.isArray(a))r.push(...a);else{const u=Ss(n[We]);Vs(u[R],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Mw(e,n){for(let t=ut;t<e.length;t++){const r=e[t],i=r[R].firstChild;null!==i&&Vs(r[R],r,i,n)}e[Gn]!==e[He]&&n.push(e[Gn])}function ru(e,n,t,r=!0){const i=n[Li],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{Tw(e,n,e.template,t)}catch(u){throw r&&Sw(n,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function Tw(e,n,t,r){const i=n[te];if(256!=(256&i)){n[Li].effectManager?.flush(),bd(n);try{Yg(n),function iv(e){return X.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&hw(e,n,t,2,r);const s=3==(3&i);if(s){const l=e.preOrderCheckHooks;null!==l&&gc(n,l,null)}else{const l=e.preOrderHooks;null!==l&&vc(n,l,0,null),Dd(n,0)}if(function PA(e){for(let n=Yv(e);null!==n;n=Qv(n)){if(!n[Eg])continue;const t=n[$i];for(let r=0;r<t.length;r++){rE(t[r])}}}(n),Aw(n,2),null!==e.contentQueries&&Dw(e,n),s){const l=e.contentCheckHooks;null!==l&&gc(n,l)}else{const l=e.contentHooks;null!==l&&vc(n,l,1),Dd(n,1)}!function sA(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=aw(n,ps);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)si(~o);else{const s=o,a=t[++i],u=t[++i];mE(a,s),r.dirty=!1;const l=ud(r);try{u(2,n[s])}finally{ld(r,l)}}}}finally{null===n[ps]&&cw(n,ps),si(-1)}}(e,n);const a=e.components;null!==a&&Rw(n,a,0);const u=e.viewQuery;if(null!==u&&Ff(2,u,r),s){const l=e.viewCheckHooks;null!==l&&gc(n,l)}else{const l=e.viewHooks;null!==l&&vc(n,l,2),Dd(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[te]&=-73,Qg(n)}finally{_d()}}}function Aw(e,n){for(let t=Yv(e);null!==t;t=Qv(t))for(let r=ut;r<t.length;r++)Nw(t[r],n)}function FA(e,n,t){Nw(Kt(n,e),t)}function Nw(e,n){if(!function tE(e){return 128==(128&e[te])}(e))return;const t=e[R],r=e[te];if(80&r&&0===n||1024&r||2===n)Tw(t,e,t.template,e[qe]);else if(e[us]>0){Aw(e,1);const i=t.components;null!==i&&Rw(e,i,1)}}function Rw(e,n,t){for(let r=0;r<n.length;r++)FA(e,n[r],t)}class js{get rootNodes(){const n=this._lView,t=n[R];return Vs(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qe]}set context(n){this._lView[qe]=n}get destroyed(){return 256==(256&this._lView[te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ve];if(Dt(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(Pc(n,r),Cc(t,r))}this._attachedToViewContainer=!1}Bd(this._lView[R],this._lView)}onDestroy(n){!function Kg(e,n){if(256==(256&e[te]))throw new M(911,!1);null===e[Ar]&&(e[Ar]=[]),e[Ar].push(n)}(this._lView,n)}markForCheck(){Fs(this._cdRefInjectingView||this._lView)}detach(){this._lView[te]&=-129}reattach(){this._lView[te]|=128}detectChanges(){ru(this._lView[R],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new M(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function EM(e,n){Ms(e,n,n[K],2,null,null)}(this._lView[R],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new M(902,!1);this._appRef=n}}class LA extends js{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;ru(n[R],n,n[qe],!1)}checkNoChanges(){}get context(){return null}}class Ow extends Qc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=fe(n);return new $s(t,this.ngModule)}}function kw(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class jA{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=oc(r);const i=this.injector.get(n,bf,r);return i!==bf||t===bf?i:this.parentInjector.get(n,t,r)}}class $s extends Vy{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=kw(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return kw(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function ES(e){return e.map(SS).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof tn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new jA(n,o):n,a=s.get($y,null);if(null===a)throw new M(407,!1);const p={rendererFactory:a,sanitizer:s.get(FT,null),effectManager:s.get(Ew,null),afterRenderEventManager:s.get(Ef,null)},m=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=r?function cA(e,n,t,r){const o=r.get(rw,!1)||t===Tn.ShadowDom,s=e.selectRootElement(n,o);return function uA(e){mw(e)}(s),s}(m,r,this.componentDef.encapsulation,s):kc(m,g,function VA(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(g)),C=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==v&&(_=vf(v,s,!0));const E=Rf(0,null,null,1,0,null,null,null,null,null,null),L=eu(null,E,null,C,null,null,p,m,s,null,_);let Q,Be;bd(L);try{const qt=this.componentDef;let En,Am=null;qt.findHostDirectiveDefs?(En=[],Am=new Map,qt.findHostDirectiveDefs(qt,En,Am),En.push(qt)):En=[qt];const jz=function BA(e,n){const t=e[R],r=ue;return e[r]=n,ho(t,r,2,"#host",null)}(L,v),$z=function zA(e,n,t,r,i,o,s){const a=i[R];!function HA(e,n,t,r){for(const i of e)n.mergedAttrs=cs(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(nu(n,n.mergedAttrs,!0),null!==t&&fy(r,t,n))}(r,e,n,s);let u=null;null!==n&&(u=vf(n,i[Tr]));const l=o.rendererFactory.createRenderer(n,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const p=eu(i,pw(t),null,h,i[e.index],e,o,l,null,null,u);return a.firstCreatePass&&kf(a,e,r.length-1),tu(i,p),i[e.index]=p}(jz,v,qt,En,L,p,m);Be=Zg(E,ue),v&&function GA(e,n,t,r){if(r)id(e,t,["ng-version",By.full]);else{const{attrs:i,classes:o}=function MS(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!An(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&id(e,t,i),o&&o.length>0&&dy(e,t,o.join(" "))}}(m,qt,v,r),void 0!==t&&function qA(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(Be,this.ngContentSelectors,t),Q=function UA(e,n,t,r,i,o){const s=dt(),a=i[R],u=Pt(s,i);yw(a,i,s,t,null,r);for(let h=0;h<t.length;h++)pt(ai(i,a,s.directiveStart+h,s),i);ww(a,i,s),u&&pt(u,i);const l=ai(i,a,s.directiveStart+s.componentOffset,s);if(e[qe]=i[qe]=l,null!==o)for(const h of o)h(l,n);return Tf(a,s,e),l}($z,qt,En,Am,L,[WA]),Vf(E,L,null)}finally{_d()}return new $A(this.componentType,Q,uo(Be,L),L,Be)}}class $A extends AT{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new LA(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;Lf(o[R],o,i,n,t),this.previousInputValues.set(n,t),Fs(Kt(this._tNode.index,o))}}get injector(){return new xt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function WA(){const e=dt();mc(x()[R],e)}function Ce(e){let n=function Pw(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(Rn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new M(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const s=e;s.inputs=iu(e.inputs),s.inputTransforms=iu(e.inputTransforms),s.declaredInputs=iu(e.declaredInputs),s.outputs=iu(e.outputs);const a=i.hostBindings;a&&QA(e,a);const u=i.viewQuery,l=i.contentQueries;if(u&&ZA(e,u),l&&YA(e,l),Ka(e.inputs,i.inputs),Ka(e.declaredInputs,i.declaredInputs),Ka(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Ka(s.inputTransforms,i.inputTransforms)),Rn(i)&&i.data.animation){const h=e.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Ce&&(t=!1)}}n=Object.getPrototypeOf(n)}!function XA(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=cs(i.hostAttrs,t=cs(t,i.hostAttrs))}}(r)}function iu(e){return e===Hn?{}:e===me?[]:e}function ZA(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function YA(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,o)=>{n(r,i,o),t(r,i,o)}:n}function QA(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function jw(e){const n=e.inputConfig,t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}e.inputTransforms=t}function ou(e){return!!jf(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function jf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Yn(e,n,t){return e[n]=t}function gt(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function di(e,n,t,r){const i=gt(e,n,t);return gt(e,n+1,r)||i}function jt(e,n,t,r){const i=x();return gt(i,Ui(),n)&&(he(),Zn($e(),i,e,n,t,r)),jt}function mo(e,n,t,r){return gt(e,Ui(),t)?n+J(t)+r:ee}function vo(e,n,t,r,i,o,s,a){const l=function su(e,n,t,r,i){const o=di(e,n,t,r);return gt(e,n+2,i)||o}(e,lr(),t,i,s);return dr(3),l?n+J(t)+r+J(i)+o+J(s)+a:ee}function ne(e,n,t,r,i,o,s,a){const u=x(),l=he(),h=e+ue,p=l.firstCreatePass?function DN(e,n,t,r,i,o,s,a,u){const l=n.consts,h=ho(n,e,4,s||null,Rr(l,a));Of(n,t,h,Rr(l,u)),mc(n,h);const p=h.tView=Rf(2,h,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return null!==n.queries&&(n.queries.template(n,h),p.queries=n.queries.embeddedTView(h)),h}(h,l,u,n,t,r,i,o,s):l.data[h];Wn(p,!1);const m=Jw(l,u,p,e);pc()&&Lc(l,u,m,p),pt(m,u),tu(u,u[h]=_w(m,u,m,p)),lc(p)&&Af(l,u,p),null!=s&&Nf(u,p,a)}let Jw=function Kw(e,n,t,r){return Or(!0),n[K].createComment("")};function Fr(e){return zi(function hE(){return X.lFrame.contextLView}(),ue+e)}function D(e,n,t){const r=x();return gt(r,Ui(),n)&&rn(he(),$e(),r,e,n,r[K],t,!1),D}function Gf(e,n,t,r,i){const s=i?"class":"style";Lf(e,t,n.inputs[s],s,r)}function f(e,n,t,r){const i=x(),o=he(),s=ue+e,a=i[K],u=o.firstCreatePass?function SN(e,n,t,r,i,o){const s=n.consts,u=ho(n,e,2,r,Rr(s,i));return Of(n,t,u,Rr(s,o)),null!==u.attrs&&nu(u,u.attrs,!1),null!==u.mergedAttrs&&nu(u,u.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,u),u}(s,o,i,n,t,r):o.data[s],l=eb(o,i,u,a,n,e);i[s]=l;const h=lc(u);return Wn(u,!0),fy(a,l,u),32!=(32&u.flags)&&pc()&&Lc(o,i,l,u),0===function oE(){return X.lFrame.elementDepthCount}()&&pt(l,i),function sE(){X.lFrame.elementDepthCount++}(),h&&(Af(o,i,u),Tf(o,u,i)),null!==r&&Nf(i,u),f}function d(){let e=dt();md()?gd():(e=e.parent,Wn(e,!1));const n=e;(function cE(e){return X.skipHydrationRootTNode===e})(n)&&function fE(){X.skipHydrationRootTNode=null}(),function aE(){X.lFrame.elementDepthCount--}();const t=he();return t.firstCreatePass&&(mc(t,e),sd(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function xE(e){return 0!=(8&e.flags)}(n)&&Gf(t,n,x(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function SE(e){return 0!=(16&e.flags)}(n)&&Gf(t,n,x(),n.stylesWithoutHost,!1),d}function O(e,n,t,r){return f(e,n,t,r),d(),O}let eb=(e,n,t,r,i,o)=>(Or(!0),kc(r,i,function pv(){return X.lFrame.currentNamespace}()));function qf(e,n,t){const r=x(),i=he(),o=e+ue,s=i.firstCreatePass?function TN(e,n,t,r,i){const o=n.consts,s=Rr(o,r),a=ho(n,e,8,"ng-container",s);return null!==s&&nu(a,s,!0),Of(n,t,a,Rr(o,i)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,i,r,n,t):i.data[o];Wn(s,!0);const a=tb(i,r,s,e);return r[o]=a,pc()&&Lc(i,r,a,s),pt(a,r),lc(s)&&(Af(i,r,s),Tf(i,s,r)),null!=t&&Nf(r,s),qf}function Wf(){let e=dt();const n=he();return md()?gd():(e=e.parent,Wn(e,!1)),n.firstCreatePass&&(mc(n,e),sd(e)&&n.queries.elementEnd(e)),Wf}function Xf(e,n,t){return qf(e,n,t),Wf(),Xf}let tb=(e,n,t,r)=>(Or(!0),$d(n[K],""));function Co(){return x()}function Gs(e){return!!e&&"function"==typeof e.then}function nb(e){return!!e&&"function"==typeof e.subscribe}function N(e,n,t,r){const i=x(),o=he(),s=dt();return function ib(e,n,t,r,i,o,s){const a=lc(r),l=e.firstCreatePass&&Iw(e),h=n[qe],p=Cw(n);let m=!0;if(3&r.type||s){const w=Pt(r,n),b=s?s(w):w,C=p.length,_=s?L=>s(Oe(L[r.index])):r.index;let E=null;if(!s&&a&&(E=function RN(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[Fi],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,m=!1;else{o=sb(r,n,h,o,!1);const L=t.listen(b,i,o);p.push(o,L),l&&l.push(i,_,C,C+1)}}else o=sb(r,n,h,o,!1);const g=r.outputs;let v;if(m&&null!==g&&(v=g[i])){const w=v.length;if(w)for(let b=0;b<w;b+=2){const Q=n[v[b]][v[b+1]].subscribe(o),Be=p.length;p.push(o,Q),l&&l.push(i,r.index,Be,-(Be+1))}}}(o,i,i[K],s,e,n,r),N}function ob(e,n,t,r){try{return qn(6,n,t),!1!==t(r)}catch(i){return Sw(e,i),!1}finally{qn(7,n,t)}}function sb(e,n,t,r,i){return function o(s){if(s===Function)return r;Fs(e.componentOffset>-1?Kt(e.index,n):n);let u=ob(n,t,r,s),l=o.__ngNextListenerFn__;for(;l;)u=ob(n,t,l,s)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function ve(e=1){return function yE(e){return(X.lFrame.contextLView=function wE(e,n){for(;e>0;)n=n[Vi],e--;return n}(e,X.lFrame.contextLView))[qe]}(e)}function ON(e,n){let t=null;const r=function DS(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const o=n[i];if("*"!==o){if(null===r?bg(e,o,!0):xS(r,o))return i}else t=i}return t}function lu(e){const n=x()[We][ht];if(!n.projection){const r=n.projection=Cs(e?e.length:1,null),i=r.slice();let o=n.child;for(;null!==o;){const s=e?ON(o,e):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}function qs(e,n=0,t){const r=x(),i=he(),o=ho(i,ue+e,16,null,t||null);null===o.projection&&(o.projection=n),gd(),(!r[ur]||Hi())&&32!=(32&o.flags)&&function PM(e,n,t){ly(n[K],0,n,t,Hd(e,t,n),iy(t.parent||n[ht],t,n))}(i,r,o)}function B(e,n,t){return Zf(e,"",n,"",t),B}function Zf(e,n,t,r,i){const o=x(),s=mo(o,n,t,r);return s!==ee&&rn(he(),$e(),o,e,s,o[K],i,!1),Zf}function du(e,n){return e<<17|n<<2}function Lr(e){return e>>17&32767}function Yf(e){return 2|e}function fi(e){return(131068&e)>>2}function Qf(e,n){return-131069&e|n<<2}function Jf(e){return 1|e}function mb(e,n,t,r,i){const o=e[t+1],s=null===n;let a=r?Lr(o):fi(o),u=!1;for(;0!==a&&(!1===u||s);){const h=e[a+1];jN(e[a],n)&&(u=!0,e[a+1]=r?Jf(h):Yf(h)),a=r?Lr(h):fi(h)}u&&(e[t+1]=r?Yf(o):Jf(o))}function jN(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ji(e,n)>=0}const rt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function gb(e){return e.substring(rt.key,rt.keyEnd)}function vb(e,n){const t=rt.textEnd;return t===n?-1:(n=rt.keyEnd=function HN(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,rt.key=n,t),Io(e,n,t))}function Io(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function gr(e,n,t){return kn(e,n,t,!1),gr}function vr(e,n){return kn(e,n,null,!0),vr}function Jn(e,n){for(let t=function BN(e){return function wb(e){rt.key=0,rt.keyEnd=0,rt.value=0,rt.valueEnd=0,rt.textEnd=e.length}(e),vb(e,Io(e,0,rt.textEnd))}(n);t>=0;t=vb(n,t))en(e,gb(n),!0)}function kn(e,n,t,r){const i=x(),o=he(),s=dr(2);o.firstUpdatePass&&Cb(o,e,s,r),n!==ee&&gt(i,s,n)&&xb(o,o.data[It()],i,i[K],e,i[s+1]=function tR(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=tt(Pr(e)))),e}(n,t),r,s)}function Db(e,n){return n>=e.expandoStartIndex}function Cb(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[It()],s=Db(e,t);Eb(o,r)&&null===n&&!s&&(n=!1),n=function XN(e,n,t,r){const i=function yd(e){const n=X.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Ws(t=Kf(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=Kf(i,e,n,t,r),null===o){let u=function ZN(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==fi(r))return e[Lr(r)]}(e,n,r);void 0!==u&&Array.isArray(u)&&(u=Kf(null,e,n,u[1],r),u=Ws(u,n.attrs,r),function YN(e,n,t,r){e[Lr(t?n.classBindings:n.styleBindings)]=r}(e,n,r,u))}else o=function QN(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=Ws(r,e[o].hostAttrs,t);return Ws(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function LN(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Lr(s),u=fi(s);e[r]=t;let h,l=!1;if(Array.isArray(t)?(h=t[1],(null===h||Ji(t,h)>0)&&(l=!0)):h=t,i)if(0!==u){const m=Lr(e[a+1]);e[r+1]=du(m,a),0!==m&&(e[m+1]=Qf(e[m+1],r)),e[a+1]=function PN(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=du(a,0),0!==a&&(e[a+1]=Qf(e[a+1],r)),a=r;else e[r+1]=du(u,0),0===a?a=r:e[u+1]=Qf(e[u+1],r),u=r;l&&(e[r+1]=Yf(e[r+1])),mb(e,h,r,!0),mb(e,h,r,!1),function VN(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&Ji(o,n)>=0&&(t[r+1]=Jf(t[r+1]))}(n,h,e,r,o),s=du(a,u),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}function Kf(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=Ws(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function Ws(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),en(e,s,!!t||n[++o]))}return void 0===e?null:e}function xb(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const u=e.data,l=u[a+1],h=function FN(e){return 1==(1&e)}(l)?Sb(u,n,t,i,fi(l),s):void 0;fu(h)||(fu(o)||function kN(e){return 2==(2&e)}(l)&&(o=Sb(u,null,t,i,a,s)),function LM(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:kr.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=kr.Important),e.setStyle(t,r,i,o))}}(r,s,hc(It(),t),i,o))}function Sb(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const u=e[i],l=Array.isArray(u),h=l?u[1]:u,p=null===h;let m=t[i+1];m===ee&&(m=p?me:void 0);let g=p?Ad(m,r):h===r?m:void 0;if(l&&!fu(g)&&(g=Ad(u,r)),fu(g)&&(a=g,s))return a;const v=e[i+1];i=s?Lr(v):fi(v)}if(null!==n){let u=o?n.residualClasses:n.residualStyles;null!=u&&(a=Ad(u,r))}return a}function fu(e){return void 0!==e}function Eb(e,n){return 0!=(e.flags&(n?8:16))}function c(e,n=""){const t=x(),r=he(),i=e+ue,o=r.firstCreatePass?ho(r,i,1,n,null):r.data[i],s=Mb(r,t,o,n,e);t[i]=s,pc()&&Lc(r,t,s,o),Wn(o,!1)}let Mb=(e,n,t,r,i)=>(Or(!0),function Oc(e,n){return e.createText(n)}(n[K],r));function z(e){return H("",e,""),z}function H(e,n,t){const r=x(),i=mo(r,e,n,t);return i!==ee&&mr(r,It(),i),H}function bn(e,n,t,r,i){const o=x(),s=function go(e,n,t,r,i,o){const a=di(e,lr(),t,i);return dr(2),a?n+J(t)+r+J(i)+o:ee}(o,e,n,t,r,i);return s!==ee&&mr(o,It(),s),bn}function eh(e,n,t,r,i,o,s){const a=x(),u=vo(a,e,n,t,r,i,o,s);return u!==ee&&mr(a,It(),u),eh}function hi(e,n,t){!function Pn(e,n,t,r){const i=he(),o=dr(2);i.firstUpdatePass&&Cb(i,null,o,r);const s=x();if(t!==ee&&gt(s,o,t)){const a=i.data[It()];if(Eb(a,r)&&!Db(i,o)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=Ul(u,t||"")),Gf(i,a,s,t,r)}else!function eR(e,n,t,r,i,o,s,a){i===ee&&(i=me);let u=0,l=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;null!==h||null!==p;){const m=u<i.length?i[u+1]:void 0,g=l<o.length?o[l+1]:void 0;let w,v=null;h===p?(u+=2,l+=2,m!==g&&(v=p,w=g)):null===p||null!==h&&h<p?(u+=2,v=h):(l+=2,v=p,w=g),null!==v&&xb(e,n,t,r,v,w,s,a),h=u<i.length?i[u]:null,p=l<o.length?o[l]:null}}(i,a,s,s[K],s[o+1],s[o+1]=function JN(e,n,t){if(null==t||""===t)return me;const r=[],i=Pr(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&n(r,i);return r}(e,n,t),r,o)}}(en,Jn,mo(x(),e,n,t),!0)}const So="en-US";let Xb=So;function rh(e,n,t,r,i){if(e=Y(e),Array.isArray(e))for(let o=0;o<e.length;o++)rh(e[o],n,t,r,i);else{const o=he(),s=x(),a=dt();let u=ui(e)?e:Y(e.provide);const l=Ry(e),h=1048575&a.providerIndexes,p=a.directiveStart,m=a.providerIndexes>>20;if(ui(e)||!e.multi){const g=new ys(l,i,I),v=oh(u,n,i?h:h+m,p);-1===v?(Ed(wc(a,s),o,u),ih(o,e,n.length),n.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[v]=g,s[v]=g)}else{const g=oh(u,n,h+m,p),v=oh(u,n,h,h+m),b=v>=0&&t[v];if(i&&!b||!i&&!(g>=0&&t[g])){Ed(wc(a,s),o,u);const C=function _2(e,n,t,r,i){const o=new ys(e,t,I);return o.multi=[],o.index=n,o.componentProviders=0,w_(o,i,r&&!t),o}(i?b2:w2,t.length,i,r,l);!i&&b&&(t[v].providerFactory=C),ih(o,e,n.length,0),n.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(C),s.push(C)}else ih(o,e,g>-1?g:v,w_(t[i?v:g],l,!i&&r));!i&&r&&b&&t[v].componentProviders++}}}function ih(e,n,t,r){const i=ui(n),o=function hT(e){return!!e.useClass}(n);if(i||o){const u=(o?Y(n.useClass):n).prototype.ngOnDestroy;if(u){const l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const h=l.indexOf(t);-1===h?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function w_(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function oh(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function w2(e,n,t,r){return sh(this.multi,[])}function b2(e,n,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ai(t,t[R],this.providerFactory.index,r);o=a.slice(0,s),sh(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],sh(i,o);return o}function sh(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function je(e,n=[]){return t=>{t.providersResolver=(r,i)=>function y2(e,n,t){const r=he();if(r.firstCreatePass){const i=Rn(e);rh(t,r.data,r.blueprint,i,!0),rh(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class mi{}class b_{}class ah extends mi{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ow(this);const i=Jt(n);this._bootstrapComponents=pr(i.bootstrap),this._r3Injector=qy(n,t,[{provide:mi,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver},...r],tt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class ch extends b_{constructor(n){super(),this.moduleType=n}create(n){return new ah(this.moduleType,n,[])}}class __ extends mi{constructor(n){super(),this.componentFactoryResolver=new Ow(this),this.instance=null;const t=new oo([...n.providers,{provide:mi,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver}],n.parent||Uc(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function uh(e,n,t=null){return new __({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let I2=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=My(0,t.type),i=r.length>0?uh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=$({token:e,providedIn:"environment",factory:()=>new e(j(tn))})}return e})();function D_(e){e.getStandaloneInjector=n=>n.get(I2).getOrCreateStandaloneInjector(e)}function pe(e,n,t,r){return R_(x(),Ct(),e,n,t,r)}function A_(e,n,t,r,i){return function O_(e,n,t,r,i,o,s){const a=n+t;return di(e,a,i,o)?Yn(e,a+2,s?r.call(s,i,o):r(i,o)):Ks(e,a+2)}(x(),Ct(),e,n,t,r,i)}function N_(e,n,t,r,i,o,s){return function P_(e,n,t,r,i,o,s,a,u){const l=n+t;return function wn(e,n,t,r,i,o){const s=di(e,n,t,r);return di(e,n+2,i,o)||s}(e,l,i,o,s,a)?Yn(e,l+4,u?r.call(u,i,o,s,a):r(i,o,s,a)):Ks(e,l+4)}(x(),Ct(),e,n,t,r,i,o,s)}function Ks(e,n){const t=e[n];return t===ee?void 0:t}function R_(e,n,t,r,i,o){const s=n+t;return gt(e,s,i)?Yn(e,s+1,o?r.call(o,i):r(i)):Ks(e,s+1)}function gi(e,n){const t=he();let r;const i=e+ue;t.firstCreatePass?(r=function j2(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=oi(r.type)),a=Rt(I);try{const u=yc(!1),l=o();return yc(u),function xN(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,x(),i,l),l}finally{Rt(a)}}function vi(e,n,t){const r=e+ue,i=x(),o=zi(i,r);return function ea(e,n){return e[R].data[n].pure}(i,r)?R_(i,Ct(),n,o.transform,t,o):o.transform(t)}function U2(){return this._results[Symbol.iterator]()}class dh{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Le)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=dh.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=U2)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=function yn(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function $E(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function q2(e,n,t,r=!0){const i=n[R];if(function TM(e,n,t,r){const i=ut+r,o=t.length;r>0&&(t[i-1][Nn]=n),r<o-ut?(n[Nn]=t[i],Tv(t,ut+r,n)):(t.push(n),n[Nn]=null),n[Ve]=t;const s=n[ds];null!==s&&t!==s&&function AM(e,n){const t=e[$i];n[We]!==n[Ve][Ve][We]&&(e[Eg]=!0),null===t?e[$i]=[n]:t.push(n)}(s,n);const a=n[Un];null!==a&&a.insertView(e),n[te]|=128}(i,n,e,t),r){const o=Gd(t,e),s=n[K],a=Fc(s,e[Gn]);null!==a&&function SM(e,n,t,r,i,o){r[He]=i,r[ht]=n,Ms(e,r,t,1,i,o)}(i,e[ht],s,n,a,o)}}let Kn=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Z2}return e})();const W2=Kn,X2=class extends W2{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=function G2(e,n,t,r){const i=n.tView,a=eu(e,i,t,4096&e[te]?4096:16,null,n,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[ds]=e[n.index];const l=e[Un];return null!==l&&(a[Un]=l.createEmbeddedView(i)),Vf(i,a,t),a}(this._declarationLView,this._declarationTContainer,n,{injector:t,hydrationInfo:r});return new js(i)}};function Z2(){return vu(dt(),x())}function vu(e,n){return 4&e.type?new X2(n,e,uo(e,n)):null}let on=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=tO}return e})();function tO(){return H_(dt(),x())}const nO=on,B_=class extends nO{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return uo(this._hostTNode,this._hostLView)}get injector(){return new xt(this._hostTNode,this._hostLView)}get parentInjector(){const n=bc(this._hostTNode,this._hostLView);if(Id(n)){const t=bs(n,this._hostLView),r=ws(n);return new xt(t[R].data[r+8],t)}return new xt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=z_(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(n,t,r,i,o){const s=n&&!function Ds(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const u=s?n:new $s(fe(n)),l=r||this.parentInjector;if(!o&&null==u.ngModule){const b=(s?l:this.parentInjector).get(tn,null);b&&(o=b)}fe(u.componentType??{});const g=u.create(l,i,null,o);return this.insertImpl(g.hostView,a,false),g}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView;if(function nE(e){return Dt(e[Ve])}(i)){const u=this.indexOf(n);if(-1!==u)this.detach(u);else{const l=i[Ve],h=new B_(l,l[ht],l[Ve]);h.detach(h.indexOf(n))}}const s=this._adjustIndex(t),a=this._lContainer;return q2(a,i,s,!r),n.attachToViewContainerRef(),Tv(fh(a),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=z_(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=Pc(this._lContainer,t);r&&(Cc(fh(this._lContainer),t),Bd(r[R],r))}detach(n){const t=this._adjustIndex(n,-1),r=Pc(this._lContainer,t);return r&&null!=Cc(fh(this._lContainer),t)?new js(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function z_(e){return e[8]}function fh(e){return e[8]||(e[8]=[])}function H_(e,n){let t;const r=n[e.index];return Dt(r)?t=r:(t=_w(r,n,null,e),n[e.index]=t,tu(n,t)),U_(t,n,e,r),new B_(t,e,n)}let U_=function G_(e,n,t,r){if(e[Gn])return;let i;i=8&t.type?Oe(r):function rO(e,n){const t=e[K],r=t.createComment(""),i=Pt(n,e);return ci(t,Fc(t,i),r,function kM(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[Gn]=i};class hh{constructor(n){this.queryList=n,this.matches=null}clone(){return new hh(this.queryList)}setDirty(){this.queryList.setDirty()}}class ph{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new ph(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==J_(n,t).matches&&this.queries[t].setDirty()}}class q_{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class mh{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new mh(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class gh{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new gh(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,t,sO(t,o)),this.matchTNodeWithReadOption(n,t,_c(t,n,o,!1,!1))}else r===Kn?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,_c(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===mt||i===on||i===Kn&&4&t.type)this.addMatch(t.index,-2);else{const o=_c(t,n,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function sO(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function cO(e,n,t,r){return-1===t?function aO(e,n){return 11&e.type?uo(e,n):4&e.type?vu(e,n):null}(n,e):-2===t?function uO(e,n,t){return t===mt?uo(n,e):t===Kn?vu(n,e):t===on?H_(n,e):void 0}(e,n,r):ai(e,e[R],t,n)}function W_(e,n,t,r){const i=n[Un].queries[r];if(null===i.matches){const o=e.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const l=s[u];a.push(l<0?null:cO(n,o[l],s[u+1],t.metadata.read))}i.matches=a}return i.matches}function vh(e,n,t,r){const i=e.queries.getByIndex(t),o=i.matches;if(null!==o){const s=W_(e,n,i,t);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const l=o[a+1],h=n[-u];for(let p=ut;p<h.length;p++){const m=h[p];m[ds]===m[Ve]&&vh(m[R],m,l,r)}if(null!==h[$i]){const p=h[$i];for(let m=0;m<p.length;m++){const g=p[m];vh(g[R],g,l,r)}}}}}return r}function yh(e){const n=x(),t=he(),r=sv();wd(r+1);const i=J_(t,r);if(e.dirty&&function eE(e){return 4==(4&e[te])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?vh(t,n,r,[]):W_(t,n,i,r);e.reset(o,kT),e.notifyOnChanges()}return!0}return!1}function wh(){return function lO(e,n){return e[Un].queries[n].queryList}(x(),sv())}function Y_(e,n,t){const r=new dh(4==(4&t));(function fA(e,n,t,r){const i=Cw(n);i.push(t),e.firstCreatePass&&Iw(e).push(r,i.length-1)})(e,n,r,r.destroy),null===n[Un]&&(n[Un]=new ph),n[Un].queries.push(new hh(r))}function Q_(e,n,t){null===e.queries&&(e.queries=new mh),e.queries.track(new gh(n,t))}function J_(e,n){return e.queries.getByIndex(n)}function Vr(e,n){return vu(e,n)}const xh=new P("Application Initializer");let Sh=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=k(xh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(Gs(o))t.push(o);else if(nb(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mD=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const yr=new P("LocaleId",{providedIn:"root",factory:()=>k(yr,ce.Optional|ce.SkipSelf)||function RO(){return typeof $localize<"u"&&$localize.locale||So}()});let bu=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zt(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class PO{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let gD=(()=>{class e{compileModuleSync(t){return new ch(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=pr(Jt(t).declarations).reduce((s,a)=>{const u=fe(a);return u&&s.push(new $s(u)),s},[]);return new PO(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const bD=new P(""),Du=new P("");let Nh,Th=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nh||(function rk(e){Nh=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||e)(j(Ee),j(Ah),j(Du))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})(),Ah=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Nh?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),jr=null;const _D=new P("AllowMultipleToken"),Rh=new P("PlatformDestroyListeners"),Oh=new P("appBootstrapListener");class CD{constructor(n,t){this.name=n,this.token=t}}function xD(e,n,t=[]){const r=`Platform: ${n}`,i=new P(r);return(o=[])=>{let s=kh();if(!s||s.injector.get(_D,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function sk(e){if(jr&&!jr.get(_D,!1))throw new M(400,!1);(function DD(){!function BS(e){jg=e}(()=>{throw new M(600,!1)})})(),jr=e;const n=e.get(ED);(function ID(e){e.get(Oy,null)?.forEach(t=>t())})(e)}(function SD(e=[],n){return nn.create({name:n,providers:[{provide:sf,useValue:"platform"},{provide:Rh,useValue:new Set([()=>jr=null])},...e]})}(a,r))}return function ck(e){const n=kh();if(!n)throw new M(401,!1);return n}()}}function kh(){return jr?.get(ED)??null}let ED=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function uk(e="zone.js",n){return"noop"===e?new XT:"zone.js"===e?new Ee(n):e}(r?.ngZone,function MD(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function C2(e,n,t){return new ah(e,n,t)}(t.moduleType,this.injector,function OD(e){return[{provide:Ee,useFactory:e},{provide:Rs,multi:!0,useFactory:()=>{const n=k(dk,{optional:!0});return()=>n.initialize()}},{provide:RD,useFactory:lk},{provide:Qy,useFactory:Jy}]}(()=>i)),s=o.injector.get(hr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Cu(this._modules,o),a.unsubscribe()})}),function TD(e,n,t){try{const r=t();return Gs(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Sh);return a.runInitializers(),a.donePromise.then(()=>(function Zb(e){mn(e,"Expected localeId to be defined"),"string"==typeof e&&(Xb=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(yr,So)||So),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=AD({},r);return function ik(e,n,t){const r=new ch(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(To);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new M(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new M(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Rh,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||e)(j(nn))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function AD(e,n){return Array.isArray(n)?n.reduce(AD,e):{...e,...n}}let To=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(RD),this.zoneIsStable=k(Qy),this.componentTypes=[],this.components=[],this.isStable=k(bu).hasPendingTasks.pipe(Mn(t=>t?q(!1):this.zoneIsStable),function J1(e,n=Sr){return e=e??K1,Ke((t,r)=>{let i,o=!0;t.subscribe(Qe(r,s=>{const a=n(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),rg()),this._injector=k(tn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Vy;if(!this._injector.get(Sh).done)throw!i&&function Pi(e){const n=fe(e)||ct(e)||_t(e);return null!==n&&n.standalone}(t),new M(405,!1);let s;s=i?t:this._injector.get(Qc).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function ok(e){return e.isBoundToModule}(s)?void 0:this._injector.get(mi),l=s.create(nn.NULL,[],r||s.selector,a),h=l.location.nativeElement,p=l.injector.get(bD,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Cu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new M(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Cu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Oh,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Cu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new M(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Cu(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const RD=new P("",{providedIn:"root",factory:()=>k(hr).handleError.bind(void 0)});function lk(){const e=k(Ee),n=k(hr);return t=>e.runOutsideAngular(()=>n.handleError(t))}let dk=(()=>{class e{constructor(){this.zone=k(Ee),this.applicationRef=k(To)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();let Ao=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=hk}return e})();function hk(e){return function pk(e,n,t){if(ii(e)&&!t){const r=Kt(e.index,n);return new js(r,r)}return 47&e.type?new js(n[We],n):null}(dt(),x(),16==(16&e))}class LD{constructor(){}supports(n){return ou(n)}create(n){return new bk(n)}}const wk=(e,n)=>n;class bk{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||wk}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<jD(r,i,o)?t:r,a=jD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){const g=m<o.length?o[m]:o[m]=0,v=g+m;h<=v&&v<l&&(o[m]=g+1)}o[s.previousIndex]=h-l}}a!==u&&n(s,a,u)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!ou(n))throw new M(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function iN(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new _k(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new VD),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new VD),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class _k{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Dk{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class VD{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new Dk,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jD(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class $D{constructor(){}supports(n){return n instanceof Map||jf(n)}create(){return new Ck}}class Ck{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||jf(n)))throw new M(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new Ik(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class Ik{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function BD(){return new Su([new LD])}let Su=(()=>{class e{static#e=this.\u0275prov=$({token:e,providedIn:"root",factory:BD});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||BD()),deps:[[e,new Sc,new xc]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new M(901,!1)}}return e})();function zD(){return new ra([new $D])}let ra=(()=>{class e{static#e=this.\u0275prov=$({token:e,providedIn:"root",factory:zD});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||zD()),deps:[[e,new Sc,new xc]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new M(901,!1)}}return e})();const Ek=xD(null,"core",[]);let Mk=(()=>{class e{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||e)(j(To))};static#t=this.\u0275mod=Qt({type:e});static#n=this.\u0275inj=Nt({})}return e})();function No(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let $h=null;function $r(){return $h}class zk{}const sn=new P("DocumentToken");let Bh=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:function(){return k(Uk)},providedIn:"platform"})}return e})();const Hk=new P("Location Initialized");let Uk=(()=>{class e extends Bh{constructor(){super(),this._doc=k(sn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $r().getBaseHref(this._doc)}onPopState(t){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:function(){return new e},providedIn:"platform"})}return e})();function zh(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function QD(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function wr(e){return e&&"?"!==e[0]?"?"+e:e}let wi=(()=>{class e{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:function(){return k(KD)},providedIn:"root"})}return e})();const JD=new P("appBaseHref");let KD=(()=>{class e extends wi{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(sn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zh(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+wr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+wr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+wr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(j(Bh),j(JD,8))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gk=(()=>{class e extends wi{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=zh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+wr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+wr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||e)(j(Bh),j(JD,8))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})(),Hh=(()=>{class e{constructor(t){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Xk(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(QD(eC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+wr(r))}normalize(t){return e.stripTrailingSlash(function Wk(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,eC(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+wr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+wr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=wr;static#t=this.joinWithSlash=zh;static#n=this.stripTrailingSlash=QD;static#r=this.\u0275fac=function(r){return new(r||e)(j(wi))};static#i=this.\u0275prov=$({token:e,factory:function(){return function qk(){return new Hh(j(wi))}()},providedIn:"root"})}return e})();function eC(e){return e.replace(/\/index.html$/,"")}function uC(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}const Kh=/\s+/,lC=[];let dC=(()=>{class e{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=lC,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Kh):lC}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Kh):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Kh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||e)(I(Su),I(ra),I(mt),I(On))};static#t=this.\u0275dir=G({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return e})();class OP{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let sa=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new OP(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),hC(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{hC(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(I(on),I(Kn),I(Su))};static#t=this.\u0275dir=G({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return e})();function hC(e,n){e.context.$implicit=n.item}let Dr=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new kP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){pC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){pC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||e)(I(on),I(Kn))};static#t=this.\u0275dir=G({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return e})();class kP{constructor(){this.$implicit=null,this.ngIf=null}}function pC(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${tt(n)}'.`)}let np=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=r.createEmbeddedView(i,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(r){return new(r||e)(I(on))};static#t=this.\u0275dir=G({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[vn]})}return e})();class jP{createSubscription(n,t){return zg(()=>n.subscribe({next:t,error:r=>{throw r}}))}dispose(n){zg(()=>n.unsubscribe())}}class $P{createSubscription(n,t){return n.then(t,r=>{throw r})}dispose(n){}}const BP=new $P,zP=new jP;let aa=(()=>{class e{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Gs(t))return BP;if(nb(t))return zP;throw function Ln(e,n){return new M(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||e)(I(Ao,16))};static#t=this.\u0275pipe=Ot({name:"async",type:e,pure:!1,standalone:!0})}return e})(),op=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Qt({type:e});static#n=this.\u0275inj=Nt({})}return e})();function yC(e){return"server"===e}let uF=(()=>{class e{static#e=this.\u0275prov=$({token:e,providedIn:"root",factory:()=>new lF(j(sn),window)})}return e})();class lF{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function dF(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class wC{}class kF extends zk{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cp extends kF{static makeCurrent(){!function Bk(e){$h||($h=e)}(new cp)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function PF(){return ua=ua||document.querySelector("base"),ua?ua.getAttribute("href"):null}();return null==t?null:function FF(e){$u=$u||document.createElement("a"),$u.setAttribute("href",e);const n=$u.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return uC(document.cookie,n)}}let $u,ua=null,VF=(()=>{class e{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})();const up=new P("EventManagerPlugins");let IC=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new M(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||e)(j(up),j(Ee))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})();class xC{constructor(n){this._doc=n}}const lp="ng-app-id";let SC=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yC(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${lp}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(lp),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(lp,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||e)(j(sn),j(Gc),j(ky,8),j(li))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})();const dp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fp=/%COMP%/g,zF=new P("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function MC(e,n){return n.map(t=>t.replace(fp,e))}let TC=(()=>{class e{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=yC(a),this.defaultRenderer=new hp(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Tn.ShadowDom&&(r={...r,encapsulation:Tn.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof NC?i.applyToHost(t):i instanceof pp&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Tn.Emulated:o=new NC(u,l,r,this.appId,h,s,a,p);break;case Tn.ShadowDom:return new qF(u,l,t,r,s,a,this.nonce,p);default:o=new pp(u,l,r,h,s,a,p)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||e)(j(IC),j(SC),j(Gc),j(zF),j(sn),j(li),j(Ee),j(ky))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})();class hp{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(dp[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(AC(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(AC(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new M(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=dp[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=dp[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(kr.DashCase|kr.Important)?n.style.setProperty(t,r,i&kr.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&kr.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=$r().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function AC(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class qF extends hp{constructor(n,t,r,i,o,s,a,u){super(n,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=MC(i.id,i.styles);for(const h of l){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pp extends hp{constructor(n,t,r,i,o,s,a,u){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?MC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class NC extends pp{constructor(n,t,r,i,o,s,a,u){const l=i+"-"+r.id;super(n,t,r,o,s,a,u,l),this.contentAttr=function HF(e){return"_ngcontent-%COMP%".replace(fp,e)}(l),this.hostAttr=function UF(e){return"_nghost-%COMP%".replace(fp,e)}(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let WF=(()=>{class e extends xC{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||e)(j(sn))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})();const RC=["alt","control","meta","shift"],XF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ZF={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let YF=(()=>{class e extends xC{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$r().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),RC.forEach(l=>{const h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=XF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),RC.forEach(s=>{s!==i&&(0,ZF[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||e)(j(sn))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})();const kC=[{provide:li,useValue:"browser"},{provide:Oy,useValue:function QF(){cp.makeCurrent()},multi:!0},{provide:sn,useFactory:function KF(){return function zM(e){Xd=e}(document),document},deps:[]}],eL=xD(Ek,"browser",kC),tL=new P(""),PC=[{provide:Du,useClass:class LF{addToWindow(n){Re.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new M(5103,!1);return o},Re.getAllAngularTestabilities=()=>n.getAllTestabilities(),Re.getAllAngularRootElements=()=>n.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(r=>{const i=Re.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?$r().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:bD,useClass:Th,deps:[Ee,Ah,Du]},{provide:Th,useClass:Th,deps:[Ee,Ah,Du]}],FC=[{provide:sf,useValue:"root"},{provide:hr,useFactory:function JF(){return new hr},deps:[]},{provide:up,useClass:WF,multi:!0,deps:[sn,Ee,li]},{provide:up,useClass:YF,multi:!0,deps:[sn]},TC,SC,IC,{provide:$y,useExisting:TC},{provide:wC,useClass:VF,deps:[]},[]];let nL=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Gc,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||e)(j(tL,12))};static#t=this.\u0275mod=Qt({type:e});static#n=this.\u0275inj=Nt({providers:[...FC,...PC],imports:[op,Mk]})}return e})(),LC=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||e)(j(sn))};static#t=this.\u0275prov=$({token:e,factory:function(r){let i=null;return i=r?new r:function iL(){return new LC(j(sn))}(),i},providedIn:"root"})}return e})();typeof window<"u"&&window;const{isArray:lL}=Array,{getPrototypeOf:dL,prototype:fL,keys:hL}=Object;function BC(e){if(1===e.length){const n=e[0];if(lL(n))return{args:n,keys:null};if(function pL(e){return e&&"object"==typeof e&&dL(e)===fL}(n)){const t=hL(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:mL}=Array;function zC(e){return ge(n=>function gL(e,n){return mL(n)?e(...n):e(n)}(e,n))}function HC(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}let UC=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||e)(I(On),I(mt))};static#t=this.\u0275dir=G({type:e})}return e})(),bi=(()=>{class e extends UC{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(e)))(i||e)}}();static#t=this.\u0275dir=G({type:e,features:[Ce]})}return e})();const er=new P("NgValueAccessor"),yL={provide:er,useExisting:Ne(()=>_i),multi:!0};let _i=(()=>{class e extends bi{writeValue(t){this.setProperty("checked",t)}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(e)))(i||e)}}();static#t=this.\u0275dir=G({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&N("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[je([yL]),Ce]})}return e})();const wL={provide:er,useExisting:Ne(()=>zt),multi:!0},_L=new P("CompositionEventMode");let zt=(()=>{class e extends UC{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bL(){const e=$r()?$r().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||e)(I(On),I(mt),I(_L,8))};static#t=this.\u0275dir=G({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&N("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[je([wL]),Ce]})}return e})();const vt=new P("NgValidators"),Hr=new P("NgAsyncValidators");function eI(e){return null!=e}function tI(e){return Gs(e)?et(e):e}function nI(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function rI(e,n){return n.map(t=>t(e))}function iI(e){return e.map(n=>function CL(e){return!e.validate}(n)?n:t=>n.validate(t))}function gp(e){return null!=e?function oI(e){if(!e)return null;const n=e.filter(eI);return 0==n.length?null:function(t){return nI(rI(t,n))}}(iI(e)):null}function vp(e){return null!=e?function sI(e){if(!e)return null;const n=e.filter(eI);return 0==n.length?null:function(t){return function vL(...e){const n=Km(e),{args:t,keys:r}=BC(e),i=new ze(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,l=s;for(let h=0;h<s;h++){let p=!1;Xt(t[h]).subscribe(Qe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?HC(r,a):a),o.complete())}))}});return n?i.pipe(zC(n)):i}(rI(t,n).map(tI)).pipe(ge(nI))}}(iI(e)):null}function aI(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function yp(e){return e?Array.isArray(e)?e:[e]:[]}function zu(e,n){return Array.isArray(e)?e.includes(n):e===n}function lI(e,n){const t=yp(n);return yp(e).forEach(i=>{zu(t,i)||t.push(i)}),t}function dI(e,n){return yp(n).filter(t=>!zu(e,t))}class fI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=gp(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=vp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Tt extends fI{get formDirective(){return null}get path(){return null}}class Ur extends fI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hI{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let At=(()=>{class e extends hI{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||e)(I(Ur,2))};static#t=this.\u0275dir=G({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&vr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ce]})}return e})();const la="VALID",Uu="INVALID",Oo="PENDING",da="DISABLED";function Gu(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class vI{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===la}get invalid(){return this.status===Uu}get pending(){return this.status==Oo}get disabled(){return this.status===da}get enabled(){return this.status!==da}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(lI(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(lI(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(dI(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(dI(n,this._rawAsyncValidators))}hasValidator(n){return zu(this._rawValidators,n)}hasAsyncValidator(n){return zu(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Oo,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=da,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=la,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===la||this.status===Oo)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?da:la}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Oo,this._hasOwnPendingAsyncValidator=!0;const t=tI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?da:this.errors?Uu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oo)?Oo:this._anyControlsHaveStatus(Uu)?Uu:la}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Gu(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function ML(e){return Array.isArray(e)?gp(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function TL(e){return Array.isArray(e)?vp(e):e||null}(this._rawAsyncValidators)}}const ko=new P("CallSetDisabledState",{providedIn:"root",factory:()=>qu}),qu="always";function fa(e,n,t=qu){(function Ip(e,n){const t=function cI(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(aI(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function uI(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(aI(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Zu(n._rawValidators,i),Zu(n._rawAsyncValidators,i)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function RL(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&yI(e,n)})}(e,n),function kL(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function OL(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&yI(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function NL(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Zu(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function yI(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function _I(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function DI(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const CI=class extends vI{constructor(n=null,t,r){super(function _p(e){return(Gu(e)?e.validators:e)||null}(t),function Dp(e,n){return(Gu(n)?n.asyncValidators:e)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=DI(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){_I(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){_I(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){DI(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},zL={provide:Ur,useExisting:Ne(()=>yt)},SI=(()=>Promise.resolve())();let yt=(()=>{class e extends Ur{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new CI,this._registered=!1,this.name="",this.update=new Le,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Ep(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===zt?t=o:function LL(e){return Object.getPrototypeOf(e.constructor)===bi}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Sp(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fa(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){SI.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&No(r);SI.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Wu(e,n){return[...n.path,e]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||e)(I(Tt,9),I(vt,10),I(Hr,10),I(er,10),I(Ao,8),I(ko,8))};static#t=this.\u0275dir=G({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[je([zL]),Ce,vn]})}return e})();const UL={provide:er,useExisting:Ne(()=>Tp),multi:!0};let Tp=(()=>{class e extends bi{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(e)))(i||e)}}();static#t=this.\u0275dir=G({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&N("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[je([UL]),Ce]})}return e})();const GL={provide:er,useExisting:Ne(()=>Ap),multi:!0};let EI=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Qt({type:e});static#n=this.\u0275inj=Nt({})}return e})(),qL=(()=>{class e{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:EI})}return e})(),Ap=(()=>{class e extends bi{constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=k(ko,{optional:!0})??qu}ngOnInit(){this._control=this._injector.get(Ur),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static#e=this.\u0275fac=function(r){return new(r||e)(I(On),I(mt),I(qL),I(nn))};static#t=this.\u0275dir=G({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){1&r&&N("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[je([GL]),Ce]})}return e})(),hV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Qt({type:e});static#n=this.\u0275inj=Nt({imports:[EI]})}return e})(),mV=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:ko,useValue:t.callSetDisabledState??qu}]}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Qt({type:e});static#n=this.\u0275inj=Nt({imports:[hV]})}return e})();function Po(e,n){return Se(n)?at(e,n,1):at(e,1)}function tr(e,n){return Ke((t,r)=>{let i=0;t.subscribe(Qe(r,o=>e.call(n,o,i++)&&r.next(o)))})}function pa(e){return Ke((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}class Qu{}class Ju{}class nr{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof nr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new nr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof nr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=n.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class gV{encodeKey(n){return UI(n)}encodeValue(n){return UI(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const yV=/%(\d[a-f0-9])/gi,wV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function UI(e){return encodeURIComponent(e).replace(yV,(n,t)=>wV[t]??n)}function Ku(e){return`${e}`}class Gr{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new gV,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vV(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(Ku):[Ku(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Gr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Ku(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(Ku(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class bV{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function GI(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function qI(e){return typeof Blob<"u"&&e instanceof Blob}function WI(e){return typeof FormData<"u"&&e instanceof FormData}class ma{constructor(n,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function _V(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new nr),this.context||(this.context=new bV),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Gr,this.urlWithParams=t}serializeBody(){return null===this.body?null:GI(this.body)||qI(this.body)||WI(this.body)||function DV(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||WI(this.body)?null:qI(this.body)?this.body.type||null:GI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let u=n.headers||this.headers,l=n.params||this.params;const h=n.context??this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce((p,m)=>p.set(m,n.setHeaders[m]),u)),n.setParams&&(l=Object.keys(n.setParams).reduce((p,m)=>p.set(m,n.setParams[m]),l)),new ma(t,r,o,{params:l,headers:u,context:h,reportProgress:a,responseType:i,withCredentials:s})}}var Fo=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Fo||{});class Lp{constructor(n,t=200,r="OK"){this.headers=n.headers||new nr,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Vp extends Lp{constructor(n={}){super(n),this.type=Fo.ResponseHeader}clone(n={}){return new Vp({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Lo extends Lp{constructor(n={}){super(n),this.type=Fo.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Lo({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class XI extends Lp{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function jp(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let ZI=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ma)o=t;else{let u,l;u=i.headers instanceof nr?i.headers:new nr(i.headers),i.params&&(l=i.params instanceof Gr?i.params:new Gr({fromObject:i.params})),o=new ma(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=q(o).pipe(Po(u=>this.handler.handle(u)));if(t instanceof ma||"events"===i.observe)return s;const a=s.pipe(tr(u=>u instanceof Lo));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(ge(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ge(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ge(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ge(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Gr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,jp(i,r))}post(t,r,i={}){return this.request("POST",t,jp(i,r))}put(t,r,i={}){return this.request("PUT",t,jp(i,r))}static#e=this.\u0275fac=function(r){return new(r||e)(j(Qu))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})();function JI(e,n){return n(e)}function IV(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const SV=new P(""),ga=new P(""),KI=new P("");function EV(){let e=null;return(n,t)=>{null===e&&(e=(k(SV,{optional:!0})??[]).reduceRight(IV,JI));const r=k(bu),i=r.add();return e(n,t).pipe(pa(()=>r.remove(i)))}}let ex=(()=>{class e extends Qu{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=k(bu)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(ga),...this.injector.get(KI,[])]));this.chain=i.reduceRight((o,s)=>function xV(e,n,t){return(r,i)=>t.runInContext(()=>n(r,o=>e(o,i)))}(o,s,this.injector),JI)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(pa(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||e)(j(Ju),j(tn))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})();const NV=/^\)\]\}',?\n/;let nx=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new M(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?et(r.\u0275loadImpl()):q(null)).pipe(Mn(()=>new ze(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,b)=>s.setRequestHeader(w,b.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let u=null;const l=()=>{if(null!==u)return u;const w=s.statusText||"OK",b=new nr(s.getAllResponseHeaders()),C=function RV(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||t.url;return u=new Vp({headers:b,status:s.status,statusText:w,url:C}),u},h=()=>{let{headers:w,status:b,statusText:C,url:_}=l(),E=null;204!==b&&(E=typeof s.response>"u"?s.responseText:s.response),0===b&&(b=E?200:0);let L=b>=200&&b<300;if("json"===t.responseType&&"string"==typeof E){const Q=E;E=E.replace(NV,"");try{E=""!==E?JSON.parse(E):null}catch(Be){E=Q,L&&(L=!1,E={error:Be,text:E})}}L?(o.next(new Lo({body:E,headers:w,status:b,statusText:C,url:_||void 0})),o.complete()):o.error(new XI({error:E,headers:w,status:b,statusText:C,url:_||void 0}))},p=w=>{const{url:b}=l(),C=new XI({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(C)};let m=!1;const g=w=>{m||(o.next(l()),m=!0);let b={type:Fo.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(b.total=w.total),"text"===t.responseType&&s.responseText&&(b.partialText=s.responseText),o.next(b)},v=w=>{let b={type:Fo.UploadProgress,loaded:w.loaded};w.lengthComputable&&(b.total=w.total),o.next(b)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",g),null!==a&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:Fo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",g),null!==a&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||e)(j(wC))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})();const $p=new P("XSRF_ENABLED"),rx=new P("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ix=new P("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ox{}let PV=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=uC(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||e)(j(sn),j(li),j(rx))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})();function FV(e,n){const t=e.url.toLowerCase();if(!k($p)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=k(ox).getToken(),i=k(ix);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var qr=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(qr||{});function LV(...e){const n=[ZI,nx,ex,{provide:Qu,useExisting:ex},{provide:Ju,useExisting:nx},{provide:ga,useValue:FV,multi:!0},{provide:$p,useValue:!0},{provide:ox,useClass:PV}];for(const t of e)n.push(...t.\u0275providers);return function tf(e){return{\u0275providers:e}}(n)}const sx=new P("LEGACY_INTERCEPTOR_FN");function VV(){return function Ci(e,n){return{\u0275kind:e,\u0275providers:n}}(qr.LegacyInterceptors,[{provide:sx,useFactory:EV},{provide:ga,useExisting:sx,multi:!0}])}let jV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Qt({type:e});static#n=this.\u0275inj=Nt({providers:[LV(VV())]})}return e})();function GV(e,n){if(1&e){const t=Co();f(0,"span",7),N("click",function(i){Ft(t);const o=ve().$implicit,s=ve();return i.preventDefault(),Lt(s.removeTab(o))}),c(1," \u274c"),d()}}const qV=function(e){return["nav-item",e]};function WV(e,n){if(1&e){const t=Co();f(0,"li",3),N("keydown",function(i){const s=Ft(t).index;return Lt(ve().keyNavActions(i,s))}),f(1,"a",4),N("click",function(){return Lt(Ft(t).$implicit.active=!0)}),f(2,"span",5),c(3),d(),ne(4,GV,2,0,"span",6),d()()}if(2&e){const t=n.$implicit;vr("active",t.active)("disabled",t.disabled),D("ngClass",pe(15,qV,t.customClass||"")),y(1),vr("active",t.active)("disabled",t.disabled),jt("aria-controls",t.id?t.id:"")("aria-selected",!!t.active)("id",t.id?t.id+"-link":""),y(1),D("ngTransclude",t.headingRef),y(1),z(t.heading),y(1),D("ngIf",t.removable)}}const XV=["*"];let ZV=(()=>{class e{constructor(t){this.viewRef=t}set ngTransclude(t){this._ngTransclude=t,t&&this.viewRef.createEmbeddedView(t)}get ngTransclude(){return this._ngTransclude}}return e.\u0275fac=function(t){return new(t||e)(I(on))},e.\u0275dir=G({type:e,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),e})(),YV=(()=>{class e{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Bp=(()=>{class e{constructor(t,r,i){this.renderer=r,this.elementRef=i,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,t)}get vertical(){return this._vertical}set vertical(t){this._vertical=t,this.setClassMap()}get justified(){return this._justified}set justified(t){this._justified=t,this.setClassMap()}get type(){return this._type}set type(t){this._type=t,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(t){this._isKeysAllowed=t}ngOnDestroy(){this.isDestroyed=!0}addTab(t){this.tabs.push(t),t.active=1===this.tabs.length&&!t.active}removeTab(t,r={reselect:!0,emit:!0}){const i=this.tabs.indexOf(t);if(-1!==i&&!this.isDestroyed){if(r.reselect&&t.active&&this.hasAvailableTabs(i)){const o=this.getClosestTabIndex(i);this.tabs[o].active=!0}r.emit&&t.removed.emit(t),this.tabs.splice(i,1),t.elementRef.nativeElement.parentNode&&this.renderer.removeChild(t.elementRef.nativeElement.parentNode,t.elementRef.nativeElement)}}keyNavActions(t,r){if(!this.isKeysAllowed)return;const i=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===t.keyCode||"Enter"===t.key||32===t.keyCode||"Space"===t.key)return t.preventDefault(),void i[r%i.length].click();if(39!==t.keyCode&&"RightArrow"!==t.key)if(37!==t.keyCode&&"LeftArrow"!==t.key)if(36!==t.keyCode&&"Home"!==t.key)if(35!==t.keyCode&&"End"!==t.key){if((46===t.keyCode||"Delete"===t.key)&&this.tabs[r].removable){if(this.removeTab(this.tabs[r]),i[r+1])return void i[(r+1)%i.length].focus();i[i.length-1]&&i[0].focus()}}else{t.preventDefault();let o,s=1,a=r;do{a-s<0?(a=i.length-1,o=i[a],s=0):o=i[a-s],s++}while(o.classList.contains("disabled"));o.focus()}else{t.preventDefault();let o,s=0;do{o=i[s%i.length],s++}while(o.classList.contains("disabled"));o.focus()}else{let o,s=1,a=r;do{a-s<0?(a=i.length-1,o=i[a],s=0):o=i[a-s],s++}while(o.classList.contains("disabled"));o.focus()}else{let o,s=1;do{o=i[(r+s)%i.length],s++}while(o.classList.contains("disabled"));o.focus()}}getClosestTabIndex(t){const r=this.tabs.length;if(!r)return-1;for(let i=1;i<=r;i+=1){const o=t-i,s=t+i;if(this.tabs[o]&&!this.tabs[o].disabled)return o;if(this.tabs[s]&&!this.tabs[s].disabled)return s}return-1}hasAvailableTabs(t){const r=this.tabs.length;if(!r)return!1;for(let i=0;i<r;i+=1)if(!this.tabs[i].disabled&&i!==t)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}return e.\u0275fac=function(t){return new(t||e)(I(YV),I(On),I(mt))},e.\u0275cmp=V({type:e,selectors:[["tabset"]],hostVars:2,hostBindings:function(t,r){2&t&&vr("tab-container",r.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:XV,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(t,r){1&t&&(lu(),f(0,"ul",0),N("click",function(o){return o.preventDefault()}),ne(1,WV,5,17,"li",1),d(),f(2,"div",2),qs(3),d()),2&t&&(D("ngClass",r.classMap),jt("aria-label",r.ariaLabel),y(1),D("ngForOf",r.tabs))},dependencies:[dC,sa,Dr,ZV],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),e})(),ax=(()=>{class e{constructor(t,r,i){this.elementRef=r,this.renderer=i,this.disabled=!1,this.removable=!1,this.selectTab=new Le,this.deselect=new Le,this.removed=new Le,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=t,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(t){this.customClass&&this.customClass.split(" ").forEach(r=>{this.renderer.removeClass(this.elementRef.nativeElement,r)}),this._customClass=t?t.trim():"",this.customClass&&this.customClass.split(" ").forEach(r=>{this.renderer.addClass(this.elementRef.nativeElement,r)})}get active(){return this._active}set active(t){if(this._active!==t){if(this.disabled&&t||!t)return void(this._active&&!t&&(this.deselect.emit(this),this._active=t));this._active=t,this.selectTab.emit(this),this.tabset.tabs.forEach(r=>{r!==this&&(r.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}return e.\u0275fac=function(t){return new(t||e)(I(Bp),I(mt),I(On))},e.\u0275dir=G({type:e,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(t,r){2&t&&(jt("id",r.id)("role",r.role)("aria-labelledby",r.ariaLabelledby),vr("active",r.active)("tab-pane",r.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]}),e})(),QV=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Qt({type:e}),e.\u0275inj=Nt({imports:[op]}),e})(),JV=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Qt({type:e});static#n=this.\u0275inj=Nt({imports:[op]})}return e})();var zp=function(e,n){return(zp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(e,n)};function Fe(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}zp(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}var it=function(){return it=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},it.apply(this,arguments)};function va(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,s,r=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function ae(e,n,t){if(t||2===arguments.length)for(var o,r=0,i=n.length;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}"function"==typeof SuppressedError&&SuppressedError;var _a,Wr,wt,ln,Da,Wp,Ca,Ia,xa,il,Xr,Sa,ol,Zr,Ut,Gt,sl,Ht=function(){function e(n,t){this.id=0,void 0!==n&&(this.value=n,this.initialValue=n),this.options=t||{},this.subscriptions=new Map}return e.prototype.set=function(n){var t,r;if(this.value!==n||this.options.emitEqual){this.value=n;try{for(var i=va(this.subscriptions),o=i.next();!o.done&&(se(o.value,2)[1].emit(n),this.value===n);o=i.next());}catch(u){t={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}},e.prototype.get=function(){return this.value},e.prototype.on=function(n){var t=this,r=this.id++,i={emit:n,off:function(){i.emit=function(){return null},t.subscriptions.delete(r)}};return this.subscriptions.set(r,i),this.options.emitOnSubscribe&&i.emit(this.value),function(){return i.off()}},e.prototype.once=function(n){var t=this.on(function(r){t(),n(r)});return t},e.prototype.reset=function(){this.set(this.initialValue)},e.prototype.dispose=function(){this.subscriptions.forEach(function(n){return n.off()})},e}(),Te=function(e){return e.id="id",e.mock="mock",e.augmented="augmented",e.version="version",e.init="init",e.init$="init$",e.packageInfo="packageInfo",e.itemsCount="itemsCount",e.bufferInfo="bufferInfo",e.isLoading="isLoading",e.isLoading$="isLoading$",e.loopPending="loopPending",e.loopPending$="loopPending$",e.firstVisible="firstVisible",e.firstVisible$="firstVisible$",e.lastVisible="lastVisible",e.lastVisible$="lastVisible$",e.bof="bof",e.bof$="bof$",e.eof="eof",e.eof$="eof$",e.reset="reset",e.reload="reload",e.append="append",e.prepend="prepend",e.check="check",e.remove="remove",e.clip="clip",e.insert="insert",e.replace="replace",e.update="update",e.pause="pause",e.resume="resume",e.fix="fix",e.relax="relax",e.showLog="showLog",e}(Te||{}),cn=function(e){return e[e.Scalar=0]="Scalar",e[e.Reactive=1]="Reactive",e[e.WorkflowRunner=2]="WorkflowRunner",e[e.Function=3]="Function",e}(cn||{}),re=Te,le=cn,cx=function(){return null},ux={immediate:!0,success:!0,details:"Adapter is not initialized"},un=function(){return Promise.resolve(ux)},_3={core:{name:"",version:""},consumer:{name:"",version:""}},D3={firstIndex:NaN,lastIndex:NaN,minIndex:NaN,maxIndex:NaN,absMinIndex:-1/0,absMaxIndex:1/0,defaultSize:NaN},Vo={data:{},element:{}},Up=function(){return[{type:le.Scalar,name:re.id,value:0,permanent:!0},{type:le.Scalar,name:re.mock,value:!0,permanent:!0},{type:le.Scalar,name:re.augmented,value:!1,permanent:!0},{type:le.Scalar,name:re.version,value:"",permanent:!0},{type:le.Scalar,name:re.init,value:!1,reactive:re.init$},{type:le.Scalar,name:re.packageInfo,value:_3,onDemand:!0},{type:le.Scalar,name:re.itemsCount,value:0,onDemand:!0},{type:le.Scalar,name:re.bufferInfo,value:D3,onDemand:!0},{type:le.Scalar,name:re.isLoading,value:!1,reactive:re.isLoading$},{type:le.Scalar,name:re.loopPending,value:!1,reactive:re.loopPending$},{type:le.Scalar,name:re.firstVisible,value:Vo,reactive:re.firstVisible$,wanted:!0},{type:le.Scalar,name:re.lastVisible,value:Vo,reactive:re.lastVisible$,wanted:!0},{type:le.Scalar,name:re.bof,value:!1,reactive:re.bof$},{type:le.Scalar,name:re.eof,value:!1,reactive:re.eof$},{type:le.WorkflowRunner,name:re.reset,value:un},{type:le.WorkflowRunner,name:re.reload,value:un},{type:le.WorkflowRunner,name:re.append,value:un},{type:le.WorkflowRunner,name:re.prepend,value:un},{type:le.WorkflowRunner,name:re.check,value:un},{type:le.WorkflowRunner,name:re.remove,value:un},{type:le.WorkflowRunner,name:re.clip,value:un},{type:le.WorkflowRunner,name:re.insert,value:un},{type:le.WorkflowRunner,name:re.replace,value:un},{type:le.WorkflowRunner,name:re.update,value:un},{type:le.WorkflowRunner,name:re.pause,value:un},{type:le.WorkflowRunner,name:re.resume,value:un},{type:le.WorkflowRunner,name:re.fix,value:un},{type:le.Function,name:re.relax,value:cx},{type:le.Function,name:re.showLog,value:cx},{type:le.Reactive,name:re.init$,value:new Ht},{type:le.Reactive,name:re.isLoading$,value:new Ht},{type:le.Reactive,name:re.loopPending$,value:new Ht},{type:le.Reactive,name:re.firstVisible$,value:new Ht(Vo,{emitOnSubscribe:!0}),wanted:!0},{type:le.Reactive,name:re.lastVisible$,value:new Ht(Vo,{emitOnSubscribe:!0}),wanted:!0},{type:le.Reactive,name:re.bof$,value:new Ht},{type:le.Reactive,name:re.eof$,value:new Ht}]},tl=new Map,lx={name:"vscroll",version:"1.6.0-beta.4"},wa_setBox=function(e,n){var t=e.name,r=e.wanted,i=ba.get(n||-1);if(r&&i&&!i.box[t]&&!i.block){var o=Te.firstVisible,s=Te.firstVisible$,a=Te.lastVisible,u=Te.lastVisible$;return i.box[o]=i.box[s]=[o,s].some(function(l){return l===t})||i.box[o],i.box[a]=i.box[u]=[a,u].some(function(l){return l===t})||i.box[a],!0}return!1},wa_setBlock=function(e,n){var t=ba.get(n||-1);t&&(t.block=e)},ba=new Map,S3=0,E3=function e(n){var t=this,r=n.mock,i=n.reactive,o=++S3,s={configurable:!0},a={};ba.set(o,{box:{},block:!1}),Object.defineProperty(this,Te.id,it({get:function(){return o}},s)),Object.defineProperty(this,Te.mock,it({get:function(){return r}},s)),Object.defineProperty(this,Te.augmented,it({get:function(){return!1}},s)),Object.defineProperty(this,Te.version,it({get:function(){return lx.version}},s)),Up().filter(function(u){return!u.permanent}).forEach(function(u){var l=u.value;if(i&&u.type===cn.Reactive){var h=i[u.name];h&&(a[u.name]=it(it({},h),{default:l}),l=h.source)}Object.defineProperty(t,u.name,it({get:function(){return wa_setBox(u,o),l}},s))}),i&&tl.set(o,a)},dx=function(){function e(n,t){this.get=n.get,this.settings=n.settings,this.devSettings=n.devSettings;var r=new E3(t||{mock:!1});this.adapter=r}return e.prototype.dispose=function(){tl.delete(this.adapter.id),ba.delete(this.adapter.id)},e}(),Gp=function(e){return function(n){function t(r){var i="function"==typeof e?e():void 0;return n.call(this,r,i)||this}return Fe(t,n),t}(dx)},M3=Gp(),Z=function(e){return e.forward="forward",e.backward="backward",e}(Z||{}),Cn=function(e){return e.Average="average",e.Constant="constant",e.Frequent="frequent",e}(Cn||{}),de=function(e){return e.number="must be a number",e.integer="must be an integer",e.integerUnlimited="must be an integer or infinity",e.moreOrEqual="must be a number greater than (or equal to) {arg1}",e.itemList="must be an array of items {arg1}",e.boolean="must be a boolean",e.object="must be an object",e.element="must be an html element",e.function="must be a function",e.funcOfxArguments="must have {arg1} argument(s)",e.funcOfxAndMoreArguments="must have at least {arg1} argument(s)",e.funcOfXToYArguments="must have {arg1} to {arg2} arguments",e.oneOfCan="can be present as only one item of {arg1} list",e.oneOfMust="must be present as only one item of {arg1} list",e.or="must satisfy at least 1 validator from {arg1} list",e.enum="must belong to {arg1} list",e}(de||{}),Vn=function(e,n){return(n||[""]).reduce(function(t,r,i){return t.replace("{arg".concat(i+1,"}"),r)},e)},qp=function(e){return"number"==typeof e||"string"==typeof e&&""!==e?Number(e):NaN},fx=function(e){var n=qp(e),t=[];return Number.isNaN(n)&&t.push(de.number),{value:n,isSet:!0,isValid:!t.length,errors:t}},N3=function(e,n){return function(t){var r=fx(t);if(!r.isValid)return r;var i=r.value,o=[];return i<e&&(n?i=e:o.push(Vn(de.moreOrEqual,[String(e)]))),{value:i,isSet:!0,isValid:!o.length,errors:o}}},nl=function(e){var n=[];return"function"!=typeof e&&n.push(de.function),{value:e,isSet:!0,isValid:!n.length,errors:n}},F3=function(e){return function(n){var t=nl(n);if(!t.isValid)return t;var r=[];return(n=t.value).length!==e&&r.push(Vn(de.funcOfxArguments,[String(e)])),{value:n,isSet:!0,isValid:!r.length,errors:r}}},L3=function(e){return function(n){var t=nl(n);if(!t.isValid)return t;var r=[];return(n=t.value).length<e&&r.push(Vn(de.funcOfxArguments,[String(e)])),{value:n,isSet:!0,isValid:!r.length,errors:r}}},V3=function(e,n){return function(t){var r=nl(t);if(!r.isValid)return r;var i=[];return((t=r.value).length<e||t.length>n)&&i.push(Vn(de.funcOfXToYArguments,[String(e),String(n)])),{value:t,isSet:!0,isValid:!i.length,errors:i}}},hx=function(e,n){return function(t,r){var i=[],o=void 0!==t,s=!o,a=n?de.oneOfMust:de.oneOfCan;if(Array.isArray(e)&&e.length){for(var u=e.length-1;u>=0;u--){var l=e[u];if("string"!=typeof l){i.push(Vn(a,[e.join('", "')])+" (non-string token)");break}var h=r&&Object.prototype.hasOwnProperty.call(r,l);if(o&&h){i.push(Vn(a,[e.join('", "')])+" (".concat(l," is present)"));break}s&&h&&(s=!1)}n&&s&&i.push(Vn(a,[e.join('", "')]))}else i.push(Vn(a,["undefined"]));return{value:t,isSet:o,isValid:!i.length,errors:i}}},j3=function(e){return function(n){var t=[];return e.every(function(r){return!r.method(n).isValid})&&t.push(e.map(function(r){return r.type}).join(" OR ")),{value:n,isSet:!0,isValid:!t.length,errors:t}}},$3=function(e){return function(n){var t=[],r=Object.keys(e).filter(function(i){return isNaN(Number(i))}).map(function(i){return e[i]});return r.some(function(i){return i===n})||t.push(Vn(de.enum,["["+r.join(",")+"]"])),{value:n,isSet:!0,isValid:!t.length,errors:t}}},Ae={NUMBER:{type:de.number,method:fx},INTEGER:{type:de.integer,method:function(e){var n=[];e=qp(e);var t=parseInt(String(e),10);return e!==t&&n.push(de.integer),{value:t,isSet:!0,isValid:!n.length,errors:n}}},INTEGER_UNLIMITED:{type:de.integerUnlimited,method:function(e){var n,t=[];return(e=qp(e))!==(n=Number.isFinite(e)?parseInt(String(e),10):e)&&t.push(de.integerUnlimited),{value:n,isSet:!0,isValid:!t.length,errors:t}}},MORE_OR_EQUAL:function(e,n){return{type:de.moreOrEqual,method:N3(e,n)}},BOOLEAN:{type:de.boolean,method:function(e){var n=[],t=e;return"true"===e?t=!0:"false"===e&&(t=!1),"boolean"!=typeof t&&n.push(de.boolean),{value:t,isSet:!0,isValid:!n.length,errors:n}}},OBJECT:{type:de.object,method:function(e){var n=[];return(!e||"[object Object]"!==Object.prototype.toString.call(e))&&n.push(de.object),{value:e,isSet:!0,isValid:!n.length,errors:n}}},ITEM_LIST:{type:de.itemList,method:function(e){var n=e,t=[];if(Array.isArray(e))if(e.length){if(e.length>1)for(var r=typeof e[0],i=e.length-1;i>=0;i--)if(typeof e[i]!==r){t.push(Vn(de.itemList,["of items of the same type"]));break}}else t.push(Vn(de.itemList,["with at least 1 item"]));else t.push(de.itemList),n=[];return{value:n,isSet:!0,isValid:!t.length,errors:t}}},ELEMENT:{type:de.element,method:function(e){var n=[];return!(e instanceof Element)&&!(e instanceof Document)&&n.push(de.element),{value:e,isSet:!0,isValid:!n.length,errors:n}}},FUNC:{type:de.function,method:nl},FUNC_WITH_X_ARGUMENTS:function(e){return{type:de.funcOfxArguments,method:F3(e)}},FUNC_WITH_X_AND_MORE_ARGUMENTS:function(e){return{type:de.funcOfxAndMoreArguments,method:L3(e)}},FUNC_WITH_X_TO_Y_ARGUMENTS:function(e,n){return{type:de.funcOfXToYArguments,method:V3(e,n)}},ONE_OF_CAN:function(e){return{type:de.oneOfCan,method:hx(e,!1)}},ONE_OF_MUST:function(e){return{type:de.oneOfMust,method:hx(e,!0)}},OR:function(e){return{type:de.or,method:j3(e)}},ENUM:function(e){return{type:de.enum,method:$3(e)}}},B3=function(){function e(n){this.params={},this.contextErrors=[],this.errors=[],this.isValid=!0,this.setContext(n)}return e.prototype.setContext=function(n){n&&"[object Object]"===Object.prototype.toString.call(n)?this.isValidContext=!0:(this.setCommonError("context is not an object"),this.isValidContext=!1),this.context=n},e.prototype.setValidity=function(){var n=this;this.errors=Object.keys(this.params).reduce(function(t,r){return ae(ae([],se(t),!1),se(n.params[r].errors),!1)},[]),this.isValid=!this.errors.length},e.prototype.setCommonError=function(n){this.contextErrors.push(n),this.errors.push(n),this.isValid=!1},e.prototype.setParam=function(n,t){t.isValid||(t.errors=t.isSet?t.errors.map(function(r){return'"'.concat(n,'" ').concat(r)}):['"'.concat(n,'" must be set')]),this.params[n]=t,this.setValidity()},e.prototype.showErrors=function(){return this.errors.length?"validation failed: "+this.errors.join(", "):""},e}(),px=function(e,n,t){var i=e.errors,o=n.method(e.value,t),s=ae(ae([],se(i),!1),se(o.errors),!1);return{value:o.value,isSet:o.isSet,isValid:!s.length,errors:s}},mx=function(e,n){var t=void 0===e,r=!n.mandatory&&void 0!==n.defaultValue;return{value:t?r?n.defaultValue:void 0:e,isSet:!t||r,isValid:!t||!n.mandatory,errors:[]}},gx=function(e,n,t){var r,i,o=mx(e[n],t);if(o.isSet)try{for(var a=va(Object.values(t.validators)),u=a.next();!u.done;u=a.next()){var h=px(o,u.value,e);if(!h.isValid&&void 0!==t.defaultValue)return{value:t.defaultValue,isSet:!0,isValid:!0,errors:[]};Object.assign(o,h)}}catch(p){r={error:p}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}else{var s=t.validators.find(function(p){return p.type===de.oneOfMust});if(s)return px(o,s,e)}return o},rl=function(e,n){var t=new B3(e);return Object.entries(n).forEach(function(r){var i=se(r,2),o=i[0],s=i[1];return t.setParam(o,t.isValidContext?gx(t.context,o,s):mx(void 0,s))}),t},vx=Ae.OBJECT,z3=Ae.FUNC_WITH_X_AND_MORE_ARGUMENTS,Cr=function(e){return e.get="get",e.settings="settings",e.devSettings="devSettings",e}(Cr||{}),H3=((_a={})[Cr.get]={validators:[z3(2)],mandatory:!0},_a[Cr.settings]={validators:[vx]},_a[Cr.devSettings]={validators:[vx]},_a),U3=Ae.NUMBER,jo=Ae.INTEGER,yx=Ae.INTEGER_UNLIMITED,$o=Ae.MORE_OR_EQUAL,In=Ae.BOOLEAN,G3=Ae.ELEMENT,wx=Ae.FUNC,q3=Ae.OR,bx=Ae.ENUM,Ze=function(e){return e.adapter="adapter",e.startIndex="startIndex",e.minIndex="minIndex",e.maxIndex="maxIndex",e.itemSize="itemSize",e.bufferSize="bufferSize",e.padding="padding",e.infinite="infinite",e.horizontal="horizontal",e.windowViewport="windowViewport",e.viewportElement="viewportElement",e.inverse="inverse",e.onBeforeClip="onBeforeClip",e.sizeStrategy="sizeStrategy",e}(Ze||{}),ot=function(e){return e.debug="debug",e.immediateLog="immediateLog",e.logProcessRun="logProcessRun",e.logTime="logTime",e.throttle="throttle",e.initDelay="initDelay",e.initWindowDelay="initWindowDelay",e.cacheData="cacheData",e.cacheOnReload="cacheOnReload",e.dismissOverflowAnchor="dismissOverflowAnchor",e.directionPriority="directionPriority",e}(ot||{}),Bo=((Wr={})[Ze.itemSize]=1,Wr[Ze.bufferSize]=1,Wr[Ze.padding]=.01,Wr[ot.throttle]=0,Wr[ot.initDelay]=0,Wr[ot.initWindowDelay]=0,Wr),W3=((wt={})[Ze.adapter]={validators:[In],defaultValue:!1},wt[Ze.startIndex]={validators:[jo],defaultValue:1},wt[Ze.minIndex]={validators:[yx],defaultValue:-1/0},wt[Ze.maxIndex]={validators:[yx],defaultValue:1/0},wt[Ze.itemSize]={validators:[jo,$o(Bo[Ze.itemSize],!0)],defaultValue:NaN},wt[Ze.bufferSize]={validators:[jo,$o(Bo[Ze.bufferSize],!0)],defaultValue:5},wt[Ze.padding]={validators:[U3,$o(Bo[Ze.padding],!0)],defaultValue:.5},wt[Ze.infinite]={validators:[In],defaultValue:!1},wt[Ze.horizontal]={validators:[In],defaultValue:!1},wt[Ze.windowViewport]={validators:[In],defaultValue:!1},wt[Ze.viewportElement]={validators:[q3([G3,wx])],defaultValue:null},wt[Ze.inverse]={validators:[In],defaultValue:!1},wt[Ze.onBeforeClip]={validators:[wx],defaultValue:null},wt[Ze.sizeStrategy]={validators:[bx(Cn)],defaultValue:Cn.Average},wt),X3=((ln={})[ot.debug]={validators:[In],defaultValue:!1},ln[ot.immediateLog]={validators:[In],defaultValue:!0},ln[ot.logProcessRun]={validators:[In],defaultValue:!1},ln[ot.logTime]={validators:[In],defaultValue:!1},ln[ot.throttle]={validators:[jo,$o(Bo[ot.throttle],!0)],defaultValue:40},ln[ot.initDelay]={validators:[jo,$o(Bo[ot.initDelay],!0)],defaultValue:1},ln[ot.initWindowDelay]={validators:[jo,$o(Bo[ot.initWindowDelay],!0)],defaultValue:40},ln[ot.cacheData]={validators:[In],defaultValue:!1},ln[ot.cacheOnReload]={validators:[In],defaultValue:!1},ln[ot.dismissOverflowAnchor]={validators:[In],defaultValue:!0},ln[ot.directionPriority]={validators:[bx(Z)],defaultValue:Z.backward},ln),Ie=function(e){return e.init="init",e.scroll="scroll",e.start="start",e.preFetch="preFetch",e.fetch="fetch",e.postFetch="postFetch",e.render="render",e.preClip="preClip",e.clip="clip",e.adjust="adjust",e.end="end",e}(Ie||{}),A=function(e){return e.reset="adapter.reset",e.reload="adapter.reload",e.append="adapter.append",e.prepend="adapter.prepend",e.check="adapter.check",e.remove="adapter.remove",e.replace="adapter.replace",e.update="adapter.update",e.clip="adapter.clip",e.insert="adapter.insert",e.pause="adapter.pause",e.fix="adapter.fix",e}(A||{}),T=function(e){return e.start="start",e.next="next",e.done="done",e.error="error",e}(T||{}),Xp=Ae.INTEGER,Zp=Ae.INTEGER_UNLIMITED,jn=Ae.BOOLEAN,Yp=Ae.OBJECT,Ea=Ae.ITEM_LIST,zo=Ae.FUNC_WITH_X_ARGUMENTS,Y3=Ae.FUNC_WITH_X_TO_Y_ARGUMENTS,Ho=Ae.ONE_OF_MUST,_x=Ae.ONE_OF_CAN,Q3=Ae.OR;sl||(sl={});var xi,Dx={},J3=((Da={})[Cr.get]={validators:[(0,Ae.FUNC_WITH_X_AND_MORE_ARGUMENTS)(2)]},Da[Cr.settings]={validators:[Yp]},Da[Cr.devSettings]={validators:[Yp]},Da),Qp=function(e){return e.reloadIndex="reloadIndex",e}(Qp||{}),K3=((Wp={})[Qp.reloadIndex]={validators:[Xp]},Wp),Ma=function(e){return e.items="items",e.bof="bof",e.increase="increase",e}(Ma||{}),ej=((Ca={})[Ma.items]={validators:[Ea],mandatory:!0},Ca[Ma.bof]={validators:[jn],defaultValue:!1},Ca[Ma.increase]={validators:[jn],defaultValue:!1},Ca),Ta=function(e){return e.items="items",e.eof="eof",e.decrease="decrease",e}(Ta||{}),tj=((Ia={})[Ta.items]={validators:[Ea],mandatory:!0},Ia[Ta.eof]={validators:[jn],defaultValue:!1},Ia[Ta.decrease]={validators:[jn],defaultValue:!1},Ia),Ii=function(e){return e.predicate="predicate",e.indexes="indexes",e.increase="increase",e}(Ii||{}),nj=((xa={})[Ii.predicate]={validators:[zo(1),Ho([Ii.indexes])]},xa[Ii.indexes]={validators:[Ea,Ho([Ii.predicate])]},xa[Ii.increase]={validators:[jn],defaultValue:!1},xa),Uo=function(e){return e.backwardOnly="backwardOnly",e.forwardOnly="forwardOnly",e}(Uo||{}),rj=((il={})[Uo.backwardOnly]={validators:[jn,_x([Uo.forwardOnly])],defaultValue:!1},il[Uo.forwardOnly]={validators:[jn,_x([Uo.backwardOnly])],defaultValue:!1},il),Ye=function(e){return e.items="items",e.before="before",e.after="after",e.beforeIndex="beforeIndex",e.afterIndex="afterIndex",e.decrease="decrease",e}(Ye||{}),ij=((Xr={})[Ye.items]={validators:[Ea],mandatory:!0},Xr[Ye.before]={validators:[zo(1),Ho([Ye.after,Ye.beforeIndex,Ye.afterIndex])]},Xr[Ye.after]={validators:[zo(1),Ho([Ye.before,Ye.beforeIndex,Ye.afterIndex])]},Xr[Ye.beforeIndex]={validators:[Xp,Ho([Ye.before,Ye.after,Ye.afterIndex])]},Xr[Ye.afterIndex]={validators:[Xp,Ho([Ye.before,Ye.after,Ye.beforeIndex])]},Xr[Ye.decrease]={validators:[jn],defaultValue:!1},Xr),al=function(e){return e.items="items",e.predicate="predicate",e.fixRight="fixRight",e}(al||{}),oj=((Sa={})[Ye.items]={validators:[Ea],mandatory:!0},Sa[al.predicate]={validators:[zo(1)],mandatory:!0},Sa[al.fixRight]={validators:[jn],defaultValue:!1},Sa),cl=function(e){return e.predicate="predicate",e.fixRight="fixRight",e}(cl||{}),sj=((ol={})[cl.predicate]={validators:[zo(1)],mandatory:!0},ol[cl.fixRight]={validators:[jn],defaultValue:!1},ol),Yr=function(e){return e.scrollPosition="scrollPosition",e.minIndex="minIndex",e.maxIndex="maxIndex",e.updater="updater",e.scrollToItem="scrollToItem",e.scrollToItemOpt="scrollToItemOpt",e}(Yr||{}),aj=((Zr={})[Yr.scrollPosition]={validators:[Zp]},Zr[Yr.minIndex]={validators:[Zp]},Zr[Yr.maxIndex]={validators:[Zp]},Zr[Yr.updater]={validators:[Y3(1,2)]},Zr[Yr.scrollToItem]={validators:[zo(1)]},Zr[Yr.scrollToItemOpt]={validators:[Q3([jn,Yp])]},Zr),cj=((Ut={})[A.reset]=Cr,Ut[A.reload]=Qp,Ut[A.prepend]=Ma,Ut[A.append]=Ta,Ut[A.check]=sl,Ut[A.remove]=Ii,Ut[A.clip]=Uo,Ut[A.insert]=Ye,Ut[A.replace]=al,Ut[A.update]=cl,Ut[A.pause]=sl,Ut[A.fix]=Yr,Ut),uj=((Gt={})[A.reset]=J3,Gt[A.reload]=K3,Gt[A.prepend]=ej,Gt[A.append]=tj,Gt[A.check]=Dx,Gt[A.remove]=nj,Gt[A.clip]=rj,Gt[A.insert]=ij,Gt[A.replace]=oj,Gt[A.update]=sj,Gt[A.pause]=Dx,Gt[A.fix]=aj,Gt),lj=Ae.ELEMENT,Cx=Ae.OBJECT,dj=Ae.FUNC,fj=Ae.FUNC_WITH_X_ARGUMENTS,Go=function(e){return e.consumer="consumer",e.element="element",e.datasource="datasource",e.run="run",e.Routines="Routines",e}(Go||{}),hj=((xi={})[Go.consumer]={validators:[Cx]},xi[Go.element]={validators:[lj],mandatory:!0},xi[Go.datasource]={validators:[Cx],mandatory:!0},xi[Go.run]={validators:[fj(1)],mandatory:!0},xi[Go.Routines]={validators:[dj]},xi),pj=function(){function e(n,t,r){this.parseInput(n,W3),this.parseInput(t,X3),this.instanceIndex=r,this.initializeDelay=this.getInitializeDelay(),this.viewport=this.getViewport()}return e.prototype.parseInput=function(n,t){var r=this,i=rl(n,t);if(!i.isValid)throw new Error("Invalid settings");Object.entries(i.params).forEach(function(o){var s,a=se(o,2);return Object.assign(r,((s={})[a[0]]=a[1].value,s))})},e.prototype.getInitializeDelay=function(){var n=0;return this.windowViewport&&this.initWindowDelay&&!("scrollRestoration"in history)&&(n=this.initWindowDelay),this.initDelay>0&&(n=Math.max(n,this.initDelay)),n},e.prototype.getViewport=function(){if("function"!=typeof this.viewportElement)return this.viewportElement;var n=this.viewportElement(),t=gx({value:n},"value",{validators:[Ae.ELEMENT]});return t.isValid?t.value:null},e}(),xn=function(e){var n;return(n=function t(){}).process=e,n},$n=function(e){var n;return n=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return Fe(r,t),r.parseInput=function(i,o,s,a){void 0===s&&(s=!1);var u={data:rl(o,uj[a||e])};return u.data.isValid?u.params=Object.entries(u.data.params).reduce(function(l,h){var p,m=se(h,2),g=m[0],v=m[1].value;return it(it({},l),((p={})[g]=v,p))},{}):(i.logger.log(function(){return u.data.showErrors()}),s||i.workflow.call({process:e,status:T.error,payload:{error:'Wrong argument of the "'.concat(e,'" method call')}})),u},r}(xn(e)),n.process=e,n},mj=[Ie.init,A.reset,A.reload],dn=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){var i=t.state,o=t.workflow,s=mj.includes(r);t.logger.logCycle(!0),i.startWorkflowCycle(s,r),o.call({process:n.process,status:T.next})},n}(xn(Ie.init)),gj=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){var i=t.workflow,s=t.viewport.scrollPosition;n.onSynthetic(t,s)||n.onThrottle(t,s,function(){return n.onScroll(t,i)})},n.onSynthetic=function(t,r){var i=t.state.scroll,o=i.syntheticPosition;if(null!==o){if(i.syntheticFulfill&&(i.syntheticPosition=null),!i.syntheticFulfill||o===r)return t.logger.log(function(){return["skipping scroll",r,"[".concat(i.syntheticFulfill?"":"pre-","synthetic]")]}),!0;t.logger.log(function(){return["synthetic scroll has been fulfilled:",r,r<o?"<":">",o]})}return!1},n.onThrottle=function(t,r,i){var o=t.state.scroll,s=t.settings.throttle,a=t.logger;o.current=n.getScrollEvent(r,o.previous);var u=o.current,l=u.direction,h=u.time,p=o.previous?h-o.previous.time:1/0,m=s-p,g=isFinite(m)&&m>0,v=!!o.scrollTimer;if(a.log(function(){return[l===Z.backward?"\u2934":"\u2935",r,g?p+"ms":"0ms",g?v?"delayed":"/ ".concat(m,"ms delay"):""]}),!g)return o.scrollTimer&&(clearTimeout(o.scrollTimer),o.scrollTimer=null),void i();v||(o.scrollTimer=setTimeout(function(){a.log(function(){var w=n.getScrollEvent(t.viewport.scrollPosition,o.current);return[w.direction===Z.backward?"\u2934":"\u2935",w.position,w.time-h+"ms","triggered by timer set on",r]}),o.scrollTimer=null,i()},m))},n.getScrollEvent=function(t,r){var i=Number(new Date),o=Z.forward;return r&&(t===r.position?o=r.direction:t<r.position&&(o=Z.backward)),{position:t,direction:o,time:i}},n.onScroll=function(t,r){var i=t.state,o=i.scroll,s=i.cycle;o.previous=it({},o.current),o.current=null,s.busy.get()?t.logger.log(function(){return["skipping scroll",o.previous.position,"[pending]"]}):r.call({process:n.process,status:T.next})},n}(xn(Ie.scroll)),vj=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){var i=t.datasource,o=t.buffer,s=t.viewport.paddings,a=t.state.cycle;if(r){var u=n.parseInput(t,r).data;if(!u.isValid)return;var l=r instanceof M3;Object.keys(Cr).forEach(function(p){var m=u.params[p];(m.isSet||l&&i[p])&&(i[p]=m.value)})}o.reset(!0),s.backward.reset(),s.forward.reset();var h={datasource:i};a.busy.get()&&(h.finalize=!0,a.interrupter=n.process),t.workflow.call({process:n.process,status:T.next,payload:h})},n}($n(A.reset)),yj=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){var i=t.viewport,o=t.state,s=t.buffer,a=n.parseInput(t,{reloadIndex:r},!0).params;s.reset(!1,a?a.reloadIndex:void 0),i.reset(s.startIndex);var u={};o.cycle.busy.get()&&(u.finalize=!0,o.cycle.interrupter=n.process),t.workflow.call({process:n.process,status:T.next,payload:u})},n}($n(A.reload)),Jp=function(){function e(n,t,r){this.container={$index:n,data:t},this.nodeId=String(n),this.routines=r,this.invisible=!0,this.toRemove=!1,this.toInsert=!1}return Object.defineProperty(e.prototype,"$index",{get:function(){return this.container.$index},set:function(n){this.container.$index=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.container.data},set:function(n){this.container.data=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.container.element},set:function(n){this.container.element=n},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){delete this.container.element},e.prototype.setSize=function(n){void 0===n&&(n=0),this.preSize=n,this.element&&(this.size=this.routines.getSize(this.element))},e.prototype.makeVisible=function(){this.routines.makeElementVisible(this.element),this.invisible=!1},e.prototype.hide=function(){this.element&&this.routines.hideElement(this.element)},e.prototype.scrollTo=function(n){this.element&&this.routines.scrollTo(this.element,n)},e.prototype.updateIndex=function(n){this.$index=n,this.nodeId=String(n)},e.prototype.get=function(){return this.container},e}(),ul=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){var i=n.parseInput(t,r).params;if(i){var o=n.doUpdate(t,i);t.workflow.call({process:n.process,status:o?T.next:T.done})}},n.doUpdate=function(t,r){var i=t.buffer,o=t.viewport,s=t.state.fetch,a=t.routines,u=t.logger;if(!i.items)return u.log(function(){return"no items in Buffer"}),!1;var l=o.getEdgeVisibleItem(i.items,Z.backward),h=l.item,m=l.diff,g=i.updateItems(r.predicate,function(E,L){return new Jp(E,L,a)},l.index,!!r.fixRight),v=g.trackedIndex,w=g.toRemove,b=0,C=i.get(v);h&&h===C&&(b=-i.getSizeByIndex(v)+m),w.forEach(function(E){return E.hide()}),u.log(function(){return w.length?"items to remove: ["+w.map(function(E){return E.$index}).join(",")+"]":"no items to remove"}),w.length&&i.checkDefaultSize();var _=i.items.filter(function(E){return E.toInsert});return u.log(function(){return _.length?"items to render: ["+_.map(function(E){return E.$index}).join(",")+"]":"no items to render"}),s.update(v,b,_,w),!!w.length||!!_.length},n}($n(A.update)),Ix=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){var i=n.parseInput(t,r).params;if(i){var o=n.doInsert(t,i);t.workflow.call({process:n.process,status:o?T.next:T.done})}},n.doInsert=function(t,r){return!(!n.insertEmpty(t,r)&&!n.insertInBuffer(t,r)&&!n.insertVirtually(t,r))},n.insertEmpty=function(t,r){var i=t.buffer,o=t.routines,s=t.state.fetch;return!i.size&&!!i.fillEmpty(r.items,r.beforeIndex,r.afterIndex,!!r.decrease,function(p,m){return new Jp(p,m,o)})&&(s.fill(i.items,i.startIndex),!0)},n.insertInBuffer=function(t,r){var i=r.before,s=r.beforeIndex,u=r.items,l=r.decrease,h=t.buffer.getIndexToInsert(i||r.after,s,r.afterIndex);if(isNaN(h))return!1;var p=Number.isInteger(s)||i;return ul.doUpdate(t,{predicate:function(g){var w=g.data;return h!==g.$index||(p?ae(ae([],se(u),!1),[w],!1):ae([w],se(u),!1))},fixRight:l})},n.insertVirtually=function(t,r){var i=r.beforeIndex,o=r.afterIndex,s=r.items,a=r.decrease,u=t.buffer,l=t.state.fetch,h=t.viewport,p=Number.isInteger(i)?Z.backward:Z.forward;if(!u.insertVirtually(s,p===Z.backward?i:o,p,!!a))return!1;var g=h.getEdgeVisibleItem(u.items,Z.backward),v=g.index,w=g.diff;return l.firstVisible.index=v,isNaN(v)||(l.simulate=!0,l.firstVisible.delta=-u.getSizeByIndex(v)+w),!0},n}($n(A.insert)),wj=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){var i=r.process,s=n.parseInput(t,r.options,!1,i).params;if(s){var a=n.doAppend(t,i,s);t.workflow.call({process:n.process,status:a?T.next:T.done})}},n.doAppend=function(t,r,i){var m,g,s=i.eof,l=t.buffer,h=r===A.prepend,p=h?!i.increase:i.decrease,v=i.items;return h?(m=(i.bof?l.absMinIndex:l.minIndex)+(l.size?0:1),v=ae([],se(v),!1).reverse()):g=(s?l.absMaxIndex:l.maxIndex)-(l.size||p?0:1),Ix.doInsert(t,{items:v,beforeIndex:m,afterIndex:g,decrease:p})},n}($n(A.append)),bj=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t){var r=t.workflow,i=t.buffer,o=t.state.fetch,s=t.viewport,a=1/0,u=-1/0;if(i.items.forEach(function(m){var g=m.size;m.setSize(),m.size!==g&&(i.cacheItem(m),a=Math.min(a,m.$index),u=Math.max(u,m.$index))}),Number.isFinite(a)){o.first.indexBuffer=i.firstIndex,o.last.indexBuffer=i.lastIndex;var l=s.getEdgeVisibleItem(i.items,Z.backward),h=l.index,p=l.diff;o.firstVisible.index=h,isNaN(h)||(o.firstVisible.delta=-i.getSizeByIndex(h)+p),o.check(i.items.filter(function(m){return m.$index>=a&&m.$index<=u}))}t.logger.stat("check"),r.call({process:n.process,status:Number.isFinite(a)?T.next:T.done})},n}($n(A.check)),_j=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){var i=n.parseInput(t,r).params;if(i){var o=n.doRemove(t,i);t.workflow.call({process:n.process,status:o?T.next:T.done})}},n.doRemove=function(t,r){t.state.fetch.firstVisible.index=NaN;var o=n.removeBufferedItems(t,r),s=o.length>0;if(s&&(r.indexes&&r.indexes.length&&(r.indexes=r.indexes.filter(function(h){return!o.includes(h)})),r.indexes&&r.indexes.length)){var a=(r.increase?1:0)*o.length,u=(r.increase?0:-1)*o.length;r.indexes=r.indexes.map(function(h){return h+(h<o[0]?a:u)})}var l=n.removeVirtualItems(t,r);return!(!s&&!l||(t.logger.stat("after remove"),0))},n.removeBufferedItems=function(t,r){var i=r.predicate,o=r.indexes,s=r.increase;if(!i&&!o)return[];var a=function(h){return i&&i(h)||!!o&&o.includes(h.$index)},u=t.buffer.items.reduce(function(h,p){return a(p)?ae(ae([],se(h),!1),[p.$index],!1):h},[]);return ul.doUpdate(t,{predicate:function(h){return!a(h)},fixRight:s}),u},n.removeVirtualItems=function(t,r){var i=r.indexes,o=r.increase;if(!i||!i.length)return!1;for(var s=t.buffer,a=t.viewport,u=t.state.fetch,l=s.finiteAbsMinIndex,h=s.firstIndex,p=s.finiteAbsMaxIndex,m=s.lastIndex,g=[],v=0,w=i.length;v<w;v++)if((b=i[v])>=l&&!isNaN(h)&&b<h)g.push(b);else{if(!(b<=p&&!isNaN(m)&&b>m))continue;g.push(b)}if(!g.length)return!1;if(isNaN(u.firstVisible.index)){var b,C=a.getEdgeVisibleItem(s.items,Z.backward),_=C.diff;u.firstVisible.index=b=C.index,isNaN(b)||(u.firstVisible.delta=-s.getSizeByIndex(b)+_)}return t.logger.log(function(){return"going to remove ".concat(g.length," item(s) virtually")}),s.removeVirtually(g,!!o),s.checkDefaultSize(),n.shiftFirstVisibleIndex(t,g,!!o),!0},n.shiftFirstVisibleIndex=function(t,r,i){var o=t.state.fetch.firstVisible;if(!isNaN(o.index)){var s=r.reduce(function(a,u){return a+(i&&u>o.index||!i&&u<o.index?1:0)},0);o.index=o.index+(i?s:-s)}},n}($n(A.remove)),Dj=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){var i=n.parseInput(t,r).params;t.state.clip.forceForward=!(i&&i.backwardOnly),t.state.clip.forceBackward=!(i&&i.forwardOnly),t.workflow.call({process:n.process,status:T.next})},n}($n(A.clip)),Cj=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){var i=n.parseInput(t,r).params;if(i){var o=n.doReplace(t,i);t.workflow.call({process:n.process,status:o?T.next:T.done})}},n.doReplace=function(t,r){var i=t.buffer.items.filter(function(a){return r.predicate(a)}).map(function(a){return a.$index});if(!i.length)return t.logger.log("no items to be replaced"),!1;var o=!1;return ul.doUpdate(t,{predicate:function(a){return!i.includes(a.$index)||!o&&(o=!0,r.items)},fixRight:r.fixRight})},n}($n(A.replace)),Ij=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){r?.resume?t.state.paused.get()?(t.state.paused.set(!1),t.logger.log("resume scroller"),t.workflow.call({process:A.pause,status:T.done})):t.logger.log("resume scroller (cancelled)"):t.state.paused.get()?t.logger.log("pause scroller (cancelled)"):(t.state.paused.set(!0),t.logger.log("pause scroller"))},n}($n(A.pause)),Si=cj[A.fix],Ej=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){var i=t.workflow,o=n.parseInput(t,r),s=o.data;o.params&&(Object.entries(s.params).forEach(function(u){var l=se(u,2),p=l[1];p.isSet&&p.isValid&&n.runByType(t,l[0],p.value,s)}),i.call({process:n.process,status:T.done}))},n.runByType=function(t,r,i,o){switch(r){case Si.scrollPosition:return n.setScrollPosition(t,i);case Si.minIndex:return n.setMinIndex(t,i);case Si.maxIndex:return n.setMaxIndex(t,i);case Si.updater:return n.updateItems(t,i);case Si.scrollToItem:if(o.params){var s=o.params[Si.scrollToItemOpt];return n.scrollToItem(t,i,s?s.value:void 0)}return;case Si.scrollToItemOpt:return}},n.setScrollPosition=function(t,r){var i=t.viewport,o=r;r===-1/0?o=0:r===1/0&&(o=i.getScrollableSize()),i.setPosition(o)},n.setMinIndex=function(t,r){var i=t.buffer;t.settings.minIndex=r,i.absMinIndex=r},n.setMaxIndex=function(t,r){var i=t.buffer;t.settings.maxIndex=r,i.absMaxIndex=r},n.updateItems=function(t,r){var i=t.buffer,o=t.logger,s=!1,a=function(){return s=!0};i.items.forEach(function(u){return r(u.get(),a)}),s&&(o.log(function(){return"update Buffer.items reference"}),i.items=ae([],se(i.items),!1))},n.scrollToItem=function(t,r,i){var o=t.buffer.items.find(function(s){return r(s.get())});o?o.scrollTo(i):t.logger.log(function(){return"scrollToItem cancelled, item not found"})},n}($n(A.fix)),xx=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t){var r=t.state.startInnerLoop();t.workflow.call({process:n.process,status:T.next,payload:r})},n}(xn(Ie.start)),Mj=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t){var r=t.workflow,o=t.state,a=o.cycle;o.fetch.minIndex=t.buffer.minIndex,n.setPositionsAndIndexes(t),n.skipBufferedItems(t),t.settings.infinite&&n.checkBufferGaps(t),n.checkFetchPackSize(t),n.setFetchDirection(t),r.call({process:n.process,status:n.getStatus(t),payload:{process:a.initiator}})},n.setPositionsAndIndexes=function(t){n.setPositions(t),n.setFirstIndex(t),n.setLastIndex(t),t.logger.fetch()},n.setPositions=function(t){var r=t.state.fetch.positions,i=t.viewport,o=i.getBufferPadding();r.before=i.scrollPosition,r.startDelta=n.getStartDelta(t),r.relative=r.before-r.startDelta,r.start=r.relative-o,r.end=r.relative+i.getSize()+o},n.getStartDelta=function(t){var r=t.buffer,i=t.viewport.offset,o=0;if(i&&(o+=i),!r.defaultSize)return o;for(var s=r.finiteAbsMinIndex;s<r.startIndex;s++)o+=r.getSizeByIndex(s);return t.logger.log(function(){return ae(["start delta is ".concat(o)],se(i?[" (+".concat(i," offset)")]:[]),!1)}),o},n.setFirstIndex=function(t){var r=t.state,i=t.buffer,o=r.fetch,s=o.positions.start,a=o.first,u=i.startIndex,l=0;if(r.cycle.innerLoop.isInitial)t.logger.log("skipping fetch backward direction [initial loop]");else if(i.defaultSize)for(var h=l,p=u;;){if(s>=0){var m=i.getSizeByIndex(p);if(h+m-s>0){u=p,l=h;break}if(h+=m,++p<i.absMinIndex)break}if(s<0){if(--p<i.absMinIndex)break;if(u=p,l=h-=i.getSizeByIndex(p),h-s<=0)break}}else t.logger.log("skipping fetch backward direction [no item size]");a.index=a.indexBuffer=Math.max(u,i.absMinIndex),a.position=l},n.setLastIndex=function(t){var v,r=t.state,i=r.fetch,o=r.cycle,s=t.buffer,a=t.settings,u=i.firstVisible,l=i.positions,h=l.relative,p=l.end,m=i.first,g=i.last;if(s.defaultSize){var w=m.indexBuffer,b=m.position;for(v=w;;){v=w;var C=s.getSizeByIndex(w);if(b+=C,isNaN(u.index)&&b>h&&(u.index=w,o.innerLoop.isInitial||(u.delta=b-C-h)),b>=p||w++>s.absMaxIndex)break}}else v=s.startIndex+a.bufferSize-1,t.logger.log("forcing fetch forward direction [no item size]");g.index=g.indexBuffer=Math.min(v,s.absMaxIndex)},n.skipBufferedItems=function(t){var r=t.buffer;if(r.size){for(var i=t.state.fetch,o=i.first.index,s=i.last.index,a=[[]],u=0,l=o;l<=s;l++)r.get(l)?a[u].length&&(a[++u]=[]):a[u].push(l);var h=a[0];a[0].length&&a[1]&&a[1].length&&(i.hasAnotherPack=!0,a[1].length>=a[0].length&&(h=a[1])),i.first.index=Math.max(h[0],r.absMinIndex),i.last.index=Math.min(h[h.length-1],r.absMaxIndex),(i.first.index!==o||i.last.index!==s)&&t.logger.fetch("after Buffer flushing")}},n.checkBufferGaps=function(t){var r=t.buffer,i=t.state.fetch;if(r.size){var o=i.first.index,s=r.lastIndex;o>s&&(i.first.index=i.first.indexBuffer=s+1);var a=r.firstIndex,u=i.last.index;u<a&&(i.last.index=i.last.indexBuffer=a-1),(i.first.index!==o||i.last.index!==u)&&t.logger.fetch("after Buffer filling (no clip case)")}},n.checkFetchPackSize=function(t){var r=t.buffer,i=t.state.fetch;if(i.shouldFetch){var o=i.first.index,s=i.last.index,a=t.settings.bufferSize-(s-o+1);if(!(a<=0)){if(!r.size||s>r.items[0].$index){var u=Math.min(s+a,r.absMaxIndex);u>s&&(i.last.index=i.last.indexBuffer=u)}else{var l=Math.max(o-a,r.absMinIndex);l<o&&(i.first.index=i.first.indexBuffer=l)}(i.first.index!==o||i.last.index!==s)&&(t.logger.fetch("after bufferSize adjustment"),n.skipBufferedItems(t))}}},n.setFetchDirection=function(t){var r=t.buffer,i=t.state.fetch;if(i.last.index){var o=Z.forward;r.size&&(o=i.last.index<r.items[0].$index?Z.backward:Z.forward),i.direction=o,t.logger.log(function(){return'fetch direction is "'.concat(o,'"')})}},n.getStatus=function(t){var r=t.state,o=r.fetch;return r.cycle.initiator===A.clip?(t.logger.log(function(){return'going to skip fetch due to "'.concat(A.clip,'" process')}),T.next):o.shouldFetch?(t.logger.log(function(){return"going to fetch ".concat(o.count," items started from index ").concat(o.index)}),T.next):T.done},n}(xn(Ie.preFetch)),Tj=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t){var r=t.workflow,i={success:function(s){t.logger.log(function(){return"resolved ".concat(s.length," items ")+"(index = ".concat(t.state.fetch.index,", count = ").concat(t.state.fetch.count,")")}),t.state.fetch.newItemsData=s,r.call({process:n.process,status:T.next})},fail:function(s){return r.call({process:n.process,status:T.error,payload:{error:s}})}},o=n.get(t);n.complete(t,i,o)},n.complete=function(t,r,i){if(Object.prototype.hasOwnProperty.call(i,"data")){var s=i.data;i.isError?r.fail(i.error):r.success(s||[])}else{var l=t.state,h=l.scroll,p=l.fetch;null===h.positionBeforeAsync&&(h.positionBeforeAsync=t.viewport.scrollPosition),p.cancel=function(){r.success=function(){return null},r.fail=function(){return null}},i.then(function(g){return r.success(g)},function(g){return r.fail(g)})}},n.get=function(t){var a,u,l,h,i=t.state.fetch,p=function(w){l?l(w):a=w||null},m=function(w){h?h(w):u=w||null},g=(0,t.datasource.get)(i.index,i.count,p,m);if(g&&"object"==typeof g&&null!==g){if("function"==typeof g.then)return g;if("function"==typeof g.subscribe){var v=void 0;v=g.subscribe(p,m,function(){v&&"object"==typeof v&&"function"==typeof v.unsubscribe&&v.unsubscribe()})}}return a||u?{data:u?null:a||[],error:u,isError:!!u}:new Promise(function(w,b){l=w,h=b})},n}(xn(Ie.fetch)),Aj=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t){var r=t.workflow;n.setItems(t)?(n.setBufferLimits(t),r.call({process:n.process,status:t.state.fetch.hasNewItems?T.next:T.done})):r.call({process:n.process,status:T.error,payload:{error:"Can't set buffer items"}})},n.setBufferLimits=function(t){var r=t.buffer,i=t.state,o=i.fetch,s=i.cycle.innerLoop,a=o.items,u=o.first.index,l=o.last.index;if(a.length){var h=a.length-1;u<a[0].$index&&(r.absMinIndex=a[0].$index),l>a[h].$index&&(r.absMaxIndex=a[h].$index)}else(l<r.minIndex||s.isInitial)&&(r.absMinIndex=r.minIndex),(u>r.maxIndex||s.isInitial)&&(r.absMaxIndex=r.maxIndex)},n.setItems=function(t){var r=t.buffer,i=t.state,o=i.fetch,a=o.newItemsData;if(!a||!a.length)return!0;var u=o.index;return a.length<o.count&&(i.cycle.innerLoop.isInitial?u=r.startIndex:o.first.index<r.minIndex&&(u=r.firstIndex-a.length)),o.items=a.map(function(l,h){return new Jp(u+h,l,t.routines)}),r.setItems(o.items)},n}(xn(Ie.postFetch)),Kp=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t){var r=t.workflow,i=t.state,o=i.cycle,s=i.render,a=i.scroll,u=i.fetch,l=t.viewport,h=t.routines;t.logger.stat("before new items render"),null===a.positionBeforeAsync&&(a.positionBeforeAsync=l.scrollPosition),s.cancel=h.render(function(){s.cancel=null,n.doRender(t)?r.call({process:n.process,status:s.noSize?T.done:T.next,payload:{process:o.initiator}}):r.call({process:n.process,status:T.error,payload:{error:"Can't associate item with element"}})},{items:u.items.map(function(p){return p.get()})})},n.doRender=function(t){var r=t.state,i=r.fetch,o=r.render,s=t.viewport,a=t.buffer,u=t.logger;return o.positionBefore=s.scrollPosition,!(!i.isCheck&&(o.sizeBefore=s.getScrollableSize(),!i.items.every(function(l){return n.processElement(t,l)}))||(a.checkDefaultSize(),o.sizeAfter=s.getScrollableSize(),u.stat("after new items render"),u.log(function(){return o.noSize?"viewport size has not been changed":void 0}),0))},n.processElement=function(t,r){var o=t.buffer,s=t.viewport.findItemElementById(r.nodeId);return!!s&&(r.element=s,r.makeVisible(),r.setSize(o.getSizeByIndex(r.$index)),o.cacheItem(r),!0)},n}(xn(Ie.render)),Ei=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t,r){var o=(void 0===r?{}:r).error,s=t.workflow,a=t.state.cycle.interrupter;if(!o&&!a&&n.calculateParams(t),function(e){return!!e.call.interrupted}(s))s.call({process:n.process,status:T.done});else{var u=n.shouldContinueRun(t,o);t.state.endInnerLoop(),s.call({process:n.process,status:u?T.next:T.done,payload:it({},a?{process:a}:{})})}},n.calculateParams=function(t){var r=t.adapter,i=t.workflow;r.setFirstOrLastVisible({first:!0,workflow:i}),r.setFirstOrLastVisible({last:!0,workflow:i})},n.shouldContinueRun=function(t,r){var i=t.state,s=i.fetch,a=i.render;return!!i.cycle.interrupter||!r&&!!(s.simulate&&s.isCheck&&!a.noSize||s.simulate&&s.doRemove||!s.simulate&&(s.hasNewItems&&!a.noSize||s.hasAnotherPack))},n}(xn(Ie.end)),Aa=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t){var r=t.workflow,i=t.viewport,o=t.state.scroll;o.positionBeforeAdjust=i.scrollPosition,n.setPaddings(t),o.positionAfterAdjust=i.scrollPosition;var s=n.calculatePosition(t);n.setAdditionalForwardPadding(t,s),n.setPosition(t,s,function(){return r.call({process:n.process,status:T.done})})},n.setPaddings=function(t){var l,h,r=t.viewport,i=t.buffer,o=t.settings.inverse,s=t.state.fetch,a=i.getFirstVisibleItem(),u=i.getLastVisibleItem();a&&u?(l=a.$index,h=u.$index):h=(l=isNaN(s.firstVisible.index)?i.startIndex:s.firstVisible.index)-1;var v,p=r.paddings,m=p.forward,g=p.backward,w=0,b=0;for(v=i.finiteAbsMinIndex;v<l;v++)w+=i.getSizeByIndex(v);for(v=h+1;v<=i.finiteAbsMaxIndex;v++)b+=i.getSizeByIndex(v);var _=w+(r.getScrollableSize()-m.size-g.size)+b,E=r.getSize()-_;E>0&&(o?w+=E:b+=E,t.logger.log(function(){return o?"backward":"forward"+" padding will be increased by ".concat(E," to fill the viewport")})),g.size=w,m.size=b,t.logger.stat("after paddings adjustments")},n.calculatePosition=function(t){var r=t.viewport,i=t.buffer,o=t.state,s=o.fetch,a=o.render,u=o.scroll,l=r.paddings.backward.size;if(!isNaN(s.firstVisible.index)&&!isNaN(i.firstIndex)){t.logger.log("first index = ".concat(s.firstVisible.index,", delta = ").concat(s.firstVisible.delta));var h=s.shouldCheckPreSizeExpectation(i.lastIndex);i.items.forEach(function(m){m.$index<s.firstVisible.index?l+=m.size:(m.$index===s.firstVisible.index&&s.firstVisible.delta&&(l-=s.firstVisible.delta),h&&m.preSize&&s.items.includes(m)&&(l+=m.size-m.preSize))})}if(null!==u.positionBeforeAsync){var p=a.positionBefore-u.positionBeforeAsync;0!==p&&(t.logger.log("shift position due to fetch-render difference (".concat(p,")")),l+=p)}return r.offset>0&&(l||s.positions.before)&&(l+=r.offset),Math.round(l)},n.setAdditionalForwardPadding=function(t,r){var i=t.viewport,o=t.buffer;if(t.state.cycle.isInitial&&Ei.shouldContinueRun(t,null)){var a=r-i.getMaxScrollPosition();if(!(a<=0)){var u=o.getLastVisibleItem();if(u){for(var l=0,h=u.$index+1;l<=a&&h<=o.absMaxIndex;)l+=o.getSizeByIndex(h++);var p=Math.min(l,a);p&&(i.paddings.forward.size+=p,t.logger.log("increase fwd padding due to lack of items (".concat(a," -> ").concat(p,")")))}}}},n.setPosition=function(t,r,i){var o=t.state.scroll,s=t.viewport,a=t.routines;if(!o.hasPositionChanged(r))return i();o.syntheticPosition=r,o.syntheticFulfill=!1,o.cancelAnimation=a.animate(function(){o.cancelAnimation=null;var u=o.positionAfterAdjust-s.scrollPosition,l="";u>0&&(o.syntheticPosition=r-=u,l=" (-".concat(u,")")),o.syntheticFulfill=!0,s.scrollPosition=r,t.logger.stat("after scroll adjustment"+l),i()})},n}(xn(Ie.adjust)),Sx=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t){n.prepareClip(t),t.workflow.call({process:n.process,status:T.next,payload:{doClip:t.state.clip.doClip}})},n.prepareClip=function(t){var r=t.state,i=r.fetch,o=r.clip;if(!n.shouldNotClip(t)){var s=i.first.indexBuffer,a=i.last.indexBuffer;t.logger.log(function(){return"looking for ".concat(i.direction?"anti-"+i.direction+" ":"","items ")+"that are out of [".concat(s,"..").concat(a,"] range")}),n.isBackward(t,s)&&n.prepareClipByDirection(t,Z.backward,s),n.isForward(t,a)&&n.prepareClipByDirection(t,Z.forward,a),o.doClip||t.logger.log("skipping clip [no items to clip]")}},n.shouldNotClip=function(t){var i=t.buffer,o=t.state;return t.settings.infinite&&!o.clip.force?(t.logger.log("skipping clip [infinite mode]"),!0):i.size?!!o.cycle.isInitial&&(t.logger.log("skipping clip [initial cycle]"),!0):(t.logger.log("skipping clip [empty buffer]"),!0)},n.isBackward=function(t,r){var o=t.state,s=o.clip;return s.force?s.forceBackward:o.fetch.direction!==Z.backward&&r-1>=t.buffer.absMinIndex},n.isForward=function(t,r){var o=t.state,s=o.clip;return s.force?s.forceForward:o.fetch.direction!==Z.forward&&r+1<=t.buffer.absMaxIndex},n.prepareClipByDirection=function(t,r,i){var o=r===Z.forward;t.buffer.items.forEach(function(s){(!o&&s.$index<i||o&&s.$index>i)&&(s.toRemove=!0,s.removeDirection=r,t.state.clip.doClip=!0)})},n}(xn(Ie.preClip)),Rj=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Fe(n,e),n.run=function(t){var r=t.workflow;n.doClip(t),r.call({process:n.process,status:T.next})},n.doClip=function(t){var r,i=t.buffer,o=t.viewport.paddings,s=t.state.clip,a=t.logger,u=((r={})[Z.backward]=0,r[Z.forward]=0,r);a.stat("before clip (".concat(++s.callCount,")"));var l=i.items.filter(function(h){return!!h.toRemove&&(h.hide(),u[h.removeDirection]+=h.size,!0)});l.length&&(u[Z.backward]&&(o.byDirection(Z.backward).size+=u[Z.backward]),u[Z.forward]&&(o.byDirection(Z.forward).size+=u[Z.forward]),t.settings.onBeforeClip&&t.settings.onBeforeClip(l.map(function(h){return h.get()}))),i.clip(),a.log(function(){var h=l.map(function(p){return p.$index});return h.length?["clipped ".concat(h.length," item(s) from Buffer")+(u.backward?", +".concat(u.backward," fwd px"):"")+(u.forward?", +".concat(u.forward," bwd px"):"")+", range: [".concat(h[0],"..").concat(h[h.length-1],"]")]:"clipped 0 items from Buffer"}),a.stat("after clip")},n}(xn(Ie.clip)),Oj=function(){function e(n,t,r){var i=this;this.logs=[],this.logAdapterMethod=function(s,a,u){if(i.debug){var l=(void 0===a?[]:Array.isArray(a)?a:[a]).map(function(h){return"function"==typeof h?"func":"object"==typeof h&&h?Array.isArray(h)?"[of ".concat(h.length,"]"):"{ "+Object.keys(h).join(", ")+" }":h}).join(", ");i.log("adapter: ".concat(s,"(").concat(l||"",")").concat(u||""))}};var o=n.settings;this.debug=o.debug,this.immediateLog=o.immediateLog,this.logTime=o.logTime,this.getTime=function(){return n.state&&" // time: ".concat(n.state.time)},this.getStat=function(){var s=n.buffer,a=n.viewport,u=s.getFirstVisibleItem(),l=s.getLastVisibleItem();return"pos: "+a.scrollPosition+", size: "+a.getScrollableSize()+", bwd_p: "+a.paddings.backward.size+", fwd_p: "+a.paddings.forward.size+", default: "+(s.defaultSize||"no")+", items: "+s.getVisibleItemsCount()+", range: "+(u&&l?"[".concat(u.$index,"..").concat(l.$index,"]"):"no")},this.getFetchRange=function(){var s=n.state.fetch,a=s.first.index,u=s.last.index;return Number.isNaN(a)||Number.isNaN(u)?"no":"[".concat(a,"..").concat(u,"]")},this.getLoopId=function(){return n.state.cycle.loopId},this.getLoopIdNext=function(){return n.state.cycle.loopIdNext},this.getWorkflowCycleData=function(){return"".concat(o.instanceIndex,"-").concat(n.state.cycle.count)},this.getScrollPosition=function(){return n.routines.getScrollPosition()},this.log(function(){return"vscroll Workflow has been started, "+"core: ".concat(t.core.name," v").concat(t.core.version,", ")+"consumer: ".concat(t.consumer.name," v").concat(t.consumer.version,", ")+"scroller instance: ".concat(o.instanceIndex,", adapter ")+(r?"instance: ".concat(r.id):"is not instantiated")})}return e.prototype.object=function(n,t,r){this.log(function(){return[n,r?JSON.stringify(t,function(i,o){return Number.isNaN(o)?"NaN":o===1/0?"Infinity":o===-1/0?"-Infinity":o instanceof Element?"HTMLElement":o instanceof HTMLDocument?"HTMLDocument":"function"==typeof o?"Function":o}).replace(/"/g,"").replace(/(\{|:|,)/g,"$1 ").replace(/(\})/g," $1"):t]})},e.prototype.stat=function(n){var t=this;if(this.debug){var r=["color: #888; border: dashed #888 0; border-bottom-width: 0px","color: #000; border-width: 0"];this.log(function(){return ae(["%cstat"+(n?" ".concat(n):"")+",%c "+t.getStat()],se(r),!1)})}},e.prototype.fetch=function(n){var t=this;if(this.debug){var r="fetch interval"+(n?" ".concat(n):""),i=["color: #888","color: #000"];this.log(function(){return ae(["%c".concat(r,": %c").concat(t.getFetchRange())],se(i),!1)})}},e.prototype.prepareForLog=function(n){return n instanceof Event&&n.target?this.getScrollPosition():n},e.prototype.logProcess=function(n){if(this.debug){var t=n.process,r=n.status,i=n.payload,o=[];if(t===Ie.init&&r===T.next)o.push("%c---=== loop ".concat(this.getLoopIdNext()," start"));else if(t===Ie.end){o.push("%c---=== loop ".concat(this.getLoopId()," done"));var s=i&&i.process;r===T.next&&s!==A.reset&&s!==A.reload&&(o[0]+=", loop ".concat(this.getLoopIdNext()," start"))}o.length&&this.log(function(){return ae(ae([],se(o),!1),["color: #006600;"],!1)})}},e.prototype.logCycle=function(n){void 0===n&&(n=!0);var t=this.getWorkflowCycleData(),i="color: #0000aa; border: solid #555 1px; border-width: ".concat(n?"1px 0 0 1px":"0 0 1px 1px","; margin-left: -2px");this.log(function(){return["%c   ~~~ WF Cycle ".concat(t," ").concat(n?"STARTED":"FINALIZED"," ~~~  "),i]})},e.prototype.logError=function(n){var t=this;if(this.debug){var r=["color: #a00;","color: #000"];this.log(function(){return ae(["error:%c"+(n?" ".concat(n):"")+"%c (loop ".concat(t.getLoopIdNext(),")")],se(r),!1)})}},e.prototype.log=function(){for(var n=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.debug){if("function"==typeof t[0]&&(t=t[0](),Array.isArray(t)||(t=[t])),t.every(function(i){return void 0===i}))return;this.logTime&&(t=ae(ae([],se(t),!1),[this.getTime()],!1)),t=t.map(function(i){return n.prepareForLog(i)}),this.immediateLog?console.log.apply(this,t):this.logs.push(t)}},e.prototype.logForce=function(){for(var n=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.debug&&(!this.immediateLog&&this.logs.length&&(this.logs.forEach(function(i){return console.log.apply(n,i)}),this.logs=[]),t.length&&console.log.apply(this,t))},e}(),ll=function(){function e(n,t){this.element=n,this.settings={viewport:t.viewport,horizontal:t.horizontal,window:t.windowViewport},this.viewport=this.getViewportElement(),this.onInit(t)}return e.prototype.checkElement=function(n){if(!n)throw new Error("HTML element is not defined")},e.prototype.getViewportElement=function(){if(this.settings.window)return document.documentElement;if(this.settings.viewport)return this.settings.viewport;this.checkElement(this.element);var n=this.element.parentElement;return this.checkElement(n),n},e.prototype.onInit=function(n){n.windowViewport&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),n.dismissOverflowAnchor&&(this.viewport.style.overflowAnchor="none")},e.prototype.findElementBySelector=function(n,t){return this.checkElement(n),n.querySelector(t)},e.prototype.findPaddingElement=function(n){return this.findElementBySelector(this.element,"[data-padding-".concat(n,"]"))},e.prototype.findItemElement=function(n){return this.findElementBySelector(this.element,'[data-sid="'.concat(n,'"]'))},e.prototype.findItemChildBySelector=function(n,t){return this.findElementBySelector(this.element,'[data-sid="'.concat(n,'"] ').concat(t))},e.prototype.getScrollPosition=function(){return this.settings.window?this.settings.horizontal?window.pageXOffset:window.pageYOffset:this.viewport[this.settings.horizontal?"scrollLeft":"scrollTop"]},e.prototype.setScrollPosition=function(n){n=Math.max(0,n),this.settings.window?this.settings.horizontal?window.scrollTo(n,window.scrollY):window.scrollTo(window.scrollX,n):this.viewport[this.settings.horizontal?"scrollLeft":"scrollTop"]=n},e.prototype.getElementParams=function(n){return this.checkElement(n),n.getBoundingClientRect()},e.prototype.getWindowParams=function(){var n=this.viewport,t=n.clientWidth,r=n.clientHeight,i=n.clientLeft,o=n.clientTop;return{height:r,width:t,top:o,bottom:o+r,left:i,right:i+t,x:i,y:o,toJSON:function(){return null}}},e.prototype.getSize=function(n){return this.getElementParams(n)[this.settings.horizontal?"width":"height"]},e.prototype.getScrollerSize=function(){return this.getElementParams(this.element)[this.settings.horizontal?"width":"height"]},e.prototype.getViewportSize=function(){return this.settings.window?this.getWindowParams()[this.settings.horizontal?"width":"height"]:this.getSize(this.viewport)},e.prototype.getSizeStyle=function(n){return this.checkElement(n),parseFloat(n.style[this.settings.horizontal?"width":"height"])||0},e.prototype.setSizeStyle=function(n,t){this.checkElement(n),t=Math.max(0,Math.round(t)),n.style[this.settings.horizontal?"width":"height"]="".concat(t,"px")},e.prototype.getEdge=function(n,t){var r=this.settings.horizontal;return this.getElementParams(n)[t===Z.forward?r?"right":"bottom":r?"left":"top"]},e.prototype.getViewportEdge=function(n){var t=this.settings,i=t.horizontal;return t.window?this.getWindowParams()[n===Z.forward?i?"right":"bottom":i?"left":"top"]:this.getEdge(this.viewport,n)},e.prototype.makeElementVisible=function(n){this.checkElement(n),n.style.left="",n.style.top="",n.style.position=""},e.prototype.hideElement=function(n){this.checkElement(n),n.style.display="none"},e.prototype.getOffset=function(){var n=this,t=function(r){return(n.settings.horizontal?r.offsetLeft:r.offsetTop)||0};return t(this.element)-(this.settings.window?0:t(this.viewport))},e.prototype.scrollTo=function(n,t){this.checkElement(n),n.scrollIntoView(t)},e.prototype.render=function(n,t){var r=setTimeout(function(){return n()});return function(){return clearTimeout(r)}},e.prototype.animate=function(n){var t=requestAnimationFrame(function(){return n()});return function(){return cancelAnimationFrame(t)}},e.prototype.onScroll=function(n){var t=this.settings.window?window:this.viewport;return t.addEventListener("scroll",n),function(){return t.removeEventListener("scroll",n)}},e}(),Ex=function(){function e(n,t){var r=t.findPaddingElement(n);t.checkElement(r),this.element=r,this.direction=n,this.routines=t}return e.prototype.reset=function(n){this.size=n||0},Object.defineProperty(e.prototype,"size",{get:function(){return this.routines.getSizeStyle(this.element)},set:function(n){this.routines.setSizeStyle(this.element,n)},enumerable:!1,configurable:!0}),e}(),kj=function(){function e(n,t){this.settings=t,this.forward=new Ex(Z.forward,n),this.backward=new Ex(Z.backward,n)}return e.prototype.byDirection=function(n,t){return n===Z.backward?t?this.forward:this.backward:t?this.backward:this.forward},e.prototype.reset=function(n,t,r){var s,i=this.getPositiveSize(t,n,r),o=this.getNegativeSize(t);this.settings.inverse?(this.forward.reset(o),this.backward.reset(i),(s=n-this.backward.size-r)>0&&(this.backward.size+=s,this.forward.size-=s)):(this.forward.reset(i),this.backward.reset(o),(s=n-this.forward.size-r)>0&&(this.backward.size-=s,this.forward.size+=s))},e.prototype.getPositiveSize=function(n,t,r){var i=this.settings,o=t;return isFinite(i.maxIndex)&&(o=(i.maxIndex-n+1)*i.itemSize),r&&(o=Math.max(o-r,0)),o},e.prototype.getNegativeSize=function(n){var t=this.settings,r=0;return isFinite(t.minIndex)&&(r=(n-t.minIndex)*t.itemSize),r},e}(),Pj=function(){function e(n,t,r,i){this.settings=n,this.routines=t,this.state=r,this.logger=i,this.paddings=new kj(this.routines,n)}return e.prototype.reset=function(n){this.setOffset(),this.paddings.reset(this.getSize(),n,this.offset),this.scrollPosition=this.paddings.backward.size||0,this.state.scroll.reset()},e.prototype.setPosition=function(n){if(this.scrollPosition===n)return this.logger.log(function(){return["setting scroll position at",n,"[cancelled]"]}),n;this.routines.setScrollPosition(n);var r=this.scrollPosition;return this.logger.log(function(){return ae(["setting scroll position at",r],se(r!==n?["(".concat(n,")")]:[]),!1)}),r},Object.defineProperty(e.prototype,"scrollPosition",{get:function(){return this.routines.getScrollPosition()},set:function(n){this.setPosition(n)},enumerable:!1,configurable:!0}),e.prototype.getSize=function(){return this.routines.getViewportSize()},e.prototype.getScrollableSize=function(){return this.routines.getScrollerSize()},e.prototype.getMaxScrollPosition=function(){return this.getScrollableSize()-this.getSize()},e.prototype.getBufferPadding=function(){return this.getSize()*this.settings.padding},e.prototype.getEdge=function(n){return this.routines.getViewportEdge(n)},e.prototype.setOffset=function(){this.offset=this.routines.getOffset()},e.prototype.findItemElementById=function(n){return this.routines.findItemElement(n)},e.prototype.getEdgeVisibleItem=function(n,t){for(var s,r=t===Z.backward,i=r?Z.forward:Z.backward,o=this.getEdge(t),a=0,u=r?0:n.length-1;r?u<=n.length-1:u>=0;u+=r?1:-1)if(a=this.routines.getEdge(n[u].element,i)-o,r&&a>0||!r&&a<0){s=n[u];break}return{item:s,index:s?s.$index:NaN,diff:a}},e}(),Fj=function(){function e(){this.reset()}return e.prototype.reset=function(){this.newItems=[],this.oldItems=[],this.removed=[]},e}(),Lj=function(){function e(n,t){this.itemSize=n,this.sizeStrategy=t,this.sizeMap=new Map,this.recalculation=new Fj}return e.prototype.reset=function(n){n&&(this.constantSize=this.itemSize,this.frequentSize=this.itemSize,this.averageSize=this.itemSize,this.averageSizeFloat=this.itemSize,this.sizeMap.clear()),this.recalculation.reset()},e.prototype.get=function(){switch(this.sizeStrategy){case Cn.Average:return this.averageSize;case Cn.Frequent:return this.frequentSize;default:return this.constantSize}},e.prototype.recalculateAverageSize=function(n){var t=this.recalculation,r=t.oldItems,i=t.newItems,o=t.removed;if(r.length){var s=r.reduce(function(h,p){return h+p.size},0),a=r.reduce(function(h,p){return h+p.newSize},0);this.averageSizeFloat=(this.averageSizeFloat||0)-(s-a)/(n-i.length)}if(i.length&&(a=i.reduce(function(m,g){return m+g.size},0),this.averageSizeFloat=((n-i.length)*(this.averageSizeFloat||0)+a)/n),o.length){var l=o.reduce(function(p,m){return p+m.size},0);this.averageSizeFloat=((n+o.length)*(this.averageSizeFloat||0)-l)/n}this.averageSize=Math.round(this.averageSizeFloat)},e.prototype.recalculateFrequentSize=function(){var n=this,t=this.recalculation,r=t.oldItems,i=t.newItems,o=t.removed,s=this.sizeMap.get(this.frequentSize);i.length&&i.forEach(function(h){var p=h.size;return n.sizeMap.set(p,(n.sizeMap.get(p)||0)+1)}),r.length&&(r.forEach(function(h){var p=h.size;return n.sizeMap.set(p,Math.max((n.sizeMap.get(p)||0)-1,0))}),r.forEach(function(h){var p=h.newSize;return n.sizeMap.set(p,(n.sizeMap.get(p)||0)+1)})),o.length&&o.forEach(function(h){var p=h.size;return n.sizeMap.set(p,Math.max((n.sizeMap.get(p)||0)-1,0))});var a=ae([],se(this.sizeMap.entries()),!1).sort(function(h,p){return p[1]-h[1]}),u=a[0][1],l=a.filter(function(h){return h[1]===u});l.length>1&&l.find(function(h){return h[0]===s})||(this.frequentSize=a[0][0])},e.prototype.recalculate=function(n){if(this.sizeStrategy===Cn.Constant)return!1;var t=this.recalculation;if(!t.oldItems.length&&!t.newItems.length&&!t.removed.length)return!1;var s=this.get();return n?(this.sizeStrategy===Cn.Average?this.recalculateAverageSize(n):this.recalculateFrequentSize(),this.recalculation.reset()):this.reset(!0),this.get()!==s},e.prototype.setExisted=function(n,t){this.sizeStrategy!==Cn.Constant&&this.recalculation.oldItems.push({size:n,newSize:t})},e.prototype.setNew=function(n){this.sizeStrategy!==Cn.Constant?this.recalculation.newItems.push({size:n}):this.constantSize||(this.constantSize=n)},e.prototype.setRemoved=function(n){this.sizeStrategy!==Cn.Constant&&this.recalculation.removed.push({size:n})},e}(),em=function(){function e(n,t){this.$index=n.$index,this.data=t?n.data:null,this.size=n.size}return e.prototype.changeIndex=function(n){this.$index=n},e}(),Vj=function(){function e(n,t){var r=n.itemSize,i=n.cacheData,o=n.cacheOnReload,s=n.sizeStrategy;this.itemSize=r,this.saveData=i,this.cacheOnReload=o,this.sizeStrategy=s,this.logger=t,this.items=new Map,this.defaultSize=new Lj(r,s),this.reset(!0)}return e.prototype.reset=function(n){(n=n||!this.cacheOnReload)&&(this.minIndex=1/0,this.maxIndex=-1/0,this.items.clear()),this.defaultSize.reset(n)},Object.defineProperty(e.prototype,"size",{get:function(){return this.items.size},enumerable:!1,configurable:!0}),e.prototype.get=function(n){return this.items.get(n)},e.prototype.getSizeByIndex=function(n){var t=this.get(n);return t&&t.size||this.defaultSize.get()},e.prototype.getDefaultSize=function(){return this.defaultSize.get()},e.prototype.recalculateDefaultSize=function(){var n=this;return!!this.defaultSize.recalculate(this.size)&&(this.logger.log(function(){return"default size has been updated: ".concat(n.defaultSize.get())}),!0)},e.prototype.add=function(n){var t=this.get(n.$index);return t?(this.saveData&&(t.data=n.data),t.size!==n.size&&(t.size?this.defaultSize.setExisted(t.size,n.size):this.defaultSize.setNew(n.size),t.size=n.size)):(t=new em(n,this.saveData),this.items.set(n.$index,t),this.defaultSize.setNew(n.size)),n.$index<this.minIndex&&(this.minIndex=n.$index),n.$index>this.maxIndex&&(this.maxIndex=n.$index),t},e.prototype.insertItems=function(n,t,r,i){var o=this,s=new Map,a=n.length,u=1/0,l=-1/0,h=function(p){s.set(p.$index,p),u=p.$index<u?p.$index:u,l=p.$index>l?p.$index:l};this.items.forEach(function(p){var m=0;r===Z.backward?p.$index<t&&i?m=-a:p.$index>=t&&!i&&(m=a):r===Z.forward&&(p.$index<=t&&i?m=-a:p.$index>t&&!i&&(m=a)),m&&p.changeIndex(p.$index+m),h(p)}),this.saveData&&n.forEach(function(p,m){var v=new em({$index:t+m-(i?a:0)+(r===Z.forward?1:0),data:p},o.saveData);h(v)}),this.items=s,this.minIndex=u,this.maxIndex=l},e.prototype.removeItems=function(n,t){var r=this,i=new Map,o=1/0,s=-1/0;this.items.forEach(function(a){if(n.some(function(l){return l===a.$index}))a.size&&r.defaultSize.setRemoved(a.size);else{var u=n.reduce(t?function(l,h){return l+(a.$index<h?1:0)}:function(l,h){return l-(a.$index>h?1:0)},0);a.changeIndex(a.$index+u),i.set(a.$index,a),o=a.$index<o?a.$index:o,s=a.$index>s?a.$index:s}}),this.items=i,this.minIndex=o,this.maxIndex=s},e.prototype.updateSubset=function(n,t,r){var i=this;if(this.size&&n.length){var a,u,o=n[0].$index,s=n[n.length-1].$index;t.length?(a=t[0].$index-o,u=t[t.length-1].$index-s):(a=r?s-o+1:0,u=r?0:o-s-1);var p=new Map;this.items.forEach(function(m){return m.$index<o?(m.changeIndex(m.$index+a),void p.set(m.$index,m)):m.$index>s?(m.changeIndex(m.$index+u),void p.set(m.$index,m)):void 0}),t.forEach(function(m){return p.set(m.$index,new em(m,i.saveData))}),n.filter(function(m){return m.toRemove}).forEach(function(m){return i.defaultSize.setRemoved(m.size)}),this.minIndex+=a,this.maxIndex+=u,this.items=p}},e.prototype.shiftIndexes=function(n){var t=new Map,r=1/0,i=-1/0;this.items.forEach(function(o){o.changeIndex(o.$index+n),t.set(o.$index,o),r=o.$index<r?o.$index:r,i=o.$index>i?o.$index:i}),this.items=t,this.minIndex=r,this.maxIndex=i},e}(),jj=function(){function e(n,t){this.context=n,this.logger=t}return e.prototype.fillEmpty=function(n,t,r){return n.length?Number.isInteger(t)||Number.isInteger(r)?(this.logger.log(function(){return"going to fill the buffer with ".concat(n.length," item(s)")}),!0):(this.logger.log("no items to fill the buffer; wrong indexes"),!1):(this.logger.log("no items to fill the buffer; empty list"),!1)},e.prototype.insertInBuffer=function(n,t,r){var i=Number.isInteger(t)?t:Number.isInteger(r)?r:NaN,o=this.context.items.find(function(s){return n&&n(s.get())||Number.isInteger(i)&&i===s.$index});return o?o.$index:(this.logger.log("no items to insert in buffer; empty predicate's result"),NaN)},e.prototype.insertVirtual=function(n,t,r){if(!n.length)return this.logger.log("no items to insert virtually; empty list"),!1;var i=this.context,o=i.firstIndex,s=i.lastIndex,a=i.finiteAbsMinIndex,u=i.finiteAbsMaxIndex;if(t<a||t>u)return this.logger.log(function(){return"no items to insert virtually; "+"selected index (".concat(t,") does not match virtual area [").concat(a,"..").concat(u,"]")}),!1;var l=r===Z.backward;return t<o+(l?1:0)||t>s-(l?0:1)?(this.logger.log(function(){return"going to insert ".concat(n.length," item(s) virtually")}),!0):(this.logger.log(function(){return"no items to insert virtually; selected index (".concat(t,") belongs Buffer [").concat(o,"..").concat(s,"]")}),!1)},e}(),$j=function(){function e(n,t,r){this._items=[],this.logger=r,this.changeItems=t,this.bof=new Ht(!1),this.eof=new Ht(!1),this.cache=new Vj(n,r),this.checkCall=new jj(this,r),this.startIndexUser=n.startIndex,this.minIndexUser=n.minIndex,this.maxIndexUser=n.maxIndex,this.reset(!0)}return e.prototype.dispose=function(){this.bof.dispose(),this.eof.dispose(),this._items.forEach(function(n){return n.dispose()}),this._items=[]},e.prototype.reset=function(n,t){this.items.forEach(function(r){return r.hide()}),this.pristine=!0,this.items=[],this.cache.reset(n),this.absMinIndex=this.minIndexUser,this.absMaxIndex=this.maxIndexUser,this.setCurrentStartIndex(t),this.bof.set(!1),this.eof.set(!1),this.pristine=!1},e.prototype.setCurrentStartIndex=function(n){var t=this.minIndexUser,r=this.maxIndexUser,i=this.startIndexUser,o=Number(n);Number.isNaN(o)&&(this.logger.log(function(){return"fallback startIndex to settings.startIndex (".concat(i,")")}),o=i),o<t&&(this.logger.log(function(){return"setting startIndex to settings.minIndex (".concat(t,") because ").concat(o," < ").concat(t)}),o=t),o>r&&(this.logger.log(function(){return"setting startIndex to settings.maxIndex (".concat(r,") because ").concat(o," > ").concat(r)}),o=r),this.startIndex=o},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(n){this._items=n,this.changeItems(n),this.pristine||(this.checkBOF(),this.checkEOF())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absMinIndex",{get:function(){return this._absMinIndex},set:function(n){this._absMinIndex!==n&&(this._absMinIndex=Number.isFinite(this._absMaxIndex)&&n>this._absMaxIndex?this._absMaxIndex:n),this.pristine||this.checkBOF()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absMaxIndex",{get:function(){return this._absMaxIndex},set:function(n){this._absMaxIndex!==n&&(this._absMaxIndex=Number.isFinite(this._absMinIndex)&&n<this._absMinIndex?this._absMinIndex:n),this.pristine||this.checkEOF()},enumerable:!1,configurable:!0}),e.prototype.checkBOF=function(){var n=this.items.length?this.items[0].$index===this.absMinIndex:isFinite(this.absMinIndex);this.bof.set(n)},e.prototype.checkEOF=function(){var n=this.items.length?this.items[this.items.length-1].$index===this.absMaxIndex:isFinite(this.absMaxIndex);this.eof.set(n)},Object.defineProperty(e.prototype,"size",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cacheSize",{get:function(){return this.cache.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultSize",{get:function(){return this.cache.getDefaultSize()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minIndex",{get:function(){return isFinite(this.cache.minIndex)?this.cache.minIndex:this.startIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxIndex",{get:function(){return isFinite(this.cache.maxIndex)?this.cache.maxIndex:this.startIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstIndex",{get:function(){return this.items.length?this.items[0].$index:NaN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastIndex",{get:function(){return this.items.length?this.items[this.items.length-1].$index:NaN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finiteAbsMinIndex",{get:function(){return isFinite(this.absMinIndex)?this.absMinIndex:this.minIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finiteAbsMaxIndex",{get:function(){return isFinite(this.absMaxIndex)?this.absMaxIndex:this.maxIndex},enumerable:!1,configurable:!0}),e.prototype.get=function(n){return this.items.find(function(t){return t.$index===n})},e.prototype.setItems=function(n){if(this.items.length)if(this.items[0].$index>n[n.length-1].$index)this.items=ae(ae([],se(n),!1),se(this.items),!1);else{if(!(n[0].$index>this.items[this.items.length-1].$index))return!1;this.items=ae(ae([],se(this.items),!1),se(n),!1)}else this.items=ae([],se(n),!1);return!0},e.prototype.clip=function(){this.items=this.items.filter(function(n){return!n.toRemove})},e.prototype.getIndexToInsert=function(n,t,r){return this.checkCall.insertInBuffer(n,t,r)},e.prototype.shiftExtremum=function(n,t){t?(this.absMinIndex-=n,this.startIndex-=n):this.absMaxIndex+=n,this.startIndex>this.absMaxIndex?this.startIndex=this.absMaxIndex:this.startIndex<this.absMinIndex&&(this.startIndex=this.absMinIndex)},e.prototype.insertVirtually=function(n,t,r,i){if(!this.checkCall.insertVirtual(n,t,r))return!1;var o=0;return t<=this.firstIndex&&!i?o=n.length:t>=this.lastIndex&&i&&(o=-n.length),o&&(this.items.forEach(function(s){return s.updateIndex(s.$index+o)}),this.cache.insertItems(n,t,r,i),this.items=ae([],se(this.items),!1)),this.shiftExtremum(n.length,i),!0},e.prototype.removeVirtually=function(n,t){for(var r=this.items.length,i=!1,o=function(u){var l=s.items[u],h=n.reduce(function(p,m){return p+(t?l.$index<m?1:0:l.$index>m?-1:0)},0);i=i||!!h,l.updateIndex(l.$index+h)},s=this,a=t?r-1:0;t?a>=0:a<r;t?a--:a++)o(a);this.shiftExtremum(-n.length,t),i&&(this.items=ae([],se(this.items),!1)),this.cache.removeItems(n,t)},e.prototype.fillEmpty=function(n,t,r,i,o){if(!this.checkCall.fillEmpty(n,t,r))return!1;var s=Number.isInteger(t),a=s?t:r,u=i?n.length:s?1:0;return this.items=n.map(function(l,h){return o(a+h+(s?0:1)-u,l)}),this._absMinIndex=this.items[0].$index,this._absMaxIndex=this.items[this.size-1].$index,this.startIndex<=this.absMinIndex?this.startIndex=this.absMinIndex:this.startIndex>this.absMaxIndex&&(this.startIndex=this.absMaxIndex),!0},e.prototype.updateItems=function(n,t,r,i){if(!this.size||Number.isNaN(this.firstIndex))return{trackedIndex:NaN,toRemove:[]};for(var o=r,s=i?this.lastIndex:this.firstIndex,a=[],u=i?-1:1,l=this.size-1,h=new Map,p=Array.prototype[i?"unshift":"push"],m=function(C){var _=g.items[C];h.set(_.$index,_);var E=n(_);if(!E||Array.isArray(E)&&!E.length)return _.toRemove=!0,o+=_.$index>=r?i?1:0:i?0:-1,g.shiftExtremum(-1,i),"continue";if(!Array.isArray(E))return _.updateIndex(s),p.call(a,_),s+=u,"continue";_.$index<r?o+=i?0:E.length-1:_.$index>r&&(o+=i?1-E.length:0);var L=!0,Q=[];(i?ae([],se(E),!1).reverse():E).forEach(function(Be,qt){var En;_.data===Be?(r===_.$index&&(o=s+qt*u),_.updateIndex(s+qt*u),En=_,L=!1):(En=t(s+qt*u,Be)).toInsert=!0,p.call(Q,En)}),_.toRemove=L,p.call.apply(p,ae([a],se(Q),!1)),s+=u*E.length,E.length>1&&g.shiftExtremum(E.length-1,i)},g=this,v=i?l:0;i?v>=0:v<=l;v+=u)m(v);var w=this.items.filter(function(C){return C.toRemove}),b=Array.from(h).map(function(C){var _=se(C,2),L=_[1];return{$index:_[0],size:L.size,toRemove:L.toRemove}}).sort(function(C,_){return C.$index-_.$index});return this.items=a,this.cache.updateSubset(b,a,i),this.finiteAbsMinIndex===this.finiteAbsMaxIndex?o=NaN:o>this.finiteAbsMaxIndex?o=this.finiteAbsMaxIndex:o<this.finiteAbsMinIndex&&(o=this.finiteAbsMinIndex),{trackedIndex:o,toRemove:w}},e.prototype.cacheItem=function(n){this.cache.add(n)},e.prototype.getFirstVisibleItemIndex=function(){for(var n=this.items.length,t=0;t<n;t++)if(!this.items[t].invisible)return t;return-1},e.prototype.getLastVisibleItemIndex=function(){for(var n=this.items.length-1;n>=0;n--)if(!this.items[n].invisible)return n;return-1},e.prototype.getFirstVisibleItem=function(){var n=this.getFirstVisibleItemIndex();return n>=0?this.items[n]:void 0},e.prototype.getLastVisibleItem=function(){var n=this.getLastVisibleItemIndex();return n>=0?this.items[n]:void 0},e.prototype.getEdgeVisibleItem=function(n,t){return n===(t?Z.backward:Z.forward)?this.getLastVisibleItem():this.getFirstVisibleItem()},e.prototype.getVisibleItemsCount=function(){return this.items.reduce(function(n,t){return n+(t.invisible?0:1)},0)},e.prototype.getSizeByIndex=function(n){return this.cache.getSizeByIndex(n)},e.prototype.checkDefaultSize=function(){return this.cache.recalculateDefaultSize()},e}(),Bj=function(){function e(n){this.total=n,this.isInitial=!1,this.busy=new Ht(!1)}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.count},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.isInitial=!1,this.count++,this.total++,this.busy.set(!1)},e.prototype.start=function(){this.busy.set(!0)},e.prototype.dispose=function(){this.busy.dispose()},e}(),zj=function(){function e(n,t){var r=t?t.count:1,i=t?t.innerLoop.count:0;this.instanceIndex=n,this.innerLoop=new Bj(i),this.interrupter=null,this.busy=new Ht(!1),this.end(r)}return Object.defineProperty(e.prototype,"loopId",{get:function(){return"".concat(this.instanceIndex,"-").concat(this.count,"-").concat(this.innerLoop.total)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopIdNext",{get:function(){return"".concat(this.instanceIndex,"-").concat(this.count,"-").concat(this.innerLoop.total+1)},enumerable:!1,configurable:!0}),e.prototype.start=function(n,t){this.isInitial=n,this.initiator=t,this.innerLoop.isInitial=n,this.innerLoop.count=0,this.interrupter=null,this.busy.set(!0)},e.prototype.end=function(n){this.count=n,this.isInitial=!1,this.busy.set(!1)},e.prototype.dispose=function(n){n&&this.busy.dispose(),this.innerLoop.dispose()},e}(),Hj=function(){function e(){this.reset()}return e.prototype.reset=function(){this.startDelta=0,this.before=0},e}(),Uj=function(){function e(){this.reset()}return e.prototype.reset=function(){this.index=NaN,this.indexBuffer=NaN,this.position=NaN},e}(),Gj=function(){function e(){this.reset()}return e.prototype.reset=function(){this.index=NaN,this.indexBuffer=NaN},e}(),qj=function(){function e(){this.reset()}return e.prototype.reset=function(){this.index=NaN,this.delta=0},e}(),Wj=function(){function e(n){this.directionPriority=n,this.callCount=0,this.positions=new Hj,this.first=new Uj,this.last=new Gj,this.firstVisible=new qj,this.reset()}return e.prototype.reset=function(){this._newItemsData=null,this.items=[],this.positions.reset(),this.first.reset(),this.last.reset(),this.firstVisible.reset(),this.hasAnotherPack=!1,this.direction=null,this.cancel=null,this.simulate=!1,this.isCheck=!1,this.doRemove=!1},Object.defineProperty(e.prototype,"newItemsData",{get:function(){return this._newItemsData},set:function(n){this._newItemsData=n,n&&n.length&&this.callCount++},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFetch",{get:function(){return!!this.count},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNewItems",{get:function(){return!(!this._newItemsData||!this._newItemsData.length)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.first.index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return isNaN(this.first.index)||isNaN(this.last.index)?0:this.last.index-this.first.index+1},enumerable:!1,configurable:!0}),e.prototype.shouldCheckPreSizeExpectation=function(n){if(this.directionPriority===Z.backward)return!1;var t=this.items[this.items.length-1];return t&&t.$index<n},e.prototype.startSimulate=function(n){this.simulate=!0,this._newItemsData=n.map(function(t){return t.data}),this.items=n,this.hasAnotherPack=!1},e.prototype.stopSimulate=function(){this.simulate=!1,this.isCheck=!1,this.doRemove=!1},e.prototype.fill=function(n,t){this.startSimulate(n),this.first.index=n[0].$index,this.last.index=n[n.length-1].$index,this.direction=Z.forward,this.firstVisible.index=t,this.firstVisible.delta=0},e.prototype.check=function(n){this.startSimulate(n),this.last.index=n[0].$index,this.first.index=n[n.length-1].$index,this.isCheck=!0},e.prototype.update=function(n,t,r,i){this.startSimulate(r),this.firstVisible.index=n,this.firstVisible.delta=t,this.doRemove=i.length>0},e}(),Xj=function(){function e(){this.callCount=0,this.reset()}return Object.defineProperty(e.prototype,"force",{get:function(){return this.forceForward||this.forceBackward},enumerable:!1,configurable:!0}),e.prototype.reset=function(n){this.doClip=!1,n||(this.forceForward=!1,this.forceBackward=!1)},e}(),Zj=function(){function e(){this.reset()}return Object.defineProperty(e.prototype,"noSize",{get:function(){return this.sizeBefore===this.sizeAfter},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.sizeBefore=0,this.sizeAfter=0,this.positionBefore=0,this.cancel=null},e}(),Yj=function(){function e(){this.reset()}return e.prototype.reset=function(){this.previous=null,this.current=null,this.syntheticPosition=null,this.syntheticFulfill=!1,this.positionBeforeAsync=null,this.positionBeforeAdjust=null,this.positionAfterAdjust=null,this.stop()},e.prototype.stop=function(){this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),this.cancelAnimation&&(this.cancelAnimation(),this.cancelAnimation=null)},e.prototype.hasPositionChanged=function(n){var t=this.positionBeforeAdjust,r=this.positionAfterAdjust;return null===t||t!==n||null===r||r!==n},e}(),Qj=function(){function e(n,t,r){this.packageInfo=n,this.settings=t,this.initTime=Number(new Date),this.paused=new Ht(!1),this.cycle=new zj(this.settings.instanceIndex,r?r.cycle:void 0),this.fetch=new Wj(t.directionPriority),this.clip=new Xj,this.render=new Zj,this.scroll=new Yj}return Object.defineProperty(e.prototype,"time",{get:function(){return Number(new Date)-this.initTime},enumerable:!1,configurable:!0}),e.prototype.startWorkflowCycle=function(n,t){this.cycle.start(n,t)},e.prototype.endWorkflowCycle=function(n){this.cycle.end(n)},e.prototype.startInnerLoop=function(){var n=this,t=n.cycle,r=n.scroll,i=n.fetch,o=n.render,s=n.clip;return t.innerLoop.start(),r.positionBeforeAsync=null,i.simulate||i.reset(),s.reset(s.force),o.reset(),it({},t.innerLoop.first?{process:t.initiator,doRender:i.simulate&&i.items.length>0}:{})},e.prototype.endInnerLoop=function(){var n=this,t=n.fetch,r=n.clip,i=n.render,o=n.cycle;t.stopSimulate(),r.reset(!0),t.cancel&&(t.cancel(),t.cancel=null),i.cancel&&(i.cancel(),i.cancel=null),o.innerLoop.done()},e.prototype.dispose=function(){this.scroll.stop(),this.cycle.dispose(),this.paused.dispose(),this.endInnerLoop()},e}(),Mx=Up(),tm=function(e,n){return"object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,n)},Tx=function(e,n,t){var r=n;if(!tm(n,"items")){var i=Array.isArray(n)?n:[n];r=e?{items:i,bof:t}:{items:i,eof:t}}return r},Kj=function(){function e(n,t,r){var i=this;this.source={},this.box={},this.demand={},this.setFirstOrLastVisible=function(l){},this.getWorkflow=t,this.logger=r,this.relax$=null,this.relaxRun=null,this.reloadCounter=0;var o=n?.id||-1,s=n&&tl.get(n.id)||{};wa_setBlock(!0,o);var a=n?Mx.map(function(l){var h=n[l.name];if(n.augmented){var p=s[l.name];p&&(h=p.default)}return it(it({},l),{value:h})}):Up();Object.entries(s).forEach(function(l){var h=se(l,2),p=h[0],m=h[1],g=a.find(function(v){return v.name===p});g&&m&&(g.value=m.default)}),a.filter(function(l){return l.type===cn.Scalar&&l.permanent}).forEach(function(l){var p=l.value;return Object.defineProperty(i,l.name,{configurable:!0,get:function(){return p}})}),a.filter(function(l){return l.type===cn.Reactive}).forEach(function(l){var h=l.name;i.source[h]=l.value,Object.defineProperty(i,h,{configurable:!0,get:function(){return i.source[h]}})});var u=function(l){wa_setBox(l,o)&&([Te.firstVisible,Te.firstVisible$].some(function(h){return h===l.name})?i.setFirstOrLastVisible({first:!0}):[Te.lastVisible,Te.lastVisible$].some(function(h){return h===l.name})&&i.setFirstOrLastVisible({last:!0}))};a.filter(function(l){return l.type===cn.Scalar&&!!l.reactive}).forEach(function(l){var h=l.name,m=l.reactive;i.box[h]=l.value,Object.defineProperty(i,h,{configurable:!0,set:function(g){if(g!==i.box[h]){i.box[h]=g,i.source[m].set(g);var v=s[m];v&&v.emit(v.source,g)}},get:function(){return u(l),i.box[h]}})}),a.filter(function(l){return l.type===cn.Scalar&&l.onDemand}).forEach(function(l){var h=l.name;i.demand[h]=l.value,Object.defineProperty(i,h,{configurable:!0,get:function(){return i.demand[h]}})}),n&&(a.forEach(function(l){var h=l.name,p=l.type,m=l.value,g=l.permanent,v=i[h];p===cn.Function?v=v.bind(i):p===cn.WorkflowRunner?v=i.getPromisifiedMethod(v,m):p===cn.Reactive&&s[h]?v=n[h]:h===Te.augmented&&(v=!0);var w=!g&&p===cn.Scalar;Object.defineProperty(n,h,{configurable:!0,get:function(){return u(l),w?i[h]:v}})}),this.externalContext=n,wa_setBlock(!1,o))}return Object.defineProperty(e.prototype,"workflow",{get:function(){return this.getWorkflow()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reloadCount",{get:function(){return this.reloadCounter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reloadId",{get:function(){return this.id+"."+this.reloadCounter},enumerable:!1,configurable:!0}),e.prototype.getPromisifiedMethod=function(n,t){var r=this;return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return r.relax$?new Promise(function(s){r.relax$&&r.relax$.once(function(a){return s(a)}),n.apply(r,i)}):t.apply(r,i)}},e.prototype.initialize=function(n){var t=this,r=n.buffer,i=n.state,o=n.viewport,s=n.logger,a=n.adapterRun$,u=n.getWorkflow;if(Object.defineProperty(this.demand,Te.itemsCount,{get:function(){return r.getVisibleItemsCount()}}),Object.defineProperty(this.demand,Te.bufferInfo,{get:function(){return{firstIndex:r.firstIndex,lastIndex:r.lastIndex,minIndex:r.minIndex,maxIndex:r.maxIndex,absMinIndex:r.absMinIndex,absMaxIndex:r.absMaxIndex,defaultSize:r.defaultSize}}}),this.bof=r.bof.get(),r.bof.on(function(h){return t.bof=h}),this.eof=r.eof.get(),r.eof.on(function(h){return t.eof=h}),Object.defineProperty(this.demand,Te.packageInfo,{get:function(){return i.packageInfo}}),this.loopPending=i.cycle.innerLoop.busy.get(),i.cycle.innerLoop.busy.on(function(h){return t.loopPending=h}),this.isLoading=i.cycle.busy.get(),i.cycle.busy.on(function(h){return t.isLoading=h}),this.setFirstOrLastVisible=function(h){var p,m,g,v=h.first,b=h.workflow;if(!(!v&&!h.last||null!==(p=b?.call)&&void 0!==p&&p.interrupted)){var C=v?Te.firstVisible:Te.lastVisible;if(null!==(g=function(e){var n;return null===(n=ba.get(e||-1))||void 0===n?void 0:n.box}(null===(m=t.externalContext)||void 0===m?void 0:m.id))&&void 0!==g&&g[C]){if(r.items.some(function(L){return!L.element}))return void s.log("skipping first/lastVisible set because not all buffered items are rendered at this moment");var E=o.getEdgeVisibleItem(r.items,v?Z.backward:Z.forward).item;(!E||E.element!==t[C].element)&&(t[C]=E?E.get():Vo)}}},this.logger=s,a){this.relax$||(this.relax$=new Ht);var l=this.relax$;a.on(function(h){var p=h.status,m=h.payload,g=function(){};p===T.start?g=t.isLoading$.on(function(v){v||(g(),l.set({success:!0,immediate:!1,details:null}))}):(p===T.done||p===T.error)&&(g(),l.set({success:p!==T.error,immediate:!0,details:p===T.error&&m?String(m.error):null}))})}u&&(this.getWorkflow=u),this.init=!0},e.prototype.dispose=function(){var n=this;this.relax$&&this.relax$.dispose(),this.externalContext&&this.resetContext(),Object.getOwnPropertyNames(this).forEach(function(t){delete n[t]}),this.disposed=!0},e.prototype.resetContext=function(){var t,n=this,r=tl.get(null===(t=this.externalContext)||void 0===t?void 0:t.id);Mx.forEach(function(i){var o=i.type,a=i.name,u=i.value;if(o!==cn.Reactive&&!i.permanent&&Object.defineProperty(n.externalContext,a,{configurable:!0,get:function(){return u}}),o===cn.Reactive&&r){var l=r[a];l&&(l.default.reset(),l.emit(l.source,l.default.get()))}})},e.prototype.reset=function(n){this.reloadCounter++,this.logger.logAdapterMethod("reset",n," of ".concat(this.reloadId)),this.workflow.call({process:A.reset,status:T.start,payload:{options:n}})},e.prototype.reload=function(n){this.reloadCounter++,this.logger.logAdapterMethod("reload",n," of ".concat(this.reloadId)),this.workflow.call({process:A.reload,status:T.start,payload:{options:n}})},e.prototype.append=function(n,t){var r=Tx(!1,n,t);this.logger.logAdapterMethod("append",[r.items,r.eof]),this.workflow.call({process:A.append,status:T.start,payload:{options:r}})},e.prototype.prepend=function(n,t){var r=Tx(!0,n,t);this.logger.logAdapterMethod("prepend",[r.items,r.bof]),this.workflow.call({process:A.prepend,status:T.start,payload:{options:r}})},e.prototype.check=function(){this.logger.logAdapterMethod("check"),this.workflow.call({process:A.check,status:T.start})},e.prototype.remove=function(n){n=function(e){return tm(e,"predicate")||tm(e,"indexes")||(e={predicate:e}),e}(n),this.logger.logAdapterMethod("remove",n),this.workflow.call({process:A.remove,status:T.start,payload:{options:n}})},e.prototype.clip=function(n){this.logger.logAdapterMethod("clip",n),this.workflow.call({process:A.clip,status:T.start,payload:{options:n}})},e.prototype.insert=function(n){this.logger.logAdapterMethod("insert",n),this.workflow.call({process:A.insert,status:T.start,payload:{options:n}})},e.prototype.replace=function(n){this.logger.logAdapterMethod("replace",n),this.workflow.call({process:A.replace,status:T.start,payload:{options:n}})},e.prototype.update=function(n){this.logger.logAdapterMethod("update",n),this.workflow.call({process:A.update,status:T.start,payload:{options:n}})},e.prototype.pause=function(){this.logger.logAdapterMethod("pause"),this.workflow.call({process:A.pause,status:T.start})},e.prototype.resume=function(){this.logger.logAdapterMethod("resume"),this.workflow.call({process:A.pause,status:T.start,payload:{options:{resume:!0}}})},e.prototype.fix=function(n){this.logger.logAdapterMethod("fix",n),this.workflow.call({process:A.fix,status:T.start,payload:{options:n}})},e.prototype.relaxUnchained=function(n,t){var r=this,i=function(){return"function"==typeof n&&t===r.reloadId&&n()};return this.isLoading||i(),new Promise(function(o){r.isLoading?r.isLoading$.once(function(){i(),o(!1)}):o(!0)}).then(function(o){var s,a;if(r.disposed)return{immediate:o,success:!1,details:"Adapter was disposed"};var u=t===r.reloadId;return null===(a=null===(s=r.logger)||void 0===s?void 0:s.log)||void 0===a||a.call(s,function(){return u?void 0:"relax promise cancelled due to ".concat(t," != ").concat(r.reloadId)}),{immediate:o,success:u,details:u?null:"Interrupted by reload or reset"}})},e.prototype.relax=function(n){var t=this,r=this.reloadId;return this.logger.logAdapterMethod("relax",n," of ".concat(r)),this.init?this.relaxRun=this.relaxRun?this.relaxRun.then(function(){return t.relaxUnchained(n,r)}):this.relaxUnchained(n,r).then(function(i){return t.relaxRun=null,i}):Promise.resolve(ux)},e.prototype.showLog=function(){this.logger.logAdapterMethod("showLog"),this.logger.logForce()},e}(),t$=0,Ax=function(){function e(n){var t=n.datasource,r=n.consumer,i=n.element,o=n.workflow,s=n.Routines,a=n.scroller,u=rl(t,H3).params.get;if(!u.isValid)throw new Error("".concat("Invalid datasource:"," ").concat(u.errors[0]));var l=a?a.state.packageInfo:{consumer:r,core:lx};if(i=a?a.routines.element:i,o=a?a.workflow:o,s&&!(s.prototype instanceof ll)){var h=function(p){function m(){return null!==p&&p.apply(this,arguments)||this}return Fe(m,p),m}(ll);Object.getOwnPropertyNames(s.prototype).filter(function(p){return"constructor"!==p}).forEach(function(p){return h.prototype[p]=s?.prototype[p]}),s=h}this.workflow=o,this.settings=new pj(t.settings,t.devSettings,++t$),this.logger=new Oj(this,l,t.adapter),this.routines=new(s||ll)(i,this.settings),this.state=new Qj(l,this.settings,a?a.state:void 0),this.buffer=new $j(this.settings,o.onDataChanged,this.logger),this.viewport=new Pj(this.settings,this.routines,this.state,this.logger),this.logger.object("vscroll settings object",this.settings,!0),this.initDatasource(t,a)}return e.prototype.initDatasource=function(n,t){var r=this;if(t)return this.datasource=n,void(this.adapter=t.adapter);var i=n instanceof dx,o=!i&&!this.settings.adapter;if(i)this.datasource=n;else{var s=Gp(function(){return{mock:o}});this.datasource=new s(n),this.settings.adapter&&(n.adapter=this.datasource.adapter)}this.adapter=new Kj(o?null:this.datasource.adapter,function(){return r.workflow},this.logger)},e.prototype.init=function(n){var t=this;this.viewport.reset(this.buffer.startIndex),this.logger.stat("initialization"),this.adapter.initialize({buffer:this.buffer,state:this.state,viewport:this.viewport,logger:this.logger,adapterRun$:n,getWorkflow:function(){return t.workflow}})},e.prototype.dispose=function(n){this.logger.log(function(){return"disposing scroller"+(n?" (forever)":"")}),n&&this.adapter.dispose(),this.buffer.dispose(),this.state.dispose()},e.prototype.finalize=function(){},e}(),r$=function(){function e(n){var t=this,r=n.element,i=n.datasource,o=n.consumer,s=n.run,a=n.Routines,u=rl(n,hj);if(!u.isValid)throw new Error("Invalid Workflow params: ".concat(u.errors.join(", "),"."));this.isInitialized=!1,this.disposed=!1,this.initTimer=null,this.adapterRun$=new Ht,this.cyclesDone=0,this.interruptionCount=0,this.errors=[],this.offScroll=function(){return null},this.propagateChanges=s,this.stateMachineMethods={run:this.runProcess(),interrupt:this.interrupt.bind(this),done:this.done.bind(this),onError:this.onError.bind(this)},this.scroller=new Ax({element:r,datasource:i,consumer:o,workflow:this.getUpdater(),Routines:a}),this.scroller.settings.initializeDelay?this.initTimer=setTimeout(function(){t.initTimer=null,t.init()},this.scroller.settings.initializeDelay):this.init()}return e.prototype.init=function(){var n=this;this.scroller.init(this.adapterRun$),this.offScroll=this.scroller.routines.onScroll(function(i){return n.callWorkflow({process:Ie.scroll,status:T.start,payload:{event:i}})}),this.isInitialized=!0,this.callWorkflow({process:Ie.init,status:T.start})},e.prototype.changeItems=function(n){this.propagateChanges(n)},e.prototype.callWorkflow=function(n){if(this.isInitialized){var t=n.process,r=n.status;if(this.scroller.state.paused.get()&&t!==A.pause&&t!==A.reset)return void this.scroller.logger.log("scroller is paused: "+t+" process is ignored");t&&t.startsWith("adapter")&&r!==T.next&&this.adapterRun$.set(n),this.process(n)}},e.prototype.getUpdater=function(){return{call:this.callWorkflow.bind(this),onDataChanged:this.changeItems.bind(this)}},e.prototype.process=function(n){var t=n.status,r=n.process,i=n.payload;this.scroller.settings.logProcessRun&&this.scroller.logger.log(function(){return ae(ae(ae(["%cfire%c"],["color: #cc7777;","color: #000000;"],!1),[r,'"'.concat(t,'"')],!1),se(void 0!==i?[i]:[]),!1)}),this.scroller.logger.logProcess(n),r===Ie.end&&this.scroller.finalize(),function(e){var n=e.input,t=n.process,r=n.status,i=n.payload,o=void 0===i?{}:i,s=e.methods,a=s.run,u=s.interrupt,l=s.done;if(r===T.error)return(0,s.onError)(t,o),void(t.startsWith("adapter")||a(Ei)(o));var p=o.options;switch(t){case Ie.init:r===T.start&&a(dn)(t),r===T.next&&a(xx)();break;case Ie.scroll:r===T.start&&a(gj)(o),r===T.next&&a(dn)(t);break;case A.reset:case A.reload:r===T.start&&(t===A.reset?a(vj)(p):a(yj)(p)),r===T.next&&(u(it({process:t},o)),o.finalize?a(Ei)():a(dn)(t));break;case A.append:case A.prepend:r===T.start&&a(wj)({process:t,options:p}),r===T.next&&a(dn)(t);break;case A.check:r===T.start&&a(bj)(),r===T.next&&a(dn)(t);break;case A.remove:r===T.start&&a(_j)(p),r===T.next&&a(dn)(t);break;case A.clip:r===T.start&&a(Dj)(p),r===T.next&&a(dn)(t);break;case A.insert:r===T.start&&a(Ix)(p),r===T.next&&a(dn)(t);break;case A.replace:r===T.start&&a(Cj)(p),r===T.next&&a(dn)(t);break;case A.update:r===T.start&&a(ul)(p),r===T.next&&a(dn)(t);break;case A.pause:r===T.start&&a(Ij)(p),r===T.done&&a(dn)(t);break;case A.fix:r===T.start&&a(Ej)(p),r===T.next&&a(dn)(t);break;case Ie.start:switch(o.process){case A.append:case A.insert:case A.replace:case A.update:o.doRender?a(Kp)():a(Aa)();break;case A.check:a(Kp)();break;case A.remove:a(Aa)();break;default:a(Mj)()}break;case Ie.preFetch:r===T.next&&(o.process===A.clip?a(Sx)():a(Tj)()),r===T.done&&a(Ei)();break;case Ie.fetch:a(Aj)();break;case Ie.postFetch:r===T.next&&a(Kp)(),r===T.done&&a(Ei)();break;case Ie.render:if(r===T.next)switch(o.process){case A.append:case A.check:case A.insert:case A.replace:case A.update:a(Aa)();break;default:a(Sx)()}r===T.done&&a(Ei)();break;case Ie.preClip:o.doClip?a(Rj)():a(Aa)();break;case Ie.clip:a(Aa)();break;case Ie.adjust:a(Ei)();break;case Ie.end:if(r===T.next)switch(o.process){case A.reset:case A.reload:l(),a(dn)(o.process);break;default:a(xx)()}r===T.done&&l()}}({input:n,methods:this.stateMachineMethods})},e.prototype.runProcess=function(){var n=this;return function(t){var r=t.run,i=t.process,o=t.name;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];n.scroller.settings.logProcessRun&&n.scroller.logger.log(function(){return ae(ae(ae(["%crun%c"],["color: #333399;","color: #000000;"],!1),[i||o],!1),se(s),!1)}),r.apply(void 0,ae([n.scroller],se(s),!1))}}},e.prototype.onError=function(n,t){var r=t&&String(t.error)||"",i=this.scroller.state;this.errors.push({process:n,message:r,time:i.time,loop:i.cycle.loopIdNext}),this.scroller.logger.logError(r)},e.prototype.interrupt=function(n){var t=this,r=n.process,o=n.datasource;if(n.finalize){var s=this.scroller,a=s.workflow,u=s.logger;a.call=function(h){return u.log("[skip wf call]")},a.call.interrupted=!0,this.scroller.workflow=this.getUpdater(),this.interruptionCount++,u.log(function(){return"workflow had been interrupted by the ".concat(r," process (").concat(t.interruptionCount,")")})}if(o){var l=function(){t.scroller.logger.log("new Scroller instantiation");var h=new Ax({datasource:o,scroller:t.scroller});t.scroller.dispose(),t.scroller=h,t.scroller.init()};this.scroller.state.cycle.busy.get()?this.scroller.adapter.relax(l.bind(this)):l()}},e.prototype.done=function(){var n=this.scroller,t=n.state,r=n.logger;this.cyclesDone++,r.logCycle(!1),t.endWorkflowCycle(this.cyclesDone+1),this.finalize()},e.prototype.dispose=function(){var n=this;this.scroller.logger.log(function(){return"disposing workflow"}),this.initTimer&&clearTimeout(this.initTimer),this.offScroll(),this.adapterRun$.dispose(),this.scroller.dispose(!0),Object.getOwnPropertyNames(this).forEach(function(t){delete n[t]}),this.disposed=!0},e.prototype.finalize=function(){},e}();const i$={name:"ngx-ui-scroll",version:"3.2.0-beta.2"},o$=["ui-scroll",""];function s$(e,n){}const a$=function(e,n,t,r){return{$implicit:e,index:n,odd:t,even:r}};function c$(e,n){if(1&e&&(f(0,"div"),ne(1,s$,0,0,"ng-template",3),d()),2&e){const t=n.$implicit,r=ve();gr("position",t.invisible?"fixed":null)("left",t.invisible?"-99999px":null),jt("data-sid",t.$index),y(1),D("ngTemplateOutlet",r.template)("ngTemplateOutletContext",N_(7,a$,t.data,t.$index,t.$index%2,!(t.$index%2)))}}let u$=(()=>{class e{constructor(t,r,i){this.changeDetector=t,this.elementRef=r,this.ngZone=i,this.items=[]}ngOnInit(){this.workflow=this.ngZone.runOutsideAngular(()=>new r$({consumer:i$,element:this.elementRef.nativeElement,datasource:this.datasource,run:t=>{!t.length&&!this.items.length||this.ngZone.run(()=>{this.items=t,this.changeDetector.detectChanges()})},...this.Routines?{Routines:this.Routines}:{}}))}ngOnDestroy(){this.workflow?.dispose()}static#e=this.\u0275fac=function(r){return new(r||e)(I(Ao),I(mt),I(Ee))};static#t=this.\u0275cmp=V({type:e,selectors:[["","ui-scroll",""]],attrs:o$,decls:3,vars:1,consts:[["data-padding-backward",""],[3,"position","left",4,"ngFor","ngForOf"],["data-padding-forward",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){1&r&&(O(0,"div",0),ne(1,c$,2,12,"div",1),O(2,"div",2)),2&r&&(y(1),D("ngForOf",i.items))},dependencies:[sa,np],encapsulation:2,changeDetection:0})}return e})(),Qr=(()=>{class e{constructor(t,r){this.templateRef=t,this.viewContainer=r}set uiScrollOf(t){this.datasource=t}set uiScrollRoutines(t){this.Routines=t}ngOnInit(){const t=this.viewContainer.createComponent(u$);t.instance.datasource=this.datasource,t.instance.template=this.templateRef,t.instance.Routines=this.Routines}static#e=this.\u0275fac=function(r){return new(r||e)(I(Kn),I(on))};static#t=this.\u0275dir=G({type:e,selectors:[["","uiScroll","","uiScrollOf",""]],inputs:{uiScrollOf:"uiScrollOf",uiScrollRoutines:"uiScrollRoutines"}})}return e})();const Na=()=>({source:new pn,emit:(e,n)=>e.next(n)}),Nx=()=>({source:new Zt(Vo),emit:(e,n)=>e.next(n)}),be=Gp(()=>({mock:!1,reactive:{[Te.init$]:Na(),[Te.isLoading$]:Na(),[Te.loopPending$]:Na(),[Te.firstVisible$]:Nx(),[Te.lastVisible$]:Nx(),[Te.bof$]:Na(),[Te.eof$]:Na()}}));function dl(...e){const n=is(e),t=Km(e),{args:r,keys:i}=BC(e);if(0===r.length)return et([],n);const o=new ze(function d$(e,n,t=Sr){return r=>{Rx(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)Rx(n,()=>{const l=et(e[u],n);let h=!1;l.subscribe(Qe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>HC(i,s):Sr));return t?o.pipe(zC(t)):o}function Rx(e,n,t){e?sr(t,e,n):n()}const fl=ts(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function nm(...e){return function f$(){return Oi(1)}()(et(e,is(e)))}function Ox(e){return new ze(n=>{Xt(e()).subscribe(n)})}function Ra(e,n){const t=Se(e)?e:()=>e,r=i=>i.error(t());return new ze(n?i=>n.schedule(r,0,i):r)}function rm(){return Ke((e,n)=>{let t=null;e._refCount++;const r=Qe(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class kx extends ze{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Vm(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Wt;const t=this.getSubject();n.add(this.source.subscribe(Qe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Wt.EMPTY)}return n}refCount(){return rm()(this)}}function Jr(e){return e<=0?()=>zn:Ke((n,t)=>{let r=0;n.subscribe(Qe(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function hl(e){return Ke((n,t)=>{let r=!1;n.subscribe(Qe(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function Px(e=p$){return Ke((n,t)=>{let r=!1;n.subscribe(Qe(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function p$(){return new fl}function Mi(e,n){const t=arguments.length>=2;return r=>r.pipe(e?tr((i,o)=>e(i,o,r)):Sr,Jr(1),t?hl(n):Px(()=>new fl))}function bt(e,n,t){const r=Se(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ke((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Qe(o,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),o.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Sr}function Ti(e){return Ke((n,t)=>{let o,r=null,i=!1;r=n.subscribe(Qe(t,void 0,void 0,s=>{o=Xt(e(s,Ti(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function im(e){return e<=0?()=>zn:Ke((n,t)=>{let r=[];n.subscribe(Qe(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const ie="primary",Oa=Symbol("RouteTitle");class b${constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function qo(e){return new b$(e)}function _$(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function rr(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Fx(e[i],n[i]))return!1;return!0}function Fx(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function Lx(e){return e.length>0?e[e.length-1]:null}function Kr(e){return function l$(e){return!!e&&(e instanceof ze||Se(e.lift)&&Se(e.subscribe))}(e)?e:Gs(e)?et(Promise.resolve(e)):q(e)}const C$={exact:function $x(e,n,t){if(!Ai(e.segments,n.segments)||!pl(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!$x(e.children[r],n.children[r],t))return!1;return!0},subset:Bx},Vx={exact:function I$(e,n){return rr(e,n)},subset:function x$(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Fx(e[t],n[t]))},ignored:()=>!0};function jx(e,n,t){return C$[t.paths](e.root,n.root,t.matrixParams)&&Vx[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function Bx(e,n,t){return zx(e,n,n.segments,t)}function zx(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!Ai(i,t)||n.hasChildren()||!pl(i,t,r))}if(e.segments.length===t.length){if(!Ai(e.segments,t)||!pl(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!Bx(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(Ai(e.segments,i)&&pl(e.segments,i,r)&&e.children[ie])&&zx(e.children[ie],n,o,r)}}function pl(e,n,t){return n.every((r,i)=>Vx[t](e[i].parameters,r.parameters))}class Wo{constructor(n=new xe([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qo(this.queryParams)),this._queryParamMap}toString(){return M$.serialize(this)}}class xe{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ml(this)}}class ka{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=qo(this.parameters)),this._parameterMap}toString(){return Gx(this)}}function Ai(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Pa=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:function(){return new om},providedIn:"root"})}return e})();class om{parse(n){const t=new j$(n);return new Wo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Fa(n.root,!0)}`,r=function N$(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${gl(t)}=${gl(i)}`).join("&"):`${gl(t)}=${gl(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function T$(e){return encodeURI(e)}(n.fragment)}`:""}`}}const M$=new om;function ml(e){return e.segments.map(n=>Gx(n)).join("/")}function Fa(e,n){if(!e.hasChildren())return ml(e);if(n){const t=e.children[ie]?Fa(e.children[ie],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${Fa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function E$(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===ie&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ie&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===ie?[Fa(e.children[ie],!1)]:[`${i}:${Fa(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ie]?`${ml(e)}/${t[0]}`:`${ml(e)}/(${t.join("//")})`}}function Hx(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gl(e){return Hx(e).replace(/%3B/gi,";")}function sm(e){return Hx(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vl(e){return decodeURIComponent(e)}function Ux(e){return vl(e.replace(/\+/g,"%20"))}function Gx(e){return`${sm(e.path)}${function A$(e){return Object.keys(e).map(n=>`;${sm(n)}=${sm(e[n])}`).join("")}(e.parameters)}`}const R$=/^[^\/()?;#]+/;function am(e){const n=e.match(R$);return n?n[0]:""}const O$=/^[^\/()?;=#]+/,P$=/^[^=?&#]+/,L$=/^[^&#]+/;class j${constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[ie]=new xe(n,t)),r}parseSegment(){const n=am(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new M(4009,!1);return this.capture(n),new ka(vl(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function k$(e){const n=e.match(O$);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=am(this.remaining);i&&(r=i,this.capture(r))}n[vl(t)]=vl(r)}parseQueryParam(n){const t=function F$(e){const n=e.match(P$);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function V$(e){const n=e.match(L$);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=Ux(t),o=Ux(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=am(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new M(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=ie);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[ie]:new xe([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new M(4011,!1)}}function qx(e){return e.segments.length>0?new xe([],{[ie]:e}):e}function Wx(e){const n={};for(const r of Object.keys(e.children)){const o=Wx(e.children[r]);if(r===ie&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function $$(e){if(1===e.numberOfChildren&&e.children[ie]){const n=e.children[ie];return new xe(e.segments.concat(n.segments),n.children)}return e}(new xe(e.segments,n))}function Ni(e){return e instanceof Wo}function Xx(e){let n;const i=qx(function t(o){const s={};for(const u of o.children){const l=t(u);s[u.outlet]=l}const a=new xe(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function Zx(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return cm(i,i,i,t,r);const o=function z$(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Qx(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new Qx(t,n,r)}(n);if(o.toRoot())return cm(i,i,new xe([],{}),t,r);const s=function H$(e,n,t){if(e.isAbsolute)return new wl(n,!0,0);if(!t)return new wl(n,!1,NaN);if(null===t.parent)return new wl(t,!0,0);const r=yl(e.commands[0])?0:1;return function U$(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new M(4005,!1);i=r.segments.length}return new wl(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Va(s.segmentGroup,s.index,o.commands):Jx(s.segmentGroup,s.index,o.commands);return cm(i,s.segmentGroup,a,t,r)}function yl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function La(e){return"object"==typeof e&&null!=e&&e.outlets}function cm(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`}),s=e===n?t:Yx(e,n,t);const a=qx(Wx(s));return new Wo(a,o,i)}function Yx(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:Yx(o,n,t)}),new xe(e.segments,r)}class Qx{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&yl(r[0]))throw new M(4003,!1);const i=r.find(La);if(i&&i!==Lx(r))throw new M(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wl{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function Jx(e,n,t){if(e||(e=new xe([],{})),0===e.segments.length&&e.hasChildren())return Va(e,n,t);const r=function q$(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(La(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!e0(u,l,s))return o;r+=2}else{if(!e0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new xe(e.segments.slice(0,r.pathIndex),{});return o.children[ie]=new xe(e.segments.slice(r.pathIndex),e.children),Va(o,0,i)}return r.match&&0===i.length?new xe(e.segments,{}):r.match&&!e.hasChildren()?um(e,n,t):r.match?Va(e,0,i):um(e,n,t)}function Va(e,n,t){if(0===t.length)return new xe(e.segments,{});{const r=function G$(e){return La(e[0])?e[0].outlets:{[ie]:e}}(t),i={};if(Object.keys(r).some(o=>o!==ie)&&e.children[ie]&&1===e.numberOfChildren&&0===e.children[ie].segments.length){const o=Va(e.children[ie],n,t);return new xe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Jx(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new xe(e.segments,i)}}function um(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(La(o)){const u=W$(o.outlets);return new xe(r,u)}if(0===i&&yl(t[0])){r.push(new ka(e.segments[n].path,Kx(t[0]))),i++;continue}const s=La(o)?o.outlets[ie]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&yl(a)?(r.push(new ka(s,Kx(a))),i+=2):(r.push(new ka(s,{})),i++)}return new xe(r,{})}function W$(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=um(new xe([],{}),0,r))}),n}function Kx(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function e0(e,n,t){return e==t.path&&rr(n,t.parameters)}const ja="imperative";class ir{constructor(n,t){this.id=n,this.url=t}}class $a extends ir{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ei extends ir{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ba extends ir{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xo extends ir{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class bl extends ir{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class t0 extends ir{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X$ extends ir{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z$ extends ir{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Y$ extends ir{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q$ extends ir{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J${constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class K${constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class eB{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tB{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nB{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rB{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class n0{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class lm{}class dm{constructor(n){this.url=n}}class iB{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new za,this.attachRef=null}}let za=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new iB,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class r0{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=fm(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=fm(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=hm(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return hm(n,this._root).map(t=>t.value)}}function fm(e,n){if(e===n.value)return n;for(const t of n.children){const r=fm(e,t);if(r)return r}return null}function hm(e,n){if(e===n.value)return[n];for(const t of n.children){const r=hm(e,t);if(r.length)return r.unshift(n),r}return[]}class Ir{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zo(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class o0 extends r0{constructor(n,t){super(n),this.snapshot=t,pm(this,n)}toString(){return this.snapshot.toString()}}function s0(e,n){const t=function oB(e,n){const s=new _l([],{},{},"",{},ie,n,null,{});return new c0("",new Ir(s,[]))}(0,n),r=new Zt([new ka("",{})]),i=new Zt({}),o=new Zt({}),s=new Zt({}),a=new Zt(""),u=new Ri(r,i,s,a,o,ie,n,t.root);return u.snapshot=t.root,new o0(new Ir(u,[]),t)}class Ri{constructor(n,t,r,i,o,s,a,u){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ge(l=>l[Oa]))??q(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ge(n=>qo(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ge(n=>qo(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function a0(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function sB(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class _l{get title(){return this.data?.[Oa]}constructor(n,t,r,i,o,s,a,u,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class c0 extends r0{constructor(n,t){super(t),this.url=n,pm(this,t)}toString(){return u0(this._root)}}function pm(e,n){n.value._routerState=e,n.children.forEach(t=>pm(e,t))}function u0(e){const n=e.children.length>0?` { ${e.children.map(u0).join(", ")} } `:"";return`${e.value}${n}`}function mm(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,rr(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),rr(n.params,t.params)||e.paramsSubject.next(t.params),function D$(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!rr(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),rr(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function gm(e,n){const t=rr(e.params,n.params)&&function S$(e,n){return Ai(e,n)&&e.every((t,r)=>rr(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||gm(e.parent,n.parent))}let vm=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ie,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=k(za),this.location=k(on),this.changeDetector=k(Ao),this.environmentInjector=k(tn),this.inputBinder=k(Dl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new M(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new M(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new M(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new M(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new aB(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275dir=G({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vn]})}return e})();class aB{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Ri?this.route:n===za?this.childContexts:this.parent.get(n,t)}}const Dl=new P("");let l0=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=dl([r.queryParams,r.params,r.data]).pipe(Mn(([o,s,a],u)=>(a={...o,...s,...a},0===u?q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function $k(e){const n=fe(e);if(!n)return null;const t=new $s(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})();function Ha(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function uB(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ha(e,r,i);return Ha(e,r)})}(e,n,t);return new Ir(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ha(e,a)),s}}const r=function lB(e){return new Ri(new Zt(e.url),new Zt(e.params),new Zt(e.queryParams),new Zt(e.fragment),new Zt(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>Ha(e,o));return new Ir(r,i)}}const ym="ngNavigationCancelingError";function d0(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Ni(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=f0(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function f0(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[ym]=!0,r.cancellationCode=n,t&&(r.url=t),r}function h0(e){return e&&e[ym]}let p0=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["ng-component"]],standalone:!0,features:[D_],decls:1,vars:0,template:function(r,i){1&r&&O(0,"router-outlet")},dependencies:[vm],encapsulation:2})}return e})();function wm(e){const n=e.children&&e.children.map(wm),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==ie&&(t.component=p0),t}function Bn(e){return e.outlet||ie}function Ua(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class yB{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),mm(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Zo(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Zo(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Zo(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=Zo(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new rB(o.value.snapshot))}),n.children.length&&this.forwardEvent(new tB(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(mm(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mm(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=Ua(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class m0{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Cl{constructor(n,t){this.component=n,this.route=t}}function wB(e,n,t){const r=e._root;return Ga(r,n?n._root:null,t,[r.value])}function Yo(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function sS(e){return null!==tc(e)}(e)?n.get(e):e:r}function Ga(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Zo(n);return e.children.forEach(s=>{(function _B(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function DB(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Ai(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Ai(e.url,n.url)||!rr(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gm(e,n)||!rr(e.queryParams,n.queryParams);default:return!gm(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new m0(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Ga(e,n,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Cl(a.outlet.component,s))}else s&&qa(n,a,i),i.canActivateChecks.push(new m0(r)),Ga(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qa(a,t.getContext(s),i)),i}function qa(e,n,t){const r=Zo(e),i=e.value;Object.entries(r).forEach(([o,s])=>{qa(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new Cl(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function Wa(e){return"function"==typeof e}function g0(e){return e instanceof fl||"EmptyError"===e?.name}const Il=Symbol("INITIAL_VALUE");function Qo(){return Mn(e=>dl(e.map(n=>n.pipe(Jr(1),function h$(...e){const n=is(e);return Ke((t,r)=>{(n?nm(e,t,n):nm(e,t)).subscribe(r)})}(Il)))).pipe(ge(n=>{for(const t of n)if(!0!==t){if(t===Il)return Il;if(!1===t||t instanceof Wo)return t}return!0}),tr(n=>n!==Il),Jr(1)))}function v0(e){return function u1(...e){return Pm(e)}(bt(n=>{if(Ni(n))throw d0(0,n)}),ge(n=>!0===n))}class xl{constructor(n){this.segmentGroup=n||null}}class y0{constructor(n){this.urlTree=n}}function Jo(e){return Ra(new xl(e))}function w0(e){return Ra(new y0(e))}class zB{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new M(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[ie])return Ra(new M(4e3,!1));i=i.children[ie]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new Wo(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(n,u,r,i)}),new xe(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new M(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const bm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HB(e,n,t,r,i){const o=_m(e,n,t);return o.matched?(r=function fB(e,n){return e.providers&&!e._injector&&(e._injector=uh(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function jB(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?q(i.map(s=>{const a=Yo(s,e);return Kr(function MB(e){return e&&Wa(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(Qo(),v0()):q(!0)}(r,n,t).pipe(ge(s=>!0===s?o:{...bm}))):q(o)}function _m(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...bm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||_$)(t,e,n);if(!i)return{...bm};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function b0(e,n,t,r){return t.length>0&&function qB(e,n,t){return t.some(r=>Sl(e,n,r)&&Bn(r)!==ie)}(e,t,r)?{segmentGroup:new xe(n,GB(r,new xe(t,e.children))),slicedSegments:[]}:0===t.length&&function WB(e,n,t){return t.some(r=>Sl(e,n,r))}(e,t,r)?{segmentGroup:new xe(e.segments,UB(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new xe(e.segments,e.children),slicedSegments:t}}function UB(e,n,t,r,i){const o={};for(const s of r)if(Sl(e,t,s)&&!i[Bn(s)]){const a=new xe([],{});o[Bn(s)]=a}return{...i,...o}}function GB(e,n){const t={};t[ie]=n;for(const r of e)if(""===r.path&&Bn(r)!==ie){const i=new xe([],{});t[Bn(r)]=i}return t}function Sl(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class QB{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new zB(this.urlSerializer,this.urlTree)}noMatchError(n){return new M(4002,!1)}recognize(){const n=b0(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,ie).pipe(Ti(t=>{if(t instanceof y0)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof xl?this.noMatchError(t):t}),ge(t=>{const r=new _l([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ie,this.rootComponentType,null,{}),i=new Ir(r,t),o=new c0("",i),s=function B$(e,n,t=null,r=null){return Zx(Xx(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,ie).pipe(Ti(r=>{throw r instanceof xl?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=a0(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return et(i).pipe(Po(o=>{const s=r.children[o],a=function gB(e,n){const t=e.filter(r=>Bn(r)===n);return t.push(...e.filter(r=>Bn(r)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function g$(e,n){return Ke(function m$(e,n,t,r,i){return(o,s)=>{let a=t,u=n,l=0;o.subscribe(Qe(s,h=>{const p=l++;u=a?e(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),hl(null),function v$(e,n){const t=arguments.length>=2;return r=>r.pipe(e?tr((i,o)=>e(i,o,r)):Sr,im(1),t?hl(n):Px(()=>new fl))}(),at(o=>{if(null===o)return Jo(r);const s=_0(o);return function JB(e){e.sort((n,t)=>n.value.outlet===ie?-1:t.value.outlet===ie?1:n.value.outlet.localeCompare(t.value.outlet))}(s),q(s)}))}processSegment(n,t,r,i,o,s){return et(t).pipe(Po(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s).pipe(Ti(u=>{if(u instanceof xl)return q(null);throw u}))),Mi(a=>!!a),Ti(a=>{if(g0(a))return function ZB(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?q([]):Jo(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,a){return function XB(e,n,t,r){return!!(Bn(e)===r||r!==ie&&Sl(n,t,e))&&("**"===e.path||_m(n,e,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s):Jo(i):Jo(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?w0(o):this.applyRedirects.lineralizeSegments(r,o).pipe(at(s=>{const a=new xe(s,{});return this.processSegment(n,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:h}=_m(t,i,o);if(!a)return Jo(t);const p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?w0(p):this.applyRedirects.lineralizeSegments(i,p).pipe(at(m=>this.processSegment(n,r,t,m.concat(l),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?Lx(i).parameters:{};a=q({snapshot:new _l(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D0(r),Bn(r),r.component??r._loadedComponent??null,r,C0(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=HB(t,r,i,n).pipe(ge(({matched:u,consumedSegments:l,remainingSegments:h,parameters:p})=>u?{snapshot:new _l(l,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,D0(r),Bn(r),r.component??r._loadedComponent??null,r,C0(r)),consumedSegments:l,remainingSegments:h}:null));return a.pipe(Mn(u=>null===u?Jo(t):this.getChildConfig(n=r._injector??n,r,i).pipe(Mn(({routes:l})=>{const h=r._loadedInjector??n,{snapshot:p,consumedSegments:m,remainingSegments:g}=u,{segmentGroup:v,slicedSegments:w}=b0(t,m,g,l);if(0===w.length&&v.hasChildren())return this.processChildren(h,l,v).pipe(ge(C=>null===C?null:[new Ir(p,C)]));if(0===l.length&&0===w.length)return q([new Ir(p,[])]);const b=Bn(r)===o;return this.processSegment(h,l,v,w,b?ie:o,!0).pipe(ge(C=>[new Ir(p,C)]))}))))}getChildConfig(n,t,r){return t.children?q({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?q({routes:t._loadedRoutes,injector:t._loadedInjector}):function VB(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(s=>{const a=Yo(s,e);return Kr(function IB(e){return e&&Wa(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(Qo(),v0())}(n,t,r).pipe(at(i=>i?this.configLoader.loadChildren(n,t).pipe(bt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function BB(e){return Ra(f0(!1,3))}())):q({routes:[],injector:n})}}function KB(e){const n=e.value.routeConfig;return n&&""===n.path}function _0(e){const n=[],t=new Set;for(const r of e){if(!KB(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=_0(r.children);n.push(new Ir(r.value,i))}return n.filter(r=>!t.has(r))}function D0(e){return e.data||{}}function C0(e){return e.resolve||{}}function I0(e){return"string"==typeof e.title||null===e.title}function Dm(e){return Mn(n=>{const t=e(n);return t?et(t).pipe(ge(()=>n)):q(n)})}const Ko=new P("ROUTES");let Cm=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(gD)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Kr(t.loadComponent()).pipe(ge(x0),bt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),pa(()=>{this.componentLoaders.delete(t)})),i=new kx(r,()=>new pn).pipe(rm());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function s4(e,n,t,r){return Kr(e.loadChildren()).pipe(ge(x0),at(i=>i instanceof b_||Array.isArray(i)?q(i):et(n.compileModuleAsync(i))),ge(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Ko,[],{optional:!0,self:!0}).flat()),{routes:s.map(wm),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(pa(()=>{this.childrenLoaders.delete(r)})),s=new kx(o,()=>new pn).pipe(rm());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function x0(e){return function a4(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let El=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pn,this.transitionAbortSubject=new pn,this.configLoader=k(Cm),this.environmentInjector=k(tn),this.urlSerializer=k(Pa),this.rootContexts=k(za),this.inputBindingEnabled=null!==k(Dl,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new K$(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new J$(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Zt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ja,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(tr(o=>0!==o.id),ge(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Mn(o=>{this.currentTransition=o;let s=!1,a=!1;return q(o).pipe(bt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mn(u=>{const l=u.currentBrowserUrl.toString(),h=!t.navigated||u.extractedUrl.toString()!==l||l!==u.currentUrlTree.toString();if(!h&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new Xo(u.id,this.urlSerializer.serialize(u.rawUrl),m,0)),u.resolve(null),zn}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return q(u).pipe(Mn(m=>{const g=this.transitions?.getValue();return this.events.next(new $a(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),g!==this.transitions?.getValue()?zn:Promise.resolve(m)}),function e4(e,n,t,r,i,o){return at(s=>function YB(e,n,t,r,i,o,s="emptyOnly"){return new QB(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(ge(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),bt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects};const g=new t0(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(g)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:m,extractedUrl:g,source:v,restoredState:w,extras:b}=u,C=new $a(m,this.urlSerializer.serialize(g),v,w);this.events.next(C);const _=s0(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:_,urlAfterRedirects:g,extras:{...b,skipLocationChange:!1,replaceUrl:!1}},q(o)}{const m="";return this.events.next(new Xo(u.id,this.urlSerializer.serialize(u.extractedUrl),m,1)),u.resolve(null),zn}}),bt(u=>{const l=new X$(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ge(u=>(this.currentTransition=o={...u,guards:wB(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function AB(e,n){return at(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?q({...t,guardsResult:!0}):function NB(e,n,t,r){return et(e).pipe(at(i=>function LB(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?q(o.map(a=>{const u=Ua(n)??i,l=Yo(a,u);return Kr(function EB(e){return e&&Wa(e.canDeactivate)}(l)?l.canDeactivate(e,n,t,r):u.runInContext(()=>l(e,n,t,r))).pipe(Mi())})).pipe(Qo()):q(!0)}(i.component,i.route,t,n,r)),Mi(i=>!0!==i,!0))}(s,r,i,e).pipe(at(a=>a&&function CB(e){return"boolean"==typeof e}(a)?function RB(e,n,t,r){return et(n).pipe(Po(i=>nm(function kB(e,n){return null!==e&&n&&n(new eB(e)),q(!0)}(i.route.parent,r),function OB(e,n){return null!==e&&n&&n(new nB(e)),q(!0)}(i.route,r),function FB(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function bB(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>Ox(()=>q(s.guards.map(u=>{const l=Ua(s.node)??t,h=Yo(u,l);return Kr(function SB(e){return e&&Wa(e.canActivateChild)}(h)?h.canActivateChild(r,e):l.runInContext(()=>h(r,e))).pipe(Mi())})).pipe(Qo())));return q(o).pipe(Qo())}(e,i.path,t),function PB(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(o=>Ox(()=>{const s=Ua(n)??t,a=Yo(o,s);return Kr(function xB(e){return e&&Wa(e.canActivate)}(a)?a.canActivate(n,e):s.runInContext(()=>a(n,e))).pipe(Mi())}));return q(i).pipe(Qo())}(e,i.route,t))),Mi(i=>!0!==i,!0))}(r,o,e,n):q(a)),ge(a=>({...t,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),bt(u=>{if(o.guardsResult=u.guardsResult,Ni(u.guardsResult))throw d0(0,u.guardsResult);const l=new Z$(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),tr(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),Dm(u=>{if(u.guards.canActivateChecks.length)return q(u).pipe(bt(l=>{const h=new Y$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),Mn(l=>{let h=!1;return q(l).pipe(function t4(e,n){return at(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=0;return et(i).pipe(Po(s=>function n4(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!I0(i)&&(o[Oa]=i.title),function r4(e,n,t,r){const i=function i4(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return q({});const o={};return et(i).pipe(at(s=>function o4(e,n,t,r){const i=Ua(n)??r,o=Yo(e,i);return Kr(o.resolve?o.resolve(n,t):i.runInContext(()=>o(n,t)))}(e[s],n,t,r).pipe(Mi(),bt(a=>{o[s]=a}))),im(1),function y$(e){return ge(()=>e)}(o),Ti(s=>g0(s)?zn:Ra(s)))}(o,e,n,r).pipe(ge(s=>(e._resolvedData=s,e.data=a0(e,t).resolve,i&&I0(i)&&(e.data[Oa]=i.title),null)))}(s.route,r,e,n)),bt(()=>o++),im(1),at(s=>o===i.length?q(t):zn))})}(t.paramsInheritanceStrategy,this.environmentInjector),bt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",2)}}))}),bt(l=>{const h=new Q$(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Dm(u=>{const l=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(bt(m=>{h.component=m}),ge(()=>{})));for(const m of h.children)p.push(...l(m));return p};return dl(l(u.targetSnapshot.root)).pipe(hl(),Jr(1))}),Dm(()=>this.afterPreactivation()),ge(u=>{const l=function cB(e,n,t){const r=Ha(e,n._root,t?t._root:void 0);return new o0(r,n)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:l},o}),bt(()=>{this.events.next(new lm)}),((e,n,t,r)=>ge(i=>(new yB(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Jr(1),bt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ei(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function w$(e){return Ke((n,t)=>{Xt(e).subscribe(Qe(t,()=>t.complete(),Nl)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(bt(u=>{throw u}))),pa(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Ti(u=>{if(a=!0,h0(u))this.events.next(new Ba(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function dB(e){return h0(e)&&Ni(e.url)}(u)?this.events.next(new dm(u.url)):o.resolve(!1);else{this.events.next(new bl(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(u))}catch(l){o.reject(l)}}return zn}))}))}cancelNavigationTransition(t,r,i){const o=new Ba(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function S0(e){return e!==ja}let E0=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(t){return t.data[Oa]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:function(){return k(c4)},providedIn:"root"})}return e})(),c4=(()=>{class e extends E0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||e)(j(LC))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),u4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:function(){return k(d4)},providedIn:"root"})}return e})();class l4{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let d4=(()=>{class e extends l4{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(e)))(i||e)}}();static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ml=new P("",{providedIn:"root",factory:()=>({})});let f4=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:function(){return k(h4)},providedIn:"root"})}return e})(),h4=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xa=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Xa||{});function M0(e,n){e.events.pipe(tr(t=>t instanceof ei||t instanceof Ba||t instanceof bl||t instanceof Xo),ge(t=>t instanceof ei||t instanceof Xo?Xa.COMPLETE:t instanceof Ba&&(0===t.code||1===t.code)?Xa.REDIRECTING:Xa.FAILED),tr(t=>t!==Xa.REDIRECTING),Jr(1)).subscribe(()=>{n()})}function p4(e){throw e}function m4(e,n,t){return n.parse("/")}const g4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=k(mD),this.isNgZoneEnabled=!1,this._events=new pn,this.options=k(Ml,{optional:!0})||{},this.pendingTasks=k(bu),this.errorHandler=this.options.errorHandler||p4,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||m4,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=k(f4),this.routeReuseStrategy=k(u4),this.titleStrategy=k(E0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=k(Ko,{optional:!0})?.flat()??[],this.navigationTransitions=k(El),this.urlSerializer=k(Pa),this.location=k(Hh),this.componentInputBindingEnabled=!!k(Dl,{optional:!0}),this.eventsSubscription=new Wt,this.isNgZoneEnabled=k(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Wo,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=s0(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(T0(r)&&this._events.next(r));if(r instanceof $a)S0(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Xo)this.rawUrlTree=i.rawUrl;else if(r instanceof t0){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof lm)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Ba)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof dm){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||S0(i.source)};this.scheduleNavigation(o,ja,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof bl&&this.restoreHistory(i,!0),r instanceof ei&&(this.navigated=!0),T0(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ja,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(wm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s;let p,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=Xx(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return Zx(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ni(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ja,null,r)}navigate(t,r={skipLocationChange:!1}){return function y4(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new M(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...g4}:!1===r?{...v4}:r,Ni(t))return jx(this.currentUrlTree,t,i);const o=this.parseUrl(t);return jx(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});const h=this.pendingTasks.add();return M0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function T0(e){return!(e instanceof lm||e instanceof dm)}let Ge=(()=>{class e{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new pn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof ei&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function xy(e,n,t){return function lT(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?Iy:Cy}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||e)(I(fn),I(Ri),function Dc(e){return function AE(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(mg(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===n)return t[i+1];i+=2}}}return null}(dt(),e)}("tabindex"),I(On),I(mt),I(wi))};static#t=this.\u0275dir=G({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&N("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&jt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",No],skipLocationChange:["skipLocationChange","skipLocationChange",No],replaceUrl:["replaceUrl","replaceUrl",No],routerLink:"routerLink"},standalone:!0,features:[jw,vn]})}return e})(),A0=(()=>{class e{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Le,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof ei&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(Oi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=et(t).pipe(Oi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function w4(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static#e=this.\u0275fac=function(r){return new(r||e)(I(fn),I(mt),I(On),I(Ao),I(Ge,8))};static#t=this.\u0275dir=G({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&function Z_(e,n,t,r){const i=he();if(i.firstCreatePass){const o=dt();Q_(i,new q_(n,t,r),o.index),function dO(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(i,e),2==(2&t)&&(i.staticContentQueries=!0)}Y_(i,x(),t)}(o,Ge,5),2&r){let s;yh(s=wh())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[vn]})}return e})();class N0{}let b4=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(tr(t=>t instanceof ei),Po(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=uh(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return et(i).pipe(Oi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):q(null);const o=i.pipe(at(s=>null===s?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?et([o,this.loader.loadComponent(r)]).pipe(Oi()):o})}static#e=this.\u0275fac=function(r){return new(r||e)(j(fn),j(gD),j(tn),j(N0),j(Cm))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Im=new P("");let R0=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $a?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ei?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Xo&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof n0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new n0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function fw(){throw new Error("invalid")}()};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})();function xr(e,n){return{\u0275kind:e,\u0275providers:n}}function k0(){const e=k(nn);return n=>{const t=e.get(To);if(n!==t.components[0])return;const r=e.get(fn),i=e.get(P0);1===e.get(xm)&&r.initialNavigation(),e.get(F0,null,ce.Optional)?.setUpPreloading(),e.get(Im,null,ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const P0=new P("",{factory:()=>new pn}),xm=new P("",{providedIn:"root",factory:()=>1}),F0=new P("");function I4(e){return xr(0,[{provide:F0,useExisting:b4},{provide:N0,useExisting:e}])}const L0=new P("ROUTER_FORROOT_GUARD"),S4=[Hh,{provide:Pa,useClass:om},fn,za,{provide:Ri,useFactory:function O0(e){return e.routerState.root},deps:[fn]},Cm,[]];function E4(){return new CD("Router",fn)}let V0=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[S4,[],{provide:Ko,multi:!0,useValue:t},{provide:L0,useFactory:N4,deps:[[fn,new xc,new Sc]]},{provide:Ml,useValue:r||{}},r?.useHash?{provide:wi,useClass:Gk}:{provide:wi,useClass:KD},{provide:Im,useFactory:()=>{const e=k(uF),n=k(Ee),t=k(Ml),r=k(El),i=k(Pa);return t.scrollOffset&&e.setOffset(t.scrollOffset),new R0(i,r,e,n,t)}},r?.preloadingStrategy?I4(r.preloadingStrategy).\u0275providers:[],{provide:CD,multi:!0,useFactory:E4},r?.initialNavigation?R4(r):[],r?.bindToComponentInputs?xr(8,[l0,{provide:Dl,useExisting:l0}]).\u0275providers:[],[{provide:j0,useFactory:k0},{provide:Oh,multi:!0,useExisting:j0}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Ko,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||e)(j(L0,8))};static#t=this.\u0275mod=Qt({type:e});static#n=this.\u0275inj=Nt({})}return e})();function N4(e){return"guarded"}function R4(e){return["disabled"===e.initialNavigation?xr(3,[{provide:xh,multi:!0,useFactory:()=>{const n=k(fn);return()=>{n.setUpLocationChangeListener()}}},{provide:xm,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?xr(2,[{provide:xm,useValue:0},{provide:xh,multi:!0,deps:[nn],useFactory:n=>{const t=n.get(Hk,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(fn),o=n.get(P0);M0(i,()=>{r(!0)}),n.get(El).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const j0=new P(""),U={datasource:{id:"datasource",name:"Datasource"},settings:{id:"settings",name:"Settings"},adapter:{id:"adapter",name:"Adapter"},adapterProps:{id:"adapter",name:"Adapter props"},adapterMethods:{id:"adapter",name:"Adapter methods"},experimental:{id:"experimental",name:"Experimental"}},F={datasource:{...U.datasource,map:{datasourceGetSignatures:{id:"datasource-get-signatures",name:"Get-method signatures",scope:U.datasource.id},unlimitedBidirectional:{id:"unlimited-bidirectional",name:"Unlimited bidirectional",scope:U.datasource.id},limited:{id:"limited",name:"Limited",scope:U.datasource.id},positiveLimitedIndexes:{id:"positive-limited-indexes",name:"Positive limited",scope:U.datasource.id},remote:{id:"remote",name:"Remote",scope:U.datasource.id},invertedIndexes:{id:"inverted-indexes",name:"Inverted",scope:U.datasource.id},pages:{id:"pages",name:"Pages",scope:U.datasource.id}}},settings:{...U.settings,map:{noSettings:{id:"no-settings",name:"No settings",scope:U.settings.id},bufferSize:{id:"buffer-size",name:"bufferSize",scope:U.settings.id},padding:{id:"padding",name:"padding",scope:U.settings.id},itemSize:{id:"item-size",name:"itemSize",scope:U.settings.id},startIndex:{id:"start-index",name:"startIndex",scope:U.settings.id},minMaxIndexes:{id:"min-max-indexes",name:"minIndex / maxIndex",scope:U.settings.id},infiniteMode:{id:"infinite-mode",name:"Infinite mode",scope:U.settings.id},horizontalMode:{id:"horizontal-mode",name:"Horizontal mode",scope:U.settings.id},differentItemHeights:{id:"different-item-heights",name:"Different item heights",scope:U.settings.id},windowViewport:{id:"window-viewport",name:"Entire window scrollable",scope:U.settings.id}}},adapter:{...U.adapter,map:[]},adapterProps:{...U.adapterProps,map:{init:{id:"init",name:"Initialization",scope:U.adapterProps.id},packageInfo:{id:"package-info",name:"Package info",scope:U.adapterProps.id},isLoading:{id:"is-loading",name:"Is loading?",scope:U.adapterProps.id},isLoadingAdvanced:{id:"is-loading-advanced",name:"Is loading, advanced",scope:U.adapterProps.id},itemsCount:{id:"items-count",name:"Buffer items counter",scope:U.adapterProps.id},bufferInfo:{id:"buffer-info",name:"Buffer info",scope:U.adapterProps.id},bofEof:{id:"bof-eof",name:"Begin/end of file",scope:U.adapterProps.id},firstLastVisible:{id:"first-last-visible-items",name:"First and last visible items",scope:U.adapterProps.id}}},adapterMethods:{...U.adapterMethods,map:{returnValue:{id:"return-value",name:"Return value",scope:U.adapter.id},relax:{id:"relax",name:"Relax",scope:U.adapter.id},reload:{id:"reload",name:"Reload",scope:U.adapter.id},reset:{id:"reset",name:"Reset",scope:U.adapter.id},check:{id:"check-size",name:"Check size",scope:U.adapterMethods.id},clip:{id:"clip",name:"Clip",scope:U.adapterMethods.id},appendPrepend:{id:"append-prepend",name:"Append / prepend",scope:U.adapterMethods.id},appendPrependSync:{id:"append-prepend-sync",name:"Append / prepend sync",scope:U.adapterMethods.id},insert:{id:"insert",name:"Insert",scope:U.adapterMethods.id},remove:{id:"remove",name:"Remove",scope:U.adapterMethods.id},replace:{id:"replace",name:"Replace",scope:U.adapterMethods.id},update:{id:"update",name:"Update",scope:U.adapterMethods.id}}},experimental:{...U.experimental,map:{viewportElementSetting:{id:"viewportElement-setting",name:"viewportElement setting",scope:U.experimental.id},inverseSetting:{id:"inverse-setting",name:"inverse setting",scope:U.experimental.id},adapterFixPosition:{id:"adapter-fix-position",name:"Adapter fix-position method",scope:U.experimental.id},adapterFixUpdater:{id:"adapter-fix-updater",name:"Adapter fix-updater method",scope:U.experimental.id},adapterFixScrollToItem:{id:"adapter-fix-scrollToItem",name:"Adapter fix-scrollToItem method",scope:U.experimental.id},onBeforeClipSetting:{id:"onBeforeClip-setting",name:"onBeforeClip setting",scope:U.experimental.id},adapterPauseResume:{id:"adapter-pause-resume",name:"Adapter pause/resume methods",scope:U.experimental.id},routines:{id:"routines",name:"Routines",scope:U.experimental.id}}}},$0=Object.values(F).map(e=>({...e,map:Object.values(e.map).map(n=>n)})),j4=function(){return{exact:!0}},Sm=function(e){return[e]};let $4=(()=>{class e{constructor(){this.demos=F}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-nav"]],decls:34,vars:14,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container"],["href","https://github.com/dhilt/ngx-ui-scroll","aria-label","View source on Github",1,"github-corner"],["width","80","height","80","viewBox","0 0 250 250","aria-hidden","true",2,"fill","#fff","color","#343a40","position","absolute","top","0","border","0","left","auto","right","0"],["d","M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"],["d","M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2","fill","currentColor",1,"octo-arm",2,"transform-origin","130px 106px"],["d","M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z","fill","currentColor",1,"octo-body"],[1,"main-menu"],["href","https://github.com/dhilt/ngx-ui-scroll",1,"navbar-brand"],["routerLink","/","routerLinkActive","active",1,"navbar-link",3,"routerLinkActiveOptions"],["routerLinkActive","active",1,"navbar-link",3,"routerLink"],["routerLink","/adapter","routerLinkActive","active",1,"navbar-link"],[1,"copyrights"],["href","https://github.com/dhilt"],["href","http://www.hill30.com/"],["href","https://github.com/dhilt/ngx-ui-scroll?sponsor=1","role","link","target","_blank","rel","noopener noreferrer",1,"support"],[1,"support_icon"]],template:function(r,i){1&r&&(f(0,"nav",0)(1,"div",1)(2,"a",2),function fv(){X.lFrame.currentNamespace="svg"}(),f(3,"svg",3),O(4,"path",4)(5,"path",5)(6,"path",6),d()(),function hv(){!function _E(){X.lFrame.currentNamespace=null}()}(),f(7,"div",7)(8,"a",8),c(9,"ngx-ui-scroll"),d(),f(10,"a",9),c(11,"Home"),d(),f(12,"a",10),c(13),d(),f(14,"a",10),c(15),d(),f(16,"a",11),c(17,"Adapter"),d(),f(18,"a",10),c(19),d()(),O(20,"br"),f(21,"span",12),c(22," 2023\xa0\xa9\xa0"),f(23,"a",13),c(24,"dhilt"),d(),c(25,", "),f(26,"a",14),c(27,"Hill30\xa0Inc"),d(),O(28,"br"),f(29,"a",15)(30,"span",16),c(31,"\u{1f449}"),d(),c(32,"\xa0\xa0Support\xa0Project "),d()(),O(33,"br"),d()()),2&r&&(y(10),D("routerLinkActiveOptions",function T_(e,n,t){const r=Ct()+e,i=x();return i[r]===ee?Yn(i,r,t?n.call(t):n()):function Bs(e,n){return e[n]}(i,r)}(7,j4)),y(2),D("routerLink",pe(8,Sm,i.demos.datasource.id)),y(1),z(i.demos.datasource.name),y(1),D("routerLink",pe(10,Sm,i.demos.settings.id)),y(1),z(i.demos.settings.name),y(3),D("routerLink",pe(12,Sm,i.demos.experimental.id)),y(1),z(i.demos.experimental.name))},dependencies:[Ge,A0],styles:[".github-corner[_ngcontent-%COMP%]:hover   .octo-arm[_ngcontent-%COMP%] {\n        animation: _ngcontent-%COMP%_octocat-wave 560ms ease-in-out;\n      }\n\n      @keyframes _ngcontent-%COMP%_octocat-wave {\n        0%,\n        100% {\n          transform: rotate(0);\n        }\n        20%,\n        60% {\n          transform: rotate(-25deg);\n        }\n        40%,\n        80% {\n          transform: rotate(10deg);\n        }\n      }\n\n      @media (max-width: 500px) {\n        .github-corner[_ngcontent-%COMP%]:hover   .octo-arm[_ngcontent-%COMP%] {\n          animation: none;\n        }\n\n        .github-corner[_ngcontent-%COMP%]   .octo-arm[_ngcontent-%COMP%] {\n          animation: _ngcontent-%COMP%_octocat-wave 560ms ease-in-out;\n        }\n      }"]})}return e})();function B4(e,n){1&e&&(f(0,"div"),O(1,"app-nav"),f(2,"div",2),O(3,"router-outlet"),d()())}function z4(e,n){1&e&&(f(0,"div",3),O(1,"router-outlet"),d())}let H4=(()=>{class e{constructor(t,r){this.route=t,this.router=r,this.hasLayout=!0,this.subscriptions=[],this.subscriptions.push(r.events.pipe(tr(i=>i instanceof $a)).subscribe(i=>{const o=i.url;this.hasLayout=!("/window"===o||"/test"===o),"/window"===o?document.body.classList.add("entire-window"):document.body.classList.remove("entire-window"),o.includes("#")||window.scrollTo(0,0)})),"scrollRestoration"in history&&(history.scrollRestoration="manual")}ngAfterViewInit(){this.subscriptions.push(this.route.fragment.subscribe(t=>{t?setTimeout(()=>{const r=document.getElementById(t);r&&r.scrollIntoView()}):window.scrollTo(0,0)}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static#e=this.\u0275fac=function(r){return new(r||e)(I(Ri),I(fn))};static#t=this.\u0275cmp=V({type:e,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","no-layout",4,"ngIf"],[1,"container","mb-5"],[1,"no-layout"]],template:function(r,i){1&r&&(ne(0,B4,4,0,"div",0),ne(1,z4,2,0,"div",1)),2&r&&(D("ngIf",i.hasLayout),y(1),D("ngIf",!i.hasLayout))},dependencies:[Dr,vm,$4],encapsulation:2})}return e})();var S=function(e){return e.Component="Component",e.Template="Template",e.Styles="CSS",e.Datasource="Datasource",e.Server="Server",e}(S||{});const U4=function(e){return["../",e]};let es=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-title"]],inputs:{config:"config"},decls:4,vars:6,consts:[[3,"id"],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"h3",0),c(1),f(2,"a",1),c(3,"#"),d()()),2&r&&(B("id",i.config.id),y(1),H(" ",i.config.name," "),y(1),B("fragment",i.config.id),D("routerLink",pe(4,U4,i.config.scope)))},dependencies:[Ge],encapsulation:2})}return e})();function G4(e,n){if(1&e&&(f(0,"tab",5)(1,"pre",6),c(2),d()()),2&e){const t=n.index,r=ve(3);B("heading",r.sources[t].name),D("active",r.sources[t].active),y(2),z(r.sources[t].text)}}function q4(e,n){if(1&e&&(f(0,"tabset"),ne(1,G4,3,3,"tab",4),d()),2&e){const t=ve(2);y(1),D("ngForOf",t.sources)}}function W4(e,n){if(1&e&&(f(0,"pre",6),c(1),d()),2&e){const t=ve(2);y(1),z(t.sources[0].text)}}function X4(e,n){if(1&e&&(f(0,"div",1),ne(1,q4,2,1,"tabset",2),ne(2,W4,2,1,"pre",3),d()),2&e){const t=ve();y(1),D("ngIf",t.sources.length>1),y(1),D("ngIf",1===t.sources.length)}}let Tl=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-sources"]],inputs:{sources:"sources"},decls:1,vars:1,consts:[["class","sources",4,"ngIf"],[1,"sources"],[4,"ngIf"],["class","prettyprint",4,"ngIf"],[3,"heading","active",4,"ngFor","ngForOf"],[3,"heading","active"],[1,"prettyprint"]],template:function(r,i){1&r&&ne(0,X4,3,2,"div",0),2&r&&D("ngIf",i.sources&&i.sources.length)},dependencies:[sa,Dr,ax,Bp],encapsulation:2})}return e})();function Z4(e,n){1&e&&c(0),2&e&&z(n.item.text)}function Y4(e,n){}const Q4=function(e,n){return{item:e,index:n}};function J4(e,n){if(1&e&&(f(0,"div")(1,"div"),ne(2,Y4,0,0,"ng-template",13),d()()),2&e){const t=n.$implicit,r=n.index,i=ve(2),o=Fr(1);y(1),hi("item ",i.context.addClass||"",""),gr("height",t.hasOwnProperty("size")?t.size+"px":null),y(1),D("ngTemplateOutlet",i.itemTemplate||o)("ngTemplateOutletContext",A_(7,Q4,t,r))}}function K4(e,n){1&e&&Xf(0)}function e5(e,n){if(1&e&&(f(0,"div"),c(1," Viewport scrollable size: "),f(2,"span"),c(3),d()(),f(4,"div"),c(5," DOM elements count: "),f(6,"span"),c(7),d()(),f(8,"div"),c(9," Datasource.get log "),f(10,"div",18)(11,"pre"),c(12),d()()()),2&e){const t=ve(3);hi("elements ",t.context.addClass||"",""),y(3),z(t.viewport(t.context.viewportId)),y(1),hi("elements ",t.context.addClass||"",""),y(3),z(t.elements(t.context.viewportId)),y(1),hi("datasource ",t.context.addClass||"",""),y(4),z(t.context.log)}}function t5(e,n){if(1&e&&(f(0,"div"),c(1," Datasource.get log "),f(2,"div",18)(3,"pre"),c(4),d()()()),2&e){const t=ve(3);hi("datasource ",t.context.addClass||"",""),y(4),z(t.context.log)}}function n5(e,n){if(1&e&&(f(0,"div",14),ne(1,K4,1,0,"ng-container",15),ne(2,e5,13,12,"ng-template",null,16,Vr),ne(4,t5,5,4,"ng-template",null,17,Vr),d()),2&e){const t=Fr(3),r=Fr(5),i=ve(2);y(1),D("ngIf",!i.context.logViewOnly)("ngIfThen",t)("ngIfElse",r)}}function r5(e,n){if(1&e&&(f(0,"div",7)(1,"div",8)(2,"div",9),ne(3,J4,3,10,"div",10),d()(),ne(4,n5,6,3,"div",11),O(5,"div",12),d()),2&e){const t=ve();y(2),hi("viewport ",t.context.addClass||"",""),B("id",t.context.viewportId||t.context.config.id),y(1),D("uiScrollOf",t.datasource),y(1),D("ngIf",t.init&&!t.context.noInfo)}}const i5=[[["","actions",""]],[["","description",""]]],o5=["[actions]","[description]"];let oe=(()=>{class e{constructor(){this.init=!1}viewport(t){const r=document.getElementById(t);return r?r[this.datasource.settings&&this.datasource.settings.horizontal?"scrollWidth":"scrollHeight"].toString():""}elements(t){const r=document.getElementById(t);return r?((r.children[0].childElementCount||0)-2).toString(10):""}ngOnInit(){setTimeout(()=>{this.sources.every(t=>!t.active)&&(this.sources[0].active=!0),this.init=!0})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo"]],inputs:{datasource:"datasource",context:"context",sources:"sources",itemTemplate:"itemTemplate"},ngContentSelectors:o5,decls:10,vars:3,consts:[["defaultItemTemplate",""],[1,"demo"],[3,"config"],[1,"actions"],["class","work",4,"ngIf"],[3,"sources"],[1,"description"],[1,"work"],[1,"viewport-wrapper"],[3,"id"],[4,"uiScroll","uiScrollOf"],["class","log",4,"ngIf"],[1,"clearfix","mb-3"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"log"],[4,"ngIf","ngIfThen","ngIfElse"],["allView",""],["logView",""],[1,"pre-wrapper"]],template:function(r,i){1&r&&(lu(i5),ne(0,Z4,1,1,"ng-template",null,0,Vr),f(2,"div",1),O(3,"app-demo-title",2),f(4,"div",3),qs(5),d(),ne(6,r5,6,6,"div",4),O(7,"app-demo-sources",5),f(8,"div",6),qs(9,1),d()()),2&r&&(y(3),D("config",i.context.config),y(3),D("ngIf",!i.context.noWorkView),y(1),D("sources",i.sources))},dependencies:[Dr,np,Qr,es,Tl],encapsulation:2})}return e})(),B0=(()=>{class e{constructor(t){this.http=t}getData(t,r){return this.http.get(`/api/data?index=${t}&count=${r}`)}static#e=this.\u0275fac=function(r){return new(r||e)(j(ZI))};static#t=this.\u0275prov=$({token:e,factory:e.\u0275fac})}return e})(),s5=(()=>{class e{constructor(t){this.remoteDataService=t,this.demoContext={config:F.datasource.map.remote,logViewOnly:!0,log:"",count:0},this.datasource={get:(r,i)=>(this.demoContext.log=`${++this.demoContext.count}) get items [${r}..${r+i-1}]\n${this.demoContext.log}`,this.remoteDataService.getData(r,i))},this.sources=[{name:"Service/Component",text:"@Injectable()\nexport class RemoteDataService {\n\n  constructor(private http: HttpClient) {\n  }\n\n  getData(index: number, count: number): Observable<any> {\n    return this.http.get(\n      `/api/data?index=${index}&count=${count}`\n    );\n  }\n}\n\n@Component(...)\nexport class DemoRemoteDatasourceComponent {\n\n  datasource: IDatasource = {\n    get: (index, count) =>\n      this.remoteDataService.getData(index, count)\n  };\n\n  constructor(private remoteDataService: RemoteDataService) {\n  }\n}"},{name:S.Server,text:"const MIN = -99;\nconst MAX = 900;\n\napp.get('/api/data', (req, res) => {\n  const index = parseInt(req.query.index, 10);\n  const count = parseInt(req.query.count, 10);\n  if (isNaN(index) || isNaN(count)) {\n    return res.send([]);\n  }\n  const start = Math.max(MIN, index);\n  const end = Math.min(index + count - 1, MAX);\n  if (start > end) {\n    return res.send([]);\n  }\n  const result = [];\n  for (let i = start; i <= end; i++) {\n    result.push({ id: i, text: 'item #' + i });\n  }\n  res.send(result);\n});"}]}static#e=this.\u0275fac=function(r){return new(r||e)(I(B0))};static#t=this.\u0275cmp=V({type:e,selectors:[["app-remote-datasource"]],decls:16,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," In case the data is accessible via some remote API, the "),f(4,"em"),c(5,"Datasource.get"),d(),c(6," could be implemented using Observable signature. In this demo we have a nodejs application with "),f(7,"em"),c(8,"/api/data"),d(),c(9,' GET request handler ("Server" tab), which emulates a remote limited Datasource implementation. The Component just provides '),f(10,"em"),c(11,"/api/data"),d(),c(12," GET method call inside "),f(13,"em"),c(14,"Datasource.get"),d(),c(15," body. And again, the only requirement is that the API handler on server must return an array of index-count items or empty array if we are out of range. "),d()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})();function a5(e,n){if(1&e&&(f(0,"div")(1,"div",21),c(2),d()()),2&e){const t=n.$implicit,r=n.even;y(1),vr("even",r),y(1),H(" ",t.text," ")}}function c5(e,n){if(1&e&&(f(0,"span")(1,"a",22),c(2),d(),O(3,"br"),d()),2&e){const t=n.$implicit,r=ve().$implicit;y(1),B("routerLink",r.id),B("fragment",t.id),y(1),H(" ",t.name," ")}}function u5(e,n){if(1&e&&(f(0,"div")(1,"h5"),c(2),d(),ne(3,c5,4,3,"span",20),d()),2&e){const t=n.$implicit;y(2),z(t.name),y(1),D("ngForOf",t.map)}}let l5=(()=>{class e{constructor(){this.angularVersion=By.full,this.reloadIndex=999,this.delay=0,this.datasource=new be({get:(t,r,i)=>{const o=[];for(let s=t;s<=t+r-1;s++)o.push({id:s,text:"item #"+s});this.delay?setTimeout(()=>i(o),this.delay):i(o)},settings:{padding:.5,bufferSize:15,itemSize:25,startIndex:1},devSettings:{debug:!1}}),this.sources=[{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource; let even = even">\n    <div class="item" [class.even]="even">\n      {{item.text}}\n    </div>\n  </div>\n</div>'},{name:S.Component,text:"delay = 25;\nreloadIndex = 999;\n\ndatasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    if (this.delay) {\n      setTimeout(() => success(data), this.delay);\n    } else {\n      success(data);\n    }\n  }\n});\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}"},{name:"Adapter",text:'Version:\n{{datasource.adapter.packageInfo.consumer.version}}\n\nCore:\n{{datasource.adapter.packageInfo.core.name}}\nv{{datasource.adapter.packageInfo.core.version}}\n\nFirst visible:\n#{{datasource.adapter.firstVisible.$index}}\n\nLast visible:\n#{{(datasource.adapter.lastVisible$ | async)?.$index}}\n\nItems in DOM:\n{{datasource.adapter.itemsCount}}\n\nIs loading:\n{{datasource.adapter.isLoading}}\n\nDatasource delay (ms):\n<input [(ngModel)]="delay" type="number">\n\nIndex to reload:\n<input [(ngModel)]="reloadIndex" type="number">\n<button (click)="doReload()">Reload</button>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.item.even {\n  background-color: #f2f2f2;\n}"}],this.scopes=U,this.demos=$0,this.demosNotEmpty=$0.filter(({map:t})=>t.length)}doReload(){this.datasource.adapter.reload(this.reloadIndex)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-home"]],decls:76,vars:30,consts:[["href","https://github.com/dhilt/ngx-ui-scroll"],[1,"demo"],[1,"work"],[1,"viewport-wrapper"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"log"],[2,"line-height","25px","margin-bottom","2px"],[2,"display","flex","align-items","center","margin-bottom","2px"],["type","number",2,"width","84px",3,"ngModel","ngModelChange"],[2,"display","flex","align-items","center"],["type","number",2,"width","60px",3,"ngModel","ngModelChange"],[2,"width","60px",3,"click"],[1,"clearfix","mb-3"],[1,"sources"],[3,"heading"],[1,"prettyprint","lang-html"],[1,"prettyprint"],[3,"routerLink"],[1,"demo-examples",2,"display","flex"],[4,"ngFor","ngForOf"],[1,"item"],[3,"routerLink","fragment"]],template:function(r,i){if(1&r&&(f(0,"h1"),c(1,"Angular UI Scroll Demo App"),d(),f(2,"p")(3,"em"),c(4,"ngx-ui-scroll"),d(),c(5," is the Angular library for large datasets virtualization. More information regarding motivation, infrastructure, features, developing can be found on "),f(6,"a",0),c(7,"GitHub"),d(),c(8,". This site is dedicated to practical examples of "),f(9,"em"),c(10,"ngx-ui-scroll"),d(),c(11," usage.\n"),d(),f(12,"div",1)(13,"h3"),c(14,"Common demo"),d(),f(15,"div",2)(16,"div",3)(17,"div",4),ne(18,a5,3,3,"div",5),d()(),f(19,"div",6)(20,"div",7),c(21),O(22,"br"),c(23),O(24,"br"),c(25),O(26,"br"),c(27),gi(28,"async"),O(29,"br"),c(30),O(31,"br"),c(32),O(33,"br"),d(),f(34,"div",8),c(35," Datasource delay (ms):\xa0 "),f(36,"input",9),N("ngModelChange",function(s){return i.delay=s}),d()(),f(37,"div",10),c(38," Index to reload:\xa0 "),f(39,"input",11),N("ngModelChange",function(s){return i.reloadIndex=s}),d(),c(40,"\xa0 "),f(41,"button",12),N("click",function(){return i.doReload()}),c(42,"Reload"),d()()(),O(43,"div",13),d(),f(44,"div",14)(45,"tabset")(46,"tab",15)(47,"pre",16),c(48),d()(),f(49,"tab",15)(50,"pre",17),c(51),d()(),f(52,"tab",15)(53,"pre",16),c(54),d()(),f(55,"tab",15)(56,"pre",17),c(57),d()()()()(),f(58,"p"),c(59," This particular demo includes simplest virtual list template (tab 1), simplest Datasource implementation with no any settings provided (tab 2), some of the Adapter read-only properties output (tab 3), simplest styling (tab 4). Many other samples with all necessary details and explanations can be found at "),f(60,"a",18),c(61),d(),c(62,", "),f(63,"a",18),c(64),d(),c(65,", "),f(66,"a",18),c(67),d(),c(68," and "),f(69,"a",18),c(70),d(),c(71," sections. Below is the list of all examples available in these sections.\n"),d(),f(72,"h3"),c(73,"Example list"),d(),f(74,"div",19),ne(75,u5,4,2,"div",20),d()),2&r){let o;y(18),D("uiScrollOf",i.datasource),y(3),H(" ngx-ui-scroll v",i.datasource.adapter.packageInfo.consumer.version," "),y(2),eh(" (",i.datasource.adapter.packageInfo.core.name," v",i.datasource.adapter.packageInfo.core.version,", angular v",i.angularVersion,") "),y(2),H(" First visible: #",i.datasource.adapter.firstVisible.$index," "),y(2),H(" Last visible: #",null==(o=vi(28,28,i.datasource.adapter.lastVisible$))?null:o.$index," "),y(3),H(" Items in DOM: ",i.datasource.adapter.itemsCount," "),y(2),H(" Is loading: ",i.datasource.adapter.isLoading," "),y(4),D("ngModel",i.delay),y(3),D("ngModel",i.reloadIndex),y(7),B("heading",i.sources[0].name),y(2),z(i.sources[0].text),y(1),B("heading",i.sources[1].name),y(2),z(i.sources[1].text),y(1),B("heading",i.sources[2].name),y(2),z(i.sources[2].text),y(1),B("heading",i.sources[3].name),y(2),z(i.sources[3].text),y(3),B("routerLink",i.scopes.datasource.id),y(1),z(i.scopes.datasource.name),y(2),B("routerLink",i.scopes.settings.id),y(1),z(i.scopes.settings.name),y(2),B("routerLink",i.scopes.adapter.id),y(1),z(i.scopes.adapter.name),y(2),B("routerLink",i.scopes.experimental.id),y(1),z(i.scopes.experimental.name),y(5),D("ngForOf",i.demosNotEmpty)}},dependencies:[sa,zt,Tp,At,yt,ax,Bp,Qr,Ge,aa],encapsulation:2})}return e})();const Sn=(e,n,t,r)=>{e.count=e.count||0,e.log=`${++e.count}) got ${r} items [${n}..${n+t-1}]\n`+e.log},st=(e,n)=>(t,r,i)=>((e,n,t)=>{isNaN(Number(t))?n(e):setTimeout(()=>n(e),Number(t))})(((e,n,t)=>{const r=[];for(let i=n;i<=n+t-1;i++)r.push({id:i,text:"item #"+i});return Sn(e,n,t,r.length),r})(e,t,r),i,n);let f5=(()=>{class e{constructor(){this.demoContext={config:F.settings.map.noSettings,viewportId:"no-settings-viewport",count:0,log:""},this.datasource={get:st(this.demoContext)},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-basic"]],decls:31,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," Speaking of what impact could "),f(4,"em"),c(5,"Settings"),d(),c(6," have on the Scroller behavior, we need to get an idea of its behavior before any settings applied. This demo is the very basic example with no "),f(7,"em"),c(8,"Settings"),d(),c(9," provided. "),d(),f(10,"p"),c(11," Let's first investigate the demo's log. The visible part of the viewport contains 10 items in accordance with CSS: 10 items of 25px each are equal to 250px of the viewport height. "),f(12,"em"),c(13,"Datasource.get"),d(),c(14," log shows that there were 3 requests of 5, 10 and 5 items on the initial load (before any scrolling). So we have 20 DOM elements initially: 15 downward items with positive indexes and 5 upward negative items. 20 items result in 500px and this is the initial viewport scrollable size. "),d(),f(15,"p"),c(16," The viewport scrollable size value can increase only; as we scroll more and more, items flow through the "),f(17,"em"),c(18,"Datasource.get"),d(),c(19,". In this demo the "),f(20,"em"),c(21,"Datasource"),d(),c(22," is unlimited, it produces items with indexes from -Infinity to +Infinity. The number of DOM elements in the viewport is not constant, but it fluctuates around the initial value during scrolling (20-31). The core concept of the virtualization is to keep as small number of real items as needed while the scrollable size of the viewport can be very big. "),d(),f(23,"p"),c(24," Why do we have 3 requests initially, why the first one is about only 5 items, why at least 10 items are invisible? This is how the "),f(25,"em"),c(26,"*uiScroll"),d(),c(27," works and further reading should shed light on the details. But we need to know that the default behavior could be changed via "),f(28,"em"),c(29,"Settings"),d(),c(30," object. "),d()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})(),h5=(()=>{class e{constructor(){this.demoContext={config:F.settings.map.bufferSize,viewportId:"buffer-size-viewport",count:0,log:""},this.datasource={get:st(this.demoContext),settings:{bufferSize:15}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 15\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-buffer-size"]],decls:41,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," The "),f(4,"em"),c(5,"bufferSize"),d(),c(6," property defines minimal number of items that the Scroller may retrieve via "),f(7,"em"),c(8,"Datasource.get"),d(),c(9," method in a single request. In this demo we see that the initial load consists of 2 requests of 15 items (from 1 to 15 and from -14 to 0). Initially the Scroller starts fill the viewport downward from zero scroll position. If the first fetch is enough, the second one will be in the backward direction. The size of these fetches is determined by the "),f(10,"em"),c(11,"bufferSize"),d(),c(12," setting. The next fetches (during scrolling) could ask for more than "),f(13,"em"),c(14,"bufferSize"),d(),c(15," items, but never less than "),f(16,"em"),c(17,"bufferSize"),d(),c(18,". "),d(),f(19,"p"),c(20," The bigger the "),f(21,"em"),c(22,"bufferSize"),d(),c(23," value is, the less requests generally are needed to fill out the viewport. For example, scrolling from 1 to 100 item when the "),f(24,"em"),c(25,"bufferSize"),d(),c(26," is 1, we may see about 40 "),f(27,"em"),c(28,"Datasource.get"),d(),c(29," calls (depends on the environment). But in this demo (where the "),f(30,"em"),c(31,"bufferSize"),d(),c(32," is 15) we may reach the 100th item in about 10 "),f(33,"em"),c(34,"Datasource.get"),d(),c(35," calls. "),d(),f(36,"p"),c(37," The default value of "),f(38,"em"),c(39,"bufferSize"),d(),c(40," property is 5. It has to be a positive integer. The minimum value is 1. "),d()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})(),p5=(()=>{class e{constructor(){this.demoContext={config:F.settings.map.padding,viewportId:"padding-viewport",count:0,log:""},this.datasource={get:st(this.demoContext),settings:{bufferSize:7,padding:1.46}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 7,\n    padding: 1.46\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-padding"]],decls:47,vars:3,consts:[[3,"datasource","context","sources"],["description",""],["href","https://github.com/dhilt/vscroll/wiki/Viewport"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," The "),f(4,"em"),c(5,"padding"),d(),c(6," setting defines an extra space out of the visible part of the viewport that should be filled with items. This provides outlets that determine when the items are to be created/destroyed. See also the "),f(7,"a",2),c(8,"Viewport doc"),d(),c(9," for details. "),d(),f(10,"p"),c(11," The value is relative to the visible size of the viewport. So "),f(12,"em"),c(13,"1.46"),d(),c(14," means that the Scroller would request new items until the areas of 146% of the viewport size in both forward and backward directions are filled with rendered items: 100% + 146% downward and 146% upward. In this demo we have 3 requests on the initial load, let's see what happened: "),d(),f(15,"ol")(16,"li"),c(17," 250px + 1.46 * 250px = 615px \u2014 total size of area that needs to be filled in downward (positive) direction, where 250px is the size of the visible viewport (per CSS) "),d(),f(18,"li"),c(19," 7 items * 25px = 175px \u2014 the result size of the first downward fetch, where "),f(20,"em"),c(21,"bufferSize"),d(),c(22," is 7 and 25px is the item's size (per CSS) "),d(),f(23,"li"),c(24," 615px - 175px = 440px \u2014 downward space which has to be filled during the second downward fetch "),d(),f(25,"li"),c(26," ceil(440px / 25px) = 18 \u2014 the number of items that should fill 440px area during the second downward fetch "),d()(),f(27,"p"),c(28," So we have 2 "),f(29,"em"),c(30,"Datasource.get"),d(),c(31," downward requests for 7 and 18 items. And this is an explanation of the last (initial backward) fetch: "),d(),f(32,"ol")(33,"li"),c(34," 1.46 * 250px = 360px \u2014 upward space that has to be filled in backward (negative) direction "),d(),f(35,"li"),c(36," ceil(360px / 25px) = 15 \u2014 the number of items that should fill 360px during backward fetch "),d()(),f(37,"p"),c(38," This way we got 40 DOM elements (7 + 18 + 15 = 40). The bigger "),f(39,"em"),c(40,"padding"),d(),c(41," value is, the more DOM elements should be present in the viewport. "),d(),f(42,"p"),c(43," The default value of "),f(44,"em"),c(45,"padding"),d(),c(46," property is 0.5. It is a floating point number. The minimum value is 0.01. "),d()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})(),m5=(()=>{class e{constructor(){this.demoContext={config:F.settings.map.itemSize,viewportId:"item-size-viewport",count:0,log:""},this.datasource={get:st(this.demoContext),settings:{itemSize:25}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    itemSize: 25\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-item-size"]],decls:36,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," Another setting which has an impact on the viewport filling procedure is "),f(4,"em"),c(5,"itemSize"),d(),c(6,". After the first fetch is done, the Scroller gets knowledge on average item's size and can make further requests precisely. The "),f(7,"em"),c(8,"itemSize"),d(),c(9," property tells the Scroller that the initial average item's size is determined and could be used right on the first cycle. That's why we have only 2 initial "),f(10,"em"),c(11,"Datasource.get"),d(),c(12," calls in this demo: "),d(),f(13,"ol")(14,"li"),c(15,"250px + 0.5 * 250px = 375px \u2014 downward (positive) size"),d(),f(16,"li"),c(17," ceil(375px / 25px) = 15 \u2014 items number to fill the area of 375px "),d(),f(18,"li"),c(19,"0.5 * 250px = 125px \u2014 upward (negative) size"),d(),f(20,"li"),c(21," ceil(125px / 25px) = 5 \u2014 items number to fill the area of 125px "),d()(),f(22,"p")(23,"em"),c(24,"itemSize"),d(),c(25," don't fix item's size on the template layer, it is just an expectation of average item's size. If we set it to, say, 10, then the first "),f(26,"em"),c(27,"Datasource.get"),d(),c(28," call will result in ceil(375 / 10) = 38 items which will occupy 38 * 25 = 950px downward area. The second fetch will be the same as above, because the Scroller will recalculate average item's size after the first fetch is done. Setting "),f(29,"em"),c(30,"itemSize"),d(),c(31," to, say, 9999 will give us good old 3 fetches: 5 (not 1, because 1 < bufferSize that is 5 by default) and 10 items on forward direction and 5 items on backward direction. "),d(),f(32,"p")(33,"em"),c(34,"itemSize"),d(),c(35," has no default value. If set, it has to be a positive integer. The minimum value is 1. "),d()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})(),g5=(()=>{class e{constructor(){this.demoContext={config:F.settings.map.startIndex,viewportId:"start-index-viewport",count:0,log:""},this.datasource={get:st(this.demoContext),settings:{startIndex:137}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 137\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-start-index"]],decls:18,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," What if we want to start the Scroller from some specific position? The "),f(4,"em"),c(5,"startIndex"),d(),c(6," setting determines what index the Scroller will use to start the load process when "),f(7,"em"),c(8,"Datasource.get"),d(),c(9," method is called for the first time. "),d(),f(10,"p"),c(11," The default "),f(12,"em"),c(13,"startIndex"),d(),c(14," value is 1. It has to be an integer with no range limitations. But real datasource boundaries (in case the "),f(15,"em"),c(16,"Datasource"),d(),c(17," is limited) should be taken into the account. "),d()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})();const H0=function(e){return["/",e]};let v5=(()=>{class e{constructor(){this.demoContext={config:F.settings.map.minMaxIndexes,viewportId:"min-max-indexes-viewport",count:0,log:""},this.datasourceLimitedDemoConfig=F.datasource.map.limited,this.datasourcePositiveLimitedDemoConfig=F.datasource.map.positiveLimitedIndexes,this.datasource={get:st(this.demoContext),settings:{minIndex:1,maxIndex:1e3}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    minIndex: 1,\n    maxIndex: 1000\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-min-max-indexes"]],decls:84,vars:11,consts:[[3,"datasource","context","sources"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," If the boundaries of the dataset are known, we may virtualize all the data items right on the Scroller initialization, in other words the Scroller will maintain forward and backward padding elements of the viewport in assumption that the dataset consists of ("),f(4,"em"),c(5,"maxIndex"),d(),c(6," - "),f(7,"em"),c(8,"minIndex"),d(),c(9,") items. So it will be possible to jump to any position immediately. "),d(),f(10,"p"),c(11," In this demo we tell the Scroller to work with indexes in-between [1..1000] range only. 1000 items of 25px amount 25000px, this is the end viewport scrollable size which will not be changed. "),d(),f(12,"p"),c(13," An important note is that "),f(14,"em"),c(15,"minIndex"),d(),c(16," and "),f(17,"em"),c(18,"maxIndex"),d(),c(19," should stay within the real datasource boundaries. All the demos we discussed before have unlimited datasources, so "),f(20,"em"),c(21,"minIndex"),d(),c(22," and "),f(23,"em"),c(24,"maxIndex"),d(),c(25," could accept any values. But in case the datasource is limited, say, by [MIN..MAX] range, then "),f(26,"em"),c(27,"minIndex"),d(),c(28," should be >= "),f(29,"em"),c(30,"MIN"),d(),c(31," and "),f(32,"em"),c(33,"maxIndex"),d(),c(34," should be <= "),f(35,"em"),c(36,"MAX"),d(),c(37,". An example of limited "),f(38,"em"),c(39,"Datasource.get"),d(),c(40," implementation can be found "),f(41,"a",2),c(42,"here"),d(),c(43,". "),d(),f(44,"p"),c(45," The Scroller can accept only one of min/max indexes settings. For example, if we know that our datasource have no negative values, then we may define "),f(46,"em"),c(47,"minIndex"),d(),c(48," as 1 (or 0) and not define "),f(49,"em"),c(50,"maxIndex"),d(),c(51,". It also seems right idea to set "),f(52,"em"),c(53,"startIndex"),d(),c(54," value to 0 in case "),f(55,"em"),c(56,"minIndex"),d(),c(57," value had been set to 0. An example of positive-limited "),f(58,"em"),c(59,"Datasource.get"),d(),c(60," implementation can be found "),f(61,"a",2),c(62,"here"),d(),c(63,". "),d(),f(64,"p"),c(65," Both of "),f(66,"em"),c(67,"minIndex"),d(),c(68," and "),f(69,"em"),c(70,"maxIndex"),d(),c(71," values should be integer. The default "),f(72,"em"),c(73,"minIndex"),d(),c(74," value is "),f(75,"em"),c(76,"-Infinity"),d(),c(77,". The default "),f(78,"em"),c(79,"maxIndex"),d(),c(80," value is "),f(81,"em"),c(82,"+Infinity"),d(),c(83,". "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(41),B("fragment",i.datasourceLimitedDemoConfig.id),D("routerLink",pe(7,H0,i.datasourceLimitedDemoConfig.scope)),y(20),B("fragment",i.datasourcePositiveLimitedDemoConfig.id),D("routerLink",pe(9,H0,i.datasourcePositiveLimitedDemoConfig.scope)))},dependencies:[Ge,oe],encapsulation:2})}return e})(),y5=(()=>{class e{constructor(){this.demoContext={config:F.settings.map.infiniteMode,viewportId:"infinite-viewport",count:0,log:""},this.datasource={get:st(this.demoContext),settings:{infinite:!0}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 175px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-infinite"]],decls:13,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3,' The Scroller might work in "infinite" mode, when items are never removed. This mode can be turned on via '),f(4,"em"),c(5,"infinite"),d(),c(6," property of the "),f(7,"em"),c(8,"settings"),d(),c(9," object. Setting "),f(10,"em"),c(11,"infinite"),d(),c(12," to true, we ask the Scroller not to remove items that are getting out of the visible part of the viewport. That's why the DOM elements counter value increases per each edge-scroll event and never decreased. "),d()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})(),w5=(()=>{class e{constructor(){this.demoContext={config:F.settings.map.horizontalMode,viewportId:"horizontal-viewport",addClass:"horizontal",count:0,log:""},this.datasource={get:st(this.demoContext),settings:{horizontal:!0}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    horizontal: true\n  }\n}"},{name:S.Template,text:'<div class="viewport horizontal">\n  <div *uiScroll="let item of datasource">\n    <div class="item horizontal">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport.horizontal {\n  width: 250px;\n  height: 100px;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  white-space: nowrap;\n}\n.viewport.horizontal div {\n  display: inline-block;\n}\n.item.horizontal {\n  border: 1px solid #aaa;\n  height: 100px;\n  padding: 0 5px;\n  font-weight: bolder;\n}"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-horizontal"]],decls:10,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," Horizontal scrolling could be enabled via "),f(4,"em"),c(5,"horizontal"),d(),c(6," setting. The styles also need to be fixed in accordance with horizontal scrolling. Currently we have some limitations at the template layer but "),f(7,"em"),c(8,"display: inline-block;"),d(),c(9," rule applied to all nested containers makes the horizontal mode work. "),d()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})();function b5(e,n){if(1&e&&(f(0,"div")(1,"div",16),c(2),d()()),2&e){const t=n.$implicit;y(1),gr("height",t.size,"px"),y(1),H(" ",t.text," ")}}function _5(e,n){if(1&e&&(f(0,"div")(1,"div",16),c(2),d()()),2&e){const t=n.$implicit;y(1),gr("height",t.size,"px"),y(1),H(" ",t.text," ")}}function D5(e,n){if(1&e&&(f(0,"pre"),c(1),d()),2&e){const t=ve();y(1),z(t.averageLog)}}function C5(e,n){if(1&e&&(f(0,"pre"),c(1),d()),2&e){const t=ve();y(1),z(t.frequentLog)}}const U0=function(e){return["/",e]};let I5=(()=>{class e{constructor(){this.settingsScope=F.settings.map,this.demoConfig=F.settings.map.differentItemHeights,this.viewportId="different-heights-viewport",this.MIN=0,this.MAX=99,this.SIZE=20,this.averageLog="",this.frequentLog="",this.log="average",this.datasourceAverage=new be({get:(t,r,i)=>i(this.getData(t,r,!1)),settings:{startIndex:this.MIN,minIndex:this.MIN,maxIndex:this.MAX,sizeStrategy:Cn.Average}}),this.datasourceFrequent=new be({get:(t,r,i)=>i(this.getData(t,r,!0)),settings:{startIndex:this.MIN,minIndex:this.MIN,maxIndex:this.MAX,sizeStrategy:Cn.Frequent}}),this.sources=[{name:S.Component,text:"MIN = 0;\nMAX = 99;\nSIZE = 20;\n\ndatasourceAverage = new Datasource<MyItem>({\n  get: (index, count, success) =>\n    success(this.getData(index, count, false)),\n  settings: {\n    startIndex: this.MIN,\n    minIndex: this.MIN,\n    maxIndex: this.MAX,\n    sizeStrategy: SizeStrategy.Average\n  }\n});\n\ndatasourceFrequent = new Datasource<MyItem>({\n  get: (index, count, success) =>\n    success(this.getData(index, count, true)),\n  settings: {\n    startIndex: this.MIN,\n    minIndex: this.MIN,\n    maxIndex: this.MAX,\n    sizeStrategy: SizeStrategy.Frequent\n  }\n});\n\ngetData(index: number, count: number, isFrequent: boolean): MyItem[] {\n  const data = [];\n  const start = Math.max(this.MIN, index);\n  const end = Math.min(index + count - 1, this.MAX);\n  for (let i = start; i <= end; i++) {\n    const size = isFrequent\n      ? this.SIZE * (i % 10 === 0 ? 2 : 1)\n      : this.SIZE + i;\n    data.push({ text: 'item #' + i, size });\n  }\n  return data;\n}"},{name:S.Template,active:!0,text:'<em>average</em>\n<div class="viewport">\n  <div *uiScroll="let item of datasourceAverage">\n     <div class="item" [style.height.px]="item.size">\n      {{item.text}}\n     </div>\n  </div>\n</div>\n\n<em>frequent</em>\n<div class="viewport">\n  <div *uiScroll="let item of datasourceFrequent">\n    <div class="item" [style.height.px]="item.size">\n      {{item.text}}\n     </div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n}"}],this.averageSample="Array.from({length: 100}).reduce((a, i, j) => a + j + 20 , 0) / 100; // 69.5px",zl(this.datasourceAverage.adapter.init$,this.datasourceFrequent.adapter.init$).pipe(Jr(1)).subscribe(()=>this.setupLog())}setupLog(){const t=this.datasourceAverage.adapter,r=this.datasourceFrequent.adapter,o=document.getElementById(this.viewportId).getElementsByClassName("viewport"),s=o[0],a=o[1];t.loopPending$.subscribe(u=>{u||(this.averageLog=`default: ${t.bufferInfo.defaultSize}px, total: ${s.scrollHeight}px\n`+this.averageLog)}),r.loopPending$.subscribe(u=>{u||(this.frequentLog=`default: ${r.bufferInfo.defaultSize}px, total: ${a.scrollHeight}px\n`+this.frequentLog)})}getData(t,r,i){const o=[],s=Math.max(this.MIN,t),a=Math.min(t+r-1,this.MAX);for(let u=s;u<=a;u++)o.push({text:"item #"+u,size:i?this.SIZE*(u%10==0?2:1):this.SIZE+u});return o}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-different-heights"]],decls:75,vars:18,consts:[[1,"demo"],[3,"config"],[1,"work",3,"id"],[1,"viewport-wrapper"],[1,"viewport-label"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"datasource"],["name","log","value","average","type","radio",3,"ngModel","ngModelChange"],["name","log","value","frequent","type","radio",3,"ngModel","ngModelChange"],[1,"pre-wrapper"],[4,"ngIf"],[1,"clearfix","mb-3"],[3,"sources"],[1,"description"],[3,"routerLink","fragment"],[1,"item"]],template:function(r,i){1&r&&(f(0,"div",0),O(1,"app-demo-title",1),f(2,"div",2)(3,"div",3)(4,"div",4),c(5,"average"),d(),f(6,"div",5),ne(7,b5,3,3,"div",6),d()(),f(8,"div",3)(9,"div",4),c(10,"frequent"),d(),f(11,"div",5),ne(12,_5,3,3,"div",6),d()(),f(13,"div",7)(14,"div")(15,"input",8),N("ngModelChange",function(s){return i.log=s}),d(),c(16," average log \xa0 "),f(17,"input",9),N("ngModelChange",function(s){return i.log=s}),d(),c(18," frequent log "),d(),f(19,"div",10),ne(20,D5,2,1,"pre",11),ne(21,C5,2,1,"pre",11),d()(),O(22,"div",12),d(),O(23,"app-demo-sources",13),f(24,"div",14)(25,"p"),c(26," Scroller works fine with non-constant item heights. The "),f(27,"em"),c(28,"sizeStrategy"),d(),c(29," setting defines the default item size. Scroller uses this default value when it needs to fetch new items and some or all of these new items had never been fetched before, so their sizes are unknown. (See "),f(30,"a",15),c(31,"padding setting"),d(),c(32," to get more details on fetching.) The following values are available "),d(),f(33,"ul")(34,"li")(35,"em"),c(36,"SizeStrategy.Average"),d(),c(37,' ("average"), the average size is calculated for each new item render and is considered the default '),d(),f(38,"li")(39,"em"),c(40,"SizeStrategy.Frequent"),d(),c(41,' ("frequent"), the most frequent size across all renders is considered the default '),d(),f(42,"li")(43,"em"),c(44,"SizeStrategy.Constant"),d(),c(45,' ("constant"), the default item size value is taken from the '),f(46,"a",15),c(47,"itemSize setting"),d(),c(48," and never changes. If the "),f(49,"em"),c(50,"itemSize"),d(),c(51," setting is not defined, the size of the first rendered item will be used as the default. "),d()(),f(52,"p"),c(53,' In this sample we have two Scrollers demonstrating "average" and "frequent" strategies. The log section helps to understand behavior and catch the difference between strategies. The "average" datasource provides incrementally growing items, and we see how the '),f(54,"em"),c(55,"default"),d(),c(56," size increases per each scroll down. Having 100 items with height of (20 + i)px, we'll get 70px as the average value in the end: "),d(),f(57,"pre"),c(58),d(),f(59,"p"),c(60," The "),f(61,"em"),c(62,"total"),d(),c(63,' size in the log section is an expectation of scrollable area for 100 items, it consists of two parts: 1) cumulative height of the items that have been rendered at least once, and 2) anticipated height of unknown items based on the "default" size. This second part increases per each '),f(64,"em"),c(65,"default"),d(),c(66,' size increase in the "average" sample. '),d(),f(67,"p"),c(68,' The "frequent" datasource provides the size of each 10th item = 40px, the rest = 20px. In this case it seems reasonable to use '),f(69,"em"),c(70,"SizeStrategy.Frequent"),d(),c(71,' strategy, though there is no strict conditions defining which strategy should be used in the end App. If accuracy is not a concern, the "constant" strategy can be enabled by using the '),f(72,"em"),c(73,"SizeStrategy.Constant"),d(),c(74," value as it results in less calculations on the Scroller's end. However, it is recommended to make additional research on the impact on performance for each specific case. "),d()()()),2&r&&(y(1),D("config",i.demoConfig),y(1),D("id",i.viewportId),y(5),D("uiScrollOf",i.datasourceAverage),y(5),D("uiScrollOf",i.datasourceFrequent),y(3),D("ngModel",i.log),y(2),D("ngModel",i.log),y(3),D("ngIf","average"===i.log),y(1),D("ngIf","frequent"===i.log),y(2),D("sources",i.sources),y(7),B("fragment",i.settingsScope.padding.id),D("routerLink",pe(14,U0,i.settingsScope.padding.scope)),y(16),B("fragment",i.settingsScope.itemSize.id),D("routerLink",pe(16,U0,i.settingsScope.itemSize.scope)),y(12),H("      ",i.averageSample,"\n    "))},dependencies:[Dr,zt,Ap,At,yt,Qr,Ge,es,Tl],encapsulation:2})}return e})(),x5=(()=>{class e{constructor(){this.demoContext={config:F.settings.map.windowViewport,viewportId:"window-viewport-viewport",noWorkView:!0,count:0,log:""},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    windowViewport: true\n  }\n}"},{name:S.Template,text:'<div *uiScroll="let item of datasource">\n  <div class="item">{{item.text}}</div>\n</div>'},{name:S.Styles,text:".item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-window-viewport"]],decls:13,vars:2,consts:[[3,"context","sources"],["actions",""],["routerLink","/window"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," Follow "),f(4,"a",2),c(5,"this link"),d(),c(6," to open the Entire Window scrollable demo. "),d()(),f(7,"div",3)(8,"p"),c(9," The entire window might work as the viewport if "),f(10,"em"),c(11,"windowViewport"),d(),c(12,' setting is set to true. Previous versions of the library (prior to 1.6.4) required the "overflow-anchor" css property to be disabled at the top level of the DOM tree (body or html tag). Today it is not necessary. '),d()()()),2&r&&D("context",i.demoContext)("sources",i.sources)},dependencies:[Ge,oe],encapsulation:2})}return e})(),S5=(()=>{class e{constructor(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-samples-settings"]],decls:28,vars:0,template:function(r,i){1&r&&(f(0,"h1"),c(1,"Angular UI Scroll Settings Demos"),d(),f(2,"p")(3,"em"),c(4,"Settings"),d(),c(5," object is\xa0a\xa0part of\xa0"),f(6,"em"),c(7,"Datasource"),d(),c(8," implementation. It allows to configure the\xa0Scroller during its initialization. Each sample on this page deals with a\xa0single setting and includes:\n"),d(),f(9,"ul")(10,"li"),c(11,"working viewport with scrollable area;"),d(),f(12,"li"),c(13," log section where we\xa0may see current size of\xa0the viewport, how many real items (DOM elements) the viewport has in\xa0the\xa0moment and how many items have been retrieved via Datasource.get; "),d(),f(14,"li"),c(15," code listing which contains Datasource typescript code, Template html code and CSS; "),d(),f(16,"li"),c(17,"description and explanations."),d()(),O(18,"app-demo-basic")(19,"app-demo-buffer-size")(20,"app-demo-padding")(21,"app-demo-item-size")(22,"app-demo-start-index")(23,"app-demo-min-max-indexes")(24,"app-demo-infinite")(25,"app-demo-horizontal")(26,"app-demo-different-heights")(27,"app-demo-window-viewport"))},dependencies:[f5,h5,p5,m5,g5,v5,y5,w5,I5,x5],encapsulation:2})}return e})();function G0(e,n,t,r,i,o,s){try{var a=e[o](s),u=a.value}catch(l){return void t(l)}a.done?n(u):Promise.resolve(u).then(r,i)}function hn(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function s(u){G0(o,r,i,s,a,"next",u)}function a(u){G0(o,r,i,s,a,"throw",u)}s(void 0)})}}const q0=function(e){return["/",e]};let E5=(()=>{class e{constructor(){this.demoContext={config:F.adapterMethods.map.relax,noInfo:!0},this.adapterMethodsScope=F.adapterMethods,this.datasource=new be({get:(t,r,i)=>{const o=[];for(let s=t;s<t+r;s++)o.push({id:s,text:"item #"+s});i(o)}}),this.sources=[{active:!0,name:"Relax",text:"async doReplace() {\n  const { adapter } = this.datasource;\n  await adapter.relax();\n  adapter.remove({\n    predicate: ({ $index }) => $index > 4 && $index < 8\n  });\n  await adapter.relax();\n  adapter.insert({\n    items: [{ id: '5*', text: 'item #5 *' }],\n    after: ({ $index }) => $index === 4\n  });\n}\n"},{name:"Is loading",text:"relax(cb: Function) {\n  const { adapter } = this.datasource;\n  if (!adapter.isLoading) {\n    cb();\n  } else {\n    adapter.isLoading$\n      .pipe(filter(isLoading => !isLoading), take(1))\n      .subscribe(() => cb());\n  }\n}\n\ndoReplace() {\n  const { adapter } = this.datasource;\n  this.relax(() =>\n    adapter.remove({\n      predicate: ({ $index }) => $index > 4 && $index < 8\n    })\n  );\n  this.relax(() =>\n    adapter.insert({\n      items: [{ id: '5*', text: 'item #5 *' }],\n      after: ({ $index }) => $index === 4\n    })\n  );\n}\n"},{name:"Callback",text:"doReplace() {\n  const { adapter } = this.datasource;\n  adapter.relax(() =>\n    adapter.remove({\n      predicate: ({ $index }) => $index > 4 && $index < 8\n    })\n  );\n  adapter.relax(() =>\n    adapter.insert({\n      items: [{ id: '5*', text: 'item #5 *' }],\n      after: ({ $index }) => $index === 4\n    })\n  );\n}\n"},{name:"Return",text:"async doReplace() {\n  const { adapter } = this.datasource;\n  await adapter.relax();\n  await adapter.remove({\n    predicate: ({ $index }) => $index > 4 && $index < 8\n  });\n  adapter.insert({\n    items: [{ id: '5*', text: 'item #5 *' }],\n    after: ({ $index }) => $index === 4\n  });\n}\n"}],this.isLoadingSample="\n  if (!adapter.isLoading) {\n    doSomething();\n  } else {\n    adapter.isLoading$\n      .pipe(filter(isLoading => !isLoading), take(1))\n      .subscribe(() => doSomething());\n  }",this.relaxSample="\n  await adapter.relax();\n  doSomething();"}doReplace(){var t=this;return hn(function*(){const{adapter:r}=t.datasource;yield r.relax(),r.remove({predicate:({$index:o})=>o>4&&o<8}),yield r.relax(),r.insert({items:[{id:"5*",text:"item #5 *"}],after:({$index:o})=>4===o})})()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-adapter-relax"]],decls:66,vars:13,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),N("click",function(){return i.doReplace()}),c(3,"replace (5, 6, 7) with (5 *)"),d()(),f(4,"div",3)(5,"p"),c(6," The "),f(7,"em"),c(8,"Adapter.relax"),d(),c(9," is a kind of empty "),f(10,"em"),c(11,"Adapter"),d(),c(12,' method that does only one thing: it resolves when the Scroller is relaxed. If we need to run any logic that should not interfere with the Scroller internal processes, it should be protected by the "relax" promise: '),d(),f(13,"pre"),c(14),d(),f(15,"p"),c(16," In this demo we simulate items replacement by performing a sequence of 2 "),f(17,"em"),c(18,"Adapter"),d(),c(19,' methods: remove and insert. A few existed items (5, 6, 7) are being replaced with a new one (5*). Removing is an asynchronous operation, and we can\'t perform "insert" before "remove" is done (it will produce an error). Thus, both operations must be run in sequence. Also, we should be wary of any async processes before running the Adapter methods chain. So the algorithm for this demo can be written as follows: '),d(),f(20,"ul")(21,"li"),c(22,"wait for Scroller stops"),d(),f(23,"li"),c(24,"run remove"),d(),f(25,"li"),c(26,"wait for remove is done"),d(),f(27,"li"),c(28,"run insert"),d()(),f(29,"p"),c(30," (Please note, a replacement can be done via "),f(31,"a",4),c(32,"Adapter.replace API"),d(),c(33," in a single run; the "),f(34,"em"),c(35,"insert-remove"),d(),c(36," approach is less performant than the "),f(37,"em"),c(38,"Adapter.replace"),d(),c(39,") "),d(),f(40,"p"),c(41," The purpose of the "),f(42,"em"),c(43,"Adapter.relax"),d(),c(44," method is to make sure that the "),f(45,"em"),c(46,"uiScroll"),d(),c(47,' relaxes and there are no pending internal tasks running on the Scroller\'s end. The first tab "Relax" demonstrates how the desired sequence can be implemented with the '),f(48,"em"),c(49,"Adapter.relax"),d(),c(50,' method. This method returns a promise which becomes resolved when the Scroller stops. Basically, this may be treated as a shortcut for the following approach, which is presented on the "Is\xa0loading" tab: '),d(),f(51,"pre"),c(52),d(),f(53,"p"),c(54,' All the tabs are equivalent. The third tab "Callback" uses a callback signature of the '),f(55,"em"),c(56,"Adapter.relax"),d(),c(57,' method. The method accepts callback as an optional argument, and this allows to run necessary logic right before resolving the "relax" promise. This might be helpful if we don\'t want to wait until the end of the current call stack. '),d(),f(58,"p"),c(59," At last, we may use "),f(60,"a",4),c(61,"Return value API"),d(),c(62," (which is a part of each "),f(63,"em"),c(64,"Adapter"),d(),c(65,' method) and get rid of the second "relax". This approach is demonstrated on the last tab "Return". '),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(14),z(i.relaxSample),y(17),B("fragment",i.adapterMethodsScope.map.replace.id),D("routerLink",pe(9,q0,i.adapterMethodsScope.map.replace.scope)),y(21),z(i.isLoadingSample),y(8),B("fragment",i.adapterMethodsScope.map.returnValue.id),D("routerLink",pe(11,q0,i.adapterMethodsScope.map.returnValue.scope)))},dependencies:[Ge,oe],encapsulation:2})}return e})(),M5=(()=>{class e{constructor(){this.demoConfig=F.adapterMethods.map.returnValue,this.returnValueType="  Promise<{\n    success: boolean,\n    immediate: boolean,\n    details: string | null\n  }>",this.returnValueSample="\n  const { immediate } = await adapter.remove({ predicate });\n  if (immediate) {\n    console.log('No items were removed');\n  }",this.explicitSequenceSample='\n  await adapter.append({ items });\n  scrollToBottom(); // will not scroll without "await"\n  '}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-adapter-return-value"]],decls:76,vars:4,consts:[[1,"demo"],[3,"config"],[1,"description"]],template:function(r,i){1&r&&(f(0,"div",0),O(1,"app-demo-title",1),f(2,"div",2)(3,"p"),c(4," Along with "),f(5,"em"),c(6,"Adapter"),d(),c(7," properties there are several "),f(8,"em"),c(9,"Adapter"),d(),c(10," methods. Each "),f(11,"em"),c(12,"Adapter"),d(),c(13," method runs the Scroller's Workflow that handles multiple internal processes, some of which may be asynchronous. In order to deal with such asynchronicity, the return value of any "),f(14,"em"),c(15,"Adapter"),d(),c(16," method is a "),f(17,"em"),c(18,"Promise"),d(),c(19," that is resolved when all internal processes triggered by the "),f(20,"em"),c(21,"Adapter"),d(),c(22," are terminated. Return value has following type "),d(),f(23,"pre"),c(24),d(),f(25,"p"),c(26," - "),f(27,"em"),c(28,"success"),d(),c(29,": specifies whether the "),f(30,"em"),c(31,"Adapter"),d(),c(32," method completed successfully or not; for example, if some method is invoked with wrong arguments, no error will be thrown, but we'll get "),f(33,"em"),c(34,"success:\xa0false"),d(),c(35," in the result; "),O(36,"br"),c(37," - "),f(38,"em"),c(39,"details"),d(),c(40,": contains error message in case "),f(41,"em"),c(42,"success"),d(),c(43," is "),f(44,"em"),c(45,"false"),d(),c(46,"; "),O(47,"br"),c(48," - "),f(49,"em"),c(50,"immediate"),d(),c(51,": specifies whether the "),f(52,"em"),c(53,"Adapter"),d(),c(54," method completed immediately or not; for example, if "),f(55,"em"),c(56,"Adapter.remove"),d(),c(57," won't remove any items, then it will be terminated immediately and we'll get "),f(58,"em"),c(59,"immediate:\xa0true"),d(),c(60," in the result. "),d(),f(61,"pre"),c(62),d(),f(63,"p"),c(64," Note, "),f(65,"em"),c(66,"immediate:\xa0false"),d(),c(67," does not necessarily mean that the "),f(68,"em"),c(69,"Adapter"),d(),c(70," method worked asynchronously. For example, "),f(71,"em"),c(72,"Adapter.clip"),d(),c(73," does its work in a single call stack regardless of whether there are items to be clipped or not. But in any case, if there is any logic that needs to be run after the Adapter method completes its job, it is highly recommended to implement an explicit sequence like this: "),d(),f(74,"pre"),c(75),d()()()),2&r&&(y(1),D("config",i.demoConfig),y(23),z(i.returnValueType),y(38),z(i.returnValueSample),y(13),z(i.explicitSequenceSample))},dependencies:[es],encapsulation:2})}return e})(),T5=(()=>{class e{constructor(){this.demoContext={config:F.adapterMethods.map.reset,viewportId:"reset-viewport",count:0,log:""},this.datasource=new be({get:st(this.demoContext)}),this.startIndex=100,this.bufferSize=20,this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nstartIndex = 100;\nbufferSize = 20;\n\ndoReset() {\n  const settings = {\n    startIndex: Number(this.startIndex),\n    bufferSize: Number(this.bufferSize)\n  };\n  this.datasource.adapter.reset({ settings });\n}"},{active:!0,name:S.Template,text:'<button (click)="doReset()">Reset</button>\n<input [(ngModel)]="startIndex" size="3"> - new start index\n<input [(ngModel)]="bufferSize" size="3"> - new buffer size\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'}],this.resetWithNewInstanceSample="  this.datasource.adapter.reset(new Datasource(...));"}doReset(){this.demoContext.count=0,this.demoContext.log="";const t={startIndex:Number(this.startIndex),bufferSize:Number(this.bufferSize)};this.datasource.adapter.reset({settings:t})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-reset"]],decls:59,vars:6,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["size","3",3,"ngModel","ngModelChange"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),N("click",function(){return i.doReset()}),c(3,"Reset"),d(),O(4,"br"),f(5,"input",3),N("ngModelChange",function(s){return i.startIndex=s}),d(),c(6," - new start index"),O(7,"br"),f(8,"input",3),N("ngModelChange",function(s){return i.bufferSize=s}),d(),c(9," - new buffer size "),d(),f(10,"div",4)(11,"p"),c(12," The "),f(13,"em"),c(14,"Adapter.reset"),d(),c(15," method is designed to reset the internal state of the Scroller. It differs from the "),f(16,"em"),c(17,"Adapter.reload"),d(),c(18," because it re-instantiates all internal entities, which is equivalent to destroying the Scroller and re-creating it again via "),f(19,"em"),c(20,"ngIf"),d(),c(21,". "),d(),f(22,"p"),c(23," The method has 1 optional argument: "),f(24,"em"),c(25,"datasource"),d(),c(26," object. By passing it, we tell the Scroller that we want to use a new datasource. If the argument is not passed, the old Datasource will be used. "),d(),f(27,"p"),c(28," All fields of the "),f(29,"em"),c(30,"datasource"),d(),c(31," argument are optional. Missing parts of a new Datasource will be taken from the original one. For instance, in this demo only "),f(32,"em"),c(33,"settings"),d(),c(34," field is passed: "),f(35,"em"),c(36,"Adapter.reset({ settings })"),d(),c(37,". This sets new "),f(38,"em"),c(39,"startIndex"),d(),c(40," and "),f(41,"em"),c(42,"bufferSize"),d(),c(43," settings while "),f(44,"em"),c(45,"Datasource.get"),d(),c(46," remains pristine. It affects the value of the DOM elements counter. "),d(),f(47,"p")(48,"b"),c(49,"Important note!"),d(),c(50," Do not re-assign the Datasource at the App component level, "),f(51,"em"),c(52,"this.datasource"),d(),c(53," must keep the same reference before and after reset. So "),f(54,"em"),c(55,"this.datasource\xa0=\xa0..."),d(),c(56," expressions are prohibited after reset, for it will make the Adapter subscriptions broken. The Scroller maintains Datasource params and provides the Adapter consistency across the reset. Even in case of passing a new instance of Datasource: "),d(),f(57,"pre"),c(58),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(5),D("ngModel",i.startIndex),y(3),D("ngModel",i.bufferSize),y(50),z(i.resetWithNewInstanceSample))},dependencies:[zt,At,yt,oe],encapsulation:2})}return e})();const A5=function(e){return["/",e]};let N5=(()=>{class e{constructor(){this.demoContext={config:F.adapterMethods.map.reload,viewportId:"reload-viewport",count:0,log:""},this.startIndexDemoConfig=F.settings.map.startIndex,this.datasource=new be({get:st(this.demoContext)}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nreloadIndex: number = 99;\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}"},{active:!0,name:S.Template,text:'<button (click)="doReload()">Reload</button>\nby index <input [(ngModel)]="reloadIndex">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.reloadIndex=99}onInputChanged(t){let r=parseInt(t.value,10);isNaN(r)&&(r=1),t.value=r.toString(),this.reloadIndex=r}doReload(){this.demoContext.count=0,this.demoContext.log="",this.datasource.adapter.reload(this.reloadIndex)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-reload"]],decls:52,vars:8,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["size","2",3,"ngModel","change"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),N("click",function(){return i.doReload()}),c(3,"Reload"),d(),c(4," \xa0 by index \xa0 "),f(5,"input",3),N("change",function(s){return i.onInputChanged(s.target)}),d()(),f(6,"div",4)(7,"p"),c(8," The "),f(9,"em"),c(10,"Adapter.reload"),d(),c(11," method allows to reload the Scroller. This includes resetting the items "),f(12,"em"),c(13,"Buffer"),d(),c(14," and the "),f(15,"em"),c(16,"Viewport"),d(),c(17," params. The "),f(18,"em"),c(19,"reload"),d(),c(20," method has 1 optional argument: "),f(21,"em"),c(22,"index"),d(),c(23,". It specifies the index of the item to be first in the visible part of the viewport after reload. "),d(),f(24,"p"),c(25," If "),f(26,"em"),c(27,"index"),d(),c(28," argument is not set, "),f(29,"em"),c(30,"settings.startIndex"),d(),c(31," will be used as the first index. If neither "),f(32,"em"),c(33,"index"),d(),c(34," argument not "),f(35,"em"),c(36,"startIndex"),d(),c(37," setting is present, the default value 1 will be used. See also "),f(38,"a",5),c(39,"startIndex setting"),d(),c(40," demo. "),d(),f(41,"p"),c(42," The "),f(43,"em"),c(44,"Adapter.reload"),d(),c(45," method is safe and needs not to be protected with the "),f(46,"em"),c(47,"Adapter.relax"),d(),c(48," (though it could be protected if that's the UX requirement). This method interrupts the Scroller's flow and synchronously terminates any pending processes on the Scroller's end. The same is true also for the "),f(49,"em"),c(50,"Adapter.reset"),d(),c(51," method. "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(5),D("ngModel",i.reloadIndex),y(33),B("fragment",i.startIndexDemoConfig.id),D("routerLink",pe(6,A5,i.startIndexDemoConfig.scope)))},dependencies:[zt,At,yt,Ge,oe],encapsulation:2})}return e})(),R5=(()=>{class e{constructor(t){this.changeDetector=t,this.demoContext={config:F.adapterProps.map.init,viewportId:"init-viewport",noInfo:!0,count:0,log:""},this.version="...",this.datasource=new be({get:st(this.demoContext)}),this.sources=[{active:!0,name:S.Component,text:"version = '...';\n\ndatasource = new Datasource ({\n  get: (index, length, success) =>\n    success(Array.from({ length }).map((i, j) =>\n      ({ id: index + j, text: 'item #' + (index + j) })\n    ))\n});\n\nconstructor() {\n  const { adapter } = this.datasource;\n  adapter.init$.pipe(take(1)).subscribe(() =>\n    this.version = adapter.packageInfo.consumer.version\n  );\n}"},{name:S.Component+" (OnPush)",text:"@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  ...\n})\n\n...\n\nversion = '...';\n\ndatasource = new Datasource ({\n  get: (index, length, success) =>\n    success(Array.from({ length }).map((i, j) =>\n      ({ id: index + j, text: 'item #' + (index + j) })\n    ))\n});\n\nconstructor(public changeDetector: ChangeDetectorRef) {\n  const { adapter } = this.datasource;\n  adapter.init$.pipe(take(1)).subscribe(() => {\n    this.version = adapter.packageInfo.consumer.version;\n    this.changeDetector.detectChanges();\n  });\n}"},{name:S.Template,text:'ngx-ui-scroll version is {{version}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}];const{adapter:r}=this.datasource;r.init$.pipe(Jr(1)).subscribe(()=>{this.version=r.packageInfo.consumer.version,this.changeDetector.detectChanges()})}static#e=this.\u0275fac=function(r){return new(r||e)(I(Ao))};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-init"]],decls:42,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),c(2),d(),f(3,"div",2)(4,"p")(5,"em"),c(6,"Adapter.init$"),d(),c(7," is a Subject-boolean property that fires once after the "),f(8,"em"),c(9,"Adapter"),d(),c(10," is initialized and the Scroller is ready to run. There is also "),f(11,"em"),c(12,"Adapter.init"),d(),c(13," read-only boolean property. An important point is that there is a time gap between the Datasource/Adapter instantiation and the Scroller/Adapter initialization. In other words, we may instantiate the Datasource long before the Scroller's viewport is rendered and it starts working. "),d(),f(14,"p"),c(15," This demo displays "),f(16,"em"),c(17,"ngx-ui-scroll"),d(),c(18," version taken from the "),f(19,"em"),c(20,"Adapter"),d(),c(21,". The "),f(22,"em"),c(23,"Adapter.init$"),d(),c(24," subscription is used to set "),f(25,"em"),c(26,"version"),d(),c(27," property exactly when the "),f(28,"em"),c(29,"Adapter"),d(),c(30," initializes and receives all data. "),d(),f(31,"p"),c(32," The second tab (OnPush) implements "),f(33,"em"),c(34,"OnPush"),d(),c(35," strategy with an additional "),f(36,"em"),c(37,"changeDetector"),d(),c(38," call, whish is required to update the view, because initialization is an asynchronous process. If we remove "),f(39,"em"),c(40,"changeDetector"),d(),c(41," call, we see 3 dots, the initial value. "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(2),H("ngx-ui-scroll version is ",i.version,""))},dependencies:[oe],encapsulation:2,changeDetection:0})}return e})(),O5=(()=>{class e{constructor(){this.demoContext={config:F.adapterProps.map.isLoading,viewportId:"is-loading-viewport",count:0,log:""},this.datasource=new be({get:st(this.demoContext,225)}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 225);\n  }\n});\n\nisLoadingCounter = 0;\n\nconstructor() {\n  this.datasource.adapter.isLoading$\n    .subscribe(isLoading =>\n      this.isLoadingCounter += !isLoading ? 1 : 0\n    );\n}\n"},{active:!0,name:S.Template,text:'The uiScroll is\n{{datasource.adapter.isLoading ? \'loading\': \'relaxing\'}}.\n\n<br>\n\nThe value of isLoading counter has been changed\nfor {{isLoadingCounter}} times.\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.isLoadingCounter=0,this.datasource.adapter.isLoading$.subscribe(t=>this.isLoadingCounter+=t?0:1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-is-loading"]],decls:36,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),c(2),O(3,"br"),c(4),d(),f(5,"div",2)(6,"p")(7,"em"),c(8,"Adapter.isLoading"),d(),c(9," is a read-only boolean property indicating whether there are any pending processes running by the Scroller. So when "),f(10,"em"),c(11,"datasource.adapter.isLoading"),d(),c(12," is "),f(13,"em"),c(14,"true"),d(),c(15,", it means that the Scroller is working right now and the viewport might be updated soon. 225ms delay was added to the "),f(16,"em"),c(17,"Datasource.get"),d(),c(18," implementation in this sample. "),d(),f(19,"p"),c(20," In addition to read-only scalar "),f(21,"em"),c(22,"isLoading"),d(),c(23," property there is also "),f(24,"em"),c(25,"isLoading$"),d(),c(26," property which is Observable. A Subject, to be exact. In this demo we have a subscription and "),f(27,"em"),c(28,"isLoadingCounter"),d(),c(29," which is incremented each time the "),f(30,"em"),c(31,"isLoading"),d(),c(32," value becomes "),f(33,"em"),c(34,"false"),d(),c(35,". We see that the initial value of this counter on the UI (before any scrolling) is 1. So the Scroller does initialization and first 3 fetches in a single session. "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(2),H(" The uiScroll is ",i.datasource.adapter.isLoading?"loading":"relaxing",". "),y(2),H(" The value of isLoading counter has been changed for ",i.isLoadingCounter," times. "))},dependencies:[oe],encapsulation:2})}return e})(),k5=(()=>{class e{constructor(){this.demoContext={config:F.adapterProps.map.packageInfo,viewportId:"package-info-viewport",count:0,log:""},this.datasource=new be({get:st(this.demoContext)}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:S.Template,text:'Consumer: {{datasource.adapter.packageInfo.consumer.name}}\nv{{datasource.adapter.packageInfo.consumer.version}}\n<br>\nCore: {{datasource.adapter.packageInfo.core.name}}\nv{{datasource.adapter.packageInfo.core.version}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-package-info"]],decls:10,vars:7,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),c(2),O(3,"br"),c(4),d(),f(5,"div",2)(6,"p")(7,"em"),c(8,"Adapter.packageInfo"),d(),c(9,' represents a read-only object which contains information about versions of ngx-ui-scroll and its external core. Prior to ngx-ui-scroll v2, this core was a physical part of the ngx-ui-scroll codebase. Now it is a separate npm package "vscroll" that "ngx-ui-scroll" depends on. '),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(2),bn(" Consumer: ",i.datasource.adapter.packageInfo.consumer.name," v",i.datasource.adapter.packageInfo.consumer.version," "),y(2),bn(" Core: ",i.datasource.adapter.packageInfo.core.name," v",i.datasource.adapter.packageInfo.core.version," "))},dependencies:[oe],encapsulation:2})}return e})(),P5=(()=>{class e{constructor(){this.demoContext={config:F.adapterProps.map.itemsCount,viewportId:"items-count-viewport",count:0,log:""},this.datasource=new be({get:st(this.demoContext)}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:S.Template,text:'The uiScroll buffer has\n{{datasource.adapter.itemsCount}} items.\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-items-count"]],decls:12,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),c(2),d(),f(3,"div",2)(4,"p"),c(5," We may use "),f(6,"em"),c(7,"Adapter.itemsCount"),d(),c(8," read-only property to see how many items exist in the Scroller's Buffer at the moment. The "),f(9,"em"),c(10,"itemsCount"),d(),c(11," value is the same as the value of DOM elements counter. "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(2),H("The Buffer has ",i.datasource.adapter.itemsCount," items."))},dependencies:[oe],encapsulation:2})}return e})(),F5=(()=>{class e{constructor(){this.demoContext={config:F.adapterProps.map.bufferInfo,viewportId:"buffer-info-viewport",count:0,log:""},this.datasource=new be({get:st(this.demoContext)}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:S.Template,text:'firstIndex: {{datasource.adapter.bufferInfo.firstIndex}} /\nlastIndex: {{datasource.adapter.bufferInfo.lastIndex}} <br>\nminIndex: {{datasource.adapter.bufferInfo.minIndex}} /\nmaxIndex: {{datasource.adapter.bufferInfo.maxIndex}} <br>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.bufferInfoType="interface IBufferInfo {\n  firstIndex: number;\n  lastIndex: number;\n  minIndex: number;\n  maxIndex: number;\n  absMinIndex: number;\n  absMaxIndex: number;\n}"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-buffer-info"]],decls:32,vars:8,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),c(2),O(3,"br"),c(4),O(5,"br"),d(),f(6,"div",2)(7,"p")(8,"em"),c(9,"Adapter.bufferInfo"),d(),c(10," is a read-only property which exposes an object of the following type: "),d(),f(11,"pre"),c(12),d(),f(13,"p")(14,"em"),c(15,"firstIndex"),d(),c(16," & "),f(17,"em"),c(18,"lastIndex"),d(),c(19," are the first and the last indexes in the current Buffer, "),f(20,"em"),c(21,"minIndex"),d(),c(22," & "),f(23,"em"),c(24,"maxIndex"),d(),c(25," are min and max indexes that were present in the Buffer, "),f(26,"em"),c(27,"absMinIndex"),d(),c(28," & "),f(29,"em"),c(30,"absMaxIndex"),d(),c(31," are min and max indexes that can be present in the Buffer. "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(2),bn(" firstIndex: ",i.datasource.adapter.bufferInfo.firstIndex," / lastIndex: ",i.datasource.adapter.bufferInfo.lastIndex,""),y(2),bn(" minIndex: ",i.datasource.adapter.bufferInfo.minIndex," / maxIndex: ",i.datasource.adapter.bufferInfo.maxIndex,""),y(8),z(i.bufferInfoType))},dependencies:[oe],encapsulation:2})}return e})(),L5=(()=>{class e{constructor(){this.demoContext={config:F.adapterProps.map.bofEof,viewportId:"bof-eof-viewport",count:0,log:""},this.datasource=new be({get:(i,o,s)=>{const l=[],h=Math.max(1,i),p=Math.min(i+o-1,100);if(h<=p)for(let m=h;m<=p;m++)l.push({id:m,text:"item #"+m});Sn(this.demoContext,i,o,l.length),s(l)}}),this.edgeCounter=0,this.sources=[{name:S.Component,text:"datasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const MIN = 1, MAX = 100;\n    const data = [];\n    const start = Math.max(MIN, index);\n    const end = Math.min(index + count - 1, MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i, height: 20 + i });\n      }\n    }\n    success(data);\n  }\n});\n\nedgeCounter = 0;\n\nconstructor() {\n  const { eof$, bof$ } = this.datasource.adapter;\n  merge(bof$, eof$).subscribe(() => this.edgeCounter++);\n}\n"},{active:!0,name:S.Template,text:"Begin of file is {{datasource.adapter.bof ? '' : 'not'}} reached\n<br>\nEnd of file is {{datasource.adapter.eof ? '' : 'not'}} reached\n<br>\nBOF / EOF changes counter: {{edgeCounter}}\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>"},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}];const{eof$:t,bof$:r}=this.datasource.adapter;zl(r,t).subscribe(()=>this.edgeCounter++)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-bof-eof"]],decls:45,vars:6,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),c(2),O(3,"br"),c(4),O(5,"br"),c(6),d(),f(7,"div",2)(8,"p")(9,"em"),c(10,"Adapter.bof"),d(),c(11," and "),f(12,"em"),c(13,"Adapter.eof"),d(),c(14," are read-only boolean properties that indicate whether the dataset beginning (bof, begin of file) or the dataset ending (eof, end of file) is reached or not. "),d(),f(15,"p"),c(16," Along with scalar properties there are also two Observable ones: "),f(17,"em"),c(18,"Adapter.bof$"),d(),c(19," and "),f(20,"em"),c(21,"Adapter.eof$"),d(),c(22," which are Subjects and produce new values when scalar properties change. "),d(),f(23,"p"),c(24,' In this demo we have limited datasource consisting of 100 items starting from index 1. So initially we are at the left border of the dataset, and that\'s why we see "Begin of file is reached" message. After some scrolling down '),f(25,"em"),c(26,"bof"),d(),c(27," is turned to "),f(28,"em"),c(29,"false"),d(),c(30,", the first item is destroyed and can be retrieved again. "),d(),f(31,"p"),c(32," The "),f(33,"em"),c(34,"edgeCounter"),d(),c(35," is bof/eof changes counter. It is defined via "),f(36,"em"),c(37,"merge(bof$, eof$)"),d(),c(38," subscription which is triggered each time "),f(39,"em"),c(40,"bof$"),d(),c(41,"/"),f(42,"em"),c(43,"eof$"),d(),c(44," emits a new value. "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(2),H(" Begin of file is ",i.datasource.adapter.bof?"":"not"," reached "),y(2),H(" End of file is ",i.datasource.adapter.eof?"":"not"," reached "),y(2),H(" BOF / EOF changes counter: ",i.edgeCounter," "))},dependencies:[oe],encapsulation:2})}return e})();function V5(e,n){if(1&e&&(f(0,"div",3),c(1),O(2,"br"),c(3),gi(4,"async"),O(5,"br"),c(6),d()),2&e){const t=ve();let r;y(1),H(" First visible item's index: ",t.datasource.adapter.firstVisible.$index," "),y(2),H(" Last visible item's index: ",null==(r=vi(4,3,t.datasource.adapter.lastVisible$))?null:r.$index," "),y(3),H(" Visible items counter: ",t.visibleCount," ")}}let j5=(()=>{class e{constructor(){this.demoContext={config:F.adapterProps.map.firstLastVisible,viewportId:"first-last-visible-items-viewport",count:0,log:""},this.datasource=new be({get:st(this.demoContext)}),this.init=!1,this.visibleCount=0,this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nconstructor() {\n  const { firstVisible$, lastVisible$ } = this.datasource.adapter;\n  combineLatest(firstVisible$, lastVisible$)\n    .subscribe(result => {\n      const first = Number(result[0].$index);\n      const last = Number(result[1].$index);\n      this.visibleCount =\n        isNaN(first) || isNaN(last) ? 0 : last - first + 1;\n    });\n}"},{active:!0,name:S.Template,text:'First visible item\'s index:\n{{datasource.adapter.firstVisible.$index}}\n<br>\nLast visible item\'s index:\n{{(datasource.adapter.lastVisible$ | async)?.$index}}\n<br>\nVisible items counter: {{visibleCount}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.itemAdapterDescription="  ItemAdapter {\n    $index: number;\n    data: any;\n    element?: HTMLElement;\n  }",setTimeout(()=>this.init=!0);const{firstVisible$:t,lastVisible$:r}=this.datasource.adapter;dl([t,r]).subscribe(i=>{const o=Number(i[0].$index),s=Number(i[1].$index);this.visibleCount=isNaN(o)||isNaN(s)?0:s-o+1})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-first-last-visible-items"]],decls:57,vars:5,consts:[[3,"datasource","context","sources"],["actions","",4,"ngIf"],["description",""],["actions",""]],template:function(r,i){1&r&&(f(0,"app-demo",0),ne(1,V5,7,5,"div",1),f(2,"div",2)(3,"p"),c(4," The "),f(5,"em"),c(6,"Adapter"),d(),c(7," has two read-only properties which allow to determine the first and the last visible items: "),f(8,"em"),c(9,"firstVisible"),d(),c(10," and "),f(11,"em"),c(12,"lastVisible"),d(),c(13,". These are the objects of special "),f(14,"em"),c(15,"ItemAdapter"),d(),c(16," type "),d(),f(17,"pre"),c(18),d(),f(19,"p")(20,"em"),c(21,"$index"),d(),c(22," corresponds to "),f(23,"em"),c(24,"Datasource"),d(),c(25," item index value; "),f(26,"em"),c(27,"data"),d(),c(28," is what we were pushing to the Scroller on "),f(29,"em"),c(30,"Datasource.get"),d(),c(31," (item's content); "),f(32,"em"),c(33,"element"),d(),c(34," is the DOM element that is relevant to our item. "),d(),f(35,"p"),c(36," In addition to scalar "),f(37,"em"),c(38,"firstVisible"),d(),c(39," and "),f(40,"em"),c(41,"lastVisible"),d(),c(42," properties there are also Observable versions: "),f(43,"em"),c(44,"firstVisible$"),d(),c(45," and "),f(46,"em"),c(47,"lastVisible$"),d(),c(48,". In this demo we calculate a number of visible items with the help of "),f(49,"em"),c(50,"combineLatest"),d(),c(51," RxJs method. "),d(),f(52,"p"),c(53,' Recalculation of the first and the last items occurs per each non-empty "inner loop" session, when a bunch of new items are fetched via '),f(54,"em"),c(55,"Datasource.get"),d(),c(56,", rendered and unnecessary items are clipped out. "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(1),D("ngIf",i.init),y(17),z(i.itemAdapterDescription))},dependencies:[Dr,oe,aa],encapsulation:2})}return e})();const W0=function(e){return["/",e]};let $5=(()=>{class e{constructor(){this.demoContext={config:F.adapterMethods.map.appendPrepend,viewportId:"append-prepend-viewport",count:0,log:""},this.adapterScope=F.adapter,this.adapterMethodsScope=F.adapterMethods,this.inputValue=4,this.newIndex=0,this.datasource=new be({get:(t,r,i)=>{const o=[];for(let s=t;s<t+r;s++)o.push({id:s,text:"item #"+s});Sn(this.demoContext,t,r,o.length),i(o)},settings:{startIndex:100}}),this.sources=[{name:S.Component,text:"data: MyItem[];\ninputValue = 4;\nnewIndex = 0;\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 100\n  }\n});\n\ngenerateItems(isPrepend: boolean) {\n    const items: MyItem[] = [];\n    for (let i = 0; i < this.inputValue; i++) {\n      this.newIndex++;\n      const item = {\n        id: this.newIndex,\n        text: 'new item #' + this.newIndex + '*'\n      };\n      isPrepend ? items.unshift(item) : items.push(item);\n    }\n    return items;\n}\n\nasync doPrepend() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.prepend({\n    items: this.generateItems(true)\n  });\n}\n\nasync doAppend() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.append({\n    items: this.generateItems(false)\n  });\n}"},{active:!0,name:S.Template,text:'<button (click)="doAppend()">Append</button> /\n<button (click)="doPrepend()">Prepend</button>\n<input [(ngModel)]="inputValue" size="2">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.prependCallSample="Adapter.prepend({ items })",this.appendCallSample="Adapter.append({ items })",this.prependArgumentsDescription="  AdapterPrependOptions {\n    items: unknown[];\n    bof?: boolean;\n    increase?: boolean;\n  }",this.appendArgumentsDescription="  AdapterAppendOptions {\n    items: unknown[];\n    eof?: boolean;\n    decrease?: boolean;\n  }"}onInputChanged(t){const r=parseInt(t.value.trim(),10);t.value=r.toString(),this.inputValue=r}generateItems(t){const r=[];for(let i=0;i<this.inputValue;i++){this.newIndex++;const o={id:this.newIndex,text:"new item #"+this.newIndex+"*"};t?r.unshift(o):r.push(o)}return r}doPrepend(){var t=this;return hn(function*(){yield t.datasource.adapter.relax(),yield t.datasource.adapter.prepend({items:t.generateItems(!0)})})()}doAppend(){var t=this;return hn(function*(){yield t.datasource.adapter.relax(),yield t.datasource.adapter.append({items:t.generateItems(!1)})})()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-append-prepend"]],decls:81,vars:14,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["size","2",3,"ngModel","change"],["description",""],[1,"row"],[1,"column"],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),N("click",function(){return i.doAppend()}),c(3,"Append"),d(),c(4," / "),f(5,"button",2),N("click",function(){return i.doPrepend()}),c(6,"Prepend"),d(),f(7,"input",3),N("change",function(s){return i.onInputChanged(s.target)}),d()(),f(8,"div",4)(9,"p"),c(10," Adding items at the end and at the beginning of the Scroller's Buffer is possible with "),f(11,"em"),c(12,"Adapter.append"),d(),c(13," and "),f(14,"em"),c(15,"Adapter.prepend"),d(),c(16," methods respectively. They have the following object-arguments: "),d(),f(17,"div",5)(18,"div",6)(19,"pre"),c(20),d()(),f(21,"div",6)(22,"pre"),c(23),d()()(),f(24,"p"),c(25," The "),f(26,"em"),c(27,"items"),d(),c(28," parameter is an array of items we want to add, "),f(29,"em"),c(30,"eof"),d(),c(31,"/"),f(32,"em"),c(33,"bof"),d(),c(34," params provide virtualization, "),f(35,"em"),c(36,"decrease"),d(),c(37,"/"),f(38,"em"),c(39,"increase"),d(),c(40," define index strategy. Here we deal with only "),f(41,"em"),c(42,"items"),d(),c(43," parameter, other params are considered in the "),f(44,"a",7),c(45,"next demo"),d(),c(46,". Both "),f(47,"em"),c(48,"append"),d(),c(49," and "),f(50,"em"),c(51,"prepend"),d(),c(52," methods act in the same way, so let's discuss "),f(53,"em"),c(54,"prepend"),d(),c(55,". "),d(),f(56,"p"),c(57,' In this demo we have 20 items on start, 5 of them (95-99) are invisible on the backward direction. By pushing "Prepend" button we want to add 4 (which is the input value) new items to the top of the list. After they are prepended, they become visible when scrolling up. The Scroller accurately injects prepended items into its Buffer consisting of 95-114 rows initially, so 1-4 new items temporary take place of items with indexes 91-94. '),d(),f(58,"p"),c(59,' But if we scroll away and make \'90s items invisible and removed from the viewport, and then scroll back, we will realise that nothing changes: "new" items are gone and the old 91-94 items returned to initial position. The point is that the changes we provide via '),f(60,"em"),c(61,"Adapter"),d(),c(62," over the internal Scroller's Buffer don't affect the external "),f(63,"em"),c(64,"Datasource"),d(),c(65," we implemented on the Component level. This is the end app developer responsibility to take care of the data consistency during manual updates such as append, prepend, insert, remove, etc: the "),f(66,"em"),c(67,"Datasource.get"),d(),c(68," must provide correct data, while the Scroller maintains indexes. "),f(69,"a",7),c(70,"The next sample"),d(),c(71," provides one of the approach of consistent "),f(72,"em"),c(73,"Datasource"),d(),c(74," implementation with "),f(75,"em"),c(76,"Adapter.append"),d(),c(77," and "),f(78,"em"),c(79,"Adapter.prepend"),d(),c(80," methods usage. "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(7),D("ngModel",i.inputValue),y(13),z(i.appendArgumentsDescription),y(3),z(i.prependArgumentsDescription),y(21),B("fragment",i.adapterMethodsScope.map.appendPrependSync.id),D("routerLink",pe(10,W0,i.adapterScope.id)),y(25),B("fragment",i.adapterMethodsScope.map.appendPrependSync.id),D("routerLink",pe(12,W0,i.adapterScope.id)))},dependencies:[zt,At,yt,Ge,oe],encapsulation:2})}return e})();function B5(e,n){if(1&e&&(f(0,"span",8),c(1),d(),c(2)),2&e){const t=n.item,r=n.index;y(1),H("",r,")"),y(1),H(" ",t.text,"\n")}}const Mm=function(e){return["/",e]};let z5=(()=>{class e{constructor(){this.demoContext={config:F.adapterMethods.map.appendPrependSync,viewportId:"append-prepend-sync-viewport",count:0,log:""},this.adapterScope=F.adapter,this.adapterPropsScope=F.adapterProps,this.adapterMethodsScope=F.adapterMethods,this.inputPrepend=4,this.inputAppend=4,this.increasePrepend=!1,this.decreaseAppend=!1,this.MIN=1,this.MAX=100,this.absMinIndex=this.MIN,this.absMaxIndex=this.MAX,this.datasource=new be({get:(t,r,i)=>{const o=[],a=t+r-1;for(let u=t;u<=a;u++){const l=u-this.MIN;l>=0&&l<this.data.length&&o.push(this.data[l])}Sn(this.demoContext,t,r,o.length),i(o)},settings:{startIndex:Math.round((this.MAX-this.MIN)/2)}}),this.sources=[{name:S.Component,text:"inputPrepend = 4;\ninputAppend = 4;\nincreasePrepend = false;\ndecreaseAppend = false;\n    \nMIN = 1;\nMAX = 100;\ndata: MyItem[];\nabsMinIndex = this.MIN;\nabsMaxIndex = this.MAX;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ text: 'item #' + i });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data: MyItem[] = [];\n    const start = index;\n    const end = start + count - 1;\n    for (let i = start; i <= end; i++) {\n      const _index = i - this.MIN;\n      if (_index >= 0 && _index < this.data.length) {\n        data.push(this.data[_index]);\n      }\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: Math.round((this.MAX - this.MIN) / 2)\n  }\n});\n\nasync doPrepend() {\n  await this.datasource.adapter.relax();\n  const items = [];\n  for (let i = 0; i < this.inputPrepend; i++) {\n    if (!this.increasePrepend) {\n      this.MIN--;\n    } else {\n      this.MAX++;\n    }\n    this.absMinIndex--;\n    const newItem: MyItem = {\n      text: 'item #' + this.absMinIndex + '*'\n    };\n    this.data.unshift(newItem);\n    items.push(newItem);\n  }\n  this.datasource.adapter.prepend({\n    items, bof: true, increase: this.increasePrepend\n  });\n}\n\nasync doAppend() {\n  await this.datasource.adapter.relax();\n  const items = [];\n  for (let i = 0; i < this.inputAppend; i++) {\n    if (!this.decreaseAppend) {\n      this.MAX++;\n    } else {\n      this.MIN--;\n    }\n    this.absMaxIndex++;\n    const newItem: MyItem = {\n      text: 'item #' + this.absMaxIndex + '*'\n    };\n    this.data.push(newItem);\n    items.push(newItem);\n  }\n  this.datasource.adapter.append({\n    items, eof: true, decrease: this.decreaseAppend\n  });\n}"},{active:!0,name:S.Template,text:'<button (click)="doPrepend()">Prepend</button>\n<input [ngModel]="inputPrepend" size="2"> items\n{{increasePrepend ? \'increasingly\' : \'decreasingly\'}}\n<input type="checkbox" [(ngModel)]="increasePrepend">\n<br>\n<button (click)="doAppend()">Append</button>\n<input [ngModel]="inputAppend" size="2"> items\n{{decreaseAppend ? \'decreasingly\' : \'increasingly\'}}\n<input type="checkbox" [(ngModel)]="decreaseAppend">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource; let index = index">\n    <div class="item">\n      <span class="index">{{index}})</span> {{item.text}}\n    </div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.prependCallSample="Adapter.prepend({ items, bof: true })",this.appendCallSample="Adapter.append({ items, eof: true })",this.prependIncreaseCallSample="Adapter.prepend({ items, increase: true })",this.data=[];for(let t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t})}onInputChanged(t,r){const i=parseInt(r.value.trim(),10);r.value=i.toString(),t?this.inputPrepend=i:this.inputAppend=i}doPrepend(){var t=this;return hn(function*(){yield t.datasource.adapter.relax();const r=[];for(let i=0;i<t.inputPrepend;i++){t.increasePrepend?t.MAX++:t.MIN--,t.absMinIndex--;const o={id:"x",text:"item #"+t.absMinIndex+"*"};t.data.unshift(o),r.push(o)}t.datasource.adapter.prepend({items:r,bof:!0,increase:t.increasePrepend})})()}doAppend(){var t=this;return hn(function*(){yield t.datasource.adapter.relax();const r=[];for(let i=0;i<t.inputAppend;i++){t.decreaseAppend?t.MIN--:t.MAX++,t.absMaxIndex++;const o={id:"x",text:"item #"+t.absMaxIndex+"*"};t.data.push(o),r.push(o)}t.datasource.adapter.append({items:r,eof:!0,decrease:t.decreaseAppend})})()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-append-prepend-sync"]],decls:89,vars:25,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],[3,"click"],["size","2",3,"ngModel","change"],["type","checkbox",3,"ngModel","ngModelChange"],["description",""],[3,"routerLink","fragment"],[1,"index"]],template:function(r,i){if(1&r&&(ne(0,B5,3,2,"ng-template",null,0,Vr),f(2,"app-demo",1)(3,"div",2)(4,"button",3),N("click",function(){return i.doPrepend()}),c(5,"Prepend"),d(),c(6,"\xa0 "),f(7,"input",4),N("change",function(s){return i.onInputChanged(!0,s.target)}),d(),c(8),f(9,"input",5),N("ngModelChange",function(s){return i.increasePrepend=s}),d(),O(10,"br"),f(11,"button",3),N("click",function(){return i.doAppend()}),c(12,"Append"),d(),c(13,"\xa0 "),f(14,"input",4),N("change",function(s){return i.onInputChanged(!1,s.target)}),d(),c(15),f(16,"input",5),N("ngModelChange",function(s){return i.decreaseAppend=s}),d()(),f(17,"div",6)(18,"p"),c(19," Along with "),f(20,"em"),c(21,"items"),d(),c(22," parameter both append and prepend methods have "),f(23,"em"),c(24,"eof"),d(),c(25,"/"),f(26,"em"),c(27,"bof"),d(),c(28," parameter which is optional and which prevents rendering of new items when the end of the dataset (if we are speaking of "),f(29,"em"),c(30,"append"),d(),c(31,") or beginning of the dataset ("),f(32,"em"),c(33,"prepend"),d(),c(34," case) is not reached. See also "),f(35,"a",7),c(36,"bof/eof demo"),d(),c(37,". "),d(),f(38,"p"),c(39," For example, if we call "),f(40,"em"),c(41),d(),c(42," when the beginning of the dataset is reached and no more items can be fetched in the backward direction, then the new items will be injected and rendered immediately. But if we are not in BOF, new items will not appear, they will be virtualized: viewport backward padding element size will be increased in accordance with the number of new items multiplied by the default item size. The same works for "),f(43,"em"),c(44),d(),c(45," call adjusted for forward direction and forward padding element. "),d(),f(46,"p"),c(47," Indexes increase by default when "),f(48,"em"),c(49,"Adapter.append"),d(),c(50," and decrease by default when "),f(51,"em"),c(52,"Adapter.prepend"),d(),c(53,". The indexing strategy can be changed by "),f(54,"em"),c(55,"decrease"),d(),c(56,"/"),f(57,"em"),c(58,"increase"),d(),c(59," params. They are boolean and set to "),f(60,"em"),c(61,"false"),d(),c(62," by default. For example, if we call "),f(63,"em"),c(64),d(),c(65,", the topmost index remains unchanged, prepended items start with the topmost index, the rest indexes are incremented. "),d(),f(66,"p"),c(67," The most important idea behind the Adapter update API is that the changes made via Adapter must be synched with the Datasource. This demo implements one of the possible ways of synching the Datasource with the Adapter.append/prepend updates. The external dataset is changed per each "),f(68,"em"),c(69,"doAppend"),d(),c(70," / "),f(71,"em"),c(72,"doPrepend"),d(),c(73," call destructively by "),f(74,"em"),c(75,"unshift"),d(),c(76," and "),f(77,"em"),c(78,"push"),d(),c(79," Array's methods. There are also some additional variables that provide index offsets and that are used in the "),f(80,"em"),c(81,"Datasource.get"),d(),c(82," and doPrepend/doAppend methods to guarantee a stable data flow from the App component to the Scroller. Another examples of such synchronization could be found in "),f(83,"a",7),c(84,"remove"),d(),c(85," and "),f(86,"a",7),c(87,"insert"),d(),c(88," demos. "),d()()()),2&r){const o=Fr(1);y(2),D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)("itemTemplate",o),y(5),D("ngModel",i.inputPrepend),y(1),H(" \xa0items ",i.increasePrepend?"increasingly":"decreasingly"," \xa0"),y(1),D("ngModel",i.increasePrepend),y(5),D("ngModel",i.inputAppend),y(1),H(" \xa0items ",i.decreaseAppend?"decreasingly":"increasingly"," \xa0"),y(1),D("ngModel",i.decreaseAppend),y(19),B("fragment",i.adapterPropsScope.map.bofEof.id),D("routerLink",pe(19,Mm,i.adapterScope.id)),y(6),z(i.prependCallSample),y(3),z(i.appendCallSample),y(20),z(i.prependIncreaseCallSample),y(19),B("fragment",i.adapterMethodsScope.map.remove.id),D("routerLink",pe(21,Mm,i.adapterScope.id)),y(3),B("fragment",i.adapterMethodsScope.map.insert.id),D("routerLink",pe(23,Mm,i.adapterScope.id))}},dependencies:[zt,_i,At,yt,Ge,oe],encapsulation:2})}return e})(),H5=(()=>{class e{constructor(){this.demoContext={config:F.adapterProps.map.isLoadingAdvanced,viewportId:"is-loading-advanced-viewport",count:0,log:""},this.datasource=new be({get:st(this.demoContext,125)}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 125);\n  }\n});\n\nloadingCounter = 0;\ninnerLoopCounter = 0;\n\nconstructor() {\n  this.datasource.adapter.isLoading$\n    .subscribe(result =>\n      this.loadingCounter += !result ? 1 : 0\n    );\n  this.datasource.adapter.loopPending$\n    .subscribe(result =>\n      this.innerLoopCounter += !result ? 1 : 0\n    );\n}"},{active:!0,name:S.Template,text:"The uiScroll is\n{{datasource.adapter.isLoading ? 'loading': 'relaxing'}},\ncounter {{loadingCounter}}\n\n<br>\n\nInner loop is\n{{datasource.adapter.loopPending ? 'pending': 'stopped'}},\ncounter: {{innerLoopCounter}}\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>"},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 175px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.loadingCounter=0,this.innerLoopCounter=0,this.datasource.adapter.isLoading$.subscribe(t=>this.loadingCounter+=t?0:1),this.datasource.adapter.loopPending$.subscribe(t=>this.innerLoopCounter+=t?0:1)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-is-loading-advanced"]],decls:64,vars:7,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),c(2),O(3,"br"),c(4),d(),f(5,"div",2)(6,"p"),c(7,' The Scroller has internal process layer that might be called "inner loop", which is responsible for single fetch-clip-render chain. Inner loop can be empty and non-empty. Empty inner loop does nothing but check if the Scroller could relax. Non-empty inner loop corresponds to 1 '),f(8,"em"),c(9,"Datasource.get"),d(),c(10,' call (which is "fetch" subprocess) and following viewport updates: clipping old items, inserting new ones and render. '),f(11,"em"),c(12,"Adapter.loopPending"),d(),c(13," read-only scalar property and "),f(14,"em"),c(15,"Adapter.loopPending$"),d(),c(16,' observable property let us to know if the "inner loop" is pending or not. '),d(),f(17,"p"),c(18," The "),f(19,"em"),c(20,"isLoading"),d(),c(21," property, which we discussed earlier, majorizes "),f(22,"em"),c(23,"loopPending"),d(),c(24,' property, and this demo shows how they correlate. Here we count the Scroller "loading" sessions and the Scroller "inner loops" within the '),f(25,"em"),c(26,"Adapter.isLoading$"),d(),c(27," and "),f(28,"em"),c(29,"Adapter.loopPending$"),d(),c(30," subscriptions respectively. After the Scroller is initialized and started relaxing, we see that there are 4 inner loops done, while "),f(31,"em"),c(32,"isLoading"),d(),c(33," counter is 1. Practically it means that we have 3 "),f(34,"em"),c(35,"Datasource.get"),d(),c(36,' calls and 1 more empty loop to ensure that the Scroller could relax. And these 4 inner loops are being packed into 1 "isLoading" session. '),d(),f(37,"p"),c(38,"So, there might be distinguished 3 levels of pending:"),d(),f(39,"ul")(40,"li")(41,"em"),c(42,"Datasource.get"),d(),c(43," pending, which is fully manual, because the implementation of the "),f(44,"em"),c(45,"Datasource"),d(),c(46," is in our hands; "),d(),f(47,"li")(48,"em"),c(49,"inner loop"),d(),c(50," pending, which is "),f(51,"em"),c(52,"loopPending"),d(),c(53," and which includes some internal Scroller's subprocesses (fetch, clip, render) that can take some time in addition to "),f(54,"em"),c(55,"Datasource.get"),d(),c(56,' call (which is a part of "fetch" subprocess); '),d(),f(57,"li")(58,"em"),c(59,"Workflow"),d(),c(60," pending, which is "),f(61,"em"),c(62,"isLoading"),d(),c(63,' and which consists of 1 and more inner loops making up one continuous "loading" session. '),d()()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(2),bn(" The Scroller is ",i.datasource.adapter.isLoading?"loading":"relaxing",", counter ",i.loadingCounter," "),y(2),bn(" Inner loop is ",i.datasource.adapter.loopPending?"pending":"stopped",", counter: ",i.innerLoopCounter," "))},dependencies:[oe],encapsulation:2})}return e})();function U5(e,n){if(1&e&&(f(0,"div")(1,"div",13)(2,"small"),c(3),d(),c(4),d()()),2&e){const t=n.$implicit,r=n.index;y(3),H("",r,")"),y(1),H(" ",t," ")}}function G5(e,n){if(1&e&&(f(0,"div")(1,"div",13)(2,"small"),c(3),d(),c(4),d()()),2&e){const t=n.$implicit,r=n.index;y(3),H("",r,")"),y(1),H(" ",t," ")}}let q5=(()=>{class e{constructor(){this.demoConfig=F.adapterMethods.map.insert,this.MIN=1,this.MAX=100,this.MIN2=1,this.MAX2=100,this.datasource=new be({get:(t,r,i)=>{t-=this.MIN;const o=Math.max(0,t),s=Math.min(this.MAX-this.MIN+1,t+r);i(o>s?[]:this.data.slice(o,s))},settings:{startIndex:this.MIN}}),this.datasource2=new be({get:(t,r,i)=>{t-=this.MIN2;const o=Math.max(0,t),s=Math.min(this.MAX2-this.MIN2+1,t+r);i(o>s?[]:this.data2.slice(o,s))},settings:{startIndex:this.MIN2}}),this.inputCount="2",this.inputIndex="3",this.inputCount2="2",this.inputIndex2="3",this.sources=[{active:!0,name:"Datasource",text:"MIN = 1;\nMAX = 100;\ndata: string[] = [];\n\ninputCount = '2';\ninputIndex = '3';\n\nconstructor() {\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push('item #' + i);\n  }\n}\n\ndatasource = new Datasource<string>({\n  get: (index, count, success) => {\n    index -= this.MIN; // convert to natural indexes starting with 0\n    const start = Math.max(0, index);\n    const end = Math.min(this.MAX - this.MIN + 1, index + count);\n    const data = start > end ? [] : this.data.slice(start, end);\n    success(data);\n  },\n  settings: {\n    startIndex: this.MIN\n  }\n});\n  "},{name:"Increase",text:"\nasync doInsert() {\n  await this.datasource.adapter.relax();\n  const count = Number(this.inputCount); // first input\n  const itemData = 'item #' + this.inputIndex; // second input\n  const index = this.data.indexOf(itemData) + 1;\n  if (index < 0 || isNaN(count)) {\n    return;\n  }\n  const items = [];\n  for (let i = 1; i <= count; i++) {\n    this.MAX++;\n    const newItem = itemData + ' ' + Array(i).fill('*').join('');\n    items.push(newItem);\n  }\n  this.data = [\n    ...this.data.slice(0, index),\n    ...items,\n    ...this.data.slice(index)\n  ];\n  await this.datasource.adapter.insert({\n    afterIndex: index,\n    items\n  });\n}\n"},{name:"Decrease",text:"\nasync doInsert() {\n  await this.datasource.adapter.relax();\n  const count = Number(this.inputCount); // first input\n  const itemData = 'item #' + this.inputIndex; // second input\n  const index = this.data.indexOf(itemData);\n  if (index < 0 || isNaN(count)) {\n    return;\n  }\n  const items = [];\n  for (let i = 1; i <= count; i++) {\n    this.MIN--;\n    const newItem = itemData + ' ' + Array(i).fill('*').join('');\n    items.unshift(newItem);\n  }\n  this.data = [\n    ...this.data.slice(0, index),\n    ...items,\n    ...this.data.slice(index)\n  ];\n  await this.datasource.adapter.insert({\n    before: ({ data }) => data === itemData,\n    items,\n    decrease: true\n  });\n}\n"}],this.argumentsDescription="  AdapterInsertOptions {\n    items: any[];\n    before?: ItemsPredicate;\n    after?: ItemsPredicate;\n    beforeIndex?: number;\n    afterIndex?: number;\n    decrease?: boolean;\n  }",this.data=[];for(let t=this.MIN;t<=this.MAX;t++)this.data.push("item #"+t);this.data2=[];for(let t=this.MIN2;t<=this.MAX2;t++)this.data2.push("item #"+t)}doInsert(){var t=this;return hn(function*(){yield t.datasource.adapter.relax();const r=`item #${t.inputIndex}`,i=t.data.indexOf(r)+1,o=Number(t.inputCount);if(i<0||isNaN(o))return;const s=[];for(let a=1;a<=o;a++){t.MAX++;const u=r+" "+Array(a).fill("*").join("");s.push(u)}t.data=[...t.data.slice(0,i),...s,...t.data.slice(i)],yield t.datasource.adapter.insert({afterIndex:i,items:s})})()}doInsert2(){var t=this;return hn(function*(){yield t.datasource2.adapter.relax();const r=`item #${t.inputIndex2}`,i=t.data.indexOf(r),o=Number(t.inputCount2);if(i<0||isNaN(o))return;const s=[];for(let a=1;a<=o;a++){t.MIN2--;const u=r+" "+Array(a).fill("*").join("");s.unshift(u)}t.data2=[...t.data2.slice(0,i),...s,...t.data2.slice(i)],yield t.datasource2.adapter.insert({before:({data:a})=>a===r,items:s,decrease:!0})})()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-insert"]],decls:121,vars:9,consts:[[1,"demo"],[3,"config"],[1,"work"],[1,"viewport-wrapper"],[1,"actions"],[3,"click"],["size","2",3,"ngModel","ngModelChange"],["size","4",3,"ngModel","ngModelChange"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"clearfix","mb-3"],[3,"sources"],[1,"description"],[1,"item"]],template:function(r,i){1&r&&(f(0,"div",0),O(1,"app-demo-title",1),f(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),N("click",function(){return i.doInsert()}),c(6,"Insert"),d(),f(7,"input",6),N("ngModelChange",function(s){return i.inputCount=s}),d(),c(8," items "),O(9,"br"),c(10," after item #"),f(11,"input",7),N("ngModelChange",function(s){return i.inputIndex=s}),d(),O(12,"br"),c(13," incrementally "),d(),f(14,"div",8),ne(15,U5,5,2,"div",9),d()(),f(16,"div",3)(17,"div",4)(18,"button",5),N("click",function(){return i.doInsert2()}),c(19,"Insert"),d(),f(20,"input",6),N("ngModelChange",function(s){return i.inputCount2=s}),d(),c(21," items "),O(22,"br"),c(23," before item #"),f(24,"input",7),N("ngModelChange",function(s){return i.inputIndex2=s}),d(),O(25,"br"),c(26," decrementally "),d(),f(27,"div",8),ne(28,G5,5,2,"div",9),d()(),O(29,"div",10),d(),O(30,"app-demo-sources",11),f(31,"div",12)(32,"p"),c(33," The "),f(34,"em"),c(35,"Adapter.insert"),d(),c(36," method is dedicated for adding items in the runtime without scrolling. It allows to insert new items before or after specified one. The argument of this method is an object of the following type: "),d(),f(37,"pre"),c(38),d(),f(39,"p"),c(40," The "),f(41,"em"),c(42,"items"),d(),c(43," option is an array we want to be added to the dataset. The "),f(44,"em"),c(45,"before"),d(),c(46,", "),f(47,"em"),c(48,"after"),d(),c(49,", "),f(50,"em"),c(51,"beforeIndex"),d(),c(52," and "),f(53,"em"),c(54,"afterIndex"),d(),c(55," options define the position of the insertion; only one of these options is allowed. Predicate function ("),f(56,"em"),c(57,"before"),d(),c(58,"/"),f(59,"em"),c(60,"after"),d(),c(61,") is applied to each item in the current buffer, and the first "),f(62,"em"),c(63,"true"),d(),c(64," result of running the predicate determines the item before/after which the new "),f(65,"em"),c(66,"items"),d(),c(67," should appear. "),d(),f(68,"p"),c(69," Using the "),f(70,"em"),c(71,"beforeIndex"),d(),c(72,"/"),f(73,"em"),c(74,"afterIndex"),d(),c(75," option allows to insert "),f(76,"em"),c(77,"items"),d(),c(78," by index. Also, these options provide virtual insertion, if selected index is out the buffer but still belongs to the known datasource boundaries. "),d(),f(79,"p"),c(80," The last option is "),f(81,"em"),c(82,"decrease"),d(),c(83,". The indexes of the items following after the inserted ones are increased by default. This behavior can be changed, by setting "),f(84,"em"),c(85,"decrease"),d(),c(86," to "),f(87,"em"),c(88,"true"),d(),c(89,", we are telling the Scroller that the indexes of the items that are before the inserted ones should decrease. "),d(),f(90,"p"),c(91," This demo shows how the "),f(92,"em"),c(93,"Adapter.insert"),d(),c(94,' method can be used in the real life. "Datasource" tab contains common datasource logic. "Increase" and "Decrease" tabs present inserting logic for both cases we have in this demo. "Increase" uses index API (in-buffer + virtual insertions), "Decrease" uses predicate API (in-buffer insertions only). Note that each item is just a string, and the Scroller deals with natural indexes, which forces us to subtract '),f(95,"em"),c(96,"MIN"),d(),c(97," value from the "),f(98,"em"),c(99,"index"),d(),c(100," coming into the "),f(101,"em"),c(102,"Datasource.get"),d(),c(103," body. "),d(),f(104,"p"),c(105," Also, this is very important to maintain consistency between the external "),f(106,"em"),c(107,"Datasource"),d(),c(108," and the internal Scroller's buffer. Both "),f(109,"em"),c(110,"doInsert"),d(),c(111," methods do it. They a) generate new items in a for-loop, b) insert them into the datasource by updating "),f(112,"em"),c(113,"this.data"),d(),c(114,", c) insert them into the internal "),f(115,"em"),c(116,"Buffer"),d(),c(117," via "),f(118,"em"),c(119,"Adapter.insert"),d(),c(120,". "),d()()()),2&r&&(y(1),D("config",i.demoConfig),y(6),D("ngModel",i.inputCount),y(4),D("ngModel",i.inputIndex),y(4),D("uiScrollOf",i.datasource),y(5),D("ngModel",i.inputCount2),y(4),D("ngModel",i.inputIndex2),y(4),D("uiScrollOf",i.datasource2),y(2),D("sources",i.sources),y(8),z(i.argumentsDescription))},dependencies:[zt,At,yt,Qr,es,Tl],encapsulation:2})}return e})(),W5=(()=>{class e{constructor(){this.demoContext={config:F.adapterMethods.map.check,viewportId:"check-size-viewport",count:0,log:""},this.MIN=1,this.MAX=200,this.startIndex=20,this.sizeValue=15,this.needAutoscroll=!1,this.datasource=new be({get:(t,r,i)=>{const o=[];for(let s=t;s<t+r;s++){const a=this.data.find(u=>u.id===s);a&&o.push(a)}Sn(this.demoContext,t,r,o.length),i(o)},settings:{startIndex:this.startIndex}}),this.sources=[{name:S.Component,text:"MIN = 1;\nMAX = 200;\nstartIndex = 20;\nsizeValue = 15;\ndata: MyItem[];\nneedAutoscroll: false;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i, size: 50 });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      const found = this.data.find(item => item.id === i);\n      if (found) {\n        data.push(found);\n      }\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: this.startIndex\n  }\n});\n\nfindElement(index: number): HTMLElement | null {\n  const viewportElement = document.getElementsByClassName('viewport')[0];\n  return viewportElement\n    ? viewportElement.querySelector(`[data-sid=\"${index}\"]`)\n    : null;\n}\n\ndoChangeSize() {\n  const DELTA = 5;\n  const index = Number(this.startIndex - DELTA);\n  if (!isNaN(index)) {\n    for (let i = index; i < index + DELTA * 2; i++) {\n      const element = this.findElement(i);\n      if (element) {\n        element.style.height = this.sizeValue + 'px';\n        const item = this.data.find(({ id }) => id === i);\n        if (item) {\n          item.size = this.sizeValue;\n        }\n      }\n    }\n  }\n}\n\nautoscroll(index: number) {\n  const element = this.findElement(index);\n  const viewportElement = document.getElementsByClassName('viewport')[0];\n  if (!element || !viewportElement) {\n    return;\n  }\n  const elementTop = element.getBoundingClientRect().top;\n  const viewportTop = viewportElement.getBoundingClientRect().top;\n  const toScroll = viewportTop - elementTop;\n  const diff = viewportElement.scrollTop - toScroll;\n  if (viewportElement.scrollTop === diff) {\n    return;\n  }\n  this.datasource.adapter.fix({ scrollPosition: diff });\n}\n\nasync doCheck() {\n  await this.datasource.adapter.relax();\n  let firstVisibleIndex: number | undefined;\n  if (this.needAutoscroll) {\n    firstVisibleIndex = this.datasource.adapter.firstVisible.$index;\n  }\n  this.doChangeSize();\n  await this.datasource.adapter.check();\n  if (firstVisibleIndex !== undefined) {\n    this.autoscroll(firstVisibleIndex);\n  }\n}"},{active:!0,name:S.Template,text:'<button (click)="doCheck(20)">Resize and Check</button>\n<br />\nAutoscroll: <input type="checkbox" [(ngModel)]="needAutoscroll"/>\n<br />\nFirst visible item\'s index: {{datasource.adapter.firstVisible.$index}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n  overflow: hidden;\n}"}],this.data=[];for(let t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t,size:50})}findElement(t){const i=document.getElementById(this.demoContext.viewportId||this.demoContext.config.id);return i?i.querySelector(`[data-sid="${t}"]`):null}doChangeSize(){const r=Number(this.startIndex-5);if(!isNaN(r))for(let i=r;i<r+10;i++){const o=this.findElement(i);if(o){o.style.height=this.sizeValue+"px";const s=this.data.find(({id:a})=>a===i);s&&(s.size=this.sizeValue)}}}autoscroll(t){const r=this.findElement(t),o=document.getElementById(this.demoContext.viewportId||this.demoContext.config.id);if(!r||!o)return;const s=r.getBoundingClientRect().top,u=o.getBoundingClientRect().top-s,l=o.scrollTop-u;o.scrollTop!==l&&this.datasource.adapter.fix({scrollPosition:l})}doCheck(){var t=this;return hn(function*(){let r;yield t.datasource.adapter.relax(),t.needAutoscroll&&(r=t.datasource.adapter.firstVisible.$index),t.doChangeSize(),yield t.datasource.adapter.check(),void 0!==r&&t.autoscroll(r)})()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-check-size"]],decls:33,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["type","checkbox",3,"ngModel","ngModelChange"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),N("click",function(){return i.doCheck()}),c(3,"Resize and Check"),d(),O(4,"br"),c(5," Autoscroll: "),f(6,"input",3),N("ngModelChange",function(s){return i.needAutoscroll=s}),d(),O(7,"br"),c(8),d(),f(9,"div",4)(10,"p"),c(11," The "),f(12,"em"),c(13,"Adapter.check"),d(),c(14," method could be useful when rows heights can change after rendering. By invoking the "),f(15,"em"),c(16,"Adapter.check"),d(),c(17," method we ask the Scroller to check if any of items that are in the current Buffer (and present in DOM) changed their size. "),d(),f(18,"p"),c(19,"In this demo, the "),f(20,"em"),c(21,"doCheck"),d(),c(22," method is implemented to"),d(),f(23,"ul")(24,"li"),c(25,"change the actual size of 10 items (from 15 to 25) in DOM;"),d(),f(26,"li"),c(27,"run "),f(28,"em"),c(29,"Adapter.check()"),d(),c(30,";"),d(),f(31,"li"),c(32,"autoscroll to the first visible item before changing(optionally)."),d()()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(6),D("ngModel",i.needAutoscroll),y(2),H(" First visible item's index: ",i.datasource.adapter.firstVisible.$index," "))},dependencies:[_i,At,yt,oe],encapsulation:2})}return e})();function X5(e,n){if(1&e){const t=Co();f(0,"span",6),c(1),d(),c(2),f(3,"span",7),N("click",function(){const o=Ft(t).item;return Lt(ve().removeById(o.id))}),c(4,"[remove]"),d()}if(2&e){const t=n.item,r=n.index;y(1),H("",r,")"),y(1),H(" ",t.text," ")}}let Z5=(()=>{class e{constructor(){this.demoContext={config:F.adapterMethods.map.remove,viewportId:"remove-viewport",addClass:"remove",count:0,log:""},this.MIN=-50,this.MAX=50,this.inputValue=5,this.datasource=new be({get:(t,r,i)=>{let o=[];const s=-Math.min(this.MIN,0),a=Math.max(t+s,0),u=Math.min(t+r-1,this.MAX)+s;a<=u&&(o=this.data.slice(a,u+1)),Sn(this.demoContext,t,r,o.length),i(o)}}),this.sources=[{name:S.Component,text:"MIN = -50;\nMAX = 50;\ndata: MyItem[];\ninputValue = 5;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const shift = -Math.min(this.MIN, 0);\n    const start = Math.max(index + shift, 0);\n    const end = Math.min(index + count - 1, this.MAX) + shift;\n    success(start <= end\n      ? this.data.slice(start, end + 1)\n      : []\n    );\n  }\n});\n\nremoveFromDatasource(toRemove: number, byIndex = false) {\n  const indexToRemove = byIndex\n    ? toRemove - Math.min(this.MIN, 0) // shift!\n    : this.data.findIndex(({ id }) => id === toRemove);\n  if (indexToRemove >= 0) {\n    this.data.splice(indexToRemove, 1);\n  }\n  this.MAX--;\n}\n\nasync removeById(id: number) {\n  await this.datasource.adapter.relax();\n  this.removeFromDatasource(id);\n  await this.datasource.adapter.remove({\n    predicate: ({ data }) => data.id === id\n  });\n}\n\nasync removeByIndex(index: number) {\n  await this.datasource.adapter.relax();\n  this.removeFromDatasource(index, true);\n  await this.datasource.adapter.remove({\n    indexes: [index]\n  });\n}"},{active:!0,name:S.Template,text:'<input [(ngModel)]="inputValue" size="3">\n<button (click)="removeByIndex(inputValue)">\n  Remove by index\n</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">\n      {{item.text}}\n      <span class="remove" (click)="removeById(item.id)">\n        [remove]\n      </span>\n    </div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.remove {\n  font-weight: normal;\n  font-size: smaller;\n  cursor: pointer;\n}\n.remove:hover {\n  color: rgb(158, 0, 0);\n}"}],this.argumentsDescription="  AdapterRemoveOptions {\n    predicate?: ItemsPredicate;\n    indexes?: number[];\n    increase?: boolean;\n  }",this.predicateDescription="  adapter.remove({ predicate: ({ data }) => data.id === id });",this.data=[];for(let t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t})}onInputChanged(t){const r=parseInt(t.value.trim(),10);t.value=r.toString(),this.inputValue=r}removeFromDatasource(t,r=!1){const i=r?t-Math.min(this.MIN,0):this.data.findIndex(({id:o})=>o===t);i>=0&&this.data.splice(i,1),this.MAX--}removeById(t){var r=this;return hn(function*(){yield r.datasource.adapter.relax(),r.removeFromDatasource(t),yield r.datasource.adapter.remove({predicate:({data:i})=>i.id===t})})()}removeByIndex(t){var r=this;return hn(function*(){yield r.datasource.adapter.relax(),r.removeFromDatasource(t,!0),yield r.datasource.adapter.remove({indexes:[t]})})()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-remove"]],decls:67,vars:7,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],["size","3",3,"ngModel","ngModelChange","change"],[3,"click"],["description",""],[1,"index"],[1,"remove",3,"click"]],template:function(r,i){if(1&r&&(ne(0,X5,5,2,"ng-template",null,0,Vr),f(2,"app-demo",1)(3,"div",2)(4,"input",3),N("ngModelChange",function(s){return i.inputValue=s})("change",function(s){return i.onInputChanged(s.target)}),d(),f(5,"button",4),N("click",function(){return i.removeByIndex(i.inputValue)}),c(6,"Remove by index"),d()(),f(7,"div",5)(8,"p"),c(9," The "),f(10,"em"),c(11,"Adapter.remove"),d(),c(12," method allows to remove items from current buffer or/and virtually. The argument of this method is an object of the following type: "),d(),f(13,"pre"),c(14),d(),f(15,"p"),c(16," The "),f(17,"em"),c(18,"predicate"),d(),c(19," option is a function applying to each item in the buffer. If the return value is true, the item will be removed. The argument of the predicate is of "),f(20,"em"),c(21,"ItemAdapter"),d(),c(22," type, and in this demo we have the following version of "),f(23,"em"),c(24,"predicate"),d(),c(25," for removing by id: "),d(),f(26,"pre"),c(27),d(),f(28,"p"),c(29," Indexes are adjusted each time a delete is performed via Adapter. For example, it's impossible to remove item with id = 5 twice, because there is only one item with id = 5. But we may remove item with index = 5 as many times as many indexes we have after this one. "),d(),f(30,"p"),c(31," Instead of "),f(32,"em"),c(33,"predicate"),d(),c(34," running over buffered items, it is possible to remove items by "),f(35,"em"),c(36,"indexes"),d(),c(37,". This method works with both buffered and virtual items. For example, we have [1..10] buffered items (they are rendered) and [11..100] virtual items (emulated via forward padding element which size corresponds to 90 virtual items), and we want to remove the last item via "),f(38,"em"),c(39,"Adapter.remove({ indexes: [100] })"),d(),c(40,", the result will be as follows: "),d(),f(41,"ul")(42,"li"),c(43,"buffer is not affected"),d(),f(44,"li"),c(45,"the visible part of the viewport remains the same"),d(),f(46,"li"),c(47," size of the forward padding is reduced by size of the 100th item, so the scrollable area becomes slightly smaller "),d()(),f(48,"p"),c(49," By default, indexes are decreased, that is, the indexes following the deleted one(s) are decremented. The "),f(50,"em"),c(51,"increase"),d(),c(52," option allows to change the default indexes adjustment strategy. By setting "),f(53,"em"),c(54,"increase"),d(),c(55," to "),f(56,"em"),c(57,"true"),d(),c(58,", we tell the Scroller that we want to increase indexes of the items before the removed one(s). "),d(),f(59,"p"),c(60," The very important point is that we need to synchronize the Datasource with the changes we are making over the Scroller's buffer via "),f(61,"em"),c(62,"Adapter.remove"),d(),c(63,". Generally, this is the App component responsibility, and in this demo it is done by the "),f(64,"em"),c(65,"removeFromDatasource"),d(),c(66," method. It removes 1 item from the initial dataset, and decrements the value of the right border. "),d()()()),2&r){const o=Fr(1);y(2),D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)("itemTemplate",o),y(2),D("ngModel",i.inputValue),y(10),z(i.argumentsDescription),y(13),z(i.predicateDescription)}},dependencies:[zt,At,yt,oe],encapsulation:2})}return e})();function Y5(e,n){if(1&e&&(f(0,"span",6),c(1),d(),c(2)),2&e){const t=n.item,r=n.index;y(1),H("",r,")"),y(1),H(" ",t.text,"\n")}}const X0=function(e){return["/",e]};let Q5=(()=>{class e{constructor(){this.demoContext={config:F.adapterMethods.map.replace,viewportId:"replace-viewport",addClass:"replace",count:0,log:""},this.adapterScope=F.adapter,this.adapterMethodsScope=F.adapterMethods,this.MAX=100,this.datasource=new be({get:(t,r,i)=>{let o=[];const s=Math.min(t+r-1,this.data.length-1);t<=s&&(o=this.data.slice(t,s+1)),Sn(this.demoContext,t,r,o.length),i(o)},settings:{startIndex:0}}),this.sources=[{name:S.Component,text:"MAX = 100;\ndata: Item[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i < this.MAX; i++) {\n    this.data.push({ text: 'item #' + (i + 1) });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (start, count, success) => {\n    let data: Item[] = [];\n    const end = Math.min(start + count - 1, this.data.length - 1);\n    if (start <= end) {\n      data = this.data.slice(start, end + 1);\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n});\n\nasync doReplace() {\n  await this.datasource.adapter.relax();\n  const toRemove = [3, 4, 5];\n  const newItems: Item[] = [{ text: 'X' }, { text: 'Y' }];\n  this.data = [\n    ...this.data.slice(0, toRemove[0]),\n    ...newItems,\n    ...this.data.slice(toRemove[toRemove.length - 1])\n  ];\n  await this.datasource.adapter.replace({\n    predicate: ({ $index }) => toRemove.includes($index),\n    items: newItems\n  });\n}"},{active:!0,name:S.Template,text:'<button (click)="doReplace()">3, 4, 5 to X, Y</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource; let index = index">\n    <div class="item">\n      <span class="index">{{index}}</span>\n      {{item.text}}\n    </div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.index {\n  font-weight: normal;\n  font-size: smaller;\n}"}],this.argumentsDescription="  AdapterReplaceOptions {\n    predicate: ItemsPredicate;\n    items: any[];\n    fixRight?: boolean;\n  }",this.data=[];for(let t=0;t<this.MAX;t++)this.data.push({text:"item #"+(t+1)})}doReplace(){var t=this;return hn(function*(){yield t.datasource.adapter.relax();const r=[3,4,5],i=[{text:"X"},{text:"Y"}];t.data=[...t.data.slice(0,r[0]),...i,...t.data.slice(r[r.length-1])],yield t.datasource.adapter.replace({predicate:({$index:o})=>r.includes(o),items:i})})()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-replace"]],decls:56,vars:13,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],[3,"click"],["description",""],[3,"routerLink","fragment"],[1,"index"]],template:function(r,i){if(1&r&&(ne(0,Y5,3,2,"ng-template",null,0,Vr),f(2,"app-demo",1)(3,"div",2)(4,"button",3),N("click",function(){return i.doReplace()}),c(5,"3, 4, 5 to X, Y"),d()(),f(6,"div",4)(7,"p"),c(8," The "),f(9,"em"),c(10,"Adapter.replace"),d(),c(11," method allows to perform many-to-many in-Buffer replacement. It acts as a combination of insert and remove operations working in a single run, which means minimal latency in comparison to applying "),f(12,"em"),c(13,"Adapter.insert"),d(),c(14," and "),f(15,"em"),c(16,"Adapter.remove"),d(),c(17," methods one by one. The argument of this method is an object of the following type: "),d(),f(18,"pre"),c(19),d(),f(20,"p"),c(21," The "),f(22,"em"),c(23,"predicate"),d(),c(24," option is exactly the same as in "),f(25,"a",5),c(26,"Adapter-remove"),d(),c(27," and case. The "),f(28,"em"),c(29,"indexes"),d(),c(30," options is exactly the same as in the "),f(31,"a",5),c(32,"Adapter-insert"),d(),c(33," case. The "),f(34,"em"),c(35,"fixRight"),d(),c(36," option allows to change the default indexing strategy. The default "),f(37,"em"),c(38,"fixRight"),d(),c(39," value is "),f(40,"em"),c(41,"false"),d(),c(42,", which means the indexes of the items following the replaced ones will be changed during the replacement. Otherwise, if "),f(43,"em"),c(44,"fixRight"),d(),c(45," is set "),f(46,"em"),c(47,"true"),d(),c(48,", the indexes of the items preceding the replaced ones will be changed. "),d(),f(49,"p"),c(50," Current limitations of the "),f(51,"em"),c(52,"Adapter.replace"),d(),c(53," method: no virtual replacements are possible and only continues series are allowed. So only a portion of items that are currently in the Scroller Buffer can be replaced with this method and this portion must consist of a continuous list of items. "),d(),f(54,"p"),c(55,' In this demo we are replacing 3 items with indexes [3, 4, 5] with 2 new items. Switching to "fixRight" strategy is not implemented here, in order to keep natural indexes flow as simple as possible. Note, before running the "replace" operation over the Scroller\'s Buffer, the Datasource gets the update as well. '),d()()()),2&r){const o=Fr(1);y(2),D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)("itemTemplate",o),y(17),z(i.argumentsDescription),y(6),B("fragment",i.adapterMethodsScope.map.remove.id),D("routerLink",pe(9,X0,i.adapterScope.id)),y(6),B("fragment",i.adapterMethodsScope.map.insert.id),D("routerLink",pe(11,X0,i.adapterScope.id))}},dependencies:[Ge,oe],encapsulation:2})}return e})();const Z0=function(e){return["/",e]};let J5=(()=>{class e{constructor(){this.demoContext={config:F.adapterMethods.map.clip,viewportId:"clip-viewport",count:0,log:""},this.settingsScope=F.settings,this.datasource=new be({get:st(this.demoContext),settings:{infinite:!0}}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n});\n\nasync doClip() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.clip();\n}"},{active:!0,name:S.Template,text:'<button (click)="doClip()">Clip</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.clipOptionsDescription="  AdapterClipOptions {\n    forwardOnly?: boolean;\n    backwardOnly?: boolean;\n  }",this.clipOptionsSample="{ backwardOnly: true }"}doClip(){var t=this;return hn(function*(){yield t.datasource.adapter.relax(),yield t.datasource.adapter.clip()})()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-clip"]],decls:45,vars:13,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),N("click",function(){return i.doClip()}),c(3,"Clip"),d()(),f(4,"div",3)(5,"p"),c(6," The "),f(7,"em"),c(8,"Adapter.clip"),d(),c(9," method allows to remove out-of-viewport items on demand. Out-of-viewport means out of visible part of the viewport + paddings, see "),f(10,"a",4),c(11,"padding setting"),d(),c(12," demo. Not to be confused with "),f(13,"em"),c(14,"Adapter.remove"),d(),c(15,", as the "),f(16,"em"),c(17,"Adapter.clip"),d(),c(18," method has no impact on the "),f(19,"em"),c(20,"Datasource"),d(),c(21,". It just cleans up the DOM. "),d(),f(22,"p"),c(23," Commonly, the Scroller runs a clipping procedure each time new items are fetched after scrolling and it clips old items from a side of the viewport that is opposite to a side where new items appear. This is one of the core parts of the virtualization concept. By invoking the "),f(24,"em"),c(25,"Adapter.clip"),d(),c(26," method we are telling the Scroller to run this procedure immediately and remove items that are out-of-viewport in both directions or in specific direction. Here is an argument object that lets to specify the clipping direction: "),d(),f(27,"pre"),c(28),d(),f(29,"p"),c(30," This could be useful when we enlarge the list of items manually, via "),f(31,"em"),c(32,"Adapter.append"),d(),c(33," or "),f(34,"em"),c(35,"Adapter.prepend"),d(),c(36," methods. For example, we appended 100 new items and started scrolling down, in forward direction. We might want the items that exit the viewport in backward direction to be clipped. Such a clipping will occur automatically only when we reach the bottom line of the buffer and new items are fetched and rendered in forward direction. If we don't want to wait, we just call "),f(37,"em"),c(38),d(),c(39,". "),d(),f(40,"p"),c(41," This demo implements some artificial but quite illustrative case. Here we disabled virtualization by turning on the "),f(42,"a",4),c(43,"infinite setting"),d(),c(44,'. Clipping will never happen automatically. We see how the DOM elements counter value is getting bigger and bigger as we scroll on and on. By pressing the "Clip" button, we let only 20-21 items to survive. This way a kind of manual virtualization could be implemented. '),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(10),B("fragment",i.settingsScope.map.padding.id),D("routerLink",pe(9,Z0,i.settingsScope.id)),y(18),z(i.clipOptionsDescription),y(10),H("Adapter.clip(",i.clipOptionsSample,")"),y(4),B("fragment",i.settingsScope.map.infiniteMode.id),D("routerLink",pe(11,Z0,i.settingsScope.id)))},dependencies:[Ge,oe],encapsulation:2})}return e})();function K5(e,n){if(1&e&&(f(0,"span",7),c(1),d(),c(2)),2&e){const t=n.item,r=n.index;y(1),H("",r,")"),y(1),H(" ",t.text,"\n")}}const Tm=function(e){return["/",e]};let ez=(()=>{class e{constructor(){this.demoContext={config:F.adapterMethods.map.update,viewportId:"update-viewport",addClass:"update",count:0,log:""},this.adapterScope=F.adapter,this.adapterMethodsScope=F.adapterMethods,this.MAX=100,this.START=1,this.fixRight=!1,this.datasource=new be({get:(t,r,i)=>{let o=[];const s=t-this.START,a=Math.min(s+r-1,this.data.length-1);s<=a&&(o=this.data.slice(s,a+1)),Sn(this.demoContext,t,r,o.length),i(o)},settings:{startIndex:this.START}}),this.sources=[{name:S.Component,text:"MAX = 100;\nSTART = 1;\nfixRight = false;\ndata: MyItem[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i <= this.MAX - this.START; i++) {\n    this.data.push({ text: 'item #' + (i + this.START) });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    let data: MyItem[] = [];\n    const start = index - this.START;\n    const end = Math.min(start + count - 1, this.data.length - 1);\n    if (start <= end) {\n      data = this.data.slice(start, end + 1);\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n});\n\nasync doUpdate() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.update({\n    predicate: ({ $index, data, element }) => {\n      if ($index === 3) {\n        // remove 3\n        return false;\n      }\n      if (data.text === 'item #5') {\n        // replace 5 with A and B\n        return [{ text: 'A' }, { text: 'B' }];\n      }\n      if (element?.innerText.match('item #7')) {\n        // append C and D to 7\n        return [data, { text: 'C' }, { text: 'D' }];\n      }\n      // don't touch other items\n      return true;\n    },\n    fixRight: this.fixRight\n  });\n}"},{active:!0,name:S.Template,text:'<button (click)="doUpdate()">Run update</button>\n<input type="checkbox" [(ngModel)]="fixRight"> fix right\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource; let index = index">\n    <div class="item">\n      <span class="index">{{index}}</span>\n      {{item.text}}\n    </div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.index {\n  font-weight: normal;\n  font-size: smaller;\n}"}],this.argumentsDescription="  AdapterReplaceOptions {\n    predicate: ItemsPredicate;\n    items: any[];\n    fixRight?: boolean;\n  }",this.data=[];for(let t=0;t<=this.MAX-this.START;t++)this.data.push({text:"item #"+(t+this.START)})}doUpdate(){var t=this;return hn(function*(){yield t.datasource.adapter.relax(),yield t.datasource.adapter.update({predicate:({$index:r,data:i,element:o})=>3!==r&&("item #5"===i.text?[{text:"A"},{text:"B"}]:!o?.innerText.match("item #7")||[i,{text:"C"},{text:"D"}]),fixRight:t.fixRight})})()}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-demo-update"]],decls:75,vars:17,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],[3,"click"],["type","checkbox",3,"ngModel","ngModelChange"],["description",""],[3,"routerLink","fragment"],[1,"index"]],template:function(r,i){if(1&r&&(ne(0,K5,3,2,"ng-template",null,0,Vr),f(2,"app-demo",1)(3,"div",2)(4,"button",3),N("click",function(){return i.doUpdate()}),c(5,"Run update"),d(),O(6,"br"),f(7,"input",4),N("ngModelChange",function(s){return i.fixRight=s}),d(),c(8," fix right "),d(),f(9,"div",5)(10,"p"),c(11," The "),f(12,"em"),c(13,"Adapter.update"),d(),c(14," method provides access to Scroller's Buffer and allows to perform insert/replace/remove operations on the fly. The "),f(15,"em"),c(16,"Adapter.update"),d(),c(17," method has 1 required argument which is a predicate that is applied to each item in the current Scroller's Buffer. The argument of the predicate gives natural datasource "),f(18,"em"),c(19,"$index"),d(),c(20," of the item, its "),f(21,"em"),c(22,"data"),d(),c(23," payload and its HTML "),f(24,"em"),c(25,"element"),d(),c(26,". The return value of "),f(27,"em"),c(28,"predicate"),d(),c(29," determines what should happen with each item in the Buffer: "),d(),f(30,"ul")(31,"li"),c(32," returning of a falsy value or an empty array means removal of an item; "),d(),f(33,"li"),c(34," returning of a truthy value or an array with only current item in it means leaving an item as is; "),d(),f(35,"li"),c(36,"returning of a non-empty array means replacement/insertion."),d()(),f(37,"p"),c(38," In the demo the predicate is implemented to remove item 3, replace item 5 with new A and B items, insert new C and D items after item 7, while other items should remain pristine. This particular predicate should provide [1..10] to [1, 2, 4, A, B, 6, 7, C, D, 8] contents transition. "),d(),f(39,"p"),c(40," On index shifting. The second option of the "),f(41,"em"),c(42,"Adapter.update"),d(),c(43," is "),f(44,"em"),c(45,"fixRight"),d(),c(46,". This is a non-required boolean setting that defines the indexing strategy. If "),f(47,"em"),c(48,"fixRight"),d(),c(49," is false (which is default), indexes to the right of the updated ones will be affected. Since the first updated item has index 3, the indexes of the first two items should not change after update when fixRight\xa0=\xa0false. But the index of the 8 item should grow up to 10: 2 removals (3, 5) and 4 insertions (A, B, C, D) results in +2\xa0shift. If "),f(50,"em"),c(51,"fixRight"),d(),c(52," is true, indexes to the left of the updated ones will be affected. And we'll see -2\xa0shift on the first two items when fixRight\xa0=\xa0true. "),d(),f(53,"p"),c(54," The very important thing is to synchronize each update we perform via Adapter API over the Scroller's Buffer with the Datasource outside the Scroller. This demo does not have such synchronization due to high complexity of the operations. But there are some examples in other demos: "),f(55,"a",6),c(56,"append"),d(),c(57,", "),f(58,"a",6),c(59,"remove"),d(),c(60," and "),f(61,"a",6),c(62,"insert"),d(),c(63,". "),d(),f(64,"p"),c(65," Since v2, the "),f(66,"em"),c(67,"Adapter.insert"),d(),c(68," and "),f(69,"em"),c(70,"Adapter.replace"),d(),c(71," methods use the "),f(72,"em"),c(73,"Adapter.update"),d(),c(74," method under hood. "),d()()()),2&r){const o=Fr(1);y(2),D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)("itemTemplate",o),y(5),D("ngModel",i.fixRight),y(48),B("fragment",i.adapterMethodsScope.map.appendPrependSync.id),D("routerLink",pe(11,Tm,i.adapterScope.id)),y(3),B("fragment",i.adapterMethodsScope.map.remove.id),D("routerLink",pe(13,Tm,i.adapterScope.id)),y(3),B("fragment",i.adapterMethodsScope.map.insert.id),D("routerLink",pe(15,Tm,i.adapterScope.id))}},dependencies:[_i,At,yt,Ge,oe],encapsulation:2})}return e})(),tz=(()=>{class e{constructor(){this.datasourceSample="  import { Datasource } from 'ngx-ui-scroll';\n\n  datasource = new Datasource({ get, settings });",this.datasourceTypedSample="datasource = new Datasource<MyItem>({ get, settings });"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-samples-adapter"]],decls:64,vars:2,template:function(r,i){1&r&&(f(0,"h1"),c(1,"Angular UI Scroll Adapter Demos"),d(),f(2,"p")(3,"em"),c(4,"Adapter"),d(),c(5," is\xa0a\xa0special object to\xa0assess and manipulate the Scroller. The API it\xa0provides is\xa0 discussed on\xa0this page. In order to get an access to the "),f(6,"em"),c(7,"Adapter"),d(),c(8," API, the "),f(9,"em"),c(10,"Datasource"),d(),c(11," has to be instantiated via operator "),f(12,"em"),c(13,"new"),d(),c(14,":\n"),d(),f(15,"pre"),c(16),d(),f(17,"p"),c(18," For better typings it is recommended to provide also data item type argument:\n"),d(),f(19,"pre"),c(20),d(),f(21,"p"),c(22," The constructor argument is\xa0an\xa0object of\xa0"),f(23,"em"),c(24,"IDatasource"),d(),c(25," type which must include "),f(26,"em"),c(27,"get"),d(),c(28," method property and may include "),f(29,"em"),c(30,"settings"),d(),c(31," object property. The Scroller's augments the result "),f(32,"em"),c(33,"Datasource"),d(),c(34," object with the "),f(35,"em"),c(36,"Adapter"),d(),c(37," object property during instantiating. So, after the "),f(38,"em"),c(39,"Datasource"),d(),c(40," object had been instantiated, we\xa0may access "),f(41,"em"),c(42,"this.datasource.adapter"),d(),c(43," property object with its API methods and properties.\n"),d(),O(44,"app-demo-init")(45,"app-demo-package-info")(46,"app-demo-is-loading")(47,"app-demo-is-loading-advanced")(48,"app-demo-items-count")(49,"app-demo-buffer-info")(50,"app-demo-bof-eof")(51,"app-demo-first-last-visible-items")(52,"app-demo-adapter-return-value")(53,"app-adapter-relax")(54,"app-demo-reload")(55,"app-demo-reset")(56,"app-demo-check-size")(57,"app-demo-clip")(58,"app-demo-append-prepend")(59,"app-demo-append-prepend-sync")(60,"app-demo-insert")(61,"app-demo-remove")(62,"app-demo-replace")(63,"app-demo-update")),2&r&&(y(16),z(i.datasourceSample),y(4),z(i.datasourceTypedSample))},dependencies:[E5,M5,T5,N5,R5,O5,k5,P5,F5,L5,j5,$5,z5,H5,q5,W5,Z5,Q5,J5,ez],encapsulation:2})}return e})(),nz=(()=>{class e{constructor(){this.demoContext={config:F.datasource.map.datasourceGetSignatures,noWorkView:!0},this.sources=[{name:S.Datasource,text:"datasourceCallback: IDatasource = {\n  get: (index, count, success) =>\n    success(this.getData(index, count))\n};\n\ndatasourceCallback2: IDatasource = {\n  get: (index, count, success) => setTimeout(\n    success(this.getData(index, count)), DELAY\n  )\n};\n\ndatasourcePromise: IDatasource = {\n  get: (index, count) => new Promise(resolve =>\n    resolve(this.getData(index, count))\n  )\n};\n\ndatasourceObservable: IDatasource = {\n  get: (index, count) => Observable.create(observer =>\n    observer.next(this.getData(index, count))\n};\n\ndatasourcePromise2: IDatasource = {\n  get: (index, count) =>\n    this.getDataPromise(index, count)\n};\n\ndatasourceObservable2: IDatasource = {\n  get: (index, count) =>\n    this.getDataObservable(index, count)\n};"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-datasource-signatures"]],decls:60,vars:2,consts:[[3,"context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," All the datasources listed above are valid. The first version ("),f(4,"em"),c(5,"datasourceCallback"),d(),c(6,") introduces simplest callback-based signature when we need to pass a third argument which is a callback function that should be called explicitly with the items array argument. We assume that "),f(7,"em"),c(8,"this.getData(index, count)"),d(),c(9," returns appropriate part of the dataset we want to virtualize, which is an array of "),f(10,"em"),c(11,"count"),d(),c(12," items started from "),f(13,"em"),c(14,"index"),d(),c(15," position. "),f(16,"em"),c(17,"datasourceCallback2"),d(),c(18," demonstrates an asynchronous version of callback-based Datasource. "),d(),f(19,"p")(20,"em"),c(21,"datasourcePromise"),d(),c(22," and "),f(23,"em"),c(24,"datasourcePromise2"),d(),c(25," introduce promise-based signature when an object of "),f(26,"em"),c(27,"Promise"),d(),c(28," type needs to be returned. Resolving this promise is our responsibility, and we assume that "),f(29,"em"),c(30,"this.getDataPromise"),d(),c(31," method resolves necessary part of the dataset based on "),f(32,"em"),c(33,"index"),d(),c(34," and "),f(35,"em"),c(36,"count"),d(),c(37," parameters. "),d(),f(38,"p")(39,"em"),c(40,"datasourceObservable"),d(),c(41," and "),f(42,"em"),c(43,"datasourceObservable2"),d(),c(44," introduce observable-based signature when an object of "),f(45,"em"),c(46,"Observable"),d(),c(47," type needs to be returned. Similar to Promise case we need to be sure that the "),f(48,"em"),c(49,"next"),d(),c(50," method is called in appropriate time, and we assume that "),f(51,"em"),c(52,"this.getDataObservable"),d(),c(53," method delivers necessary part of the dataset based on "),f(54,"em"),c(55,"index"),d(),c(56," and "),f(57,"em"),c(58,"count"),d(),c(59," parameters. "),d()()()),2&r&&D("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})(),rz=(()=>{class e{constructor(){this.demoContext={config:F.datasource.map.unlimitedBidirectional,logViewOnly:!0,log:"",count:0},this.datasource={get:(t,r,i)=>{const o=[];for(let s=t;s<=t+r-1;s++)o.push({id:s,text:"item #"+s});Sn(this.demoContext,t,r,o.length),i(o)}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ text: 'item #' + i });\n    }\n    success(data);\n  }\n};"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-bidirectional-unlimited-datasource"]],decls:27,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," The datasource implemented here has no boundaries. The result "),f(4,"em"),c(5,"data"),d(),c(6," array will consist of "),f(7,"em"),c(8,"count"),d(),c(9," items started exactly from "),f(10,"em"),c(11,"index"),d(),c(12," position regardless of "),f(13,"em"),c(14,"count"),d(),c(15," and "),f(16,"em"),c(17,"index"),d(),c(18," values. They could be any finite integers. "),d(),f(19,"p"),c(20," This sample as well as following ones does include "),f(21,"em"),c(22,"Datasource.get"),d(),c(23," method log telling us how many items are fetched by the Scroller via "),f(24,"em"),c(25,"Datasource"),d(),c(26," in a single run. "),d()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})();const iz=function(e){return["/",e]};let oz=(()=>{class e{constructor(){this.demoContext={config:F.datasource.map.limited,logViewOnly:!0,log:"",count:0},this.minMaxDemoConfig=F.settings.map.minMaxIndexes,this.MIN=-99,this.MAX=100,this.datasource={get:(t,r,i)=>{const o=[],s=Math.max(this.MIN,t),a=Math.min(t+r-1,this.MAX);if(s<=a)for(let u=s;u<=a;u++)o.push({id:u,text:"item #"+u});Sn(this.demoContext,t,r,o.length),i(o)}},this.sources=[{name:"Runtime generation",text:"MIN = -99;\nMAX = 100;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(this.MIN, index);\n    const end = Math.min(index + count - 1, this.MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ text: 'item #' + i });\n      }\n    }\n    success(data);\n  }\n};"},{name:"Fixed dataset",text:"MIN = -99;\nMAX = 100;\n\nconstructor() {\n  for (let i = this.MIN; i <= this.MAX; ++i) {\n    this.data.push({ text: 'item #' + i });\n  }\n}\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = index;\n    const end = start + count - 1;\n    for (let i = start; i <= end; i++) {\n      const _index = i - this.MIN;\n      if (_index >= 0 && _index < this.data.length) {\n        data.push(this.data[_index]);\n      }\n    }\n    success(data);\n  }\n};"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-limited-datasource"]],decls:16,vars:7,consts:[[3,"datasource","context","sources"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," The datasource could be limited. The main point of limited datasource implementation is to cut the result in accordance with dataset boundaries and return an empty array if we are out of range. "),d(),f(4,"p"),c(5," In this sample we have only 200 items in the dataset: from -99 to 100 including 0. If at some point the Scroller will request this datasource for, say, 10 items started from -105 index, the result will consist of only 4 items: -99, -98, -97, -96. If a request falls out of [-99..100] range, an empty array will be returned. "),d(),f(6,"p"),c(7," The second tab (Fixed dataset) implements a limited datasource over a fixed dataset, which is initialized in the Component's constructor. This way data could be retrieved from a remote source. "),d(),f(8,"p"),c(9," Another option of how to limit the datasource is to use "),f(10,"a",2),c(11,"minIndex/maxIndex settings"),d(),c(12,"; this way the implementation of the "),f(13,"em"),c(14,"Datasource.get"),d(),c(15," method could remain unlimited as the Scroller will not request for items that are out of [minIndex..maxIndex] range. "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(10),B("fragment",i.minMaxDemoConfig.id),D("routerLink",pe(5,iz,i.minMaxDemoConfig.scope)))},dependencies:[Ge,oe],encapsulation:2})}return e})();const Y0=function(e){return["/",e]};let sz=(()=>{class e{constructor(){this.demoContext={config:F.datasource.map.positiveLimitedIndexes,logViewOnly:!0,log:"",count:0},this.settingsScope=F.settings.map,this.datasource={get:(t,r,i)=>{const o=[],s=Math.max(1,t),a=t+r-1;if(s<=a)for(let u=s;u<=a;u++)o.push({id:u,text:"item #"+u});Sn(this.demoContext,t,r,o.length),i(o)}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(1, index); // or 0\n    const end = index + count - 1;\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ text: 'item #' + i });\n      }\n    }\n    success(data);\n  }\n};"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-positive-limited-datasource"]],decls:18,vars:11,consts:[[3,"datasource","context","sources"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3," If we are not going to deal with negative indexes, we can fix the datasource left boundary at 1 (or 0 depends on your needs). This is a particular case of a limited datasource implementation discussed above with only "),f(4,"em"),c(5,"MIN"),d(),c(6," value set up. Also, positive limitation could be alternatively achieved by assigning "),f(7,"a",2),c(8,"minIndex setting"),d(),c(9," to 1 (or 0). "),d(),f(10,"p"),c(11," Note that if 0 index is the left boundary of the dataset, then it seems reasonable to assign 0 value to "),f(12,"a",2),c(13,"startIndex setting"),d(),c(14," too, because the default "),f(15,"em"),c(16,"startIndex"),d(),c(17," value is 1. "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(7),B("fragment",i.settingsScope.minMaxIndexes.id),D("routerLink",pe(7,Y0,i.settingsScope.minMaxIndexes.scope)),y(5),B("fragment",i.settingsScope.startIndex.id),D("routerLink",pe(9,Y0,i.settingsScope.startIndex.scope)))},dependencies:[Ge,oe],encapsulation:2})}return e})();function az(e,n){if(1&e&&(f(0,"div")(1,"div",9),c(2),d()()),2&e){const t=n.$implicit;y(2),z(t.text)}}function cz(e,n){if(1&e&&(f(0,"div")(1,"div",9),c(2),d()()),2&e){const t=n.$implicit;y(2),z(t.text)}}let uz=(()=>{class e{constructor(){this.demoConfig=F.datasource.map.invertedIndexes,this.MIN=1,this.datasourceCommon={get:(t,r,i)=>i(this.getData(t,r))},this.datasourceInverted={get:(t,r,i)=>{i(this.getData(-t-r+this.MIN,r).reverse())},settings:{startIndex:-10}},this.sources=[{name:S.Component,text:"MIN = 1;\n\ndatasourceCommon: IDatasource = {\n  get: (index, count, success) =>\n    success(this.getData(index, count))\n};\n\ndatasourceInverted: IDatasource = {\n  get: (index, count, success) => {\n    const _index = -index - count + this.MIN;\n    const data = this.getData(_index, count).reverse();\n    success(data);\n  },\n  settings: {\n    startIndex: -10\n  }\n};\n\ngetData(index: number, count: number) {\n  const data = [];\n  const start = Math.max(this.MIN, index);\n  const end = index + count - 1;\n  if (start <= end) {\n    for (let i = start; i <= end; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n  }\n  return data;\n}"}]}getData(t,r){const i=[],o=Math.max(this.MIN,t),s=t+r-1;if(o<=s)for(let a=o;a<=s;a++)i.push({id:a,text:"item #"+a});return i}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-inverted-datasource"]],decls:50,vars:4,consts:[[1,"demo"],[3,"config"],[1,"work"],[1,"viewport-wrapper"],[1,"viewport-label"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"clearfix","mb-3"],[1,"prettyprint"],[1,"item"]],template:function(r,i){1&r&&(f(0,"div",0),O(1,"app-demo-title",1),f(2,"div",2)(3,"div",3)(4,"div",4),c(5,"common \u2193"),d(),f(6,"div",5),ne(7,az,3,1,"div",6),d()(),f(8,"div",3)(9,"div",4),c(10,"inverted \u2191"),d(),f(11,"div",5),ne(12,cz,3,1,"div",6),d()(),O(13,"div",7),d(),f(14,"pre",8),c(15),d(),f(16,"p")(17,"em"),c(18,"Datasource.get"),d(),c(19,' method implementation could be quite complex and flexible. This piece demonstrates how the dataset we want to virtualize could be processed to provide "inverted" viewport logic when new positive items are retrieved by scrolling up. '),d(),f(20,"p")(21,"em"),c(22,"getData"),d(),c(23," method implements positive limited datasource as it was done in the previous sample with one change: left dataset boundary is parametrized by "),f(24,"em"),c(25,"MIN"),d(),c(26," property. So "),f(27,"em"),c(28,"datasourceCommon.get"),d(),c(29," just passes "),f(30,"em"),c(31,"getData"),d(),c(32," result to its "),f(33,"em"),c(34,"success"),d(),c(35," callback. "),d(),f(36,"p"),c(37," But "),f(38,"em"),c(39,"datasourceInverted.get"),d(),c(40," does the simple math: it inverts and shifts the "),f(41,"em"),c(42,"index"),d(),c(43," and reverses the result array. So the Scroller gets some specifically processed portion of our dataset that reflects our needs. By settings "),f(44,"em"),c(45,"startIndex"),d(),c(46," value to -10 in this case we are telling that we want 10 items to be fetched and rendered in forward direction initially. And it does not depend on "),f(47,"em"),c(48,"MIN"),d(),c(49,", it does depend on the viewport and single item size: 10 items are visible. "),d()()),2&r&&(y(1),D("config",i.demoConfig),y(6),D("uiScrollOf",i.datasourceCommon),y(5),D("uiScrollOf",i.datasourceInverted),y(3),z(i.sources[0].text))},dependencies:[Qr,es],encapsulation:2})}return e})(),lz=(()=>{class e{constructor(){this.demoContext={config:F.datasource.map.pages,logViewOnly:!0,log:""},this.getCount=0,this.pagesCount=30,this.pageSize=7,this.datasource={get:(t,r,i)=>{this.getCount++,this.demoContext.log="\n"+this.demoContext.log,this.demoContext.log=`${this.getCount}.1 index = ${t}, count = ${r}\n`+this.demoContext.log;const o=Math.max(t,0),s=t+r-1;if(o>s)return this.demoContext.log=`${this.getCount}.2 empty result\n`+this.demoContext.log,void i([]);this.demoContext.log=`${this.getCount}.2 requesting items [${o}..${s}]\n${this.demoContext.log}`;const a=Math.floor(o/this.pageSize),u=Math.floor(s/this.pageSize);let l=[];const h=[];for(let v=a;v<=u;v++)h.push(v),l=[...l,...this.getDataPage(v)];this.demoContext.log=`${this.getCount}.3 requesting pages: ${h.join(", ")}\n`+this.demoContext.log,this.demoContext.log=`${this.getCount}.4 `+(l.length?`pages result [${l[0].index}..${l[l.length-1].index}]`:"empty result")+"\n"+this.demoContext.log;const p=o-a*this.pageSize,g=l.slice(p,p+s-o+1);this.demoContext.log=(g.length?`${this.getCount}.5 sliced result [${g[0].index}..${g[g.length-1].index}]\n`:"")+this.demoContext.log,i(g)},settings:{startIndex:0}},this.sources=[{name:S.Component,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    // items to request (x.2)\n    const startIndex = Math.max(index, 0);\n    const endIndex = index + count - 1;\n    if (startIndex > endIndex) {\n      success([]); // empty result\n      return;\n    }\n\n    // pages to request (x.3)\n    const startPage = Math.floor(startIndex / this.pageSize);\n    const endPage = Math.floor(endIndex / this.pageSize);\n\n    // pages result (x.4)\n    let pagesResult: MyItem[] = [];\n    for (let i = startPage; i <= endPage; i++) {\n      pagesResult = [...pagesResult, ...this.getDataPage(i)];\n    }\n\n    // sliced result (x.5)\n    const start = startIndex - startPage * this.pageSize;\n    const end = start + endIndex - startIndex + 1;\n    const data = pagesResult.slice(start, end);\n\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n};\n\npagesCount = 30;\npageSize = 7;\ndata: MyItem[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i < this.pagesCount; i++) {\n    this.data[i] = [];\n    for (let j = 0; j < this.pageSize; j++) {\n      const index = i * this.pageSize + j;\n      this.data[i].push({\n        index,\n        text: 'test ' + index\n      });\n    }\n  }\n}\n\ngetDataPage(page: number) {\n  if (page < 0 || page >= this.pagesCount) {\n    return [];\n  }\n  return this.data[page];\n}"},{name:S.Component+" (async)",text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const startIndex = Math.max(index, 0);\n    const endIndex = index + count - 1;\n    if (startIndex > endIndex) {\n      success([]); // empty result\n      return;\n    }\n\n    const startPage = Math.floor(startIndex / this.pageSize);\n    const endPage = Math.floor(endIndex / this.pageSize);\n\n    const pagesRequest: Promise<MyItem>[] = [];\n    for (let i = startPage; i <= endPage; i++) {\n      pagesRequest.push(\n        this.remoteDataService.getDataPageAsync(i)\n      );\n    }\n    return Promise.all(pagesRequest).then(pagesResult => {\n      pagesResult = pagesResult.reduce((acc, result) =>\n        [...acc, ...result]\n      , []);\n      const start = startIndex - startPage * this.pageSize;\n      const end = start + endIndex - startIndex + 1;\n      return pagesResult.slice(start, end);\n    });\n  },\n  settings: {\n    startIndex: 0\n  }\n};\n\nconstructor(\n  private remoteDataService: RemoteDataService\n) {\n}"}],this.data=[];for(let t=0;t<this.pagesCount;t++){this.data[t]=[];for(let r=0;r<this.pageSize;r++){const i=t*this.pageSize+r;this.data[t].push({index:i,text:`test ${i}`})}}}getDataPage(t){return t<0||t>=this.pagesCount?[]:this.data[t]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-pages-datasource"]],decls:37,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),c(3,' This sample demonstrates how the Scroller can be integrated with the datasource which has "pages" API only. The Scroller deals with "offset-limit" (that is "index-count") API by default, but necessary transition layer could be implemented via '),f(4,"em"),c(5,"datasource.get"),d(),c(6,". "),d(),f(7,"p"),c(8," The "),f(9,"em"),c(10,"constructor"),d(),c(11," initializes "),f(12,"em"),c(13,"data"),d(),c(14," two-dimensional array, "),f(15,"em"),c(16,"getDataPage"),d(),c(17,' method simulates "pages" API. We are assuming that '),f(18,"em"),c(19,"getDataPage"),d(),c(20," is the only entry point to our data. Then each time the "),f(21,"em"),c(22,"datasource.get"),d(),c(23,' method is called, we are converting "index-count" API params to appropriate pages numbers, retrieving these pages, joining pages results and slicing it to resolve the exactly part of the dataset the Scroller needs for. '),d(),f(24,"p")(25,"em"),c(26,"getDataPage"),d(),c(27," could be async, let's imagine that there is "),f(28,"em"),c(29,"remoteDataService"),d(),c(30," which has "),f(31,"em"),c(32,"getDataPageAsync"),d(),c(33," method which returns "),f(34,"em"),c(35,"Promise"),d(),c(36,'. Using promise-based signature in this case, x.3, x.4 and x.5 code sections might be rewritten as it is shown in "Component (async)" tab. '),d()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})();const Q0=function(e){return["/",e]};let dz=(()=>{class e{constructor(){this.demos=F,this.importSample="import { Datasource, IDatasource } from 'ngx-ui-scroll';",this.datasourceSampleLiteral="datasource: IDatasource = { get, settings };",this.datasourceSampleClass="datasource = new Datasource({ get, settings });"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-datasource"]],decls:102,vars:9,consts:[[3,"routerLink"]],template:function(r,i){1&r&&(f(0,"h1"),c(1,"Angular UI Scroll Datasource Demos"),d(),f(2,"p"),c(3," The idea of\xa0the "),f(4,"em"),c(5,"*uiScroll"),d(),c(6," directive usage is\xa0very similar to\xa0the\xa0use of\xa0"),f(7,"em"),c(8,"*ngFor"),d(),c(9," directive in\xa0the simplest case, but as\xa0it\xa0follows from the documentation, a\xa0special "),f(10,"em"),c(11,"Datasource"),d(),c(12," object needs to\xa0be\xa0passed instead of Angular "),f(13,"em"),c(14,"Iterable"),d(),c(15,". "),f(16,"em"),c(17,"Datasource"),d(),c(18," is\xa0an\xa0entry point to\xa0the "),f(19,"em"),c(20,"uiScroll"),d(),c(21,", that provides data flow from the host App to the Scroller. There are two common ways of\xa0how the "),f(22,"em"),c(23,"Datasource"),d(),c(24," could be\xa0defined:\n"),d(),f(25,"ul")(26,"li"),c(27," as an object literal of "),f(28,"em"),c(29,"IDatasource"),d(),c(30," type "),f(31,"pre"),c(32),d()(),f(33,"li"),c(34," as an instance of "),f(35,"em"),c(36,"Datasource"),d(),c(37," class "),f(38,"pre"),c(39),d()()(),f(40,"p"),c(41," The constructor argument in\xa0the second case should be\xa0an object of "),f(42,"em"),c(43,"IDatasource"),d(),c(44," type. Instantiating via operator "),f(45,"em"),c(46,"new"),d(),c(47," is\xa0needed for the "),f(48,"em"),c(49,"Adapter"),d(),c(50," to\xa0be\xa0available on\xa0the result "),f(51,"em"),c(52,"datasource"),d(),c(53," object (see "),f(54,"a",0),c(55,"Adapter demo page"),d(),c(56," for details). Both of\xa0"),f(57,"em"),c(58,"IDatasource"),d(),c(59," and "),f(60,"em"),c(61,"Datasource"),d(),c(62," definitions could be\xa0imported from "),f(63,"em"),c(64,"UiScrollModule"),d(),c(65,":\n"),d(),f(66,"pre"),c(67),d(),f(68,"p"),c(69,"The "),f(70,"em"),c(71,"IDatasource"),d(),c(72," object we need to define in both cases"),d(),f(73,"ul")(74,"li"),c(75,"must contain "),f(76,"em"),c(77,"get"),d(),c(78," method property and"),d(),f(79,"li"),c(80,"may contain "),f(81,"em"),c(82,"settings"),d(),c(83," object property."),d()(),f(84,"p"),c(85," With the help of\xa0"),f(86,"em"),c(87,"settings"),d(),c(88," object the Scroller could be\xa0configured, as\xa0it\xa0is\xa0 described on\xa0"),f(89,"a",0),c(90,"Settings demo page"),d(),c(91,". On this page we\xa0are going to\xa0discuss the "),f(92,"em"),c(93,"Datasource.get"),d(),c(94," method implementation.\n"),d(),O(95,"app-datasource-signatures")(96,"app-bidirectional-unlimited-datasource")(97,"app-limited-datasource")(98,"app-positive-limited-datasource")(99,"app-remote-datasource")(100,"app-inverted-datasource")(101,"app-pages-datasource")),2&r&&(y(32),z(i.datasourceSampleLiteral),y(7),z(i.datasourceSampleClass),y(15),D("routerLink",pe(5,Q0,i.demos.adapter.id)),y(13),z(i.importSample),y(22),D("routerLink",pe(7,Q0,i.demos.settings.id)))},dependencies:[Ge,nz,rz,oz,sz,s5,uz,lz],encapsulation:2})}return e})(),fz=(()=>{class e{constructor(){this.demoContext={config:F.experimental.map.viewportElementSetting,noWorkView:!0},this.sources=[{name:S.Datasource,text:"@ViewChild('viewport', { static: true }) viewportRef: ElementRef<HTMLElement>;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    viewportElement: () => this.viewportRef.nativeElement\n  }\n}"},{name:S.Template,active:!0,text:'<div class="viewport" #viewport>\n  <div>\n    <div>\n      <div *uiScroll="let item of datasource">\n        <div class="item">{{item.text}}</div>\n      </div>\n    </div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.nativeSample="settings: {\n  viewportElement: () =>\n    document.getElementsByClassName('viewport')[0]\n}"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-viewport-element-setting"]],decls:35,vars:3,consts:[[3,"context","sources"],["actions","",1,"comment"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),c(2,"Available since v1.8.1, undocumented"),d(),f(3,"div",2)(4,"p"),c(5," As it follows from the doc, the viewport is a scrollable area with a finite height. By default, the nearest ancestor of the "),f(6,"em"),c(7,"*uiScroll"),d(),c(8," container is treated as the Viewport. With the "),f(9,"em"),c(10,"viewportElement"),d(),c(11," setting we may change the default behavior and make another html element to be the Viewport. "),d(),f(12,"p"),c(13," The value of "),f(14,"em"),c(15,"viewportElement"),d(),c(16," setting can be an html element or a function synchronously returning an html element. The second option is useful if the Viewport is a part of the template of the same component that contains the Scroller, and the "),f(17,"em"),c(18,"Datasource"),d(),c(19," is initialized before the view is ready (before "),f(20,"em"),c(21,"ngOnInit"),d(),c(22,"). "),d(),f(23,"p"),c(24," This sample shows a declarative way and uses "),f(25,"em"),c(26,"ViewChild"),d(),c(27," decorator and "),f(28,"em"),c(29,"#viewport"),d(),c(30," syntax to access the 3d ancestor of the Scroller base container. This also could be achieved via native javascript methods, for example "),d(),f(31,"pre"),c(32),d(),f(33,"p"),c(34," Note, using this feature is potentially dangerous, because any html element can be set as the Viewport this way. For example, the engine does not check whether this element is an ancestor of the Scroller element or not. "),d()()()),2&r&&(D("context",i.demoContext)("sources",i.sources),y(32),z(i.nativeSample))},dependencies:[oe],encapsulation:2})}return e})(),hz=(()=>{class e{constructor(){this.demoContext={config:F.experimental.map.inverseSetting,addClass:"inverse",noInfo:!0},this.MIN=1,this.MAX=5,this.datasource={get:(t,r,i)=>{const o=[],s=Math.max(this.MIN,t),a=Math.min(t+r-1,this.MAX);if(s<=a)for(let u=s;u<=a;u++)o.push({id:u,text:"item #"+u});i(o)},settings:{inverse:!0}},this.sources=[{name:S.Datasource,text:"MIN = 1;\nMAX = 5;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(this.MIN, index);\n    const end = Math.min(index + count - 1, this.MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n    }\n    success(data);\n  },\n  settings: {\n    inverse: true\n  }\n};"},{name:S.Styles,text:".viewport div[data-padding-backward] {\n  background-color: #e1f0ff;\n}\n.item {\n  background-color: #bcdeff;\n}"}]}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-inverse-setting"]],decls:17,vars:3,consts:[[3,"datasource","context","sources"],["actions","",1,"comment"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),c(2,"Available since v1.3.4, undocumented"),d(),f(3,"div",2)(4,"p"),c(5," When there is a lack of items in the viewport, the Scroller sets the height of the forward padding element to some value enough to fill the viewport. This is the default behavior, and this can be changed with the help of the "),f(6,"em"),c(7,"inverse"),d(),c(8," setting. "),d(),f(9,"p"),c(10," When "),f(11,"em"),c(12,"inverse"),d(),c(13," setting is set to "),f(14,"em"),c(15,"true"),d(),c(16,", the backward padding element will have a priority over the forward one, and it will be stretched if there are not enough items in the viewport. "),d()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})(),pz=(()=>{class e{constructor(){this.demoContext={config:F.experimental.map.adapterFixPosition,noInfo:!0},this.datasource=new be({get:(t,r,i)=>{const o=[];for(let s=t;s<t+r;s++)o.push({id:s,text:"item #"+s});i(o)}}),this.sources=[{name:S.Template,text:'<button (click)="scrollTop()">scroll top</button>\n<button (click)="scrollBottom()">scroll bottom</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Component,text:"datasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\n  scrollTop() {\n    this.datasource.adapter.fix({ scrollPosition: 0 });\n  }\n\n  scrollBottom() {\n    this.datasource.adapter.fix({ scrollPosition: +Infinity });\n  }\n"}],this.adapterFixPosition="Adapter.fix({ scrollPosition: 0 })"}scrollTop(){this.datasource.adapter.fix({scrollPosition:0})}scrollBottom(){this.datasource.adapter.fix({scrollPosition:1/0})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-adapter-fix-position"]],decls:51,vars:3,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"div",2),c(3,"Available since v1.2.4, undocumented"),d(),f(4,"button",3),N("click",function(){return i.scrollTop()}),c(5,"scroll top"),d(),f(6,"button",3),N("click",function(){return i.scrollBottom()}),c(7,"scroll bottom"),d()(),f(8,"div",4)(9,"p"),c(10," The "),f(11,"em"),c(12,"Adapter.fix"),d(),c(13," method has a number of settings, one of them is "),f(14,"em"),c(15,"scrollPosition"),d(),c(16,". It allows to change the position of the viewport's scrollbar programmatically. It is used in the lib tests. "),d(),f(17,"p"),c(18," The value of "),f(19,"em"),c(20,"scrollPosition"),d(),c(21," should be an integer or Infinity. Negative value would be treated as zero. Despite the browsers have no agreement on how to deal with setting "),f(22,"em"),c(23,"scrollTop"),d(),c(24,"/"),f(25,"em"),c(26,"scrollLeft"),d(),c(27," properties into "),f(28,"em"),c(29,"+/-Infinity"),d(),c(30,", the Scroller treats them as follows: "),d(),f(31,"ul")(32,"li"),c(33," scroll to the beginning of the viewport if "),f(34,"em"),c(35,"-Infinity"),d(),c(36,", (the value will be set to "),f(37,"em"),c(38,"0"),d(),c(39,") "),d(),f(40,"li"),c(41," scroll to the end of the viewport if "),f(42,"em"),c(43,"Infinity"),d(),c(44," (scroll position will be set into the viewport's "),f(45,"em"),c(46,"scrollHeight"),d(),c(47," or "),f(48,"em"),c(49,"scrollWidth"),d(),c(50," value) "),d()()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})();const Al=function(e){return["/",e]};let mz=(()=>{class e{constructor(){this.demoContext={config:F.experimental.map.adapterFixUpdater,noInfo:!0},this.adapterPropsScope=F.adapterProps,this.adapterMethodsScope=F.adapterMethods,this.datasource=new be({get:(t,r,i)=>{const o=[];for(let s=t;s<t+r;s++)o.push({id:s,text:"item #"+s});i(o)}}),this.sources=[{name:S.Template,text:'<button (click)="doUpdate()">Update</button> item #\n<input [(ngModel)]="inputValue" size="2">\n<div>Items in buffer: {{this.countItems()}}</div>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Component,text:"inputValue = '5'\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data: MyItem[] = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\ndoUpdate() {\n  const index = Number(this.inputValue);\n  if (!isNaN(index)) {\n    this.datasource.adapter.fix({\n      updater: ({ $index, data }, update) => {\n        if (index === $index) {\n          data.text += '*';\n          // update();\n        }\n      }\n    });\n  }\n}\n\ncountItems() {\n  let count = 0;\n  this.datasource.adapter.fix({\n    updater: _ => count++\n  });\n  return count;\n}\n"}],this.itemAdapterDescription="  ItemAdapter {\n    $index: number;\n    data: any;\n    element?: HTMLElement;\n  }",this.adapterFixUpdater="Adapter.fix({ updater })",this.inputValue="5"}doUpdate(){const t=Number(this.inputValue);isNaN(t)||this.datasource.adapter.fix({updater:({$index:r,data:i},o)=>{t===r&&(i.text+="*"),o()}})}countItems(){let t=0;return this.datasource.adapter.fix({updater:r=>t++}),t}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-adapter-fix-updater"]],decls:78,vars:22,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["size","2",3,"ngModel","ngModelChange"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"div",2),c(3,"Available since v1.3.1, undocumented"),d(),f(4,"button",3),N("click",function(){return i.doUpdate()}),c(5,"Update"),d(),c(6," item # "),f(7,"input",4),N("ngModelChange",function(s){return i.inputValue=s}),d(),f(8,"div"),c(9),d()(),f(10,"div",5)(11,"p"),c(12," The "),f(13,"em"),c(14,"Adapter.fix"),d(),c(15," method could be invoked with "),f(16,"em"),c(17,"updater"),d(),c(18," option which is a function that is applied to each element in the current Scroller's Buffer list and allows to update buffered items on the fly. The argument of the "),f(19,"em"),c(20,"updater"),d(),c(21," function is an object of special "),f(22,"em"),c(23,"ItemAdapter"),d(),c(24," type "),d(),f(25,"pre"),c(26),d(),f(27,"p"),c(28," The "),f(29,"em"),c(30,"data"),d(),c(31," is exactly what the "),f(32,"em"),c(33,"Datasource"),d(),c(34," sends to the Scroller as the items contents. So we have access to the items inside the Scroller's Buffer, and in this demo we update the "),f(35,"em"),c(36,"text"),d(),c(37," of selected item by its index. If we destroy the updated item by scrolling out and then scroll back, we will see that our update is gone. Speaking generally, we need to care about datasource consistency and every update we want to be applied to the Scroller's Buffer should also happen at the datasource level. The examples of Datasource-Adapter synching can be found "),f(38,"a",6),c(39,"here"),d(),c(40,", "),f(41,"a",6),c(42,"here"),d(),c(43," and "),f(44,"a",6),c(45,"here"),d(),c(46,". "),d(),f(47,"p"),c(48," The "),f(49,"em"),c(50,"Adapter.fix({ updater })"),d(),c(51," usage can be very diverse. For example, we may not change anything in the buffer, but gather some statistic. In this demo "),f(52,"em"),c(53,"countItems"),d(),c(54," method uses "),f(55,"em"),c(56,"updater"),d(),c(57," to get a number of items in the buffer at a particular moment. The result is equal to the value of "),f(58,"em"),c(59,"Adapter.itemsCount"),d(),c(60," read-only property ("),f(61,"a",6),c(62,"link"),d(),c(63,"). Also, I would not recommend to bind "),f(64,"em"),c(65,"countItems"),d(),c(66,"-like methods with the template as it is in this demo, for it might affect the performance. "),d(),f(67,"p"),c(68," The "),f(69,"em"),c(70,"Adapter.fix-updater"),d(),c(71," method has the second argument "),f(72,"em"),c(73,"update"),d(),c(74," (available since v2.0.0-rc.6) which is a function that can be invoked in case the "),f(75,"em"),c(76,"Buffer.items"),d(),c(77," array reference needs to be updated. "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(7),D("ngModel",i.inputValue),y(2),H("Items in buffer: ",i.countItems(),""),y(17),z(i.itemAdapterDescription),y(12),B("fragment",i.adapterMethodsScope.map.appendPrependSync.id),D("routerLink",pe(14,Al,i.adapterMethodsScope.id)),y(3),B("fragment",i.adapterMethodsScope.map.remove.id),D("routerLink",pe(16,Al,i.adapterMethodsScope.id)),y(3),B("fragment",i.adapterMethodsScope.map.insert.id),D("routerLink",pe(18,Al,i.adapterMethodsScope.id)),y(17),B("fragment",i.adapterPropsScope.map.itemsCount.id),D("routerLink",pe(20,Al,i.adapterPropsScope.id)))},dependencies:[zt,At,yt,Ge,oe],encapsulation:2})}return e})(),gz=(()=>{class e{constructor(){this.demoContext={config:F.experimental.map.adapterFixScrollToItem,noInfo:!0},this.datasource=new be({get:(t,r,i)=>{const o=[];for(let s=t;s<t+r;s++)o.push({id:s,text:"item #"+s});i(o)}}),this.sources=[{name:S.Template,text:'<button (click)="doScrollTo()">Scroll to</button> item #\n<input [(ngModel)]="index" size="2">\n<input type="checkbox" [(ngModel)]="scrollToBottom"> - scroll to bottom\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Component,text:"index = '5'\nscrollToBottom = false;\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data: MyItem[] = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\ndoScrollTo() {\n  const index = Number(this.index);\n  const alignToTop = !Boolean(this.scrollToBottom);\n  if (!isNaN(index)) {\n    this.datasource.adapter.fix({\n      scrollToItem: ({ data }) => data.id === index,\n      scrollToItemOpt: alignToTop\n    });\n  }\n}\n"}],this.adapterFixUpdater="Adapter.fix({ scrollToItem })",this.index="5",this.scrollToBottom=!1}doScrollTo(){const t=Number(this.index),r=!this.scrollToBottom;isNaN(t)||this.datasource.adapter.fix({scrollToItem:({data:i})=>i.id===t,scrollToItemOpt:r})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-adapter-fix-scroll-to-item"]],decls:34,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["size","2",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange"],["description",""],["href","https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"div",2),c(3,"Available since v1.6.2, undocumented"),d(),f(4,"button",3),N("click",function(){return i.doScrollTo()}),c(5,"Scroll to"),d(),c(6," item # "),f(7,"input",4),N("ngModelChange",function(s){return i.index=s}),d(),O(8,"br"),f(9,"input",5),N("ngModelChange",function(s){return i.scrollToBottom=s}),d(),c(10," - scroll to bottom "),d(),f(11,"div",6)(12,"p"),c(13," What if we want to scroll to a specific item in the viewport? This can be done via "),f(14,"em"),c(15,"scrollToItem"),d(),c(16," option of the "),f(17,"em"),c(18,"Adapter.fix"),d(),c(19," method. This option specifies an item predicate function, and the first item in the Buffer, that satisfies this predicate, will be the item to which the viewport will scroll. "),d(),f(20,"p"),c(21," Scrolling is performed via "),f(22,"em"),c(23,"element.scrollIntoView()"),d(),c(24," native DOM Element interface's method. According to its specification, it accepts 1 optional argument which can be a Boolean parameter or special Object parameter (details can be found on "),f(25,"a",7),c(26,"MDN"),d(),c(27,"). To provide this option, the "),f(28,"em"),c(29,"Adapter.fix"),d(),c(30," method handles another property of its argument object: "),f(31,"em"),c(32,"scrollToItemOpt"),d(),c(33,". The demo shows how to use it. "),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(7),D("ngModel",i.index),y(2),D("ngModel",i.scrollToBottom))},dependencies:[zt,_i,At,yt,oe],encapsulation:2})}return e})(),vz=(()=>{class e{constructor(){this.demoContext={config:F.experimental.map.onBeforeClipSetting,viewportId:"onBeforeClip-setting-viewport",log:"",count:0},this.datasource=new be({get:(t,r,i)=>{const o=[];for(let s=t;s<=t+r-1;s++)o.push({id:s,text:"item #"+s});i(o)},settings:{bufferSize:25,onBeforeClip:t=>{const r=`${++this.demoContext.count}) clipping ${t.length} items[${t[0].$index}..${t[t.length-1].$index}]\n`;this.demoContext.log=r+this.demoContext.log}}}),this.sources=[{name:S.Datasource,active:!0,text:"datasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 25,\n    onBeforeClip: (items) => {\n      const range = `[${items[0].$index}..${items[items.length - 1].$index}]`;\n      const text = `clipping ${items.length} items ${range}`;\n      console.log(text);\n    }\n  }\n})"},{name:S.Template,text:'<button (click)="datasource.adapter.clip()">Clip now</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'}],this.argumentDescription="  onBeforeClip: (items: {\n    $index: number,\n    data: any,\n    element?: HTMLElement\n  }[]) => void"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-on-before-clip-setting"]],decls:24,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"div",2),c(3,"Available since v1.9.0, undocumented"),d(),f(4,"button",3),N("click",function(){return i.datasource.adapter.clip()}),c(5,"Clip"),d()(),f(6,"div",4)(7,"p")(8,"em"),c(9,"onBeforeClip"),d(),c(10," setting allows to run some code at the moment when 1 or more items are to clip out of the viewport. The code will run synchronously. Clipping cannot be cancelled. It is like to "),f(11,"em"),c(12,"OnDestroy"),d(),c(13," Angular lifecycle hook, but it is triggered before the elements are removed from DOM. "),d(),f(14,"p"),c(15," The log in this demo shows exactly what the "),f(16,"em"),c(17,"onBeforeClip"),d(),c(18," method sends to the console. The argument of the callback is the array of items of "),f(19,"em"),c(20,"ItemAdapter"),d(),c(21," type: "),d(),f(22,"pre"),c(23),d()()()),2&r&&(D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),y(23),z(i.argumentDescription))},dependencies:[oe],encapsulation:2})}return e})(),yz=(()=>{class e{constructor(){this.demoContext={config:F.experimental.map.adapterPauseResume,noInfo:!0},this.datasource=new be({get:(t,r,i)=>{const o=[];for(let s=t;s<=t+r-1;s++)o.push({id:s,text:"item #"+s});i(o)},devSettings:{debug:!0}}),this.sources=[{active:!0,name:S.Template,text:'<button (click)="datasource.adapter.pause()">Pause</button>\n<button (click)="datasource.adapter.resume()">Resume</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Datasource,text:"datasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n  }\n})"}],this.argumentDescription="  onBeforeClip: (items: {\n    $index: number,\n    data: any,\n    element?: HTMLElement\n  }[]) => void"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-adapter-pause-resume"]],decls:25,vars:3,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"div",2),c(3,"Available since v3.2.0, undocumented"),d(),f(4,"button",3),N("click",function(){return i.datasource.adapter.pause()}),c(5,"Pause"),d(),f(6,"button",3),N("click",function(){return i.datasource.adapter.resume()}),c(7,"Resume"),d()(),f(8,"div",4)(9,"p"),c(10," The "),f(11,"em"),c(12,"Adapter.pause"),d(),c(13," method is to stop the Scroller. It doesn't receive the scroll events from the viewport, so the scroll events are ignored. Also, all the Adapter methods (except "),f(14,"em"),c(15,"Adapter.resume"),d(),c(16," and "),f(17,"em"),c(18,"Adapter.reset"),d(),c(19,") don't do anything. "),d(),f(20,"p"),c(21," The "),f(22,"em"),c(23,"Adapter.resume"),d(),c(24," method is to make the Scroller live again. "),d()()()),2&r&&D("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[oe],encapsulation:2})}return e})();function wz(e,n){if(1&e&&(f(0,"div")(1,"div",16),c(2),d()()),2&e){const t=n.$implicit;y(2),H(" ",t.text," ")}}const bz=e=>class extends ll{render(...n){return e.log&&(e.logText+=`${JSON.stringify(n[1].items)}\n`,console.log("Items to render:",n[1].items)),super.render(...n)}};let _z=(()=>{class e{constructor(){this.demoConfig=F.experimental.map.routines,this.MIN=-99,this.MAX=100,this.data=[],this.log=!1,this.logText="",this.CustomRoutines=bz(this),this.datasource=new be({get:(t,r,i)=>{t-=this.MIN;const o=Math.max(0,t),s=Math.min(this.MAX-this.MIN+1,t+r);i(o>s?[]:this.data.slice(o,s))}}),this.sources=[{active:!0,name:S.Template,text:'<input type="checkbox" [(ngModel)]="log" />\n{{ log ? \'disable\' : \'enable\' }} render log\n      \n<div class="viewport">\n  <div *uiScroll="let item of datasource; Routines: CustomRoutines">\n    <div class="item">\n      {{ item.text }}\n    </div>\n  </div>\n</div>'},{name:S.Component,text:"import { Datasource, Routines } from 'ngx-ui-scroll';\n\nconst getCustomRoutines = (context: DemoRoutinesComponent) =>\n  class extends Routines {\n    render(...args: Parameters<Routines['render']>) {\n      if (context.log) { // the context of the demo component\n        console.log(args[1].items);\n      }\n      // pass by the original render\n      return super.render(...args);\n    }\n  };\n\n@Component({ ... })\nexport class DemoRoutinesComponent {\n  MIN = -99;\n  MAX = 100;\n  data: MyItem[] = [];\n  log = false;\n  CustomRoutines = getCustomRoutines(this);\n\n  constructor() {\n    for (let i = this.MIN; i <= this.MAX; i++) {\n      this.data.push({ id: i, text: 'item #' + i });\n    }\n  }\n\n  datasource = new Datasource<MyItem>({\n    get: (index, count, success) => {\n      index -= this.MIN; // convert to natural indexes starting with 0\n      const start = Math.max(0, index);\n      const end = Math.min(this.MAX - this.MIN + 1, index + count);\n      const data = start > end ? [] : this.data.slice(start, end);\n      success(data);\n    }\n  });\n}"}];for(let t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-routines"]],decls:41,vars:7,consts:[[1,"demo"],[3,"config"],[1,"work"],[1,"actions"],[1,"comment"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"viewport-wrapper"],[1,"viewport"],[4,"uiScroll","uiScrollOf","uiScrollRoutines"],[1,"log"],[1,"datasource"],[1,"pre-wrapper",2,"height","220px"],[1,"clearfix","mb-3"],[3,"sources"],[1,"description"],["href","https://github.com/dhilt/vscroll/blob/main/src/interfaces/routines.ts"],[1,"item"]],template:function(r,i){1&r&&(f(0,"div",0),O(1,"app-demo-title",1),f(2,"div",2)(3,"div",3)(4,"div",4),c(5,"Available since v3.2.0, undocumented"),d(),f(6,"input",5),N("ngModelChange",function(s){return i.log=s}),d(),c(7),d(),f(8,"div",6)(9,"div",7),ne(10,wz,3,1,"div",8),d()(),f(11,"div",9)(12,"div",10),c(13," Items to render log "),f(14,"div",11)(15,"pre"),c(16),d()()()(),O(17,"div",12),d(),O(18,"app-demo-sources",13),f(19,"div",14)(20,"p"),c(21," Routines API allows to adjust/reimplement DOM-specific logic within the core. This can be seen as the lowest-level API and should be considered dangerous. In order to use Routines API, you need to provide "),f(22,"em"),c(23,"Routines"),d(),c(24," parameter into the "),f(25,"em"),c(26,"ui-scroll"),d(),c(27," directive. This parameter is a class that must be extended from the original "),f(28,"em"),c(29,"Routines"),d(),c(30," class distributed by the library. "),d(),f(31,"p"),c(32," This demo implements an artificial use case where we want to access and log data items before they are rendered. The Routines factory ("),f(33,"em"),c(34,"getCustomRoutines"),d(),c(35,") is needed to provide the demo component context as we want to enable/disable the logging feature. "),d(),f(36,"p"),c(37," A complete list of Routines methods can be taken from the definition of the "),f(38,"a",15),c(39,"IRoutines interface"),d(),c(40,". "),d()()()),2&r&&(y(1),D("config",i.demoConfig),y(5),D("ngModel",i.log),y(1),H(" ",i.log?"disable":"enable"," render log "),y(3),D("uiScrollOf",i.datasource)("uiScrollRoutines",i.CustomRoutines),y(6),z(i.logText),y(2),D("sources",i.sources))},dependencies:[_i,At,yt,Qr,es,Tl],encapsulation:2})}return e})(),Dz=(()=>{class e{constructor(){this.scope=F.experimental.map,this.base="../"+F.experimental.id,this.adapterFixArgumentDescription="  interface AdapterFixOptions {\n    scrollPosition?: number;\n    minIndex?: number;\n    maxIndex?: number;\n    updater?: (item: ItemAdapter, update: () => void) => void;\n    scrollToItem?: (item: ItemAdapter) => boolean;\n    scrollToItemOpt?: boolean | ScrollIntoViewOptions;\n  }"}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-experimental"]],decls:42,vars:19,consts:[[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"h1"),c(1,"Angular UI Scroll Experimental Demos"),d(),f(2,"p"),c(3," There are some undocumented settings and Adapter methods that provide additional flexibility. We can consider them as experimental features. Most of these features are not tested well and may have some side effects or behave imperfectly.\n"),d(),f(4,"ul")(5,"li")(6,"a",0),c(7),d()(),f(8,"li")(9,"a",0),c(10),d()(),f(11,"li"),c(12," fix adapter method: "),f(13,"a",0),c(14,"position"),d(),c(15,", "),f(16,"a",0),c(17,"updater"),d(),c(18,", "),f(19,"a",0),c(20,"scroll to item"),d()(),f(21,"li")(22,"a",0),c(23),d()(),f(24,"li")(25,"a",0),c(26),d()()(),f(27,"p"),c(28," For example, "),f(29,"em"),c(30,"Adapter.fix"),d(),c(31," method. It has different options for different cases which are discussed below. These options are passed as an object of the following type:\n"),d(),f(32,"pre"),c(33),d(),O(34,"app-viewport-element-setting")(35,"app-inverse-setting")(36,"app-adapter-fix-position")(37,"app-adapter-fix-updater")(38,"app-adapter-fix-scroll-to-item")(39,"app-on-before-clip-setting")(40,"app-adapter-pause-resume")(41,"app-routines")),2&r&&(y(6),B("routerLink",i.base),B("fragment",i.scope.viewportElementSetting.id),y(1),H(" ",i.scope.viewportElementSetting.name," "),y(2),B("routerLink",i.base),B("fragment",i.scope.inverseSetting.id),y(1),H(" ",i.scope.inverseSetting.name," "),y(3),B("routerLink",i.base),B("fragment",i.scope.adapterFixPosition.id),y(3),B("routerLink",i.base),B("fragment",i.scope.adapterFixUpdater.id),y(3),B("routerLink",i.base),B("fragment",i.scope.adapterFixScrollToItem.id),y(3),B("routerLink",i.base),B("fragment",i.scope.onBeforeClipSetting.id),y(1),H(" ",i.scope.onBeforeClipSetting.name," "),y(2),B("routerLink",i.base),B("fragment",i.scope.routines.id),y(1),H(" ",i.scope.routines.name," "),y(7),z(i.adapterFixArgumentDescription))},dependencies:[Ge,fz,hz,pz,mz,gz,vz,yz,_z],encapsulation:2})}return e})();function Cz(e,n){if(1&e&&(f(0,"div",5)(1,"b"),c(2),d(),f(3,"span"),c(4),d()()),2&e){const t=n.$implicit;y(2),z(t.text),y(1),gr("color",t.color),y(1),H(" ",t.data," ")}}function Iz(e,n){if(1&e&&(f(0,"div"),ne(1,Cz,5,4,"div",4),d()),2&e){const t=ve();y(1),D("uiScrollOf",t.datasource)}}let Sz=(()=>{class e{constructor(){this.datasource=new be({get:(t,r,i)=>{const o=Math.max(t,1),s=Math.min(t+r-1,500),a=[];if(o<=s)for(let u=o;u<=s;u++){const l={data:"",text:"item #"+u,color:"black",size:20};u%15==0&&(l.data=Array.from({length:7*Math.random()+3},()=>"*").join(""),l.color=u%30==0?"red":"black"),a.push(l)}i(a)},settings:{startIndex:100,padding:.25,bufferSize:1,itemSize:20,minIndex:1,windowViewport:!0}}),this.init=!1,setTimeout(()=>this.init=!0)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-samples-window"]],decls:9,vars:4,consts:[[1,"header"],["routerLink","/",1,"navbar-link"],[1,"top-visible"],[4,"ngIf"],["style","height: 20px",4,"uiScroll","uiScrollOf"],[2,"height","20px"]],template:function(r,i){if(1&r&&(f(0,"div",0)(1,"h1"),c(2,"Entire window scrolling demo"),d(),f(3,"a",1),c(4,"Home"),d()(),f(5,"div",2),c(6),gi(7,"async"),d(),ne(8,Iz,2,1,"div",3)),2&r){let o;y(6),H(" Top visible: ",null==(o=vi(7,2,i.datasource.adapter.firstVisible$))?null:o.$index,"\n"),y(2),D("ngIf",i.init)}},dependencies:[Dr,Qr,Ge,aa],encapsulation:2})}return e})();const Ez=["*"],Mz=["viewport"];function Tz(e,n){1&e&&(f(0,"span"),c(1,"Destroy"),d())}function Az(e,n){1&e&&(f(0,"span"),c(1,"Create"),d())}function Nz(e,n){if(1&e){const t=Co();f(0,"div")(1,"button",1),N("click",function(){return Ft(t),Lt(ve().doReload())}),c(2,"Reload"),d(),f(3,"button",1),N("click",function(){return Ft(t),Lt(ve().doPrepend())}),c(4,"Prepend"),d(),f(5,"button",1),N("click",function(){return Ft(t),Lt(ve().doLog())}),c(6,"Show log"),d(),O(7,"br"),f(8,"button",1),N("click",function(){return Ft(t),Lt(ve().doScrollHome())}),c(9,"Up"),d(),f(10,"button",1),N("click",function(){return Ft(t),Lt(ve().doScrollEnd())}),c(11,"Down"),d(),f(12,"button",1),N("click",function(){return Ft(t),Lt(ve().doScrollSome())}),c(13,"Some"),d(),O(14,"br"),f(15,"input",0),N("ngModelChange",function(i){return Ft(t),Lt(ve().sizeIndex=i)}),d(),f(16,"button",1),N("click",function(){return Ft(t),Lt(ve().doChangeSize())}),c(17,"Size"),d(),O(18,"br"),f(19,"small"),c(20),d(),O(21,"br"),f(22,"small"),c(23),gi(24,"async"),d(),O(25,"br"),f(26,"small"),c(27),gi(28,"async"),d(),O(29,"br"),f(30,"small"),c(31),gi(32,"async"),d(),O(33,"br"),f(34,"small"),c(35),d()()}if(2&e){const t=ve();let r,i;y(15),D("ngModel",t.sizeIndex),y(5),H("ngx-ui-scroll version: ",t.datasource.adapter.packageInfo.consumer.version,""),y(3),bn("isLoading: ",t.datasource.adapter.isLoading," (",vi(24,10,t.datasource.adapter.isLoading$),") "),y(4),bn("first visible: ",t.datasource.adapter.firstVisible.$index," (",null==(r=vi(28,12,t.datasource.adapter.firstVisible$))?null:r.$index,") "),y(4),bn("last visible: ",t.datasource.adapter.lastVisible.$index," (",null==(i=vi(32,14,t.datasource.adapter.lastVisible$))?null:i.$index,") "),y(4),bn("total: ",t.datasource.adapter.itemsCount,", visible: ",t.getVisibleItemsCount()," ")}}function Rz(e,n){if(1&e){const t=Co();f(0,"div",1),N("click",function(){const o=Ft(t).$implicit;return Lt(ve(2).doToggleItem(o))}),f(1,"app-samples-test-inner"),c(2),f(3,"span"),c(4),d()()()}if(2&e){const t=n.$implicit;gr("height",t.size+"px"),y(2),H(" ",t.text," "),y(1),gr("color",t.color),y(1),H(" ",t.isSelected?"********":""," ")}}function Oz(e,n){if(1&e&&(f(0,"div"),ne(1,Rz,5,6,"div",5),d()),2&e){const t=ve();y(1),D("uiScrollOf",t.datasource)}}let or=-199,Pz=(()=>{class e{constructor(){}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-samples-test-inner"]],ngContentSelectors:Ez,decls:2,vars:0,template:function(r,i){1&r&&(lu(),f(0,"b"),qs(1),d())},encapsulation:2})}return e})();const Fz=[{path:"",component:l5},{path:"settings",component:S5},{path:"adapter",component:tz},{path:"datasource",component:dz},{path:"experimental",component:Dz},{path:"window",component:Sz},{path:"test",component:(()=>{class e{constructor(){this.reloadIndex=1,this.sizeIndex=1,this.sizeValue=10,this.datasourceDelay=0,this.datasource=new be({get:(t,r)=>this.fetchData(t,r),settings:{padding:.1,bufferSize:10,itemSize:100,startIndex:1,viewportElement:()=>this.viewportRef.nativeElement},devSettings:{debug:!0,immediateLog:!1,logTime:!1,logProcessRun:!0,throttle:40}}),this.show=!0,this.generateData()}generateData(){this.data=[];for(let t=0;t<=50-or;t++){const r={id:t+or,text:"item #"+(t+or),isSelected:t%15==0,size:Math.max(5,20+t+or)};r.isSelected&&(r.data=Array.from({length:7*Math.random()+3},()=>"*").join(""),r.color=t%30==0?"red":"black"),this.data.push(r)}}fetchData(t,r){const i=[],o=Math.max(or,t),s=Math.min(50,t+r-1);if(o<=s)for(let a=o;a<=s;a++)i.push(this.data[a-or]);return new ze(a=>{this.datasourceDelay?setTimeout(()=>a.next(i),this.datasourceDelay):a.next(i)})}getVisibleItemsCount(){const t=this.datasource.adapter;let r=t.lastVisible.$index;r=Number.isInteger(r)?r:NaN;let i=t.firstVisible.$index;return i=Number.isInteger(i)?i:NaN,Number.isNaN(r)||Number.isNaN(i)?0:r-i+1}getViewportElement(){return document.getElementsByClassName("viewport")[0]}doScroll(t,r,i){const o=this.getViewportElement();setTimeout(()=>{o.scrollTop-=i,--t>0&&this.doScroll(t,r,i)},r)}doHideShow(){this.show=!this.show}doReload(){this.datasource.adapter.reload(this.reloadIndex)}doPrepend(){or--;const t={id:or,text:"item #"+or,isSelected:!1,size:25};this.data.unshift(t),this.datasource.adapter.prepend(t,!0)}doScrollHome(){this.getViewportElement().scrollTop=0}doScrollEnd(){this.getViewportElement().scrollTop=999999}doScrollSome(){const t=this.getViewportElement().scrollTop;this.getViewportElement().scrollTop=t+300}doChangeSize(){const t=document.getElementById("my-viewport"),r=Number(this.sizeIndex);if(!isNaN(r)&&t){for(let i=r;i<r+5;i++){const o=t.querySelector(`[data-sid="${i}"]`);if(o){o.style.height=this.sizeValue+"px";const s=this.data.find(a=>a.id===i);s&&(s.size=this.sizeValue)}}this.datasource.adapter.check()}}doLog(){this.datasource.adapter.showLog()}doToggleItem(t){this.datasource.adapter.fix({updater:({data:r})=>{t.id===r.id&&(r.isSelected=!r.isSelected)}})}autoscroll(){const{adapter:t}=this.datasource,r=t.isLoading$.subscribe(i=>{const o=document.getElementById("my-viewport"),s=t.lastVisible.element;if(!i&&o&&s&&s.getBoundingClientRect){const a=s.getBoundingClientRect().bottom,l=o.getBoundingClientRect().bottom-a,h=o.scrollTop-l;o.scrollTop===h?r.unsubscribe():(t.fix({scrollPosition:h}),o.scrollTop===h&&r.unsubscribe())}})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=V({type:e,selectors:[["app-samples-test"]],viewQuery:function(r,i){if(1&r&&function X_(e,n,t){const r=he();r.firstCreatePass&&(Q_(r,new q_(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),Y_(r,x(),n)}(Mz,7),2&r){let o;yh(o=wh())&&(i.viewportRef=o.first)}},decls:21,vars:6,consts:[[2,"width","50px",3,"ngModel","ngModelChange"],[3,"click"],[4,"ngIf"],["id","my-viewport",1,"viewport",2,"height","600px"],["viewport",""],[3,"height","click",4,"uiScroll","uiScrollOf"]],template:function(r,i){1&r&&(f(0,"div")(1,"input",0),N("ngModelChange",function(s){return i.datasourceDelay=s}),d(),c(2," - "),f(3,"small"),c(4,"datasource delay"),d(),O(5,"br"),f(6,"input",0),N("ngModelChange",function(s){return i.reloadIndex=s}),d(),c(7," - "),f(8,"small"),c(9,"reload index"),d(),O(10,"br"),f(11,"button",1),N("click",function(){return i.doHideShow()}),ne(12,Tz,2,0,"span",2),ne(13,Az,2,0,"span",2),d(),O(14,"br"),ne(15,Nz,36,16,"div",2),O(16,"br")(17,"br"),d(),f(18,"div",3,4),ne(20,Oz,2,1,"div",2),d()),2&r&&(y(1),D("ngModel",i.datasourceDelay),y(5),D("ngModel",i.reloadIndex),y(6),D("ngIf",i.show),y(1),D("ngIf",!i.show),y(2),D("ngIf",i.show),y(5),D("ngIf",i.show))},dependencies:[Dr,zt,At,yt,Qr,Pz,aa],encapsulation:2})}return e})()},{path:"**",redirectTo:"",pathMatch:"full"}];let Lz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Qt({type:e});static#n=this.\u0275inj=Nt({imports:[V0.forRoot(Fz,{useHash:!0}),V0]})}return e})(),Vz=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Qt({type:e,bootstrap:[H4]});static#n=this.\u0275inj=Nt({providers:[B0],imports:[nL,mV,jV,QV.forRoot(),JV,Lz]})}return e})();eL().bootstrapModule(Vz).catch(e=>console.error(e))}},Se=>{Se(Se.s=64)}]);
//# sourceMappingURL=main.467fd4e507ea9bdf.js.map