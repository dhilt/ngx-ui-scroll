"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[792],{431:()=>{function va(e,n,t,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void t(u)}a.done?n(c):Promise.resolve(c).then(r,i)}function Ke(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function s(c){va(o,r,i,s,a,"next",c)}function a(c){va(o,r,i,s,a,"throw",c)}s(void 0)})}}function Sl(e,n){return Object.is(e,n)}let lt=null,ya=!1,Jf=1;const Nt=Symbol("SIGNAL");function oe(e){const n=lt;return lt=e,n}const Fo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function wa(e){if(ya)throw new Error("");if(null===lt)return;lt.consumerOnSignalRead(e);const n=lt.nextProducerIndex++;Rl(lt),n<lt.producerNode.length&&lt.producerNode[n]!==e&&_a(lt)&&Nl(lt.producerNode[n],lt.producerIndexOfThis[n]),lt.producerNode[n]!==e&&(lt.producerNode[n]=e,lt.producerIndexOfThis[n]=_a(lt)?cw(e,lt,n):0),lt.producerLastReadVersion[n]=e.version}function ba(e){if((!_a(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Jf)){if(!e.producerMustRecompute(e)&&!Tl(e))return void Ml(e);e.producerRecomputeValue(e),Ml(e)}}function sw(e){if(void 0===e.liveConsumerNode)return;const n=ya;ya=!0;try{for(const t of e.liveConsumerNode)t.dirty||gA(t)}finally{ya=n}}function aw(){return!1!==lt?.consumerAllowSignalWrites}function gA(e){e.dirty=!0,sw(e),e.consumerMarkedDirty?.(e)}function Ml(e){e.dirty=!1,e.lastCleanEpoch=Jf}function Lo(e){return e&&(e.nextProducerIndex=0),oe(e)}function Da(e,n){if(oe(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(_a(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Nl(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Tl(e){Rl(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(ba(t),r!==t.version))return!0}return!1}function Al(e){if(Rl(e),_a(e))for(let n=0;n<e.producerNode.length;n++)Nl(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function cw(e,n,t){if(lw(e),0===e.liveConsumerNode.length&&uw(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=cw(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Nl(e,n){if(lw(e),1===e.liveConsumerNode.length&&uw(e))for(let r=0;r<e.producerNode.length;r++)Nl(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Rl(i),i.producerIndexOfThis[r]=n}}function _a(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Rl(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function lw(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function uw(e){return void 0!==e.producerNode}const ji=Symbol("UNSET"),Vo=Symbol("COMPUTING"),ai=Symbol("ERRORED"),vA={...Fo,value:ji,dirty:!0,error:null,equal:Sl,kind:"computed",producerMustRecompute:e=>e.value===ji||e.value===Vo,producerRecomputeValue(e){if(e.value===Vo)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Vo;const t=Lo(e);let r,i=!1;try{r=e.computation(),oe(null),i=n!==ji&&n!==ai&&r!==ai&&e.equal(n,r)}catch(o){r=ai,e.error=o}finally{Da(e,t)}i?e.value=n:(e.value=r,e.version++)}};let dw=function yA(){throw new Error};function fw(e){dw(e)}function Ol(e,n){aw()||fw(e),e.equal(e.value,n)||(e.value=n,function DA(e){e.version++,function pA(){Jf++}(),sw(e)}(e))}const th={...Fo,equal:Sl,value:void 0,kind:"signal"};let nh;function Pl(){return nh}function ci(e){const n=nh;return nh=e,n}const rh=Symbol("NotFound");function He(e){return"function"==typeof e}function ih(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Error;const oh=ih(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function sh(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class $t{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(He(r))try{r()}catch(o){n=o instanceof oh?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{vw(o)}catch(s){n=n??[],s instanceof oh?n=[...n,...s.errors]:n.push(s)}}if(n)throw new oh(n)}}add(n){var t;if(n&&n!==this)if(this.closed)vw(n);else{if(n instanceof $t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&sh(t,n)}remove(n){const{_finalizers:t}=this;t&&sh(t,n),n instanceof $t&&n._removeParent(this)}}$t.EMPTY=(()=>{const e=new $t;return e.closed=!0,e})();const gw=$t.EMPTY;function mw(e){return e instanceof $t||e&&"closed"in e&&He(e.remove)&&He(e.add)&&He(e.unsubscribe)}function vw(e){He(e)?e():e.unsubscribe()}const Bi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fl={setTimeout(e,n,...t){const{delegate:r}=Fl;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Fl;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function yw(e){Fl.setTimeout(()=>{const{onUnhandledError:n}=Bi;if(!n)throw e;n(e)})}function ah(){}const SA=ch("C",void 0,void 0);function ch(e,n,t){return{kind:e,value:n,error:t}}let $i=null;function Ll(e){if(Bi.useDeprecatedSynchronousErrorHandling){const n=!$i;if(n&&($i={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=$i;if($i=null,t)throw r}}else e()}class lh extends $t{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,mw(n)&&n.add(this)):this.destination=OA}static create(n,t,r){return new dh(n,t,r)}next(n){this.isStopped?fh(function TA(e){return ch("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?fh(function MA(e){return ch("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?fh(SA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const NA=Function.prototype.bind;function uh(e,n){return NA.call(e,n)}class RA{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Vl(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Vl(r)}else Vl(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Vl(t)}}}class dh extends lh{constructor(n,t,r){let i;if(super(),He(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Bi.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&uh(n.next,o),error:n.error&&uh(n.error,o),complete:n.complete&&uh(n.complete,o)}):i=n}this.destination=new RA(i)}}function Vl(e){Bi.useDeprecatedSynchronousErrorHandling?function AA(e){Bi.useDeprecatedSynchronousErrorHandling&&$i&&($i.errorThrown=!0,$i.error=e)}(e):yw(e)}function fh(e,n){const{onStoppedNotification:t}=Bi;t&&Fl.setTimeout(()=>t(e,n))}const OA={closed:!0,next:ah,error:function kA(e){throw e},complete:ah},hh="function"==typeof Symbol&&Symbol.observable||"@@observable";function zi(e){return e}function ww(e){return 0===e.length?zi:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let ut=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function LA(e){return e&&e instanceof lh||function FA(e){return e&&He(e.next)&&He(e.error)&&He(e.complete)}(e)&&mw(e)}(t)?t:new dh(t,r,i);return Ll(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=bw(r))((i,o)=>{const s=new dh({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[hh](){return this}pipe(...t){return ww(t)(this)}toPromise(t){return new(t=bw(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function bw(e){var n;return null!==(n=e??Bi.Promise)&&void 0!==n?n:Promise}const VA=ih(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let zt=(()=>{class e extends ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Dw(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new VA}next(t){Ll(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ll(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ll(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?gw:(this.currentObservers=null,o.push(t),new $t(()=>{this.currentObservers=null,sh(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new ut;return t.source=this,t}}return e.create=(n,t)=>new Dw(n,t),e})();class Dw extends zt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:gw}}class mn extends zt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function _w(e){return He(e?.lift)}function Rt(e){return n=>{if(_w(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function yt(e,n,t,r,i){return new jA(e,n,t,r,i)}class jA extends lh{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function we(e,n){return Rt((t,r)=>{let i=0;t.subscribe(yt(r,o=>{r.next(e.call(n,o,i++))}))})}const Iw="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class E extends Error{code;constructor(n,t){super(function Fr(e,n){return`${function BA(e){return`NG0${Math.abs(e)}`}(e)}${n?": "+n:""}`}(n,t)),this.code=n}}const jl=Symbol("InputSignalNode#UNSET"),Cw={...th,transformFn:void 0,applyValueToInputSignal(e,n){Ol(e,n)}};function xw(e,n){const t=Object.create(Cw);function r(){if(wa(t),t.value===jl)throw new E(-950,null);return t.value}return t.value=e,t.transformFn=n?.transform,r[Nt]=t,r}function Lr(e){return{toString:e}.toString()}const Bo="__parameters__";function zo(e,n,t){return Lr(()=>{const r=function ph(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,h){const p=c.hasOwnProperty(Bo)?c[Bo]:Object.defineProperty(c,Bo,{value:[]})[Bo];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}const nt=globalThis;function Se(e){for(let n in e)if(e[n]===Se)return n;throw Error("Could not find renamed property on target object.")}function $A(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function wt(e){if("string"==typeof e)return e;if(Array.isArray(e))return`[${e.map(wt).join(", ")}]`;if(null==e)return""+e;const n=e.overriddenName||e.name;if(n)return`${n}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return r>=0?t.slice(0,r):t}function gh(e,n){return e?n?`${e} ${n}`:e:n||""}const zA=Se({__forward_ref__:Se});function Be(e){return e.__forward_ref__=Be,e.toString=function(){return wt(this())},e}function ee(e){return Bl(e)?e():e}function Bl(e){return"function"==typeof e&&e.hasOwnProperty(zA)&&e.__forward_ref__===Be}function F(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function yn(e){return{providers:e.providers||[],imports:e.imports||[]}}function $l(e){return Sw(e,Ul)||Sw(e,Mw)}function Sw(e,n){return e.hasOwnProperty(n)?e[n]:null}function zl(e){return e&&(e.hasOwnProperty(mh)||e.hasOwnProperty(ZA))?e[mh]:null}const Ul=Se({\u0275prov:Se}),mh=Se({\u0275inj:Se}),Mw=Se({ngInjectableDef:Se}),ZA=Se({ngInjectorDef:Se});class R{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=F({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wh(e){return e&&!!e.\u0275providers}const Uo=Se({\u0275cmp:Se}),bh=Se({\u0275dir:Se}),Dh=Se({\u0275pipe:Se}),Aw=Se({\u0275mod:Se}),Vr=Se({\u0275fac:Se}),Ia=Se({__NG_ELEMENT_ID__:Se}),Nw=Se({__NG_ENV_ID__:Se});function re(e){return"string"==typeof e?e:null==e?"":String(e)}function Rw(e,n){throw new E(-200,e)}function _h(e,n){throw new E(-201,!1)}var le=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(le||{});let Ih;function kw(){return Ih}function rn(e){const n=Ih;return Ih=e,n}function Ow(e,n,t){const r=$l(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&le.Optional?null:void 0!==n?n:void _h()}const Hi={},Ch="__NG_DI_FLAG__";class Pw{injector;constructor(n){this.injector=n}retrieve(n,t){return this.injector.get(n,t.optional?rh:Hi,t)}}const ql="ngTempTokenPath",JA=/\n/gm,Fw="__source";function tN(e,n=le.Default){if(void 0===Pl())throw new E(-203,!1);if(null===Pl())return Ow(e,void 0,n);{const t=Pl();let r;return r=t instanceof Pw?t.injector:t,r.get(e,n&le.Optional?null:void 0,n)}}function z(e,n=le.Default){return(kw()||tN)(ee(e),n)}function C(e,n=le.Default){return z(e,Wl(n))}function Wl(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function xh(e){const n=[];for(let t=0;t<e.length;t++){const r=ee(e[t]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,o=le.Default;for(let s=0;s<r.length;s++){const a=r[s],c=nN(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}n.push(z(i,o))}else n.push(z(r))}return n}function Ca(e,n){return e[Ch]=n,e.prototype[Ch]=n,e}function nN(e){return e[Ch]}const Eh=Ca(zo("Optional"),8),Sh=Ca(zo("SkipSelf"),4);function Gi(e,n){return e.hasOwnProperty(Vr)?e[Vr]:null}function Ho(e,n){e.forEach(t=>Array.isArray(t)?Ho(t,n):n(t))}function Vw(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Zl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function wn(e,n,t){let r=xa(e,n);return r>=0?e[1|r]=t:(r=~r,function Bw(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Mh(e,n){const t=xa(e,n);if(t>=0)return e[1|t]}function xa(e,n){return function lN(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const Yn={},De=[],Pn=new R(""),$w=new R("",-1),Th=new R("");class Yl{get(n,t=Hi){if(t===Hi){const r=new Error(`NullInjectorError: No provider for ${wt(n)}!`);throw r.name="NullInjectorError",r}return t}}function bn(e,n){const t=e[Aw]||null;if(!t&&!0===n)throw new Error(`Type ${wt(e)} does not have '\u0275mod' property.`);return t}function ue(e){return e[Uo]||null}function Dn(e){return e[Dh]||null}function li(e){return{\u0275providers:e}}function uN(...e){return{\u0275providers:Ah(0,e),\u0275fromNgModule:!0}}function Ah(e,...n){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Ho(n,s=>{const a=s;Ql(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&zw(i,o),t}function zw(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:i}=e[t];Nh(i,o=>{n(o,r)})}}function Ql(e,n,t,r){if(!(e=ee(e)))return!1;let i=null,o=zl(e);const s=!o&&ue(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=zl(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Ql(u,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Ho(o.imports,h=>{Ql(h,n,t,r)&&(u||=[],u.push(h))})}finally{}void 0!==u&&zw(u,n)}if(!a){const u=Gi(i)||(()=>new i);n({provide:i,useFactory:u,deps:De},i),n({provide:Th,useValue:i,multi:!0},i),n({provide:Pn,useValue:()=>z(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=e;Nh(c,h=>{n(h,u)})}}}return i!==e&&void 0!==e.providers}function Nh(e,n){for(let t of e)wh(t)&&(t=t.\u0275providers),Array.isArray(t)?Nh(t,n):n(t)}const dN=Se({provide:String,useValue:Se});function Rh(e){return null!==e&&"object"==typeof e&&dN in e}function Wi(e){return"function"==typeof e}const kh=new R(""),Kl={},Gw={};let Oh;function Jl(){return void 0===Oh&&(Oh=new Yl),Oh}class Ut{}class Zi extends Ut{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Fh(n,s=>this.processProvider(s)),this.records.set($w,Go(void 0,this)),i.has("environment")&&this.records.set(Ut,Go(void 0,this));const o=this.records.get(kh);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Th,De,le.Self))}retrieve(n,t){return this.get(n,t.optional?rh:Hi,t)}destroy(){Ea(this),this._destroyed=!0;const n=oe(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(n)}}onDestroy(n){return Ea(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Ea(this);const t=ci(this),r=rn(void 0);try{return n()}finally{ci(t),rn(r)}}get(n,t=Hi,r=le.Default){if(Ea(this),n.hasOwnProperty(Nw))return n[Nw](this);r=Wl(r);const o=ci(this),s=rn(void 0);try{if(!(r&le.SkipSelf)){let c=this.records.get(n);if(void 0===c){const u=function vN(e){return"function"==typeof e||"object"==typeof e&&e instanceof R}(n)&&$l(n);c=u&&this.injectableDefInScope(u)?Go(Ph(n),Kl):null,this.records.set(n,c)}if(null!=c)return this.hydrate(n,c)}return(r&le.Self?Jl():this.parent).get(n,t=r&le.Optional&&t===Hi?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[ql]=a[ql]||[]).unshift(wt(n)),o)throw a;return function rN(e,n,t,r){const i=e[ql];throw n[Fw]&&i.unshift(n[Fw]),e.message=function iN(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=wt(n);if(Array.isArray(n))i=n.map(wt).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):wt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(JA,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[ql]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{rn(s),ci(o)}}resolveInjectorInitializers(){const n=oe(null),t=ci(this),r=rn(void 0);try{const o=this.get(Pn,De,le.Self);for(const s of o)s()}finally{ci(t),rn(r),oe(n)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(wt(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){let t=Wi(n=ee(n))?n:ee(n&&n.provide);const r=function pN(e){return Rh(e)?Go(void 0,e.useValue):Go(qw(e),Kl)}(n);if(!Wi(n)&&!0===n.multi){let i=this.records.get(t);i||(i=Go(void 0,Kl,!0),i.factory=()=>xh(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){const r=oe(null);try{return t.value===Gw?Rw(wt(n)):t.value===Kl&&(t.value=Gw,t.value=t.factory()),"object"==typeof t.value&&t.value&&function mN(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{oe(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;const t=ee(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Ph(e){const n=$l(e),t=null!==n?n.factory:Gi(e);if(null!==t)return t;if(e instanceof R)throw new E(204,!1);if(e instanceof Function)return function hN(e){if(e.length>0)throw new E(204,!1);const t=function WA(e){return e&&(e[Ul]||e[Mw])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new E(204,!1)}function qw(e,n,t){let r;if(Wi(e)){const i=ee(e);return Gi(i)||Ph(i)}if(Rh(e))r=()=>ee(e.useValue);else if(function Hw(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...xh(e.deps||[]));else if(function Uw(e){return!(!e||!e.useExisting)}(e))r=()=>z(ee(e.useExisting));else{const i=ee(e&&(e.useClass||e.provide));if(!function gN(e){return!!e.deps}(e))return Gi(i)||Ph(i);r=()=>new i(...xh(e.deps))}return r}function Ea(e){if(e.destroyed)throw new E(205,!1)}function Go(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Fh(e,n){for(const t of e)Array.isArray(t)?Fh(t,n):t&&wh(t)?Fh(t.\u0275providers,n):n(t)}function Fn(e,n){let t;e instanceof Zi?(Ea(e),t=e):t=new Pw(e);const i=ci(t),o=rn(void 0);try{return n()}finally{ci(i),rn(o)}}function Ww(){return void 0!==kw()||null!=Pl()}const Z=11,L=26;function it(e){return Array.isArray(e)&&"object"==typeof e[1]}function Dt(e){return Array.isArray(e)&&!0===e[1]}function jh(e){return!!(4&e.flags)}function Kn(e){return e.componentOffset>-1}function iu(e){return!(1&~e.flags)}function In(e){return!!e.template}function Br(e){return!!(512&e[2])}function di(e){return!(256&~e[2])}class TN{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function tb(e,n,t,r){null!==n?n.applyValueToInputSignal(n,r):e[t]=r}const Jn=(()=>{const e=()=>nb;return e.ngInherit=!0,e})();function nb(e){return e.type.prototype.ngOnChanges&&(e.setInput=NN),AN}function AN(){const e=ib(this),n=e?.current;if(n){const t=e.previous;if(t===Yn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function NN(e,n,t,r,i){const o=this.declaredInputs[r],s=ib(e)||function RN(e,n){return e[rb]=n}(e,{previous:Yn,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new TN(u&&u.currentValue,t,c===Yn),tb(e,n,i,t)}const rb="__ngSimpleChanges__";function ib(e){return e[rb]||null}function ve(e){for(;Array.isArray(e);)e=e[0];return e}function Jo(e,n){return ve(n[e])}function Gt(e,n){return ve(n[e.index])}function Ki(e,n){return e.data[n]}function Ji(e,n){return e[n]}function qt(e,n){const t=n[e];return it(t)?t:t[0]}function zh(e){return!(128&~e[2])}function Ln(e,n){return null==n?null:e[n]}function ab(e){e[17]=0}function Uh(e){1024&e[2]||(e[2]|=1024,zh(e)&&es(e))}function Ta(e){return!!(9216&e[2]||e[24]?.dirty)}function Hh(e){e[10].changeDetectionScheduler?.notify(8),64&e[2]&&(e[2]|=1024),Ta(e)&&es(e)}function es(e){e[10].changeDetectionScheduler?.notify(0);let n=$r(e);for(;null!==n&&!(8192&n[2])&&(n[2]|=8192,zh(n));)n=$r(n)}function su(e,n){if(di(e))throw new E(911,!1);null===e[21]&&(e[21]=[]),e[21].push(n)}function $r(e){const n=e[3];return Dt(n)?n[3]:n}function qh(e){return e[7]??=[]}function Wh(e){return e.cleanup??=[]}const te={lFrame:vb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Xh=!1;function Yh(){return te.bindingsEnabled}function eo(){return null!==te.skipHydrationRootTNode}function I(){return te.lFrame.lView}function Q(){return te.lFrame.tView}function Te(e){return te.lFrame.contextLView=e,e[8]}function Ae(e){return te.lFrame.contextLView=null,e}function ce(){let e=lb();for(;null!==e&&64===e.type;)e=e.parent;return e}function lb(){return te.lFrame.currentTNode}function er(e,n){const t=te.lFrame;t.currentTNode=e,t.isParent=n}function Qh(){return te.lFrame.isParent}function Kh(){te.lFrame.isParent=!1}function fb(){return Xh}function cu(e){const n=Xh;return Xh=e,n}function Wt(){const e=te.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function zr(){return te.lFrame.bindingIndex}function Vn(){return te.lFrame.bindingIndex++}function Ur(e){const n=te.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function WN(e,n){const t=te.lFrame;t.bindingIndex=t.bindingRootIndex=e,Jh(n)}function Jh(e){te.lFrame.currentDirectiveIndex=e}function tp(){return te.lFrame.currentQueryIndex}function lu(e){te.lFrame.currentQueryIndex=e}function XN(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[5]:null}function gb(e,n,t){if(t&le.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&le.Host||(i=XN(o),null===i||(o=o[14],10&i.type))););if(null===i)return!1;n=i,e=o}const r=te.lFrame=mb();return r.currentTNode=n,r.lView=e,!0}function np(e){const n=mb(),t=e[1];te.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function mb(){const e=te.lFrame,n=null===e?null:e.child;return null===n?vb(e):n}function vb(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function yb(){const e=te.lFrame;return te.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const wb=yb;function rp(){const e=yb();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ot(){return te.lFrame.selectedIndex}function to(e){te.lFrame.selectedIndex=e}function ke(){const e=te.lFrame;return Ki(e.tView,e.selectedIndex)}let Ib=!0;function Na(){return Ib}function yr(e){Ib=e}function ip(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),null!=h&&(e.destroyHooks??=[]).push(t,h)}}function uu(e,n,t){Cb(e,n,3,t)}function du(e,n,t,r){(3&e[2])===t&&Cb(e,n,t,r)}function op(e,n){let t=e[2];(3&t)===n&&(t&=16383,t+=1,e[2]=t)}function Cb(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&e[17]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(e[17]+=65536),(a<o||-1==o)&&(eR(e,t,n,c),e[17]=(4294901760&e[17])+c+2),c++}function xb(e,n){const t=oe(null);try{n.call(e)}finally{oe(t)}}function eR(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[2]>>14<e[17]>>16&&(3&e[2])===n&&(e[2]+=16384,xb(a,o)):xb(a,o)}class Ra{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}}function Eb(e){return 3===e||4===e||6===e}function Sb(e){return 64===e.charCodeAt(0)}function ns(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||Mb(e,t,i,0,-1===t||2===t?n[++r]:null)}}return e}function Mb(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t)return void(null!==i&&(e[o+1]=i));o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==i&&e.splice(o++,0,i)}function cp(e){return-1!==e}function ka(e){return 32767&e}function Oa(e,n){let t=function oR(e){return e>>16}(e),r=n;for(;t>0;)r=r[14],t--;return r}let lp=!0;function fu(e){const n=lp;return lp=e,n}let sR=0;const wr={};function hu(e,n){const t=Nb(e,n);if(-1!==t)return t;const r=n[1];r.firstCreatePass&&(e.injectorIndex=n.length,up(r.data,e),up(n,null),up(r.blueprint,null));const i=pu(e,n),o=e.injectorIndex;if(cp(i)){const s=ka(i),a=Oa(i,n),c=a[1].data;for(let u=0;u<8;u++)n[o+u]=a[s+u]|c[s+u]}return n[o+8]=i,o}function up(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Nb(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function pu(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=Vb(i),null===r)return-1;if(t++,i=i[14],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function dp(e,n,t){!function aR(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ia)&&(r=t[Ia]),null==r&&(r=t[Ia]=sR++);const i=255&r;n.data[e+(i>>5)]|=1<<i}(e,n,t)}function Rb(e,n,t){if(t&le.Optional||void 0!==e)return e;_h()}function kb(e,n,t,r){if(t&le.Optional&&void 0===r&&(r=null),!(t&(le.Self|le.Host))){const i=e[9],o=rn(void 0);try{return i?i.get(n,r,t&le.Optional):Ow(n,r,t&le.Optional)}finally{rn(o)}}return Rb(r,0,t)}function Ob(e,n,t,r=le.Default,i){if(null!==e){if(2048&n[2]&&!(r&le.Self)){const s=function fR(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[2]&&!Br(s);){const a=Pb(o,s,t,r|le.Self,wr);if(a!==wr)return a;let c=o.parent;if(!c){const u=s[20];if(u){const h=u.get(t,wr,r);if(h!==wr)return h}c=Vb(s),s=s[14]}o=c}return i}(e,n,t,r,wr);if(s!==wr)return s}const o=Pb(e,n,t,r,wr);if(o!==wr)return o}return kb(n,t,r,i)}function Pb(e,n,t,r,i){const o=function uR(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ia)?e[Ia]:void 0;return"number"==typeof n?n>=0?255&n:dR:n}(t);if("function"==typeof o){if(!gb(n,e,r))return r&le.Host?Rb(i,0,r):kb(n,t,r,i);try{let s;if(s=o(r),null!=s||r&le.Optional)return s;_h()}finally{wb()}}else if("number"==typeof o){let s=null,a=Nb(e,n),c=-1,u=r&le.Host?n[15][5]:null;for((-1===a||r&le.SkipSelf)&&(c=-1===a?pu(e,n):n[a+8],-1!==c&&Lb(r,!1)?(s=n[1],a=ka(c),n=Oa(c,n)):a=-1);-1!==a;){const h=n[1];if(Fb(o,a,h.data)){const p=lR(a,n,t,s,r,u);if(p!==wr)return p}c=n[a+8],-1!==c&&Lb(r,n[1].data[a+8]===u)&&Fb(o,a,n)?(s=h,a=ka(c),n=Oa(c,n)):a=-1}}return i}function lR(e,n,t,r,i,o){const s=n[1],a=s.data[e+8],h=gu(a,s,t,null==r?Kn(a)&&lp:r!=s&&!!(3&a.type),i&le.Host&&o===a);return null!==h?Pa(n,s,h,a):wr}function gu(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,c=e.directiveStart,h=o>>20,m=i?a+h:e.directiveEnd;for(let g=r?a:a+h;g<m;g++){const v=s[g];if(g<c&&t===v||g>=c&&v.type===t)return g}if(i){const g=s[c];if(g&&In(g)&&g.type===t)return c}return null}function Pa(e,n,t,r){let i=e[t];const o=n.data;if(i instanceof Ra){const s=i;s.resolving&&Rw(function _e(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():re(e)}(o[t]));const a=fu(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?rn(s.injectImpl):null;gb(e,r,le.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function JN(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=nb(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==u&&rn(u),fu(a),s.resolving=!1,wb()}}return i}function Fb(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function Lb(e,n){return!(e&le.Self||e&le.Host&&n)}class ot{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Ob(this._tNode,this._lView,n,Wl(r),t)}}function dR(){return new ot(ce(),I())}function Et(e){return Lr(()=>{const n=e.prototype.constructor,t=n[Vr]||fp(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Vr]||fp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fp(e){return Bl(e)?()=>{const n=fp(ee(e));return n&&n()}:Gi(e)}function Vb(e){const n=e[1],t=n.type;return 2===t?n.declTNode:1===t?e[5]:null}function Ub(e,n=null,t=null,r){const i=Hb(e,n,t,r);return i.resolveInjectorInitializers(),i}function Hb(e,n=null,t=null,r,i=new Set){const o=[t||De,uN(e)];return r=r||("object"==typeof e?void 0:wt(e)),new Zi(o,n||Jl(),r||null,i)}class _t{static THROW_IF_NOT_FOUND=Hi;static NULL=new Yl;static create(n,t){if(Array.isArray(n))return Ub({name:""},t,n,"");{const r=n.name??"";return Ub({name:r},n.parent,n.providers,r)}}static \u0275prov=F({token:_t,providedIn:"any",factory:()=>z($w)});static __NG_ELEMENT_ID__=-1}new R("").__NG_ELEMENT_ID__=e=>{const n=ce();if(null===n)throw new E(204,!1);if(2&n.type)return n.value;if(e&le.Optional)return null;throw new E(204,!1)};const Gb=!1;let br=(()=>class e{static __NG_ELEMENT_ID__=DR;static __NG_ENV_ID__=t=>t})();class qb extends br{_lView;constructor(n){super(),this._lView=n}onDestroy(n){return su(this._lView,n),()=>function Gh(e,n){if(null===e[21])return;const t=e[21].indexOf(n);-1!==t&&e[21].splice(t,1)}(this._lView,n)}}function DR(){return new qb(I())}class Hr{}const La=new R("",{providedIn:"root",factory:()=>!1}),Wb=new R(""),pp=new R("");let Dr=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new mn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=F({token:e,providedIn:"root",factory:()=>new e})}return e})();const et=class IR extends zt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,Ww()&&(this.destroyRef=C(br,{optional:!0})??void 0,this.pendingTasks=C(Dr,{optional:!0})??void 0)}emit(n){const t=oe(null);try{super.next(n)}finally{oe(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof $t&&n.add(a),a}wrapInTimeout(n){return t=>{const r=this.pendingTasks?.add();setTimeout(()=>{n(t),void 0!==r&&this.pendingTasks?.remove(r)})}}};function Va(...e){}function Zb(e){let n,t;function r(){e=Va;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Xb(e){return queueMicrotask(()=>e()),()=>{e=Va}}const gp="isAngularZone",vu=gp+"_ID";let CR=0;class be{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new et(!1);onMicrotaskEmpty=new et(!1);onStable=new et(!1);onError=new et(!1);constructor(n){const{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Gb}=n;if(typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,function SR(e){const n=()=>{!function ER(e){function n(){Zb(()=>{e.callbackScheduled=!1,vp(e),e.isCheckStableRunning=!0,mp(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),vp(e))}(e)},t=CR++;e._inner=e._inner.fork({name:"angular",properties:{[gp]:!0,[vu]:t,[vu+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(function MR(e){return Kb(e,"__ignore_ng_zone__")}(c))return r.invokeTask(o,s,a,c);try{return Yb(e),r.invokeTask(o,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),Qb(e)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return Yb(e),r.invoke(o,s,a,c,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function TR(e){return Kb(e,"__scheduler_tick__")}(c)&&n(),Qb(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,vp(e),mp(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(gp)}static assertInAngularZone(){if(!be.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(be.isInAngularZone())throw new E(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,xR,Va,Va);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const xR={};function mp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Yb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Qb(e){e._nesting--,mp(e)}class yp{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new et;onMicrotaskEmpty=new et;onStable=new et;onError=new et;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}function Kb(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class tr{_console=console;handleError(n){this._console.error("ERROR",n)}}const NR=new R("",{providedIn:"root",factory:()=>{const e=C(be),n=C(tr);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function eD(e,n){return xw(e,n)}const kR=(eD.required=function RR(e){return xw(jl,e)},eD);function OR(){return rs(ce(),I())}function rs(e,n){return new Ft(Gt(e,n))}let Ft=(()=>class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=OR})();function tD(e){return e instanceof Ft?e.nativeElement:e}function jn(e,n){const t=function bA(e,n){const t=Object.create(th);t.value=e,void 0!==n&&(t.equal=n);const r=()=>(wa(t),t.value);return r[Nt]=t,r}(e,n?.equal),r=t[Nt];return t.set=i=>Ol(r,i),t.update=i=>function hw(e,n){aw()||fw(e),Ol(e,n(e.value))}(r,i),t.asReadonly=yu.bind(t),t}function yu(){const e=this[Nt];if(void 0===e.readonlyFn){const n=()=>this();n[Nt]=e,e.readonlyFn=n}return e.readonlyFn}function rD(e){return function nD(e){return"function"==typeof e&&void 0!==e[Nt]}(e)&&"function"==typeof e.set}function PR(){return this._results[Symbol.iterator]()}class FR{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new zt}constructor(n=!1){this._emitDistinctChangesOnly=n}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;const r=function on(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function cN(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=PR}function Ba(e){return!(128&~e.flags)}var wu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(wu||{});const bu=new Map;let VR=0;function bp(e){bu.delete(e[19])}const _p="__ngContext__";function an(e,n){it(n)?(e[_p]=n[19],function BR(e){bu.set(e[19],e)}(n)):e[_p]=n}function fD(e){return pD(e[12])}function hD(e){return pD(e[4])}function pD(e){for(;null!==e&&!Dt(e);)e=e[4];return e}let Cp;const ro=new R("",{providedIn:"root",factory:()=>ok}),ok="ng",xp=new R(""),_u=new R("",{providedIn:"platform",factory:()=>"unknown"}),DD=new R("",{providedIn:"root",factory:()=>function _r(){if(void 0!==Cp)return Cp;if(typeof document<"u")return document;throw new E(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),xD=new R("",{providedIn:"root",factory:()=>!1});var Fp=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Fp||{});const os=new R(""),TD=new Set;function cn(e){TD.has(e)||(TD.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}let Su=(()=>class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=uk})();function uk(){return new Su(I(),ce())}var ss=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ss||{});let Lp=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=F({token:e,providedIn:"root",factory:()=>new e})}return e})();const AD=[ss.EarlyRead,ss.Write,ss.MixedReadWrite,ss.Read];let ND=(()=>{class e{ngZone=C(be);scheduler=C(Hr);errorHandler=C(tr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){C(os,{optional:!0})}execute(){this.executing=!0;for(const r of AD)for(const i of this.sequences)if(!i.erroredOrDestroyed&&i.hooks[r])try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,i.hooks[r])(i.pipelinedValue),i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){const{view:r}=t;void 0!==r?((r[25]??=[]).push(t),es(r),r[2]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Fp.AFTER_NEXT_RENDER,t):t()}static \u0275prov=F({token:e,providedIn:"root",factory:()=>new e})}return e})();class RD{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,i,o,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const n=this.view?.[25];n&&(this.view[25]=n.filter(t=>t!==this))}}function Mu(e,n){!n?.injector&&function qo(e){if(!Ww())throw new E(-203,!1)}();const t=n?.injector??C(_t);return cn("NgAfterNextRender"),function OD(e,n,t,r){const i=n.get(Lp);i.impl??=n.get(ND);const o=n.get(os,null,{optional:!0}),s=t?.phase??ss.MixedReadWrite,a=!0!==t?.manualCleanup?n.get(br):null,c=n.get(Su,null,{optional:!0}),u=new RD(i.impl,function dk(e,n){if(e instanceof Function){const t=[void 0,void 0,void 0,void 0];return t[n]=e,t}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,s),c?.view,r,a,o?.snapshot(null));return i.impl.register(u),u}(e,t,n,!0)}function i_(e,n){const t=e.contentQueries;if(null!==t){const r=oe(null);try{for(let i=0;i<t.length;i+=2){const s=t[i+1];if(-1!==s){const a=e.data[s];lu(t[i]),a.contentQueries(2,n[s],s)}}}finally{oe(r)}}}function Yp(e,n,t){lu(0);const r=oe(null);try{n(e,t)}finally{oe(r)}}function Qp(e,n,t){if(jh(n)){const r=oe(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{oe(r)}}}var Bn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Bn||{});let Vu;function c_(e){return function Kp(){if(void 0===Vu&&(Vu=null,nt.trustedTypes))try{Vu=nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Vu}()?.createScriptURL(e)||e}class l_{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Iw})`}}function pi(e){return e instanceof l_?e.changingThisBreaksApplicationSecurity:e}function Ja(e,n){const t=function Kk(e){return e instanceof l_&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Iw})`)}return t===n}const nO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var gs=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(gs||{});function y_(e){const n=tc();return n?n.sanitize(gs.URL,e)||"":Ja(e,"URL")?pi(e):function Jp(e){return(e=String(e)).match(nO)?e:"unsafe:"+e}(re(e))}function w_(e){const n=tc();if(n)return c_(n.sanitize(gs.RESOURCE_URL,e)||"");if(Ja(e,"ResourceURL"))return c_(pi(e));throw new E(904,!1)}function tc(){const e=I();return e&&e[10].sanitizer}const yO=/^>|^->|<!--|-->|--!>|<!-$/g,wO=/(<|>)/g;function Ir(e){return e instanceof Function?e():e}function NO(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}const T_="ng-template";function RO(e,n,t,r){let i=0;if(r){for(;i<n.length&&"string"==typeof n[i];i+=2)if("class"===n[i]&&-1!==NO(n[i+1].toLowerCase(),t,0))return!0}else if(og(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&"string"==typeof(o=n[i]);)if(o.toLowerCase()===t)return!0}return!1}function og(e){return 4===e.type&&e.value!==T_}function kO(e,n,t){return n===(4!==e.type||t?e.value:T_)}function OO(e,n,t){let r=4;const i=e.attrs,o=null!==i?function LO(e){for(let n=0;n<e.length;n++)if(Eb(e[n]))return n;return e.length}(i):0;let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!kO(e,c,t)||""===c&&1===n.length){if(nr(r))return!1;s=!0}}else if(8&r){if(null===i||!RO(e,i,c,t)){if(nr(r))return!1;s=!0}}else{const u=n[++a],h=PO(c,i,og(e),t);if(-1===h){if(nr(r))return!1;s=!0;continue}if(""!==u){let p;if(p=h>o?"":i[h+1].toLowerCase(),2&r&&u!==p){if(nr(r))return!1;s=!0}}}}else{if(!s&&!nr(r)&&!nr(c))return!1;if(s&&nr(c))continue;s=!1,r=c|1&r}}return nr(r)||s}function nr(e){return!(1&e)}function PO(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function VO(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function A_(e,n,t=!1){for(let r=0;r<n.length;r++)if(OO(e,n[r],t))return!0;return!1}function jO(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function N_(e,n){return e?":not("+n.trim()+")":n}function BO(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!nr(s)&&(n+=N_(o,i),i=""),r=s,o=o||!nr(r);t++}return""!==i&&(n+=N_(o,i)),n}const ie={};function ag(e,n){return e.createComment(function D_(e){return e.replace(yO,n=>n.replace(wO,"\u200b$1\u200b"))}(n))}function zu(e,n,t){return e.createElement(n,t)}function so(e,n,t,r,i){e.insertBefore(n,t,r,i)}function k_(e,n,t){e.appendChild(n,t)}function O_(e,n,t,r,i){null!==r?so(e,n,t,r,i):k_(e,n,t)}function F_(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&function iR(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];Sb(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}}(e,n,r),null!==i&&function HO(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}(e,n,i),null!==o&&function UO(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}function cg(e,n,t,r,i,o,s,a,c,u,h){const p=L+r,m=p+i,g=function GO(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:ie);return t}(p,m),v="function"==typeof u?u():u;return g[1]={type:e,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:n,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:h}}function Uu(e,n,t,r,i,o,s,a,c,u,h){const p=n.blueprint.slice();return p[0]=i,p[2]=1228|r,(null!==u||e&&2048&e[2])&&(p[2]|=2048),ab(p),p[3]=p[14]=e,p[8]=t,p[10]=s||e&&e[10],p[Z]=a||e&&e[Z],p[9]=c||e&&e[9]||null,p[5]=o,p[19]=function jR(){return VR++}(),p[6]=h,p[20]=u,p[15]=2==n.type?e[15]:p,p}function lg(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function rc(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function ug(e,n){return e[12]?e[13][4]=n:e[12]=n,e[13]=n,n}function w(e=1){V_(Q(),I(),Ot()+e,!1)}function V_(e,n,t,r){if(!r)if(3&~n[2]){const o=e.preOrderHooks;null!==o&&du(n,o,0,t)}else{const o=e.preOrderCheckHooks;null!==o&&uu(n,o,t)}to(t)}var Hu=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Hu||{});function dg(e,n,t,r){const i=oe(null);try{const[o,s,a]=e.inputs[t];let c=null;!!(s&Hu.SignalBased)&&(c=n[o][Nt]),null!==c&&void 0!==c.transformFn?r=c.transformFn(r):null!==a&&(r=a.call(n,r)),null!==e.setInput?e.setInput(n,c,r,t,o):tb(n,c,o,r)}finally{oe(i)}}function j_(e,n,t,r,i){const o=Ot(),s=2&r;try{to(-1),s&&n.length>L&&V_(e,n,L,!1),t(r,i)}finally{to(o)}}function Gu(e,n,t){(function JO(e,n,t){const r=t.directiveStart,i=t.directiveEnd;Kn(t)&&function qO(e,n,t){const r=Gt(n,e),i=function L_(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=cg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}(t),o=e[10].rendererFactory,s=ug(e,Uu(e,i,null,lg(t),r,n,null,o.createRenderer(r,t),null,null,null));e[n.index]=s}(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||hu(t,n);const o=t.initialInputs;for(let s=r;s<i;s++){const a=e.data[s],c=Pa(n,e,s,t);an(c,n),null!==o&&nP(0,s-r,c,a,0,o),In(a)&&(qt(t.index,n)[8]=Pa(n,e,s,t))}})(e,n,t),!(64&~t.flags)&&function eP(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function ZN(){return te.lFrame.currentDirectiveIndex}();try{to(o);for(let a=r;a<i;a++){const c=e.data[a],u=n[a];Jh(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&tP(c,u)}}finally{to(-1),Jh(s)}}(e,n,t)}function fg(e,n,t=Gt){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}let B_=()=>null;function ln(e,n,t,r,i,o,s,a){if(a||!mg(n,e,t,r,i)){if(3&n.type){const c=Gt(n,t);r=function QO(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(c,r,i)}}else Kn(n)&&function KO(e,n){const t=qt(n,e);16&t[2]||(t[2]|=64)}(t,n.index)}function tP(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function hg(e,n){const t=e.directiveRegistry;let r=null;if(t)for(let i=0;i<t.length;i++){const o=t[i];A_(n,o.selectors,!1)&&(r??=[],In(o)?r.unshift(o):r.push(o))}return r}function Cr(e,n,t,r,i,o){const s=Gt(e,n);!function pg(e,n,t,r,i,o,s){if(null==o)e.removeAttribute(n,i,t);else{const a=null==s?re(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}(n[Z],s,o,e.value,t,r,i)}function nP(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;a+=2)dg(r,t,s[a],s[a+1])}function mg(e,n,t,r,i){const o=e.inputs?.[r],s=e.hostDirectiveInputs?.[r];let a=!1;if(s)for(let c=0;c<s.length;c+=2){const u=s[c];dg(n.data[u],t[u],s[c+1],i),a=!0}if(o)for(const c of o)dg(n.data[c],t[c],r,i),a=!0;return a}function rP(e,n){const t=qt(n,e),r=t[1];!function iP(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[0];null!==i&&null===t[6]&&(t[6]=null),qu(r,t,t[8])}function qu(e,n,t){np(n);try{const r=e.viewQuery;null!==r&&Yp(1,r,t);const i=e.template;null!==i&&j_(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[18]?.finishViewCreation(e),e.staticContentQueries&&i_(e,n),e.staticViewQueries&&Yp(2,e.viewQuery,t);const o=e.components;null!==o&&function oP(e,n){for(let t=0;t<n.length;t++)rP(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[2]&=-5,rp()}}function vs(e,n,t,r){const i=oe(null);try{const o=n.tView,c=Uu(e,o,t,4096&e[2]?4096:16,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[16]=e[n.index];const h=e[18];return null!==h&&(c[18]=h.createEmbeddedView(o)),qu(o,c,t),c}finally{oe(i)}}function ao(e,n){return!n||null===n.firstChild||Ba(e)}function yg(e,n){return undefined(e,n)}var gi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(gi||{});function mi(e){return!(32&~e.flags)}function ys(e,n,t,r,i){if(null!=r){let o,s=!1;Dt(r)?o=r:it(r)&&(s=!0,r=r[0]);const a=ve(r);0===e&&null!==t?null==i?k_(n,t,a):so(n,t,a,i||null,!0):1===e&&null!==t?so(n,t,a,i||null,!0):2===e?function nc(e,n,t){e.removeChild(null,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function fP(e,n,t,r,i){const o=t[7];o!==ve(t)&&ys(n,e,r,o,i);for(let a=10;a<t.length;a++){const c=t[a];Zu(c[1],c,e,n,r,o)}}(n,e,o,t,i)}}function H_(e,n){n[10].changeDetectionScheduler?.notify(9),Zu(e,n,n[Z],2,null,null)}function wg(e,n){const t=e[9],r=t.indexOf(n);t.splice(r,1)}function ic(e,n){if(di(n))return;const t=n[Z];t.destroyNode&&Zu(e,n,t,3,null,null),function cP(e){let n=e[12];if(!n)return bg(e[1],e);for(;n;){let t=null;if(it(n))t=n[12];else{const r=n[10];r&&(t=r)}if(!t){for(;n&&!n[4]&&n!==e;)it(n)&&bg(n[1],n),n=n[3];null===n&&(n=e),it(n)&&bg(n[1],n),t=n&&n[4]}n=t}}(n)}function bg(e,n){if(di(n))return;const t=oe(null);try{n[2]&=-129,n[2]|=256,n[24]&&Al(n[24]),function uP(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Ra)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];try{c.call(a)}finally{}}else try{o.call(i)}finally{}}}}(e,n),function lP(e,n){const t=e.cleanup,r=n[7];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(n[7]=null);const i=n[21];if(null!==i){n[21]=null;for(let s=0;s<i.length;s++)(0,i[s])()}const o=n[23];if(null!==o){n[23]=null;for(const s of o)s.destroy()}}(e,n),1===n[1].type&&n[Z].destroy();const r=n[16];if(null!==r&&Dt(n[3])){r!==n[3]&&wg(r,n);const i=n[18];null!==i&&i.detachView(e)}bp(n)}finally{oe(t)}}function Dg(e,n,t){return function G_(e,n,t){let r=n;for(;null!==r&&168&r.type;)r=(n=r).parent;if(null===r)return t[0];if(Kn(r)){const{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Bn.None||i===Bn.Emulated)return null}return Gt(r,t)}(e,n.parent,t)}function q_(e,n,t){return Z_(e,n,t)}let Z_=function W_(e,n,t){return 40&e.type?Gt(e,t):null};function Wu(e,n,t,r){const i=Dg(e,r,n),o=n[Z],a=q_(r.parent||n[5],r,n);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)O_(o,i,t[c],a,!1);else O_(o,i,t,a,!1)}function co(e,n){if(null!==n){const t=n.type;if(3&t)return Gt(n,e);if(4&t)return Ig(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return co(e,r);{const i=e[n.index];return Dt(i)?Ig(-1,i):ve(i)}}if(128&t)return co(e,n.next);if(32&t)return yg(n,e)()||ve(e[n.index]);{const r=Y_(e,n);return null!==r?Array.isArray(r)?r[0]:co($r(e[15]),r):co(e,n.next)}}return null}function Y_(e,n){return null!==n?e[15][5].projection[n.projection]:null}function Ig(e,n){const t=10+e+1;if(t<n.length){const r=n[t],i=r[1].firstChild;if(null!==i)return co(r,i)}return n[7]}function Cg(e,n,t,r,i,o,s){for(;null!=t;){if(128===t.type){t=t.next;continue}const a=r[t.index],c=t.type;if(s&&0===n&&(a&&an(ve(a),r),t.flags|=2),!mi(t))if(8&c)Cg(e,n,t.child,r,i,o,!1),ys(n,e,i,a,o);else if(32&c){const u=yg(t,r);let h;for(;h=u();)ys(n,e,i,h,o);ys(n,e,i,a,o)}else 16&c?Q_(e,n,r,t,i,o):ys(n,e,i,a,o);t=s?t.projectionNext:t.next}}function Zu(e,n,t,r,i,o){Cg(t,r,e.firstChild,n,i,o,!1)}function Q_(e,n,t,r,i,o){const s=t[15],c=s[5].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)ys(n,e,i,c[u],o);else{let u=c;const h=s[3];Ba(r)&&(u.flags|=128),Cg(e,n,u,h,i,o,!0)}}function ws(e,n,t,r,i=!1){for(;null!==t;){if(128===t.type){t=i?t.projectionNext:t.next;continue}const o=n[t.index];null!==o&&r.push(ve(o)),Dt(o)&&xg(o,r);const s=t.type;if(8&s)ws(e,n,t.child,r);else if(32&s){const a=yg(t,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Y_(n,t);if(Array.isArray(a))r.push(...a);else{const c=$r(n[15]);ws(c[1],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function xg(e,n){for(let t=10;t<e.length;t++){const r=e[t],i=r[1].firstChild;null!==i&&ws(r[1],r,i,n)}e[7]!==e[0]&&n.push(e[7])}function K_(e){if(null!==e[25]){for(const n of e[25])n.impl.addSequence(n);e[25].length=0}}let J_=[];const vP={...Fo,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{es(e.lView)},consumerOnSignalRead(){this.lView[24]=this}},wP={...Fo,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=$r(e.lView);for(;n&&!eI(n[1]);)n=$r(n);n&&Uh(n)},consumerOnSignalRead(){this.lView[24]=this}};function eI(e){return 2!==e.type}function tI(e){if(null===e[23])return;let n=!0;for(;n;){let t=!1;for(const r of e[23])r.dirty&&(t=!0,null===r.zone||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(8192&e[2])}}function Xu(e,n=!0,t=0){const i=e[10].rendererFactory;i.begin?.();try{!function DP(e,n){const t=fb();try{cu(!0),Eg(e,n);let r=0;for(;Ta(e);){if(100===r)throw new E(103,!1);r++,Eg(e,1)}}finally{cu(t)}}(e,t)}catch(s){throw n&&function gg(e,n){const t=e[9],r=t?t.get(tr,null):null;r&&r.handleError(n)}(e,s),s}finally{i.end?.()}}function rI(e,n,t,r){if(di(n))return;const i=n[2];np(n);let a=!0,c=null,u=null;eI(e)?(u=function pP(e){return e[24]??function gP(e){const n=J_.pop()??Object.create(vP);return n.lView=e,n}(e)}(n),c=Lo(u)):null===function eh(){return lt}()?(a=!1,u=function yP(e){const n=e[24]??Object.create(wP);return n.lView=e,n}(n),c=Lo(u)):n[24]&&(Al(n[24]),n[24]=null);try{ab(n),function hb(e){return te.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&j_(e,n,t,2,r);const h=!(3&~i);if(h){const g=e.preOrderCheckHooks;null!==g&&uu(n,g,null)}else{const g=e.preOrderHooks;null!==g&&du(n,g,0,null),op(n,0)}if(function _P(e){for(let n=fD(e);null!==n;n=hD(n)){if(!(2&n[2]))continue;const t=n[9];for(let r=0;r<t.length;r++)Uh(t[r])}}(n),tI(n),iI(n,0),null!==e.contentQueries&&i_(e,n),h){const g=e.contentCheckHooks;null!==g&&uu(n,g)}else{const g=e.contentHooks;null!==g&&du(n,g,1),op(n,1)}!function CP(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)to(~i);else{const o=i,s=t[++r],a=t[++r];WN(s,o);const c=n[o];a(2,c)}}}finally{to(-1)}}(e,n);const p=e.components;null!==p&&sI(n,p,0);const m=e.viewQuery;if(null!==m&&Yp(2,m,r),h){const g=e.viewCheckHooks;null!==g&&uu(n,g)}else{const g=e.viewHooks;null!==g&&du(n,g,2),op(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[22]){for(const g of n[22])g();n[22]=null}K_(n),n[2]&=-73}catch(h){throw es(n),h}finally{null!==u&&(Da(u,c),a&&function mP(e){e.lView[24]!==e&&(e.lView=null,J_.push(e))}(u)),rp()}}function iI(e,n){for(let t=fD(e);null!==t;t=hD(t))for(let r=10;r<t.length;r++)oI(t[r],n)}function IP(e,n,t){const r=qt(n,e);oI(r,t)}function oI(e,n){zh(e)&&Eg(e,n)}function Eg(e,n){const r=e[1],i=e[2],o=e[24];let s=!!(0===n&&16&i);if(s||=!!(64&i&&0===n),s||=!!(1024&i),s||=!(!o?.dirty||!Tl(o)),s||=!1,o&&(o.dirty=!1),e[2]&=-9217,s)rI(r,e,r.template,e[8]);else if(8192&i){tI(e),iI(e,1);const a=r.components;null!==a&&sI(e,a,1),K_(e)}}function sI(e,n,t){for(let r=0;r<n.length;r++)IP(e,n[r],t)}function oc(e,n){const t=fb()?64:1088;for(e[10].changeDetectionScheduler?.notify(n);e;){e[2]|=t;const r=$r(e);if(Br(e)&&!r)return e;e=r}return null}function aI(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function bs(e,n,t,r=!0){const i=n[1];if(function xP(e,n,t,r){const i=10+r,o=t.length;r>0&&(t[i-1][4]=n),r<o-10?(n[4]=t[i],Vw(t,10+r,n)):(t.push(n),n[4]=null),n[3]=t;const s=n[16];null!==s&&t!==s&&lI(s,n);const a=n[18];null!==a&&a.insertView(e),Hh(n),n[2]|=128}(i,n,e,t),r){const s=Ig(t,e),a=n[Z],c=a.parentNode(e[7]);null!==c&&function aP(e,n,t,r,i,o){r[0]=i,r[5]=n,Zu(e,r,t,1,i,o)}(i,e[5],a,n,c,s)}const o=n[6];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function sc(e,n){if(e.length<=10)return;const t=10+n,r=e[t];if(r){const i=r[16];null!==i&&i!==e&&wg(i,r),n>0&&(e[t-1][4]=r[4]);const o=Zl(e,10+n);!function U_(e,n){H_(e,n),n[0]=null,n[5]=null}(r[1],r);const s=o[18];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function lI(e,n){const t=e[9],r=n[3];(it(r)||n[15]!==r[3][15])&&(e[2]|=2),null===t?e[9]=[n]:t.push(n)}let ac=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const n=this._lView,t=n[1];return ws(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return di(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Dt(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(sc(n,r),Zl(t,r))}this._attachedToViewContainer=!1}ic(this._lView[1],this._lView)}onDestroy(n){su(this._lView,n)}markForCheck(){oc(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){Hh(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,Xu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Br(this._lView),t=this._lView[16];null!==t&&!n&&wg(t,this._lView),H_(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=n;const t=Br(this._lView),r=this._lView[16];null!==r&&!t&&lI(r,this._lView),Hh(this._lView)}},xr=(()=>class e{static __NG_ELEMENT_ID__=MP})();const EP=xr,SP=class extends EP{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const i=vs(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new ac(i)}};function MP(){return Yu(ce(),I())}function Yu(e,n){return 4&e.type?new SP(n,e,rs(e,n)):null}function Ds(e,n,t,r,i){let o=e.data[n];if(null===o)o=function Ng(e,n,t,r,i){const o=lb(),s=Qh(),c=e.data[n]=function VP(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return eo()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return function LP(e,n,t,r){null===e.firstChild&&(e.firstChild=n),null!==t&&(r?null==t.child&&null!==n.parent&&(t.child=n):null===t.next&&(t.next=n,n.prev=t))}(e,c,o,s),c}(e,n,t,r,i),function qN(){return te.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Aa(){const e=te.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return er(o,!0),o}let C2=class{},RI=class{};class x2{resolveComponentFactory(n){throw Error(`No component factory found for ${wt(n)}.`)}}let rd=class{static NULL=new x2};class jg{}let rr=(()=>class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>function E2(){const e=I(),t=qt(ce().index,e);return(it(t)?t:e)[Z]}()})(),S2=(()=>{class e{static \u0275prov=F({token:e,providedIn:"root",factory:()=>null})}return e})();const $g={};class Cs{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Wl(r);const i=this.injector.get(n,$g,r);return i!==$g||t===$g?i:this.parentInjector.get(n,t,r)}}function zg(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=gh(i,a):2==o&&(r=gh(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function T(e,n=le.Default){const t=I();return null===t?z(e,n):Ob(ce(),t,ee(e),n)}function Ug(e,n,t,r,i){const o=null===r?null:{"":-1},s=i(e,t);if(null!==s){let a,c=null,u=null;const h=function R2(e){let n=null,t=!1;for(let s=0;s<e.length;s++){const a=e[s];if(0===s&&In(a)&&(n=a),null!==a.findHostDirectiveDefs){t=!0;break}}if(!t)return null;let r=null,i=null,o=null;for(const s of e)null!==s.findHostDirectiveDefs&&(r??=[],i??=new Map,o??=new Map,k2(s,r,o,i)),s===n&&(r??=[],r.push(s));return null!==r?(r.push(...null===n?e:e.slice(1)),[r,i,o]):null}(s);null===h?a=s:[a,c,u]=h,function P2(e,n,t,r,i,o,s){const a=r.length;let c=!1;for(let m=0;m<a;m++){const g=r[m];!c&&In(g)&&(c=!0,O2(e,t,m)),dp(hu(t,n),e,g.type)}!function $2(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,a);for(let m=0;m<a;m++){const g=r[m];g.providersResolver&&g.providersResolver(g)}let u=!1,h=!1,p=rc(e,n,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){const g=r[m];if(t.mergedAttrs=ns(t.mergedAttrs,g.hostAttrs),L2(e,t,n,p,g),B2(p,g,i),null!==s&&s.has(g)){const[y,b]=s.get(g);t.directiveToIndex.set(g.type,[p,y+t.directiveStart,b+t.directiveStart])}else(null===o||!o.has(g))&&t.directiveToIndex.set(g.type,p);null!==g.contentQueries&&(t.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(t.flags|=64);const v=g.type.prototype;!u&&(v.ngOnChanges||v.ngOnInit||v.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),u=!0),!h&&(v.ngOnChanges||v.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}!function F2(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){const i=e.data[r];if(null!==t&&t.has(i)){const o=t.get(i);FI(0,n,o,r),FI(1,n,o,r),VI(n,r,!0)}else PI(0,n,i,r),PI(1,n,i,r),VI(n,r,!1)}}(e,t,o)}(e,n,t,a,o,c,u)}null!==o&&null!==r&&function N2(e,n,t){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new E(-301,!1);r.push(n[i],o)}}(t,r,o)}function k2(e,n,t,r){const i=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[i,n.length-1])}function O2(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function PI(e,n,t,r){const i=0===e?t.inputs:t.outputs;for(const o in i)if(i.hasOwnProperty(o)){let s;s=0===e?n.inputs??={}:n.outputs??={},s[o]??=[],s[o].push(r),LI(n,o)}}function FI(e,n,t,r){const i=0===e?t.inputs:t.outputs;for(const o in i)if(i.hasOwnProperty(o)){const s=i[o];let a;a=0===e?n.hostDirectiveInputs??={}:n.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),LI(n,s)}}function LI(e,n){"class"===n?e.flags|=8:"style"===n&&(e.flags|=16)}function VI(e,n,t){const{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(null===r||!t&&null===i||t&&null===o||og(e))return e.initialInputs??=[],void e.initialInputs.push(null);let s=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(!t&&i.hasOwnProperty(c)){const u=i[c];for(const h of u)if(h===n){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){const u=o[c];for(let h=0;h<u.length;h+=2)if(u[h]===n){s??=[],s.push(u[h+1],r[a+1]);break}}a+=2}else a+=2;else a+=4}e.initialInputs??=[],e.initialInputs.push(s)}function L2(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=Gi(i.type)),s=new Ra(o,In(i),T);e.blueprint[r]=s,t[r]=s,function V2(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function j2(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,rc(e,t,i.hostVars,ie),i)}function B2(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;In(n)&&(t[""]=e)}}function jI(e,n,t,r,i,o,s,a){const c=n.consts,h=Ds(n,e,2,r,Ln(c,s));return o&&Ug(n,t,h,Ln(c,a),i),h.mergedAttrs=ns(h.mergedAttrs,h.attrs),null!==h.attrs&&zg(h,h.attrs,!1),null!==h.mergedAttrs&&zg(h,h.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,h),h}function BI(e,n){ip(e,n),jh(n)&&e.queries.elementEnd(n)}class $I extends rd{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=ue(n);return new vc(t,this.ngModule)}}class vc extends RI{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function z2(e){return Object.keys(e).map(n=>{const[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:!!(r&Hu.SignalBased)};return i&&(o.transform=i),o})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function U2(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function $O(e){return e.map(BO).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i){const o=oe(null);try{const s=this.componentDef,a=r?["ng-version","19.2.8"]:function zO(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!nr(i))break;i=o}r++}return t.length&&n.push(1,...t),n}(this.componentDef.selectors[0]),c=cg(0,null,null,1,0,null,null,null,null,[a],null),u=function H2(e,n,t){let r=n instanceof Ut?n:n?.injector;return r&&null!==e.getStandaloneInjector&&(r=e.getStandaloneInjector(r)||r),r?new Cs(t,r):t}(s,i||this.ngModule,n),h=function G2(e){const n=e.get(jg,null);if(null===n)throw new E(407,!1);return{rendererFactory:n,sanitizer:e.get(S2,null),changeDetectionScheduler:e.get(Hr,null)}}(u),p=h.rendererFactory.createRenderer(null,s),m=r?function WO(e,n,t,r){const o=r.get(xD,!1)||t===Bn.ShadowDom,s=e.selectRootElement(n,o);return function ZO(e){B_(e)}(s),s}(p,r,s.encapsulation,u):function q2(e,n){const t=(e.selectors[0][0]||"div").toLowerCase();return zu(n,t,"svg"===t?"svg":"math"===t?"math":null)}(s,p),g=Uu(null,c,null,512|lg(s),null,null,h,p,u,null,null);g[L]=m,np(g);let v=null;try{const y=jI(L,c,g,"#host",()=>[this.componentDef],!0,0);m&&(F_(p,m,y),an(m,g)),Gu(c,g,y),Qp(c,y,g),BI(c,y),void 0!==t&&function Z2(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o&&o.length?Array.from(o):null)}}(y,this.ngContentSelectors,t),v=qt(y.index,g),g[8]=v[8],qu(c,g,null)}catch(y){throw null!==v&&bp(v),bp(g),y}finally{rp()}return new W2(this.componentType,g)}finally{oe(o)}}}class W2 extends C2{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Ki(t[1],L),this.location=rs(this._tNode,t),this.instance=qt(this._tNode.index,t)[8],this.hostView=this.changeDetectorRef=new ac(t,void 0,!1),this.componentType=n}setInput(n,t){const r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const i=this._rootLView;mg(r,i[1],i,n,t),this.previousInputValues.set(n,t),oc(qt(r.index,i),1)}get injector(){return new ot(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}let Cn=(()=>class e{static __NG_ELEMENT_ID__=X2})();function X2(){return HI(ce(),I())}const Y2=Cn,zI=class extends Y2{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return rs(this._hostTNode,this._hostLView)}get injector(){return new ot(this._hostTNode,this._hostLView)}get parentInjector(){const n=pu(this._hostTNode,this._hostLView);if(cp(n)){const t=Oa(n,this._hostLView),r=ka(n);return new ot(t[1].data[r+8],t)}return new ot(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=UI(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,ao(this._hostTNode,null)),a}createComponent(n,t,r,i,o){const s=n&&!function Sa(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const v=t||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}const c=s?n:new vc(ue(n)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const y=(s?u:this.parentInjector).get(Ut,null);y&&(o=y)}ue(c.componentType??{});const g=c.create(u,i,null,o);return this.insertImpl(g.hostView,a,ao(this._hostTNode,null)),g}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){const i=n._lView;if(function FN(e){return Dt(e[3])}(i)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const c=i[3],u=new zI(c,c[5],c[3]);u.detach(u.indexOf(n))}}const o=this._adjustIndex(t),s=this._lContainer;return bs(s,i,o,r),n.attachToViewContainerRef(),Vw(Hg(s),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=UI(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=sc(this._lContainer,t);r&&(Zl(Hg(this._lContainer),t),ic(r[1],r))}detach(n){const t=this._adjustIndex(n,-1),r=sc(this._lContainer,t);return r&&null!=Zl(Hg(this._lContainer),t)?new ac(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function UI(e){return e[8]}function Hg(e){return e[8]||(e[8]=[])}function HI(e,n){let t;const r=n[e.index];return Dt(r)?t=r:(t=aI(r,n,null,e),n[e.index]=t,ug(n,t)),GI(t,n,e,r),new zI(t,e,n)}let GI=function WI(e,n,t,r){if(e[7])return;let i;i=8&t.type?ve(r):function Q2(e,n){const t=e[Z],r=t.createComment(""),i=Gt(n,e),o=t.parentNode(i);return so(t,o,r,t.nextSibling(i),!1),r}(n,t),e[7]=i};class qg{queryList;matches=null;constructor(n){this.queryList=n}clone(){return new qg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wg{queries;constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Wg(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Kg(n,t).matches&&this.queries[t].setDirty()}}class ZI{flags;read;predicate;constructor(n,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof n?function oF(e){return e.split(",").map(n=>n.trim())}(n):n}}class Zg{queries;constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Zg(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Xg{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(n,t=-1){this.metadata=n,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new Xg(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,t,tF(t,o)),this.matchTNodeWithReadOption(n,t,gu(t,n,o,!1,!1))}else r===xr?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,gu(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ft||i===Cn||i===xr&&4&t.type)this.addMatch(t.index,-2);else{const o=gu(t,n,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function tF(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function rF(e,n,t,r){return-1===t?function nF(e,n){return 11&e.type?rs(e,n):4&e.type?Yu(e,n):null}(n,e):-2===t?function iF(e,n,t){return t===Ft?rs(n,e):t===xr?Yu(n,e):t===Cn?HI(n,e):void 0}(e,n,r):Pa(e,e[1],t,n)}function XI(e,n,t,r){const i=n[18].queries[r];if(null===i.matches){const o=e.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const u=s[c];a.push(u<0?null:rF(n,o[u],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function Yg(e,n,t,r){const i=e.queries.getByIndex(t),o=i.matches;if(null!==o){const s=XI(e,n,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],h=n[-c];for(let p=10;p<h.length;p++){const m=h[p];m[16]===m[3]&&Yg(m[1],m,u,r)}if(null!==h[9]){const p=h[9];for(let m=0;m<p.length;m++){const g=p[m];Yg(g[1],g,u,r)}}}}}return r}function YI(e,n,t){const r=new FR(!(4&~t));return function LN(e,n,t,r){const i=qh(n);i.push(t),e.firstCreatePass&&Wh(e).push(r,i.length-1)}(e,n,r,r.destroy),(n[18]??=new Wg).queries.push(new qg(r))-1}function JI(e,n,t){null===e.queries&&(e.queries=new Zg),e.queries.track(new Xg(n,t))}function Kg(e,n){return e.queries.getByIndex(n)}function eC(e,n){const t=e[1],r=Kg(t,n);return r.crossesNgTemplate?Yg(t,e,n,[]):XI(t,e,r,n)}let fo=class{},dC=class{};class tm extends fo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new $I(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;const o=bn(n);this._bootstrapComponents=Ir(o.bootstrap),this._r3Injector=Hb(n,t,[{provide:fo,useValue:this},{provide:rd,useValue:this.componentFactoryResolver},...r],wt(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class nm extends dC{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new tm(this.moduleType,n,[])}}class fC extends fo{injector;componentFactoryResolver=new $I(this);instance=null;constructor(n){super();const t=new Zi([...n.providers,{provide:fo,useValue:this},{provide:rd,useValue:this.componentFactoryResolver}],n.parent||Jl(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function od(e,n,t=null){return new fC({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let yF=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Ah(0,t.type),i=r.length>0?od([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=F({token:e,providedIn:"environment",factory:()=>new e(z(Ut))})}return e})();function V(e){return Lr(()=>{const n=hC(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===wu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(yF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Bn.Emulated,styles:e.styles||De,_:null,schemas:e.schemas||null,tView:null,id:""};n.standalone&&cn("NgStandalone"),pC(t);const r=e.dependencies;return t.directiveDefs=sd(r,!1),t.pipeDefs=sd(r,!0),t.id=function CF(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,"function"==typeof e.consts?"":e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(const o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)|0;return n+=2147483648,"c"+n}(t),t})}function wF(e){return ue(e)||function kt(e){return e[bh]||null}(e)}function bF(e){return null!==e}function $n(e){return Lr(()=>({type:e.type,bootstrap:e.bootstrap||De,declarations:e.declarations||De,imports:e.imports||De,exports:e.exports||De,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function DF(e,n){if(null==e)return Yn;const t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Hu.None,c=null),t[o]=[r,a,c],n[o]=s}return t}function _F(e){if(null==e)return Yn;const n={};for(const t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Y(e){return Lr(()=>{const n=hC(e);return pC(n),n})}function un(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function hC(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Yn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:!0===e.signals,selectors:e.selectors||De,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DF(e.inputs,n),outputs:_F(e.outputs),debugInfo:null}}function pC(e){e.features?.forEach(n=>n(e))}function sd(e,n){if(!e)return null;const t=n?Dn:wF;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(bF)}function Ne(e){let n=function gC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(In(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new E(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const s=e;s.inputs=rm(e.inputs),s.declaredInputs=rm(e.declaredInputs),s.outputs=rm(e.outputs);const a=i.hostBindings;a&&TF(e,a);const c=i.viewQuery,u=i.contentQueries;if(c&&SF(e,c),u&&MF(e,u),xF(e,i),$A(e.outputs,i.outputs),In(i)&&i.data.animation){const h=e.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Ne&&(t=!1)}}n=Object.getPrototypeOf(n)}!function EF(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=ns(i.hostAttrs,t=ns(t,i.hostAttrs))}}(r)}function xF(e,n){for(const t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;const r=n.inputs[t];void 0!==r&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function rm(e){return e===Yn?{}:e===De?[]:e}function SF(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function MF(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,o)=>{n(r,i,o),t(r,i,o)}:n}function TF(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function ad(e){return!!function om(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Er(e,n,t){return e[n]=t}function st(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function ho(e,n,t,r){const i=st(e,n,t);return st(e,n+1,r)||i}function bc(e,n,t,r,i,o,s,a,c,u){const h=t+L,p=n.firstCreatePass?function VF(e,n,t,r,i,o,s,a,c){const u=n.consts,h=Ds(n,e,4,s||null,a||null);Yh()&&Ug(n,t,h,Ln(u,c),hg),h.mergedAttrs=ns(h.mergedAttrs,h.attrs),ip(n,h);const p=h.tView=cg(2,h,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u,null);return null!==n.queries&&(n.queries.template(n,h),p.queries=n.queries.embeddedTView(h)),h}(h,n,e,r,i,o,s,a,c):n.data[h];er(p,!1);const m=bC(n,e,p,t);Na()&&Wu(n,e,m,p),an(m,e);const g=aI(m,e,m,p);return e[h]=g,ug(e,g),iu(p)&&Gu(n,e,p),null!=c&&fg(e,p,u),p}function pe(e,n,t,r,i,o,s,a){const c=I(),u=Q();return bc(c,u,e,n,t,r,i,Ln(u.consts,o),s,a),pe}let bC=function DC(e,n,t,r){return yr(!0),n[Z].createComment("")};let cm=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const OC=new R(""),fd=new R("");let pm,fm=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(t,r,i){this._ngZone=t,this.registry=r,pm||(function FL(e){pm=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t()},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static \u0275fac=function(r){return new(r||e)(z(be),z(hm),z(fd))};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})(),hm=(()=>{class e{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return pm?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),gm=(()=>{class e{static \u0275prov=F({token:e,providedIn:"root",factory:()=>new LL})}return e})();class LL{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){const r=this.queues.get(n.zone);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){const t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);const r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(const[n,t]of this.queues)null===n?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(const t of n)n.delete(t),this.queuedEffectCount--,t.run()}}function _c(e){return!!e&&"function"==typeof e.then}function PC(e){return!!e&&"function"==typeof e.subscribe}const FC=new R("");function LC(e){return li([{provide:FC,multi:!0,useValue:e}])}let VC=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=C(FC,{optional:!0})??[];injector=C(_t);constructor(){}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=Fn(this.injector,i);if(_c(o))t.push(o);else if(PC(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ic=new R("");function BC(e,n){return Array.isArray(n)?n.reduce(BC,e):{...e,...n}}let xn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(NR);afterRenderManager=C(Lp);zonelessEnabled=C(La);rootEffectScheduler=C(gm);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new zt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=C(Dr).hasPendingTasks.pipe(we(t=>!t));constructor(){C(os,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=C(Ut);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=_t.NULL){const o=t instanceof RI;if(!this._injector.get(VC).done)throw new E(405,"");let a;a=o?t:this._injector.get(rd).resolveComponentFactory(t),this.componentTypes.push(a.componentType);const c=function VL(e){return e.isBoundToModule}(a)?void 0:this._injector.get(fo),h=a.create(i,[],r||a.selector,c),p=h.location.nativeElement,m=h.injector.get(OC,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),hd(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){null!==this.tracingSnapshot?this.tracingSnapshot.run(Fp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new E(101,!1);const t=oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,oe(t),this.afterTick.next()}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(jg,null,{optional:!0}));let t=0;for(;0!==this.dirtyFlags&&t++<10;)this.synchronizeOnce()}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const t=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)BL(r,i,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:t})=>Ta(t))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;hd(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ic,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>hd(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new E(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function hd(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function BL(e,n,t,r){(t||Ta(e))&&Xu(e,n,t&&!r?0:1)}function dn(e,n,t,r){const i=I();return st(i,Vn(),n)&&(Q(),Cr(ke(),i,e,n,t,r)),dn}function Ts(e,n,t,r){return st(e,Vn(),t)?n+re(t)+r:ie}function Ns(e,n,t,r,i,o,s,a){const u=function cd(e,n,t,r,i){const o=ho(e,n,t,r);return st(e,n+2,i)||o}(e,zr(),t,i,s);return Ur(3),u?n+re(t)+r+re(i)+o+re(s)+a:ie}function pd(e,n){return e<<17|n<<2}function go(e){return e>>17&32767}function bm(e){return 2|e}function Ls(e){return(131068&e)>>2}function Dm(e,n){return-131069&e|n<<2}function _m(e){return 1|e}function ix(e,n,t,r){const i=e[t+1],o=null===n;let s=r?go(i):Ls(i),a=!1;for(;0!==s&&(!1===a||o);){const u=e[s+1];EV(e[s],n)&&(a=!0,e[s+1]=r?_m(u):bm(u)),s=r?go(u):Ls(u)}a&&(e[t+1]=r?bm(i):_m(i))}function EV(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&xa(e,n)>=0}const It={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ox(e){return e.substring(It.key,It.keyEnd)}function sx(e,n){const t=It.textEnd;return t===n?-1:(n=It.keyEnd=function AV(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,It.key=n,t),Vs(e,n,t))}function Vs(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function x(e,n,t){const r=I();return st(r,Vn(),n)&&ln(Q(),ke(),r,e,n,r[Z],t,!1),x}function Im(e,n,t,r,i){mg(n,e,t,i?"class":"style",r)}function Zr(e,n,t){return ir(e,n,t,!1),Zr}function Xr(e,n){return ir(e,n,null,!0),Xr}function Mr(e,n){for(let t=function MV(e){return function cx(e){It.key=0,It.keyEnd=0,It.value=0,It.valueEnd=0,It.textEnd=e.length}(e),sx(e,Vs(e,0,It.textEnd))}(n);t>=0;t=sx(n,t))wn(e,ox(n),!0)}function ir(e,n,t,r){const i=I(),o=Q(),s=Ur(2);o.firstUpdatePass&&fx(o,e,s,r),n!==ie&&st(i,s,n)&&px(o,o.data[Ot()],i,i[Z],e,i[s+1]=function zV(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=wt(pi(e)))),e}(n,t),r,s)}function dx(e,n){return n>=e.expandoStartIndex}function fx(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[Ot()],s=dx(e,t);mx(o,r)&&null===n&&!s&&(n=!1),n=function PV(e,n,t,r){const i=function ep(e){const n=te.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=xc(t=Cm(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=Cm(i,e,n,t,r),null===o){let c=function FV(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Ls(r))return e[go(r)]}(e,n,r);void 0!==c&&Array.isArray(c)&&(c=Cm(null,e,n,c[1],r),c=xc(c,n.attrs,r),function LV(e,n,t,r){e[go(t?n.classBindings:n.styleBindings)]=r}(e,n,r,c))}else o=function VV(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=xc(r,e[o].hostAttrs,t);return xc(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function CV(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=go(s),c=Ls(s);e[r]=t;let h,u=!1;if(Array.isArray(t)?(h=t[1],(null===h||xa(t,h)>0)&&(u=!0)):h=t,i)if(0!==c){const m=go(e[a+1]);e[r+1]=pd(m,a),0!==m&&(e[m+1]=Dm(e[m+1],r)),e[a+1]=function _V(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=pd(a,0),0!==a&&(e[a+1]=Dm(e[a+1],r)),a=r;else e[r+1]=pd(c,0),0===a?a=r:e[c+1]=Dm(e[c+1],r),c=r;u&&(e[r+1]=bm(e[r+1])),ix(e,h,r,!0),ix(e,h,r,!1),function xV(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&xa(o,n)>=0&&(t[r+1]=_m(t[r+1]))}(n,h,e,r,o),s=pd(a,c),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}function Cm(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=xc(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function xc(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),wn(e,s,!!t||n[++o]))}return void 0===e?null:e}function px(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const c=e.data,u=c[a+1],h=function IV(e){return!(1&~e)}(u)?gx(c,n,t,i,Ls(u),s):void 0;gd(h)||(gd(o)||function DV(e){return!(2&~e)}(u)&&(o=gx(c,null,t,i,a,s)),function hP(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:gi.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=gi.Important),e.setStyle(t,r,i,o))}}(r,s,Jo(Ot(),t),i,o))}function gx(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const c=e[i],u=Array.isArray(c),h=u?c[1]:c,p=null===h;let m=t[i+1];m===ie&&(m=p?De:void 0);let g=p?Mh(m,r):h===r?m:void 0;if(u&&!gd(g)&&(g=Mh(c,r)),gd(g)&&(a=g,s))return a;const v=e[i+1];i=s?go(v):Ls(v)}if(null!==n){let c=o?n.residualClasses:n.residualStyles;null!=c&&(a=Mh(c,r))}return a}function gd(e){return void 0!==e}function mx(e,n){return!!(e.flags&(n?8:16))}function mo(e,n,t){!function or(e,n,t,r){const i=Q(),o=Ur(2);i.firstUpdatePass&&fx(i,null,o,r);const s=I();if(t!==ie&&st(s,o,t)){const a=i.data[Ot()];if(mx(a,r)&&!dx(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=gh(c,t||"")),Im(i,a,s,t,r)}else!function $V(e,n,t,r,i,o,s,a){i===ie&&(i=De);let c=0,u=0,h=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;null!==h||null!==p;){const m=c<i.length?i[c+1]:void 0,g=u<o.length?o[u+1]:void 0;let y,v=null;h===p?(c+=2,u+=2,m!==g&&(v=p,y=g)):null===p||null!==h&&h<p?(c+=2,v=h):(u+=2,v=p,y=g),null!==v&&px(e,n,t,r,v,y,s,a),h=c<i.length?i[c]:null,p=u<o.length?o[u]:null}}(i,a,s,s[Z],s[o+1],s[o+1]=function jV(e,n,t){if(null==t||""===t)return De;const r=[],i=pi(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&n(r,i);return r}(e,n,t),r,o)}}(wn,Mr,Ts(I(),e,n,t),!0)}class KV{destroy(n){}updateValue(n,t){}swap(n,t){const r=Math.min(n,t),i=Math.max(n,t),o=this.detach(i);if(i-r>1){const s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(n,t){this.attach(t,this.detach(n))}}function xm(e,n,t,r,i){return e===t&&Object.is(n,r)?1:Object.is(i(e,n),i(t,r))?-1:0}function Em(e,n,t,r){return!(void 0===n||!n.has(r)||(e.attach(t,n.get(r)),n.delete(r),0))}function vx(e,n,t,r,i){if(Em(e,n,r,t(r,i)))e.updateValue(r,i);else{const o=e.create(r,i);e.attach(r,o)}}function yx(e,n,t,r){const i=new Set;for(let o=n;o<=t;o++)i.add(r(o,e.at(o)));return i}class wx{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;const t=this.kvMap.get(n);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),n(r,t)}}}class t3{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-10}}function bx(e,n){return n}class r3{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}}class i3 extends KV{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-10}at(n){return this.getLView(n)[8].$implicit}attach(n,t){const r=t[6];this.needsIndexUpdate||=n!==this.length,bs(this.lContainer,t,n,ao(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,function o3(e,n){return sc(e,n)}(this.lContainer,n)}create(n,t){const i=vs(this.hostLView,this.templateTNode,new t3(this.lContainer,t,n),{dehydratedView:null});return this.operationsCounter?.recordCreate(),i}destroy(n){ic(n[1],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[8].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[8].$index=n}getLView(n){return function s3(e,n){return function cI(e,n){const t=10+n;if(t<e.length)return e[t]}(e,n)}(this.lContainer,n)}}function _x(e){const n=oe(null),t=Ot();try{const r=I(),i=r[1],o=r[t],s=t+1,a=md(r,s);if(void 0===o.liveCollection){const u=Sm(i,s);o.liveCollection=new i3(a,r,u)}else o.liveCollection.reset();const c=o.liveCollection;if(function JV(e,n,t){let r,i,o=0,s=e.length-1;if(Array.isArray(n)){let c=n.length-1;for(;o<=s&&o<=c;){const u=e.at(o),h=n[o],p=xm(o,u,o,h,t);if(0!==p){p<0&&e.updateValue(o,h),o++;continue}const m=e.at(s),g=n[c],v=xm(s,m,c,g,t);if(0!==v){v<0&&e.updateValue(s,g),s--,c--;continue}const y=t(o,u),b=t(s,m),_=t(o,h);if(Object.is(_,b)){const D=t(c,g);Object.is(D,y)?(e.swap(o,s),e.updateValue(s,g),c--,s--):e.move(s,o),e.updateValue(o,h),o++}else if(r??=new wx,i??=yx(e,o,s,t),Em(e,r,o,_))e.updateValue(o,h),o++,s++;else if(i.has(_))r.set(y,e.detach(o)),s--;else{const D=e.create(o,n[o]);e.attach(o,D),o++,s++}}for(;o<=c;)vx(e,r,t,o,n[o]),o++}else if(null!=n){const c=n[Symbol.iterator]();let u=c.next();for(;!u.done&&o<=s;){const h=e.at(o),p=u.value,m=xm(o,h,o,p,t);if(0!==m)m<0&&e.updateValue(o,p),o++,u=c.next();else{r??=new wx,i??=yx(e,o,s,t);const g=t(o,p);if(Em(e,r,o,g))e.updateValue(o,p),o++,s++,u=c.next();else if(i.has(g)){const v=t(o,h);r.set(v,e.detach(o)),s--}else e.attach(o,e.create(o,p)),o++,s++,u=c.next()}}for(;!u.done;)vx(e,r,t,e.length,u.value),u=c.next()}for(;o<=s;)e.destroy(e.detach(s--));r?.forEach(c=>{e.destroy(c)})}(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){const u=Vn(),h=0===c.length;if(st(r,u,h)){const p=t+2,m=md(r,p);if(h){const g=Sm(i,p),v=null;bs(m,vs(r,g,void 0,{dehydratedView:v}),0,ao(g,v))}else!function Sg(e,n){const t=sc(e,n);return void 0!==t&&ic(t[1],t),t}(m,0)}}}finally{oe(n)}}function md(e,n){return e[n]}function Sm(e,n){return Ki(e,n)}function f(e,n,t,r){const i=I(),o=Q(),s=L+e,a=i[Z],c=o.firstCreatePass?jI(s,o,i,n,hg,Yh(),t,r):o.data[s],u=Ix(o,i,c,a,n,e);i[s]=u;const h=iu(c);return er(c,!0),F_(a,u,c),!mi(c)&&Na()&&Wu(o,i,u,c),(0===function VN(){return te.lFrame.elementDepthCount}()||h)&&an(u,i),function jN(){te.lFrame.elementDepthCount++}(),h&&(Gu(o,i,c),Qp(o,c,i)),null!==r&&fg(i,c),f}function d(){let e=ce();Qh()?Kh():(e=e.parent,er(e,!1));const n=e;(function $N(e){return te.skipHydrationRootTNode===e})(n)&&function GN(){te.skipHydrationRootTNode=null}(),function BN(){te.lFrame.elementDepthCount--}();const t=Q();return t.firstCreatePass&&BI(t,n),null!=n.classesWithoutHost&&function nR(e){return!!(8&e.flags)}(n)&&Im(t,n,I(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function rR(e){return!!(16&e.flags)}(n)&&Im(t,n,I(),n.stylesWithoutHost,!1),d}function O(e,n,t,r){return f(e,n,t,r),d(),O}let Ix=(e,n,t,r,i,o)=>(yr(!0),zu(r,i,function _b(){return te.lFrame.currentNamespace}()));function Mm(e,n,t){const r=I(),i=Q(),o=e+L,s=i.firstCreatePass?function l3(e,n,t,r,i){const o=n.consts,s=Ln(o,r),a=Ds(n,e,8,"ng-container",s);null!==s&&zg(a,s,!0);const c=Ln(o,i);return Yh()&&Ug(n,t,a,c,hg),a.mergedAttrs=ns(a.mergedAttrs,a.attrs),null!==n.queries&&n.queries.elementStart(n,a),a}(o,i,r,n,t):i.data[o];er(s,!0);const a=Cx(i,r,s,e);return r[o]=a,Na()&&Wu(i,r,a,s),an(a,r),iu(s)&&(Gu(i,r,s),Qp(i,s,r)),null!=t&&fg(r,s),Mm}function Tm(){let e=ce();const n=Q();return Qh()?Kh():(e=e.parent,er(e,!1)),n.firstCreatePass&&(ip(n,e),jh(e)&&n.queries.elementEnd(e)),Tm}function Am(e,n,t){return Mm(e,n,t),Tm(),Am}let Cx=(e,n,t,r)=>(yr(!0),ag(n[Z],""));function sr(){return I()}const vd="en-US";let Tx=vd;function Wx(e,n,t){return function r(i){if(i===Function)return t;oc(Kn(e)?qt(e.index,n):n,5);const s=n[8];let a=Zx(n,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=Zx(n,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Zx(e,n,t,r){const i=oe(null);try{return!1!==t(r)}catch(o){return function nj(e,n){const t=e[9],r=t?t.get(tr,null):null;r&&r.handleError(n)}(e,o),!1}finally{oe(i)}}function Xx(e,n,t,r,i,o){const a=n[1],h=n[t][a.data[t].outputs[r]],p=a.firstCreatePass?Wh(a):null,m=qh(n),g=h.subscribe(o),v=m.length;m.push(o,g),p&&p.push(i,e.index,v,-(v+1))}function H(e,n,t,r){const i=I(),o=Q(),s=ce();return km(o,i,i[Z],s,e,n,r),H}function km(e,n,t,r,i,o,s){const a=iu(r),u=e.firstCreatePass?Wh(e):null,h=qh(n);let p=!0;if(3&r.type||s){const m=Gt(r,n),g=s?s(m):m,v=h.length,y=s?_=>s(ve(_[r.index])):r.index;let b=null;if(!s&&a&&(b=function rj(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[7],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=o,b.__ngLastListenerFn__=o,p=!1;else{o=Wx(r,n,o);const _=t.listen(g,i,o);h.push(o,_),u&&u.push(i,y,v,v+1)}}else o=Wx(r,n,o);if(p){const m=r.outputs?.[i],g=r.hostDirectiveOutputs?.[i];if(g&&g.length)for(let v=0;v<g.length;v+=2)Xx(r,n,g[v],g[v+1],i,o);if(m&&m.length)for(const v of m)Xx(r,n,v,i,i,o)}}function Ie(e=1){return function YN(e){return(te.lFrame.contextLView=function cb(e,n){for(;e>0;)n=n[14],e--;return n}(e,te.lFrame.contextLView))[8]}(e)}function ij(e,n){let t=null;const r=function FO(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const o=n[i];if("*"!==o){if(null===r?A_(e,o,!0):jO(r,o))return i}else t=i}return t}function Dd(e){const n=I()[15][5];if(!n.projection){const r=n.projection=function Xl(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(e?e.length:1,null),i=r.slice();let o=n.child;for(;null!==o;){if(128!==o.type){const s=e?ij(o,e):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function Nc(e,n=0,t,r,i,o){const s=I(),a=Q(),c=r?e+1:null;null!==c&&bc(s,a,c,r,i,o,null,t);const u=Ds(a,L+e,16,null,t||null);null===u.projection&&(u.projection=n),Kh();const p=!s[6]||eo();null===s[15][5].projection[u.projection]&&null!==c?function oj(e,n,t){const r=L+t,i=n.data[r],o=e[r];bs(o,vs(e,i,void 0,{dehydratedView:null}),0,ao(i,null))}(s,a,c):p&&!mi(u)&&function dP(e,n,t){Q_(n[Z],0,n,t,Dg(e,t,n),q_(t.parent||n[5],t,n))}(a,s,u)}function B(e,n,t){return Om(e,"",n,"",t),B}function Om(e,n,t,r,i){const o=I(),s=Ts(o,n,t,r);return s!==ie&&ln(Q(),ke(),o,e,s,o[Z],i,!1),Om}function c0(e,n,t,r){!function KI(e,n,t,r){const i=Q();if(i.firstCreatePass){const o=ce();JI(i,new ZI(n,t,r),o.index),function sF(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(i,e),!(2&~t)&&(i.staticContentQueries=!0)}return YI(i,I(),t)}(e,n,t,r)}function l0(e,n,t){!function QI(e,n,t){const r=Q();return r.firstCreatePass&&(JI(r,new ZI(e,n,t),-1),!(2&~n)&&(r.staticViewQueries=!0)),YI(r,I(),n)}(e,n,t)}function Pm(e){const n=I(),t=Q(),r=tp();lu(r+1);const i=Kg(t,r);if(e.dirty&&function PN(e){return!(4&~e[2])}(n)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{const o=eC(n,r);e.reset(o,tD),e.notifyOnChanges()}return!0}return!1}function Fm(){return function Qg(e,n){return e[18].queries[n].queryList}(I(),tp())}function Di(e){return Ji(function ub(){return te.lFrame.contextLView}(),L+e)}function l(e,n=""){const t=I(),r=Q(),i=e+L,o=r.firstCreatePass?Ds(r,i,1,n,null):r.data[i],s=w0(r,t,o,n,e);t[i]=s,Na()&&Wu(r,t,s,o),er(o,!1)}let w0=(e,n,t,r,i)=>(yr(!0),function sg(e,n){return e.createText(n)}(n[Z],r));function $(e){return G("",e,""),$}function G(e,n,t){const r=I(),i=Ts(r,e,n,t);return i!==ie&&Yr(r,Ot(),i),G}function Un(e,n,t,r,i){const o=I(),s=function As(e,n,t,r,i,o){const a=ho(e,zr(),t,i);return Ur(2),a?n+re(t)+r+re(i)+o:ie}(o,e,n,t,r,i);return s!==ie&&Yr(o,Ot(),s),Un}function Vm(e,n,t,r,i,o,s){const a=I(),c=Ns(a,e,n,t,r,i,o,s);return c!==ie&&Yr(a,Ot(),c),Vm}function Yr(e,n,t){const r=Jo(n,e);!function R_(e,n,t){e.setValue(n,t)}(e[Z],r,t)}function We(e,n,t){rD(n)&&(n=n());const r=I();return st(r,Vn(),n)&&ln(Q(),ke(),r,e,n,r[Z],t,!1),We}function tt(e,n){const t=rD(e);return t&&e.set(n),t}function Ze(e,n){const t=I(),r=Q(),i=ce();return km(r,t,t[Z],i,e,n),Ze}function jm(e,n,t,r,i){if(e=ee(e),Array.isArray(e))for(let o=0;o<e.length;o++)jm(e[o],n,t,r,i);else{const o=Q(),s=I(),a=ce();let c=Wi(e)?e:ee(e.provide);const u=qw(e),h=1048575&a.providerIndexes,p=a.directiveStart,m=a.providerIndexes>>20;if(Wi(e)||!e.multi){const g=new Ra(u,i,T),v=$m(c,n,i?h:h+m,p);-1===v?(dp(hu(a,s),o,c),Bm(o,e,n.length),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[v]=g,s[v]=g)}else{const g=$m(c,n,h+m,p),v=$m(c,n,h,h+m),b=v>=0&&t[v];if(i&&!b||!i&&!(g>=0&&t[g])){dp(hu(a,s),o,c);const _=function Ej(e,n,t,r,i){const o=new Ra(e,t,T);return o.multi=[],o.index=n,o.componentProviders=0,M0(o,i,r&&!t),o}(i?xj:Cj,t.length,i,r,u);!i&&b&&(t[v].providerFactory=_),Bm(o,e,n.length,0),n.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(_),s.push(_)}else Bm(o,e,g>-1?g:v,M0(t[i?v:g],u,!i&&r));!i&&r&&b&&t[v].componentProviders++}}}function Bm(e,n,t,r){const i=Wi(n),o=function fN(e){return!!e.useClass}(n);if(i||o){const c=(o?ee(n.useClass):n).prototype.ngOnDestroy;if(c){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const h=u.indexOf(t);-1===h?u.push(t,[r,c]):u[h+1].push(r,c)}else u.push(t,c)}}}function M0(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function $m(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function Cj(e,n,t,r){return zm(this.multi,[])}function xj(e,n,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Pa(t,t[1],this.providerFactory.index,r);o=a.slice(0,s),zm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],zm(i,o);return o}function zm(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Xe(e,n=[]){return t=>{t.providersResolver=(r,i)=>function Ij(e,n,t){const r=Q();if(r.firstCreatePass){const i=In(e);jm(t,r.data,r.blueprint,i,!0),jm(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}function ye(e,n,t,r){return k0(I(),Wt(),e,n,t,r)}function N0(e,n,t,r,i){return function O0(e,n,t,r,i,o,s){const a=n+t;return ho(e,a,i,o)?Er(e,a+2,s?r.call(s,i,o):r(i,o)):Rc(e,a+2)}(I(),Wt(),e,n,t,r,i)}function R0(e,n,t,r,i,o,s){return function F0(e,n,t,r,i,o,s,a,c){const u=n+t;return function zn(e,n,t,r,i,o){const s=ho(e,n,t,r);return ho(e,n+2,i,o)||s}(e,u,i,o,s,a)?Er(e,u+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):Rc(e,u+4)}(I(),Wt(),e,n,t,r,i,o,s)}function Rc(e,n){const t=e[n];return t===ie?void 0:t}function k0(e,n,t,r,i,o){const s=n+t;return st(e,s,i)?Er(e,s+1,o?r.call(o,i):r(i)):Rc(e,s+1)}function yo(e,n){const t=Q();let r;const i=e+L;t.firstCreatePass?(r=function Fj(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Gi(r.type)),a=rn(T);try{const c=fu(!1),u=o();return fu(c),function Lm(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,I(),i,u),u}finally{rn(a)}}function wo(e,n,t){const r=e+L,i=I(),o=Ji(i,r);return function kc(e,n){return e[1].data[n].pure}(i,r)?k0(i,Wt(),n,o.transform,t,o):o.transform(t)}function _i(e,n){return Yu(e,n)}class xd{full;major;minor;patch;constructor(n){this.full=n;const t=n.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}const hB=new xd("19.2.8");class pB{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let gB=(()=>{class e{compileModuleSync(t){return new nm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Ir(bn(t).declarations).reduce((s,a)=>{const c=ue(a);return c&&s.push(new vc(c)),s},[]);return new pB(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yB=(()=>{class e{zone=C(be);changeDetectionScheduler=C(Hr);applicationRef=C(xn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Wm({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new be({...Zm(),scheduleInRootZone:t}),[{provide:be,useFactory:e},{provide:Pn,multi:!0,useFactory:()=>{const r=C(yB,{optional:!0});return()=>r.initialize()}},{provide:Pn,multi:!0,useFactory:()=>{const r=C(bB);return()=>{r.initialize()}}},!0===n?{provide:Wb,useValue:!0}:[],{provide:pp,useValue:t??Gb}]}function Zm(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let bB=(()=>{class e{subscription=new $t;initialized=!1;zone=C(be);pendingTasks=C(Dr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pc=(()=>{class e{appRef=C(xn);taskService=C(Dr);ngZone=C(be);zonelessEnabled=C(La);tracing=C(os,{optional:!0});disableScheduling=C(Wb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new $t;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(pp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof yp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&5===t)return;let r=!1;switch(t){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,r=!0;break;case 12:this.appRef.dirtyFlags|=16,r=!0;break;case 11:r=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;const i=this.useMicrotaskScheduler?Xb:Zb;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>i(()=>this.tick())):this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Xb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Ii=new R("",{providedIn:"root",factory:()=>C(Ii,le.Optional|le.SkipSelf)||function DB(){return typeof $localize<"u"&&$localize.locale||vd}()}),Ed=new R(""),SB=new R("");function Fc(e){return!e.moduleRef}let sE=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,r){const i=r?.scheduleInRootZone,s=r?.ignoreChangesOutsideZone,a=[Wm({ngZoneFactory:()=>function AR(e="zone.js",n){return"noop"===e?new yp:"zone.js"===e?new be(n):e}(r?.ngZone,{...Zm({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}),scheduleInRootZone:i}),ignoreChangesOutsideZone:s}),{provide:Hr,useExisting:Pc}],c=function vF(e,n,t){return new tm(e,n,t,!1)}(t.moduleType,this.injector,a);return function oE(e){const n=Fc(e)?e.r3Injector:e.moduleRef.injector,t=n.get(be);return t.run(()=>{Fc(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const r=n.get(tr,null);let i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Fc(e)){const o=()=>n.destroy(),s=e.platformInjector.get(Ed);s.add(o),n.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{const o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Ed);s.add(o),e.moduleRef.onDestroy(()=>{hd(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return function TB(e,n,t){try{const r=t();return _c(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(r,t,()=>{const o=n.get(VC);return o.runInitializers(),o.donePromise.then(()=>{if(function y3(e){"string"==typeof e&&(Tx=e.toLowerCase().replace(/_/g,"-"))}(n.get(Ii,vd)||vd),!n.get(SB,!0))return Fc(e)?n.get(xn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Fc(e)){const c=n.get(xn);return void 0!==e.rootComponent&&c.bootstrap(e.rootComponent),c}return function MB(e,n){const t=e.injector.get(xn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new E(-403,!1);e.instance.ngDoBootstrap(t)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:c,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){const i=BC({},r);return function vB(e,n,t){const r=new nm(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Ed,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(z(_t))};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Ci=null;const aE=new R("");function cE(e,n,t=[]){const r=`Platform: ${n}`,i=new R(r);return(o=[])=>{let s=Ym();if(!s||s.injector.get(aE,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function AB(e){if(Ci&&!Ci.get(aE,!1))throw new E(400,!1);(function jC(){!function wA(e){dw=e}(()=>{throw new E(600,!1)})})(),Ci=e;const n=e.get(sE);(function uE(e){const n=e.get(xp,null);Fn(e,()=>{n?.forEach(t=>t())})})(e)}(function lE(e=[],n){return _t.create({name:n,providers:[{provide:kh,useValue:"platform"},{provide:Ed,useValue:new Set([()=>Ci=null])},...e]})}(a,r))}return function NB(){const n=Ym();if(!n)throw new E(401,!1);return n}()}}function Ym(){return Ci?.get(sE)??null}let $s=(()=>class e{static __NG_ELEMENT_ID__=kB})();function kB(e){return function OB(e,n,t){if(Kn(e)&&!t){const r=qt(e.index,n);return new ac(r,r)}return 175&e.type?new ac(n[15],n):null}(ce(),I(),!(16&~e))}class gE{constructor(){}supports(n){return ad(n)}create(n){return new jB(n)}}const VB=(e,n)=>n;class jB{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||VB}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<vE(r,i,o)?t:r,a=vE(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,h=c-i;if(u!=h){for(let m=0;m<u;m++){const g=m<o.length?o[m]:o[m]=0,v=g+m;h<=v&&v<u&&(o[m]=g+1)}o[s.previousIndex]=h-u}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!ad(n))throw new E(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function FF(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new BB(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new mE),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mE),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class BB{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}}class $B{_head=null;_tail=null;add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class mE{map=new Map;put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new $B,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vE(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function wE(){return new ev([new gE])}let ev=(()=>{class e{factories;static \u0275prov=F({token:e,providedIn:"root",factory:wE});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||wE()),deps:[[e,new Sh,new Eh]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new E(901,!1)}}return e})();const qB=cE(null,"core",[]);let WB=(()=>{class e{constructor(t){}static \u0275fac=function(r){return new(r||e)(z(xn))};static \u0275mod=$n({type:e});static \u0275inj=yn({})}return e})();function zs(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function pt(e){return function xA(e){const n=oe(null);try{return e()}finally{oe(n)}}(e)}function Qr(e,n){return function mA(e,n){const t=Object.create(vA);t.computation=e,void 0!==n&&(t.equal=n);const r=()=>{if(ba(t),wa(t),t.value===ai)throw t.error;return t.value};return r[Nt]=t,r}(e,n?.equal)}const En=new R("");let BE=null;function xi(){return BE}class L${}let iv=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:()=>C(j$),providedIn:"platform"})}return e})();const V$=new R("");let j$=(()=>{class e extends iv{_location;_history;_doc=C(En);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xi().getBaseHref(this._doc)}onPopState(t){const r=xi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=xi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function ov(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function $E(e){const n=e.search(/#|\?|$/);return"/"===e[n-1]?e.slice(0,n-1)+e.slice(n):e}function Kr(e){return e&&"?"!==e[0]?`?${e}`:e}let Do=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:()=>C(UE),providedIn:"root"})}return e})();const zE=new R("");let UE=(()=>{class e extends Do{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(En).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ov(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Kr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Kr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(z(iv),z(zE,8))};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vc=(()=>{class e{_subject=new zt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function z$(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}($E(HE(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Kr(r))}normalize(t){return e.stripTrailingSlash(function $$(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,HE(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Kr;static joinWithSlash=ov;static stripTrailingSlash=$E;static \u0275fac=function(r){return new(r||e)(z(Do))};static \u0275prov=F({token:e,factory:()=>function B$(){return new Vc(z(Do))}(),providedIn:"root"})}return e})();function HE(e){return e.replace(/\/index.html$/,"")}function GE(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}function WE(e){return"server"===e}class ZE{}let H$=(()=>{class e extends Do{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ov(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Kr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Kr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(z(iv),z(zE,8))};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})();const gv=/\s+/,rS=[];let iS=(()=>{class e{_ngEl;_renderer;initialClasses=rS;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=null!=t?t.trim().split(gv):rS}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(gv):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(gv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(T(Ft),T(rr))};static \u0275dir=Y({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();class T4{$implicit;ngForOf;index;count;constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gd=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new T4(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),sS(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{sS(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(T(Cn),T(xr),T(ev))};static \u0275dir=Y({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function sS(e,n){e.context.$implicit=n.item}let ei=(()=>{class e{_viewContainer;_context=new A4;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){aS(t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){aS(t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(T(Cn),T(xr))};static \u0275dir=Y({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})();class A4{$implicit=null;ngIf=null}function aS(e,n){if(e&&!e.createEmbeddedView)throw new E(2020,!1)}let yv=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||e)(T(Cn))};static \u0275dir=Y({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Jn]})}return e})();class P4{createSubscription(n,t){return pt(()=>n.subscribe({next:t,error:r=>{throw r}}))}dispose(n){pt(()=>n.unsubscribe())}}class F4{createSubscription(n,t){return n.then(t,r=>{throw r})}dispose(n){}}const L4=new F4,V4=new P4;let Bc=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(_c(t))return L4;if(PC(t))return V4;throw function cr(e,n){return new E(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(T($s,16))};static \u0275pipe=un({name:"async",type:e,pure:!1})}return e})(),uS=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=$n({type:e});static \u0275inj=yn({})}return e})();const Dv=new R("");let dS=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(z(Dv),z(be))};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})();class fS{_doc;constructor(n){this._doc=n}manager}const qd="ng-app-id";function hS(e){for(const n of e)n.remove()}function pS(e,n){const t=n.createElement("style");return t.textContent=e,t}function _v(e,n){const t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}let gS=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=WE(o),function nz(e,n,t,r){const i=e.head?.querySelectorAll(`style[${qd}="${n}"],link[${qd}="${n}"]`);if(i)for(const o of i)o.removeAttribute(qd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(const i of t)this.addUsage(i,this.inline,pS);r?.forEach(i=>this.addUsage(i,this.external,_v))}removeStyles(t,r){for(const i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){const o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){const i=r.get(t);i&&(i.usage--,i.usage<=0&&(hS(i.elements),r.delete(t)))}ngOnDestroy(){for(const[,{elements:t}]of[...this.inline,...this.external])hS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(const[r,{elements:i}]of this.inline)i.push(this.addElement(t,pS(r,this.doc)));for(const[r,{elements:i}]of this.external)i.push(this.addElement(t,_v(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(qd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(z(En),z(ro),z(DD,8),z(_u))};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})();const Iv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Cv=/%COMP%/g,cz=new R("",{providedIn:"root",factory:()=>!0});function vS(e,n){return n.map(t=>t.replace(Cv,e))}let yS=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=h,this.platformIsServer=WE(a),this.defaultRenderer=new xv(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Bn.ShadowDom&&(r={...r,encapsulation:Bn.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof bS?i.applyToHost(t):i instanceof Ev&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Bn.Emulated:o=new bS(c,u,r,this.appId,h,s,a,p,m);break;case Bn.ShadowDom:return new fz(c,u,t,r,s,a,this.nonce,p,m);default:o=new Ev(c,u,r,h,s,a,p,m)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(z(dS),z(gS),z(ro),z(cz),z(En),z(_u),z(be),z(DD),z(os,8))};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})();class xv{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Iv[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(wS(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(wS(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new E(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=Iv[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=Iv[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(gi.DashCase|gi.Important)?n.style.setProperty(t,r,i&gi.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&gi.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){null!=n&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if("string"==typeof n&&!(n=xi().getGlobalEventTarget(this.doc,n)))throw new E(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function wS(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class fz extends xv{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,o,s,a,c,u){super(n,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=vS(i.id,h);for(const m of h){const g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=m,this.shadowRoot.appendChild(g)}const p=i.getExternalStyles?.();if(p)for(const m of p){const g=_v(m,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ev extends xv{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,s,a,c,u){super(n,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?vS(u,h):h,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class bS extends Ev{contentAttr;hostAttr;constructor(n,t,r,i,o,s,a,c,u){const h=i+"-"+r.id;super(n,t,r,o,s,a,c,u,h),this.contentAttr=function lz(e){return"_ngcontent-%COMP%".replace(Cv,e)}(h),this.hostAttr=function uz(e){return"_nghost-%COMP%".replace(Cv,e)}(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}class Sv extends L${supportsDOMEvents=!0;static makeCurrent(){!function F$(e){BE??=e}(new Sv)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function hz(){return $c=$c||document.querySelector("base"),$c?$c.getAttribute("href"):null}();return null==t?null:function pz(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){$c=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return GE(document.cookie,n)}}let $c=null,mz=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})(),vz=(()=>{class e extends fS{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(z(En))};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})();const DS=["alt","control","meta","shift"],yz={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wz={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let bz=(()=>{class e extends fS{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i,o){const s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xi().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),DS.forEach(u=>{const h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=yz[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),DS.forEach(s=>{s!==i&&(0,wz[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static \u0275fac=function(r){return new(r||e)(z(En))};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})();const Cz=cE(qB,"browser",[{provide:_u,useValue:"browser"},{provide:xp,useValue:function Dz(){Sv.makeCurrent()},multi:!0},{provide:En,useFactory:function Iz(){return function ik(e){Cp=e}(document),document}}]),CS=[{provide:fd,useClass:class gz{addToWindow(n){nt.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new E(5103,!1);return o},nt.getAllAngularTestabilities=()=>n.getAllTestabilities(),nt.getAllAngularRootElements=()=>n.getAllRootElements(),nt.frameworkStabilizers||(nt.frameworkStabilizers=[]),nt.frameworkStabilizers.push(r=>{const i=nt.getAllAngularTestabilities();let o=i.length;const s=function(){o--,0==o&&r()};i.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?xi().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}}},{provide:OC,useClass:fm,deps:[be,hm,fd]},{provide:fm,useClass:fm,deps:[be,hm,fd]}],xS=[{provide:kh,useValue:"root"},{provide:tr,useFactory:function _z(){return new tr}},{provide:Dv,useClass:vz,multi:!0,deps:[En]},{provide:Dv,useClass:bz,multi:!0,deps:[En]},yS,gS,dS,{provide:jg,useExisting:yS},{provide:ZE,useClass:mz},[]];let xz=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=$n({type:e});static \u0275inj=yn({providers:[...xS,...CS],imports:[uS,WB]})}return e})();function Ei(e){return this instanceof Ei?(this.v=e,this):new Ei(e)}function TS(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Nv(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const AS=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function NS(e){return He(e?.then)}function RS(e){return He(e[hh])}function kS(e){return Symbol.asyncIterator&&He(e?.[Symbol.asyncIterator])}function OS(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const PS=function Jz(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function FS(e){return He(e?.[PS])}function LS(e){return function MS(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(g){return function(v){return Promise.resolve(v).then(g,p)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(g,v){r[g]&&(i[g]=function(y){return new Promise(function(b,_){o.push([g,y,b,_])>1||c(g,y)})},v&&(i[g]=v(i[g])))}function c(g,v){try{!function u(g){g.value instanceof Ei?Promise.resolve(g.value.v).then(h,p):m(o[0][2],g)}(r[g](v))}catch(y){m(o[0][3],y)}}function h(g){c("next",g)}function p(g){c("throw",g)}function m(g,v){g(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield Ei(t.read());if(i)return yield Ei(void 0);yield yield Ei(r)}}finally{t.releaseLock()}})}function VS(e){return He(e?.getReader)}function lr(e){if(e instanceof ut)return e;if(null!=e){if(RS(e))return function e5(e){return new ut(n=>{const t=e[hh]();if(He(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(AS(e))return function t5(e){return new ut(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(NS(e))return function n5(e){return new ut(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,yw)})}(e);if(kS(e))return jS(e);if(FS(e))return function r5(e){return new ut(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(VS(e))return function i5(e){return jS(LS(e))}(e)}throw OS(e)}function jS(e){return new ut(n=>{(function o5(e,n){var t,r,i,o;return function ES(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(p){s(p)}}function c(h){try{u(r.throw(h))}catch(p){s(p)}}function u(h){h.done?o(h.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(h.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=TS(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function ti(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function BS(e,n=0){return Rt((t,r)=>{t.subscribe(yt(r,i=>ti(r,e,()=>r.next(i),n),()=>ti(r,e,()=>r.complete(),n),i=>ti(r,e,()=>r.error(i),n)))})}function $S(e,n=0){return Rt((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function zS(e,n){if(!e)throw new Error("Iterable cannot be null");return new ut(t=>{ti(t,n,()=>{const r=e[Symbol.asyncIterator]();ti(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function vt(e,n){return n?function d5(e,n){if(null!=e){if(RS(e))return function s5(e,n){return lr(e).pipe($S(n),BS(n))}(e,n);if(AS(e))return function c5(e,n){return new ut(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(NS(e))return function a5(e,n){return lr(e).pipe($S(n),BS(n))}(e,n);if(kS(e))return zS(e,n);if(FS(e))return function l5(e,n){return new ut(t=>{let r;return ti(t,n,()=>{r=e[PS](),ti(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>He(r?.return)&&r.return()})}(e,n);if(VS(e))return function u5(e,n){return zS(LS(e),n)}(e,n)}throw OS(e)}(e,n):lr(e)}const{isArray:f5}=Array,{getPrototypeOf:h5,prototype:p5,keys:g5}=Object;function US(e){if(1===e.length){const n=e[0];if(f5(n))return{args:n,keys:null};if(function m5(e){return e&&"object"==typeof e&&h5(e)===p5}(n)){const t=g5(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function kv(e){return e[e.length-1]}function HS(e){return He(kv(e))?e.pop():void 0}function zc(e){return function v5(e){return e&&He(e.schedule)}(kv(e))?e.pop():void 0}const{isArray:w5}=Array;function GS(e){return we(n=>function b5(e,n){return w5(n)?e(...n):e(n)}(e,n))}function qS(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}let WS=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(T(rr),T(Ft))};static \u0275dir=Y({type:e})}return e})(),_o=(()=>{class e extends WS{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Et(e)))(i||e)}})();static \u0275dir=Y({type:e,features:[Ne]})}return e})();const Tr=new R(""),_5={provide:Tr,useExisting:Be(()=>Io),multi:!0};let Io=(()=>{class e extends _o{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Et(e)))(i||e)}})();static \u0275dir=Y({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&H("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Xe([_5]),Ne]})}return e})();const I5={provide:Tr,useExisting:Be(()=>hn),multi:!0},x5=new R("");let hn=(()=>{class e extends WS{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,null==this._compositionMode&&(this._compositionMode=!function C5(){const e=xi()?xi().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(T(rr),T(Ft),T(x5,8))};static \u0275dir=Y({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&H("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Xe([I5]),Ne]})}return e})();const Lt=new R(""),Si=new R("");function nM(e){return null!=e}function rM(e){return _c(e)?vt(e):e}function iM(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function oM(e,n){return n.map(t=>t(e))}function sM(e){return e.map(n=>function S5(e){return!e.validate}(n)?n:t=>n.validate(t))}function Fv(e){return null!=e?function aM(e){if(!e)return null;const n=e.filter(nM);return 0==n.length?null:function(t){return iM(oM(t,n))}}(sM(e)):null}function Lv(e){return null!=e?function cM(e){if(!e)return null;const n=e.filter(nM);return 0==n.length?null:function(t){return function D5(...e){const n=HS(e),{args:t,keys:r}=US(e),i=new ut(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let h=0;h<s;h++){let p=!1;lr(t[h]).subscribe(yt(o,m=>{p||(p=!0,u--),a[h]=m},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(r?qS(r,a):a),o.complete())}))}});return n?i.pipe(GS(n)):i}(oM(t,n).map(rM)).pipe(we(iM))}}(sM(e)):null}function lM(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Vv(e){return e?Array.isArray(e)?e:[e]:[]}function Zd(e,n){return Array.isArray(e)?e.includes(n):e===n}function fM(e,n){const t=Vv(n);return Vv(e).forEach(i=>{Zd(t,i)||t.push(i)}),t}function hM(e,n){return Vv(n).filter(t=>!Zd(e,t))}class pM{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Fv(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Lv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class Kt extends pM{name;get formDirective(){return null}get path(){return null}}class Mi extends pM{_parent=null;name=null;valueAccessor=null}class gM{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Jt=(()=>{class e extends gM{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(T(Mi,2))};static \u0275dir=Y({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Xr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Ne]})}return e})();const Uc="VALID",Yd="INVALID",Hs="PENDING",Hc="DISABLED";class Gs{}class vM extends Gs{value;source;constructor(n,t){super(),this.value=n,this.source=t}}class $v extends Gs{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}}class zv extends Gs{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}}class Qd extends Gs{status;source;constructor(n,t){super(),this.status=n,this.source=t}}function Kd(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Gv{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return pt(this.statusReactive)}set status(n){pt(()=>this.statusReactive.set(n))}_status=Qr(()=>this.statusReactive());statusReactive=jn(void 0);get valid(){return this.status===Uc}get invalid(){return this.status===Yd}get pending(){return this.status==Hs}get disabled(){return this.status===Hc}get enabled(){return this.status!==Hc}errors;get pristine(){return pt(this.pristineReactive)}set pristine(n){pt(()=>this.pristineReactive.set(n))}_pristine=Qr(()=>this.pristineReactive());pristineReactive=jn(!0);get dirty(){return!this.pristine}get touched(){return pt(this.touchedReactive)}set touched(n){pt(()=>this.touchedReactive.set(n))}_touched=Qr(()=>this.touchedReactive());touchedReactive=jn(!1);get untouched(){return!this.touched}_events=new zt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(fM(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(fM(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(hM(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(hM(n,this._rawAsyncValidators))}hasValidator(n){return Zd(this._rawValidators,n)}hasAsyncValidator(n){return Zd(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){const t=!1===this.touched;this.touched=!0;const r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched({...n,sourceControl:r}),t&&!1!==n.emitEvent&&this._events.next(new zv(!0,r))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&!1!==n.emitEvent&&this._events.next(new zv(!1,r))}markAsDirty(n={}){const t=!0===this.pristine;this.pristine=!1;const r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty({...n,sourceControl:r}),t&&!1!==n.emitEvent&&this._events.next(new $v(!1,r))}markAsPristine(n={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&!1!==n.emitEvent&&this._events.next(new $v(!0,r))}markAsPending(n={}){this.status=Hs;const t=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new Qd(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending({...n,sourceControl:t})}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Hc,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue();const r=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new vM(this.value,r)),this._events.next(new Qd(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t},this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Uc,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uc||this.status===Hs)&&this._runAsyncValidator(r,n.emitEvent)}const t=n.sourceControl??this;!1!==n.emitEvent&&(this._events.next(new vM(this.value,t)),this._events.next(new Qd(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity({...n,sourceControl:t})}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hc:Uc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=Hs,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const r=rM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const n=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new Qd(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?Hc:this.errors?Yd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hs)?Hs:this._anyControlsHaveStatus(Yd)?Yd:Uc}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new $v(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new zv(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Kd(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function P5(e){return Array.isArray(e)?Fv(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function F5(e){return Array.isArray(e)?Lv(e):e||null}(this._rawAsyncValidators)}}const qs=new R("",{providedIn:"root",factory:()=>Jd}),Jd="always";function Gc(e,n,t=Jd){(function Wv(e,n){const t=function uM(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(lM(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function dM(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(lM(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();nf(n._rawValidators,i),nf(n._rawAsyncValidators,i)})(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function j5(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&_M(e,n)})}(e,n),function $5(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function B5(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&_M(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function V5(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function nf(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function _M(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function xM(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function EM(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const SM=class extends Gv{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(function Uv(e){return(Kd(e)?e.validators:e)||null}(t),function Hv(e,n){return(Kd(n)?n.asyncValidators:e)||null}(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=EM(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){xM(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){xM(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){EM(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},Q5={provide:Mi,useExisting:Be(()=>Vt)},MM=Promise.resolve();let Vt=(()=>{class e extends Mi{_changeDetectorRef;callSetDisabledState;control=new SM;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new et;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Yv(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===hn?t=o:function H5(e){return Object.getPrototypeOf(e.constructor)===_o}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Xv(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){MM.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&zs(r);MM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function ef(e,n){return[...n.path,e]}(t,this._parent):[t]}static \u0275fac=function(r){return new(r||e)(T(Kt,9),T(Lt,10),T(Si,10),T(Tr,10),T($s,8),T(qs,8))};static \u0275dir=Y({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Xe([Q5]),Ne,Jn]})}return e})();const J5={provide:Tr,useExisting:Be(()=>Qv),multi:!0};let Qv=(()=>{class e extends _o{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Et(e)))(i||e)}})();static \u0275dir=Y({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&H("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Xe([J5]),Ne]})}return e})();const eU={provide:Tr,useExisting:Be(()=>Kv),multi:!0};let tU=(()=>{class e{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kv=(()=>{class e extends _o{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=C(qs,{optional:!0})??Jd;constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(Mi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||e)(T(rr),T(Ft),T(tU),T(_t))};static \u0275dir=Y({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){1&r&&H("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Xe([eU]),Ne]})}return e})(),_U=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=$n({type:e});static \u0275inj=yn({})}return e})(),CU=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:qs,useValue:t.callSetDisabledState??Jd}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=$n({type:e});static \u0275inj=yn({imports:[_U]})}return e})();function jt(e,n,t=1/0){return He(n)?jt((r,i)=>we((o,s)=>n(r,o,i,s))(lr(e(r,i))),t):("number"==typeof n&&(t=n),Rt((r,i)=>function xU(e,n,t,r,i,o,s,a){const c=[];let u=0,h=0,p=!1;const m=()=>{p&&!c.length&&!u&&n.complete()},g=y=>u<r?v(y):c.push(y),v=y=>{o&&n.next(y),u++;let b=!1;lr(t(y,h++)).subscribe(yt(n,_=>{i?.(_),o?g(_):n.next(_)},()=>{b=!0},void 0,()=>{if(b)try{for(u--;c.length&&u<r;){const _=c.shift();s?ti(n,s,()=>v(_)):v(_)}m()}catch(_){n.error(_)}}))};return e.subscribe(yt(n,g,()=>{p=!0,m()})),()=>{a?.()}}(r,i,e,t)))}function Ws(e,n){return He(n)?jt(e,n,1):jt(e,1)}function Ar(e,n){return Rt((t,r)=>{let i=0;t.subscribe(yt(r,o=>e.call(n,o,i++)&&r.next(o)))})}function Zc(e){return Rt((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function ur(e,n){return Rt((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(yt(r,c=>{i?.unsubscribe();let u=0;const h=o++;lr(e(c,h)).subscribe(i=yt(r,p=>r.next(n?n(c,p,h,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function K(...e){return vt(e,zc(e))}class df{}class ff{}class dr{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof dr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new dr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof dr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=n.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}addHeaderEntry(n,t){const r=n.toLowerCase();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class EU{encodeKey(n){return GM(n)}encodeValue(n){return GM(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const MU=/%(\d[a-f0-9])/gi,TU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function GM(e){return encodeURIComponent(e).replace(MU,(n,t)=>TU[t]??n)}function hf(e){return`${e}`}class Ti{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new EU,n.fromString){if(n.fromObject)throw new E(2805,!1);this.map=function SU(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(hf):[hf(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Ti({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(hf(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(hf(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class AU{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function qM(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function WM(e){return typeof Blob<"u"&&e instanceof Blob}function ZM(e){return typeof FormData<"u"&&e instanceof FormData}const Xc="Content-Type",ny="X-Request-URL",XM="text/plain",YM="application/json",QM=`${YM}, ${XM}, */*`;class Yc{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(n,t,r,i){let o;if(this.url=t,this.method=n.toUpperCase(),function NU(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new dr,this.context??=new AU,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Ti,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||qM(this.body)||WM(this.body)||ZM(this.body)||function RU(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ti?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZM(this.body)?null:WM(this.body)?this.body.type||null:qM(this.body)?null:"string"==typeof this.body?XM:this.body instanceof Ti?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?YM:null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=n.transferCache??this.transferCache,s=void 0!==n.body?n.body:this.body,a=n.withCredentials??this.withCredentials,c=n.reportProgress??this.reportProgress;let u=n.headers||this.headers,h=n.params||this.params;const p=n.context??this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce((m,g)=>m.set(g,n.setHeaders[g]),u)),n.setParams&&(h=Object.keys(n.setParams).reduce((m,g)=>m.set(g,n.setParams[g]),h)),new Yc(t,r,s,{params:h,headers:u,context:p,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}}var Ai=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ai||{});class ry{headers;status;statusText;url;ok;type;constructor(n,t=200,r="OK"){this.headers=n.headers||new dr,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class gf extends ry{constructor(n={}){super(n)}type=Ai.ResponseHeader;clone(n={}){return new gf({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Qc extends ry{body;constructor(n={}){super(n),this.body=void 0!==n.body?n.body:null}type=Ai.Response;clone(n={}){return new Qc({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Zs extends ry{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function iy(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let JM=(()=>{class e{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Yc)o=t;else{let c,u;c=i.headers instanceof dr?i.headers:new dr(i.headers),i.params&&(u=i.params instanceof Ti?i.params:new Ti({fromObject:i.params})),o=new Yc(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const s=K(o).pipe(Ws(c=>this.handler.handle(c)));if(t instanceof Yc||"events"===i.observe)return s;const a=s.pipe(Ar(c=>c instanceof Qc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(we(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new E(2806,!1);return c.body}));case"blob":return a.pipe(we(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new E(2807,!1);return c.body}));case"text":return a.pipe(we(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new E(2808,!1);return c.body}));default:return a.pipe(we(c=>c.body))}case"response":return a;default:throw new E(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ti).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,iy(i,r))}post(t,r,i={}){return this.request("POST",t,iy(i,r))}put(t,r,i={}){return this.request("PUT",t,iy(i,r))}static \u0275fac=function(r){return new(r||e)(z(df))};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})();const t1=new R("");function n1(e,n){return n(e)}function VU(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const BU=new R(""),Kc=new R(""),$U=new R(""),r1=new R("",{providedIn:"root",factory:()=>!0});function zU(){let e=null;return(n,t)=>{null===e&&(e=(C(BU,{optional:!0})??[]).reduceRight(VU,n1));const r=C(Dr);if(C(r1)){const o=r.add();return e(n,t).pipe(Zc(()=>r.remove(o)))}return e(n,t)}}let i1=(()=>{class e extends df{backend;injector;chain=null;pendingTasks=C(Dr);contributeToStability=C(r1);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(Kc),...this.injector.get($U,[])]));this.chain=r.reduceRight((i,o)=>function jU(e,n,t){return(r,i)=>Fn(t,()=>n(r,o=>e(o,i)))}(i,o,this.injector),n1)}if(this.contributeToStability){const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Zc(()=>this.pendingTasks.remove(r)))}return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(z(ff),z(Ut))};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})();const qU=/^\)\]\}',?\n/,WU=RegExp(`^${ny}:`,"m");let s1=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new E(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?vt(r.\u0275loadImpl()):K(null)).pipe(ur(()=>new ut(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((y,b)=>s.setRequestHeader(y,b.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept",QM),!t.headers.has(Xc)){const y=t.detectContentTypeHeader();null!==y&&s.setRequestHeader(Xc,y)}if(t.responseType){const y=t.responseType.toLowerCase();s.responseType="json"!==y?y:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const y=s.statusText||"OK",b=new dr(s.getAllResponseHeaders()),_=function ZU(e){return"responseURL"in e&&e.responseURL?e.responseURL:WU.test(e.getAllResponseHeaders())?e.getResponseHeader(ny):null}(s)||t.url;return c=new gf({headers:b,status:s.status,statusText:y,url:_}),c},h=()=>{let{headers:y,status:b,statusText:_,url:D}=u(),M=null;204!==b&&(M=typeof s.response>"u"?s.responseText:s.response),0===b&&(b=M?200:0);let j=b>=200&&b<300;if("json"===t.responseType&&"string"==typeof M){const X=M;M=M.replace(qU,"");try{M=""!==M?JSON.parse(M):null}catch(Qe){M=X,j&&(j=!1,M={error:Qe,text:M})}}j?(o.next(new Qc({body:M,headers:y,status:b,statusText:_,url:D||void 0})),o.complete()):o.error(new Zs({error:M,headers:y,status:b,statusText:_,url:D||void 0}))},p=y=>{const{url:b}=u(),_=new Zs({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(_)};let m=!1;const g=y=>{m||(o.next(u()),m=!0);let b={type:Ai.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),"text"===t.responseType&&s.responseText&&(b.partialText=s.responseText),o.next(b)},v=y=>{let b={type:Ai.UploadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),o.next(b)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",g),null!==a&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:Ai.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",g),null!==a&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(z(ZE))};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})();const ay=new R(""),a1=new R("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),c1=new R("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class l1{}let QU=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=GE(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||e)(z(En),z(_u),z(a1))};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})();function KU(e,n){const t=e.url.toLowerCase();if(!C(ay)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=C(l1).getToken(),i=C(c1);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var Ni=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Ni||{});function JU(...e){const n=[JM,s1,i1,{provide:df,useExisting:i1},{provide:ff,useFactory:()=>C(t1,{optional:!0})??C(s1)},{provide:Kc,useValue:KU,multi:!0},{provide:ay,useValue:!0},{provide:l1,useClass:QU}];for(const t of e)n.push(...t.\u0275providers);return li(n)}const u1=new R("");function eH(){return function xo(e,n){return{\u0275kind:e,\u0275providers:n}}(Ni.LegacyInterceptors,[{provide:u1,useFactory:zU},{provide:Kc,useExisting:u1,multi:!0}])}let tH=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=$n({type:e});static \u0275inj=yn({providers:[JU(eH())]})}return e})();const nH=["*"],rH=e=>["nav-item",e];function iH(e,n){if(1&e){const t=sr();f(0,"span",7),H("click",function(i){Te(t);const o=Ie().$implicit,s=Ie();return i.preventDefault(),Ae(s.removeTab(o))}),l(1," \u274c"),d()}}function oH(e,n){if(1&e){const t=sr();f(0,"li",3),H("keydown",function(i){const o=Te(t).index;return Ae(Ie().keyNavActions(i,o))}),f(1,"a",4),H("click",function(){return Ae(Te(t).$implicit.active=!0)}),f(2,"span",5),l(3),d(),pe(4,iH,2,0,"span",6),d()()}if(2&e){const t=n.$implicit;Xr("active",t.active)("disabled",t.disabled),x("ngClass",ye(15,rH,t.customClass||"")),w(),Xr("active",t.active)("disabled",t.disabled),dn("aria-controls",t.id?t.id:"")("aria-selected",!!t.active)("id",t.id?t.id+"-link":""),w(),x("ngTransclude",t.headingRef),w(),$(t.heading),w(),x("ngIf",t.removable)}}let sH=(()=>{class e{constructor(t){this.viewRef=t}set ngTransclude(t){this._ngTransclude=t,t&&this.viewRef.createEmbeddedView(t)}get ngTransclude(){return this._ngTransclude}}return e.\u0275fac=function(t){return new(t||e)(T(Cn))},e.\u0275dir=Y({type:e,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"},standalone:!1}),e})(),aH=(()=>{class e{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),cy=(()=>{class e{constructor(t,r,i){this.renderer=r,this.elementRef=i,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,t)}get vertical(){return this._vertical}set vertical(t){this._vertical=t,this.setClassMap()}get justified(){return this._justified}set justified(t){this._justified=t,this.setClassMap()}get type(){return this._type}set type(t){this._type=t,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(t){this._isKeysAllowed=t}ngOnDestroy(){this.isDestroyed=!0}addTab(t){this.tabs.push(t),t.active=1===this.tabs.length&&!t.active}removeTab(t,r={reselect:!0,emit:!0}){const i=this.tabs.indexOf(t);if(-1!==i&&!this.isDestroyed){if(r.reselect&&t.active&&this.hasAvailableTabs(i)){const o=this.getClosestTabIndex(i);this.tabs[o].active=!0}r.emit&&t.removed.emit(t),this.tabs.splice(i,1),t.elementRef.nativeElement.parentNode&&this.renderer.removeChild(t.elementRef.nativeElement.parentNode,t.elementRef.nativeElement)}}keyNavActions(t,r){if(!this.isKeysAllowed)return;const i=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===t.keyCode||"Enter"===t.key||32===t.keyCode||"Space"===t.key)return t.preventDefault(),void i[r%i.length].click();if(39!==t.keyCode&&"RightArrow"!==t.key)if(37!==t.keyCode&&"LeftArrow"!==t.key)if(36!==t.keyCode&&"Home"!==t.key)if(35!==t.keyCode&&"End"!==t.key){if((46===t.keyCode||"Delete"===t.key)&&this.tabs[r].removable){if(this.removeTab(this.tabs[r]),i[r+1])return void i[(r+1)%i.length].focus();i[i.length-1]&&i[0].focus()}}else{t.preventDefault();let o,s=1,a=r;do{a-s<0?(a=i.length-1,o=i[a],s=0):o=i[a-s],s++}while(o.classList.contains("disabled"));o.focus()}else{t.preventDefault();let o,s=0;do{o=i[s%i.length],s++}while(o.classList.contains("disabled"));o.focus()}else{let o,s=1,a=r;do{a-s<0?(a=i.length-1,o=i[a],s=0):o=i[a-s],s++}while(o.classList.contains("disabled"));o.focus()}else{let o,s=1;do{o=i[(r+s)%i.length],s++}while(o.classList.contains("disabled"));o.focus()}}getClosestTabIndex(t){const r=this.tabs.length;if(!r)return-1;for(let i=1;i<=r;i+=1){const o=t-i,s=t+i;if(this.tabs[o]&&!this.tabs[o].disabled)return o;if(this.tabs[s]&&!this.tabs[s].disabled)return s}return-1}hasAvailableTabs(t){const r=this.tabs.length;if(!r)return!1;for(let i=0;i<r;i+=1)if(!this.tabs[i].disabled&&i!==t)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}}return e.\u0275fac=function(t){return new(t||e)(T(aH),T(rr),T(Ft))},e.\u0275cmp=V({type:e,selectors:[["tabset"]],hostVars:2,hostBindings:function(t,r){2&t&&Xr("tab-container",r.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},standalone:!1,ngContentSelectors:nH,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"click","ngClass"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"keydown","ngClass"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(t,r){1&t&&(Dd(),f(0,"ul",0),H("click",function(o){return o.preventDefault()}),pe(1,oH,5,17,"li",1),d(),f(2,"div",2),Nc(3),d()),2&t&&(x("ngClass",r.classMap),dn("aria-label",r.ariaLabel),w(),x("ngForOf",r.tabs))},dependencies:[iS,Gd,ei,sH],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),e})(),d1=(()=>{class e{constructor(t,r,i){this.elementRef=r,this.renderer=i,this.disabled=!1,this.removable=!1,this.selectTab=new et,this.deselect=new et,this.removed=new et,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=t,this.tabset.addTab(this)}get customClass(){return this._customClass}set customClass(t){this.customClass&&this.customClass.split(" ").forEach(r=>{this.renderer.removeClass(this.elementRef.nativeElement,r)}),this._customClass=t?t.trim():"",this.customClass&&this.customClass.split(" ").forEach(r=>{this.renderer.addClass(this.elementRef.nativeElement,r)})}get active(){return this._active}set active(t){if(this._active!==t){if(this.disabled&&t||!t)return void(this._active&&!t&&(this.deselect.emit(this),this._active=t));this._active=t,this.selectTab.emit(this),this.tabset.tabs.forEach(r=>{r!==this&&(r.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}return e.\u0275fac=function(t){return new(t||e)(T(cy),T(Ft),T(rr))},e.\u0275dir=Y({type:e,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(t,r){2&t&&(dn("id",r.id)("role",r.role)("aria-labelledby",r.ariaLabelledby),Xr("active",r.active)("tab-pane",r.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"],standalone:!1}),e})(),cH=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=$n({type:e}),e.\u0275inj=yn({imports:[uS]}),e})();var ly=function(e,n){return(ly=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(e,n)};function Ue(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function t(){this.constructor=e}ly(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}var Mt=function(){return Mt=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},Mt.apply(this,arguments)};function Jc(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function de(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var i,s,r=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function fe(e,n,t){if(t||2===arguments.length)for(var o,r=0,i=n.length;r<i;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}"function"==typeof SuppressedError&&SuppressedError;var rl,Ri,Bt,An,il,my,Js,ea,ol,wf,ki,sl,bf,Oi,pn,gn,Df,en=function(){function e(n,t){this.id=0,void 0!==n&&(this.value=n,this.initialValue=n),this.options=t||{},this.subscriptions=new Map}return e.prototype.set=function(n){var t,r;if(this.value!==n||this.options.emitEqual){this.value=n;try{for(var i=Jc(this.subscriptions),o=i.next();!o.done&&(de(o.value,2)[1].emit(n),this.value===n);o=i.next());}catch(c){t={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}}},e.prototype.get=function(){return this.value},e.prototype.on=function(n){var t=this,r=this.id++,i={emit:n,off:function(){i.emit=function(){return null},t.subscriptions.delete(r)}};return this.subscriptions.set(r,i),this.options.emitOnSubscribe&&i.emit(this.value),function(){return i.off()}},e.prototype.once=function(n){var t=this.on(function(r){t(),n(r)});return t},e.prototype.reset=function(){this.set(this.initialValue)},e.prototype.dispose=function(){this.subscriptions.forEach(function(n){return n.off()})},e}(),Pe=function(e){return e.id="id",e.mock="mock",e.augmented="augmented",e.version="version",e.init="init",e.init$="init$",e.packageInfo="packageInfo",e.itemsCount="itemsCount",e.bufferInfo="bufferInfo",e.isLoading="isLoading",e.isLoading$="isLoading$",e.loopPending="loopPending",e.loopPending$="loopPending$",e.firstVisible="firstVisible",e.firstVisible$="firstVisible$",e.lastVisible="lastVisible",e.lastVisible$="lastVisible$",e.bof="bof",e.bof$="bof$",e.eof="eof",e.eof$="eof$",e.paused="paused",e.paused$="paused$",e.reset="reset",e.reload="reload",e.append="append",e.prepend="prepend",e.check="check",e.remove="remove",e.clip="clip",e.insert="insert",e.replace="replace",e.update="update",e.pause="pause",e.resume="resume",e.fix="fix",e.relax="relax",e.showLog="showLog",e}(Pe||{}),Mn=function(e){return e[e.Scalar=0]="Scalar",e[e.Reactive=1]="Reactive",e[e.WorkflowRunner=2]="WorkflowRunner",e[e.Function=3]="Function",e}(Mn||{}),ne=Pe,he=Mn,f1=function(){return null},fy={immediate:!0,success:!0,details:"Adapter is not initialized"},FH={immediate:!0,success:!0,details:"Scroller is paused"},Tn=function(){return Promise.resolve(fy)},LH={core:{name:"",version:""},consumer:{name:"",version:""}},VH={firstIndex:NaN,lastIndex:NaN,minIndex:NaN,maxIndex:NaN,absMinIndex:-1/0,absMaxIndex:1/0,defaultSize:NaN},Xs={data:{},element:{}},hy=function(){return[{type:he.Scalar,name:ne.id,value:0,permanent:!0},{type:he.Scalar,name:ne.mock,value:!0,permanent:!0},{type:he.Scalar,name:ne.augmented,value:!1,permanent:!0},{type:he.Scalar,name:ne.version,value:"",permanent:!0},{type:he.Scalar,name:ne.init,value:!1,reactive:ne.init$},{type:he.Scalar,name:ne.packageInfo,value:LH,onDemand:!0},{type:he.Scalar,name:ne.itemsCount,value:0,onDemand:!0},{type:he.Scalar,name:ne.bufferInfo,value:VH,onDemand:!0},{type:he.Scalar,name:ne.isLoading,value:!1,reactive:ne.isLoading$},{type:he.Scalar,name:ne.loopPending,value:!1,reactive:ne.loopPending$},{type:he.Scalar,name:ne.firstVisible,value:Xs,reactive:ne.firstVisible$,wanted:!0},{type:he.Scalar,name:ne.lastVisible,value:Xs,reactive:ne.lastVisible$,wanted:!0},{type:he.Scalar,name:ne.bof,value:!1,reactive:ne.bof$},{type:he.Scalar,name:ne.eof,value:!1,reactive:ne.eof$},{type:he.Scalar,name:ne.paused,value:!1,reactive:ne.paused$},{type:he.WorkflowRunner,name:ne.reset,value:Tn,allowedWhenPaused:!0},{type:he.WorkflowRunner,name:ne.reload,value:Tn},{type:he.WorkflowRunner,name:ne.append,value:Tn},{type:he.WorkflowRunner,name:ne.prepend,value:Tn},{type:he.WorkflowRunner,name:ne.check,value:Tn},{type:he.WorkflowRunner,name:ne.remove,value:Tn},{type:he.WorkflowRunner,name:ne.clip,value:Tn},{type:he.WorkflowRunner,name:ne.insert,value:Tn},{type:he.WorkflowRunner,name:ne.replace,value:Tn},{type:he.WorkflowRunner,name:ne.update,value:Tn},{type:he.WorkflowRunner,name:ne.pause,value:Tn},{type:he.WorkflowRunner,name:ne.resume,value:Tn,allowedWhenPaused:!0},{type:he.WorkflowRunner,name:ne.fix,value:Tn},{type:he.Function,name:ne.relax,value:f1},{type:he.Function,name:ne.showLog,value:f1},{type:he.Reactive,name:ne.init$,value:new en},{type:he.Reactive,name:ne.isLoading$,value:new en},{type:he.Reactive,name:ne.loopPending$,value:new en},{type:he.Reactive,name:ne.firstVisible$,value:new en(Xs,{emitOnSubscribe:!0}),wanted:!0},{type:he.Reactive,name:ne.lastVisible$,value:new en(Xs,{emitOnSubscribe:!0}),wanted:!0},{type:he.Reactive,name:ne.bof$,value:new en},{type:he.Reactive,name:ne.eof$,value:new en},{type:he.Reactive,name:ne.paused$,value:new en}]},mf=new Map,h1={name:"vscroll",version:"1.6.3"},tl_setBox=function(e,n){var t=e.name,r=e.wanted,i=nl.get(n||-1);if(r&&i&&!i.box[t]&&!i.block){var o=Pe.firstVisible,s=Pe.firstVisible$,a=Pe.lastVisible,c=Pe.lastVisible$;return i.box[o]=i.box[s]=[o,s].some(function(u){return u===t})||i.box[o],i.box[a]=i.box[c]=[a,c].some(function(u){return u===t})||i.box[a],!0}return!1},tl_setBlock=function(e,n){var t=nl.get(n||-1);t&&(t.block=e)},nl=new Map,zH=0,UH=function(){return function e(n){var t=this,r=n.mock,i=n.reactive,o=++zH,s={configurable:!0},a={};nl.set(o,{box:{},block:!1}),Object.defineProperty(this,Pe.id,Mt({get:function(){return o}},s)),Object.defineProperty(this,Pe.mock,Mt({get:function(){return r}},s)),Object.defineProperty(this,Pe.augmented,Mt({get:function(){return!1}},s)),Object.defineProperty(this,Pe.version,Mt({get:function(){return h1.version}},s)),hy().filter(function(c){return!c.permanent}).forEach(function(c){var u=c.value;if(i&&c.type===Mn.Reactive){var h=i[c.name];h&&(a[c.name]=Mt(Mt({},h),{default:u}),u=h.source)}Object.defineProperty(t,c.name,Mt({get:function(){return tl_setBox(c,o),u}},s))}),i&&mf.set(o,a)}}(),p1=function(){function e(n,t){this.get=n.get,this.settings=n.settings,this.devSettings=n.devSettings;var r=new UH(t||{mock:!1});this.adapter=r}return e.prototype.dispose=function(){mf.delete(this.adapter.id),nl.delete(this.adapter.id)},e}(),py=function(e){return function(n){function t(r){var i="function"==typeof e?e():void 0;return n.call(this,r,i)||this}return Ue(t,n),t}(p1)},HH=py(),J=function(e){return e.forward="forward",e.backward="backward",e}(J||{}),qn=function(e){return e.Average="average",e.Constant="constant",e.Frequent="frequent",e}(qn||{}),ge=function(e){return e.number="must be a number",e.integer="must be an integer",e.integerUnlimited="must be an integer or infinity",e.moreOrEqual="must be a number greater than (or equal to) {arg1}",e.itemList="must be an array of items {arg1}",e.boolean="must be a boolean",e.object="must be an object",e.element="must be an html element",e.function="must be a function",e.funcOfxArguments="must have {arg1} argument(s)",e.funcOfxAndMoreArguments="must have at least {arg1} argument(s)",e.funcOfXToYArguments="must have {arg1} to {arg2} arguments",e.oneOfCan="can be present as only one item of {arg1} list",e.oneOfMust="must be present as only one item of {arg1} list",e.or="must satisfy at least 1 validator from {arg1} list",e.enum="must belong to {arg1} list",e}(ge||{}),fr=function(e,n){return(n||[""]).reduce(function(t,r,i){return t.replace("{arg".concat(i+1,"}"),r)},e)},gy=function(e){return"number"==typeof e||"string"==typeof e&&""!==e?Number(e):NaN},g1=function(e){var n=gy(e),t=[];return Number.isNaN(n)&&t.push(ge.number),{value:n,isSet:!0,isValid:!t.length,errors:t}},WH=function(e,n){return function(t){var r=g1(t);if(!r.isValid)return r;var i=r.value,o=[];return i<e&&(n?i=e:o.push(fr(ge.moreOrEqual,[String(e)]))),{value:i,isSet:!0,isValid:!o.length,errors:o}}},vf=function(e){var n=[];return"function"!=typeof e&&n.push(ge.function),{value:e,isSet:!0,isValid:!n.length,errors:n}},KH=function(e){return function(n){var t=vf(n);if(!t.isValid)return t;var r=[];return(n=t.value).length!==e&&r.push(fr(ge.funcOfxArguments,[String(e)])),{value:n,isSet:!0,isValid:!r.length,errors:r}}},JH=function(e){return function(n){var t=vf(n);if(!t.isValid)return t;var r=[];return(n=t.value).length<e&&r.push(fr(ge.funcOfxArguments,[String(e)])),{value:n,isSet:!0,isValid:!r.length,errors:r}}},e8=function(e,n){return function(t){var r=vf(t);if(!r.isValid)return r;var i=[];return((t=r.value).length<e||t.length>n)&&i.push(fr(ge.funcOfXToYArguments,[String(e),String(n)])),{value:t,isSet:!0,isValid:!i.length,errors:i}}},m1=function(e,n){return function(t,r){var i=[],o=void 0!==t,s=!o,a=n?ge.oneOfMust:ge.oneOfCan;if(Array.isArray(e)&&e.length){for(var c=e.length-1;c>=0;c--){var u=e[c];if("string"!=typeof u){i.push(fr(a,[e.join('", "')])+" (non-string token)");break}var h=r&&Object.prototype.hasOwnProperty.call(r,u);if(o&&h){i.push(fr(a,[e.join('", "')])+" (".concat(u," is present)"));break}s&&h&&(s=!1)}n&&s&&i.push(fr(a,[e.join('", "')]))}else i.push(fr(a,["undefined"]));return{value:t,isSet:o,isValid:!i.length,errors:i}}},t8=function(e){return function(n){var t=[];return e.every(function(r){return!r.method(n).isValid})&&t.push(e.map(function(r){return r.type}).join(" OR ")),{value:n,isSet:!0,isValid:!t.length,errors:t}}},n8=function(e){return function(n){var t=[],r=Object.keys(e).filter(function(i){return isNaN(Number(i))}).map(function(i){return e[i]});return r.some(function(i){return i===n})||t.push(fr(ge.enum,["["+r.join(",")+"]"])),{value:n,isSet:!0,isValid:!t.length,errors:t}}},Ve={NUMBER:{type:ge.number,method:g1},INTEGER:{type:ge.integer,method:function(e){var n=[];e=gy(e);var t=parseInt(String(e),10);return e!==t&&n.push(ge.integer),{value:t,isSet:!0,isValid:!n.length,errors:n}}},INTEGER_UNLIMITED:{type:ge.integerUnlimited,method:function(e){var n,t=[];return(e=gy(e))!==(n=Number.isFinite(e)?parseInt(String(e),10):e)&&t.push(ge.integerUnlimited),{value:n,isSet:!0,isValid:!t.length,errors:t}}},MORE_OR_EQUAL:function(e,n){return{type:ge.moreOrEqual,method:WH(e,n)}},BOOLEAN:{type:ge.boolean,method:function(e){var n=[],t=e;return"true"===e?t=!0:"false"===e&&(t=!1),"boolean"!=typeof t&&n.push(ge.boolean),{value:t,isSet:!0,isValid:!n.length,errors:n}}},OBJECT:{type:ge.object,method:function(e){var n=[];return(!e||"[object Object]"!==Object.prototype.toString.call(e))&&n.push(ge.object),{value:e,isSet:!0,isValid:!n.length,errors:n}}},ITEM_LIST:{type:ge.itemList,method:function(e){var n=e,t=[];if(Array.isArray(e))if(e.length){if(e.length>1)for(var r=typeof e[0],i=e.length-1;i>=0;i--)if(typeof e[i]!==r){t.push(fr(ge.itemList,["of items of the same type"]));break}}else t.push(fr(ge.itemList,["with at least 1 item"]));else t.push(ge.itemList),n=[];return{value:n,isSet:!0,isValid:!t.length,errors:t}}},ELEMENT:{type:ge.element,method:function(e){var n=[];return!(e instanceof Element)&&!(e instanceof Document)&&n.push(ge.element),{value:e,isSet:!0,isValid:!n.length,errors:n}}},FUNC:{type:ge.function,method:vf},FUNC_WITH_X_ARGUMENTS:function(e){return{type:ge.funcOfxArguments,method:KH(e)}},FUNC_WITH_X_AND_MORE_ARGUMENTS:function(e){return{type:ge.funcOfxAndMoreArguments,method:JH(e)}},FUNC_WITH_X_TO_Y_ARGUMENTS:function(e,n){return{type:ge.funcOfXToYArguments,method:e8(e,n)}},ONE_OF_CAN:function(e){return{type:ge.oneOfCan,method:m1(e,!1)}},ONE_OF_MUST:function(e){return{type:ge.oneOfMust,method:m1(e,!0)}},OR:function(e){return{type:ge.or,method:t8(e)}},ENUM:function(e){return{type:ge.enum,method:n8(e)}}},r8=function(){function e(n){this.params={},this.contextErrors=[],this.errors=[],this.isValid=!0,this.setContext(n)}return e.prototype.setContext=function(n){n&&"[object Object]"===Object.prototype.toString.call(n)?this.isValidContext=!0:(this.setCommonError("context is not an object"),this.isValidContext=!1),this.context=n},e.prototype.setValidity=function(){var n=this;this.errors=Object.keys(this.params).reduce(function(t,r){return fe(fe([],de(t),!1),de(n.params[r].errors),!1)},[]),this.isValid=!this.errors.length},e.prototype.setCommonError=function(n){this.contextErrors.push(n),this.errors.push(n),this.isValid=!1},e.prototype.setParam=function(n,t){t.isValid||(t.errors=t.isSet?t.errors.map(function(r){return'"'.concat(n,'" ').concat(r)}):['"'.concat(n,'" must be set')]),this.params[n]=t,this.setValidity()},e.prototype.showErrors=function(){return this.errors.length?"validation failed: "+this.errors.join(", "):""},e}(),v1=function(e,n,t){var i=e.errors,o=n.method(e.value,t),s=fe(fe([],de(i),!1),de(o.errors),!1);return{value:o.value,isSet:o.isSet,isValid:!s.length,errors:s}},y1=function(e,n){var t=void 0===e,r=!n.mandatory&&void 0!==n.defaultValue;return{value:t?r?n.defaultValue:void 0:e,isSet:!t||r,isValid:!t||!n.mandatory,errors:[]}},w1=function(e,n,t){var r,i,o=y1(e[n],t);if(o.isSet)try{for(var a=Jc(Object.values(t.validators)),c=a.next();!c.done;c=a.next()){var h=v1(o,c.value,e);if(!h.isValid&&void 0!==t.defaultValue)return{value:t.defaultValue,isSet:!0,isValid:!0,errors:[]};Object.assign(o,h)}}catch(p){r={error:p}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}else{var s=t.validators.find(function(p){return p.type===ge.oneOfMust});if(s)return v1(o,s,e)}return o},yf=function(e,n){var t=new r8(e);return Object.entries(n).forEach(function(r){var i=de(r,2),o=i[0],s=i[1];return t.setParam(o,t.isValidContext?w1(t.context,o,s):y1(void 0,s))}),t},b1=Ve.OBJECT,i8=Ve.FUNC_WITH_X_AND_MORE_ARGUMENTS,ni=function(e){return e.get="get",e.settings="settings",e.devSettings="devSettings",e}(ni||{}),o8=((rl={})[ni.get]={validators:[i8(2)],mandatory:!0},rl[ni.settings]={validators:[b1]},rl[ni.devSettings]={validators:[b1]},rl),s8=Ve.NUMBER,Ys=Ve.INTEGER,D1=Ve.INTEGER_UNLIMITED,Qs=Ve.MORE_OR_EQUAL,Wn=Ve.BOOLEAN,a8=Ve.ELEMENT,_1=Ve.FUNC,c8=Ve.OR,I1=Ve.ENUM,ft=function(e){return e.adapter="adapter",e.startIndex="startIndex",e.minIndex="minIndex",e.maxIndex="maxIndex",e.itemSize="itemSize",e.bufferSize="bufferSize",e.padding="padding",e.infinite="infinite",e.horizontal="horizontal",e.windowViewport="windowViewport",e.viewportElement="viewportElement",e.inverse="inverse",e.onBeforeClip="onBeforeClip",e.sizeStrategy="sizeStrategy",e}(ft||{}),Tt=function(e){return e.debug="debug",e.immediateLog="immediateLog",e.logProcessRun="logProcessRun",e.logTime="logTime",e.throttle="throttle",e.initDelay="initDelay",e.initWindowDelay="initWindowDelay",e.cacheData="cacheData",e.cacheOnReload="cacheOnReload",e.dismissOverflowAnchor="dismissOverflowAnchor",e.directionPriority="directionPriority",e}(Tt||{}),Ks=((Ri={})[ft.itemSize]=1,Ri[ft.bufferSize]=1,Ri[ft.padding]=.01,Ri[Tt.throttle]=0,Ri[Tt.initDelay]=0,Ri[Tt.initWindowDelay]=0,Ri),l8=((Bt={})[ft.adapter]={validators:[Wn],defaultValue:!1},Bt[ft.startIndex]={validators:[Ys],defaultValue:1},Bt[ft.minIndex]={validators:[D1],defaultValue:-1/0},Bt[ft.maxIndex]={validators:[D1],defaultValue:1/0},Bt[ft.itemSize]={validators:[Ys,Qs(Ks[ft.itemSize],!0)],defaultValue:NaN},Bt[ft.bufferSize]={validators:[Ys,Qs(Ks[ft.bufferSize],!0)],defaultValue:5},Bt[ft.padding]={validators:[s8,Qs(Ks[ft.padding],!0)],defaultValue:.5},Bt[ft.infinite]={validators:[Wn],defaultValue:!1},Bt[ft.horizontal]={validators:[Wn],defaultValue:!1},Bt[ft.windowViewport]={validators:[Wn],defaultValue:!1},Bt[ft.viewportElement]={validators:[c8([a8,_1])],defaultValue:null},Bt[ft.inverse]={validators:[Wn],defaultValue:!1},Bt[ft.onBeforeClip]={validators:[_1],defaultValue:null},Bt[ft.sizeStrategy]={validators:[I1(qn)],defaultValue:qn.Average},Bt),u8=((An={})[Tt.debug]={validators:[Wn],defaultValue:!1},An[Tt.immediateLog]={validators:[Wn],defaultValue:!0},An[Tt.logProcessRun]={validators:[Wn],defaultValue:!1},An[Tt.logTime]={validators:[Wn],defaultValue:!1},An[Tt.throttle]={validators:[Ys,Qs(Ks[Tt.throttle],!0)],defaultValue:40},An[Tt.initDelay]={validators:[Ys,Qs(Ks[Tt.initDelay],!0)],defaultValue:1},An[Tt.initWindowDelay]={validators:[Ys,Qs(Ks[Tt.initWindowDelay],!0)],defaultValue:40},An[Tt.cacheData]={validators:[Wn],defaultValue:!1},An[Tt.cacheOnReload]={validators:[Wn],defaultValue:!1},An[Tt.dismissOverflowAnchor]={validators:[Wn],defaultValue:!0},An[Tt.directionPriority]={validators:[I1(J)],defaultValue:J.backward},An),Re=function(e){return e.init="init",e.scroll="scroll",e.start="start",e.preFetch="preFetch",e.fetch="fetch",e.postFetch="postFetch",e.render="render",e.preClip="preClip",e.clip="clip",e.adjust="adjust",e.end="end",e}(Re||{}),k=function(e){return e.reset="adapter.reset",e.reload="adapter.reload",e.append="adapter.append",e.prepend="adapter.prepend",e.check="adapter.check",e.remove="adapter.remove",e.replace="adapter.replace",e.update="adapter.update",e.clip="adapter.clip",e.insert="adapter.insert",e.pause="adapter.pause",e.fix="adapter.fix",e}(k||{}),N=function(e){return e.start="start",e.next="next",e.done="done",e.error="error",e}(N||{}),vy=Ve.INTEGER,yy=Ve.INTEGER_UNLIMITED,Nn=Ve.BOOLEAN,wy=Ve.OBJECT,al=Ve.ITEM_LIST,ta=Ve.FUNC_WITH_X_ARGUMENTS,f8=Ve.FUNC_WITH_X_TO_Y_ARGUMENTS,na=Ve.ONE_OF_MUST,ra=Ve.ONE_OF_CAN,h8=Ve.OR;Df||(Df={});var Mo,C1={},p8=((il={})[ni.get]={validators:[(0,Ve.FUNC_WITH_X_AND_MORE_ARGUMENTS)(2)]},il[ni.settings]={validators:[wy]},il[ni.devSettings]={validators:[wy]},il),by=function(e){return e.reloadIndex="reloadIndex",e}(by||{}),g8=((my={})[by.reloadIndex]={validators:[vy]},my),ri=function(e){return e.items="items",e.bof="bof",e.increase="increase",e.virtualize="virtualize",e}(ri||{}),m8=((Js={})[ri.items]={validators:[al],mandatory:!0},Js[ri.bof]={validators:[Nn,ra([ri.virtualize])],defaultValue:!1},Js[ri.increase]={validators:[Nn],defaultValue:!1},Js[ri.virtualize]={validators:[Nn,ra([ri.bof])],defaultValue:!1},Js),Eo=function(e){return e.items="items",e.eof="eof",e.decrease="decrease",e.virtualize="virtualize",e}(Eo||{}),v8=((ea={})[Eo.items]={validators:[al],mandatory:!0},ea[Eo.eof]={validators:[Nn,ra([Eo.virtualize])],defaultValue:!1},ea[Eo.decrease]={validators:[Nn],defaultValue:!1},ea[ri.virtualize]={validators:[Nn,ra([Eo.eof])],defaultValue:!1},ea),So=function(e){return e.predicate="predicate",e.indexes="indexes",e.increase="increase",e}(So||{}),y8=((ol={})[So.predicate]={validators:[ta(1),na([So.indexes])]},ol[So.indexes]={validators:[al,na([So.predicate])]},ol[So.increase]={validators:[Nn],defaultValue:!1},ol),ia=function(e){return e.backwardOnly="backwardOnly",e.forwardOnly="forwardOnly",e}(ia||{}),w8=((wf={})[ia.backwardOnly]={validators:[Nn,ra([ia.forwardOnly])],defaultValue:!1},wf[ia.forwardOnly]={validators:[Nn,ra([ia.backwardOnly])],defaultValue:!1},wf),ht=function(e){return e.items="items",e.before="before",e.after="after",e.beforeIndex="beforeIndex",e.afterIndex="afterIndex",e.decrease="decrease",e}(ht||{}),b8=((ki={})[ht.items]={validators:[al],mandatory:!0},ki[ht.before]={validators:[ta(1),na([ht.after,ht.beforeIndex,ht.afterIndex])]},ki[ht.after]={validators:[ta(1),na([ht.before,ht.beforeIndex,ht.afterIndex])]},ki[ht.beforeIndex]={validators:[vy,na([ht.before,ht.after,ht.afterIndex])]},ki[ht.afterIndex]={validators:[vy,na([ht.before,ht.after,ht.beforeIndex])]},ki[ht.decrease]={validators:[Nn],defaultValue:!1},ki),_f=function(e){return e.items="items",e.predicate="predicate",e.fixRight="fixRight",e}(_f||{}),D8=((sl={})[ht.items]={validators:[al],mandatory:!0},sl[_f.predicate]={validators:[ta(1)],mandatory:!0},sl[_f.fixRight]={validators:[Nn],defaultValue:!1},sl),If=function(e){return e.predicate="predicate",e.fixRight="fixRight",e}(If||{}),_8=((bf={})[If.predicate]={validators:[ta(1)],mandatory:!0},bf[If.fixRight]={validators:[Nn],defaultValue:!1},bf),Pi=function(e){return e.scrollPosition="scrollPosition",e.minIndex="minIndex",e.maxIndex="maxIndex",e.updater="updater",e.scrollToItem="scrollToItem",e.scrollToItemOpt="scrollToItemOpt",e}(Pi||{}),I8=((Oi={})[Pi.scrollPosition]={validators:[yy]},Oi[Pi.minIndex]={validators:[yy]},Oi[Pi.maxIndex]={validators:[yy]},Oi[Pi.updater]={validators:[f8(1,2)]},Oi[Pi.scrollToItem]={validators:[ta(1)]},Oi[Pi.scrollToItemOpt]={validators:[h8([Nn,wy])]},Oi),C8=((pn={})[k.reset]=ni,pn[k.reload]=by,pn[k.prepend]=ri,pn[k.append]=Eo,pn[k.check]=Df,pn[k.remove]=So,pn[k.clip]=ia,pn[k.insert]=ht,pn[k.replace]=_f,pn[k.update]=If,pn[k.pause]=Df,pn[k.fix]=Pi,pn),x8=((gn={})[k.reset]=p8,gn[k.reload]=g8,gn[k.prepend]=m8,gn[k.append]=v8,gn[k.check]=C1,gn[k.remove]=y8,gn[k.clip]=w8,gn[k.insert]=b8,gn[k.replace]=D8,gn[k.update]=_8,gn[k.pause]=C1,gn[k.fix]=I8,gn),E8=Ve.ELEMENT,x1=Ve.OBJECT,S8=Ve.FUNC,M8=Ve.FUNC_WITH_X_ARGUMENTS,oa=function(e){return e.consumer="consumer",e.element="element",e.datasource="datasource",e.run="run",e.Routines="Routines",e}(oa||{}),T8=((Mo={})[oa.consumer]={validators:[x1]},Mo[oa.element]={validators:[E8],mandatory:!0},Mo[oa.datasource]={validators:[x1],mandatory:!0},Mo[oa.run]={validators:[M8(1)],mandatory:!0},Mo[oa.Routines]={validators:[S8]},Mo),A8=function(){function e(n,t,r){this.parseInput(n,l8),this.parseInput(t,u8),this.instanceIndex=r,this.initializeDelay=this.getInitializeDelay(),this.viewport=this.getViewport()}return e.prototype.parseInput=function(n,t){var r=this,i=yf(n,t);if(!i.isValid)throw new Error("Invalid settings");Object.entries(i.params).forEach(function(o){var s,a=de(o,2);return Object.assign(r,((s={})[a[0]]=a[1].value,s))})},e.prototype.getInitializeDelay=function(){var n=0;return this.windowViewport&&this.initWindowDelay&&!("scrollRestoration"in history)&&(n=this.initWindowDelay),this.initDelay>0&&(n=Math.max(n,this.initDelay)),n},e.prototype.getViewport=function(){if("function"!=typeof this.viewportElement)return this.viewportElement;var n=this.viewportElement(),t=w1({value:n},"value",{validators:[Ve.ELEMENT]});return t.isValid?t.value:null},e}(),Zn=function(e){var n;return(n=function(){return function t(){}}()).process=e,n},hr=function(e){var n;return n=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return Ue(r,t),r.parseInput=function(i,o,s,a){void 0===s&&(s=!1);var c={data:yf(o,x8[a||e])};return c.data.isValid?c.params=Object.entries(c.data.params).reduce(function(u,h){var p,m=de(h,2),g=m[0],v=m[1].value;return Mt(Mt({},u),((p={})[g]=v,p))},{}):(i.logger.log(function(){return c.data.showErrors()}),s||i.workflow.call({process:e,status:N.error,payload:{error:'Wrong argument of the "'.concat(e,'" method call')}})),c},r}(Zn(e)),n.process=e,n},N8=[Re.init,k.reset,k.reload],Rn=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){var i=t.state,o=t.workflow,s=N8.includes(r);t.logger.logCycle(!0),i.startWorkflowCycle(s,r),o.call({process:n.process,status:N.next})},n}(Zn(Re.init)),R8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){var i=t.workflow,s=t.viewport.scrollPosition;n.onSynthetic(t,s)||n.onThrottle(t,s,function(){return n.onScroll(t,i)})},n.onSynthetic=function(t,r){var i=t.state.scroll,o=i.syntheticPosition;if(null!==o){if(i.syntheticFulfill&&(i.syntheticPosition=null),!i.syntheticFulfill||o===r)return t.logger.log(function(){return["skipping scroll",r,"[".concat(i.syntheticFulfill?"":"pre-","synthetic]")]}),!0;t.logger.log(function(){return["synthetic scroll has been fulfilled:",r,r<o?"<":">",o]})}return!1},n.onThrottle=function(t,r,i){var o=t.state.scroll,s=t.settings.throttle,a=t.logger;o.current=n.getScrollEvent(r,o.previous);var c=o.current,u=c.direction,h=c.time,p=o.previous?h-o.previous.time:1/0,m=s-p,g=isFinite(m)&&m>0,v=!!o.scrollTimer;if(a.log(function(){return[u===J.backward?"\u2934":"\u2935",r,g?p+"ms":"0ms",g?v?"delayed":"/ ".concat(m,"ms delay"):""]}),!g)return o.scrollTimer&&(clearTimeout(o.scrollTimer),o.scrollTimer=null),void i();v||(o.scrollTimer=setTimeout(function(){a.log(function(){var y=n.getScrollEvent(t.viewport.scrollPosition,o.current);return[y.direction===J.backward?"\u2934":"\u2935",y.position,y.time-h+"ms","triggered by timer set on",r]}),o.scrollTimer=null,i()},m))},n.getScrollEvent=function(t,r){var i=Number(new Date),o=J.forward;return r&&(t===r.position?o=r.direction:t<r.position&&(o=J.backward)),{position:t,direction:o,time:i}},n.onScroll=function(t,r){var i=t.state,o=i.scroll,s=i.cycle;o.previous=Mt({},o.current),o.current=null,s.busy.get()?t.logger.log(function(){return["skipping scroll",o.previous.position,"[pending]"]}):r.call({process:n.process,status:N.next})},n}(Zn(Re.scroll)),k8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){var i=t.datasource,o=t.buffer,s=t.viewport.paddings,a=t.state.cycle;if(r){var c=n.parseInput(t,r).data;if(!c.isValid)return;var u=r instanceof HH;Object.keys(ni).forEach(function(p){var m=c.params[p];(m.isSet||u&&i[p])&&(i[p]=m.value)})}o.reset(!0),s.backward.reset(),s.forward.reset();var h={datasource:i};a.busy.get()&&(h.finalize=!0,a.interrupter=n.process),t.workflow.call({process:n.process,status:N.next,payload:h})},n}(hr(k.reset)),O8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){var i=t.viewport,o=t.state,s=t.buffer,a=n.parseInput(t,{reloadIndex:r},!0).params;s.reset(!1,a?a.reloadIndex:void 0),i.reset(s.startIndex);var c={};o.cycle.busy.get()&&(c.finalize=!0,o.cycle.interrupter=n.process),t.workflow.call({process:n.process,status:N.next,payload:c})},n}(hr(k.reload)),Dy=function(){function e(n,t,r){this.container={$index:n,data:t},this.nodeId=String(n),this.routines=r,this.invisible=!0,this.toRemove=!1,this.toInsert=!1}return Object.defineProperty(e.prototype,"$index",{get:function(){return this.container.$index},set:function(n){this.container.$index=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.container.data},set:function(n){this.container.data=n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.container.element},set:function(n){this.container.element=n},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){delete this.container.element},e.prototype.setSize=function(n){void 0===n&&(n=0),this.preSize=n,this.element&&(this.size=this.routines.getSize(this.element))},e.prototype.makeVisible=function(){this.routines.makeElementVisible(this.element),this.invisible=!1},e.prototype.hide=function(){this.element&&this.routines.hideElement(this.element)},e.prototype.scrollTo=function(n){this.element&&this.routines.scrollTo(this.element,n)},e.prototype.updateIndex=function(n){this.$index=n,this.nodeId=String(n)},e.prototype.get=function(){return this.container},e}(),Cf=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){var i=n.parseInput(t,r).params;if(i){var o=n.doUpdate(t,i);t.workflow.call({process:n.process,status:o?N.next:N.done})}},n.doUpdate=function(t,r){var i=t.buffer,o=t.viewport,s=t.state.fetch,a=t.routines,c=t.logger;if(!i.items)return c.log(function(){return"no items in Buffer"}),!1;var u=o.getEdgeVisibleItem(i.items,J.backward),h=u.item,m=u.diff,g=i.updateItems(r.predicate,function(M,j){return new Dy(M,j,a)},u.index,!!r.fixRight),v=g.trackedIndex,y=g.toRemove,b=0,_=i.get(v);h&&h===_&&(b=-i.getSizeByIndex(v)+m),y.forEach(function(M){return M.hide()}),c.log(function(){return y.length?"items to remove: ["+y.map(function(M){return M.$index}).join(",")+"]":"no items to remove"}),y.length&&i.checkDefaultSize();var D=i.items.filter(function(M){return M.toInsert});return c.log(function(){return D.length?"items to render: ["+D.map(function(M){return M.$index}).join(",")+"]":"no items to render"}),s.update(v,b,D,y),!!y.length||!!D.length},n}(hr(k.update)),E1=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){var i=n.parseInput(t,r).params;if(i){var o=n.doInsert(t,i);t.workflow.call({process:n.process,status:o?N.next:N.done})}},n.doInsert=function(t,r){return!(!n.insertEmpty(t,r)&&!n.insertInBuffer(t,r)&&!n.insertVirtually(t,r))},n.insertEmpty=function(t,r){var i=t.buffer,o=t.routines,s=t.state.fetch;return!i.size&&!!i.fillEmpty(r.items,r.beforeIndex,r.afterIndex,!!r.decrease,function(p,m){return new Dy(p,m,o)})&&(s.fill(i.items,i.startIndex),!0)},n.insertInBuffer=function(t,r){var i=r.before,s=r.beforeIndex,c=r.items,u=r.decrease,h=t.buffer.getIndexToInsert(i||r.after,s,r.afterIndex);if(r.virtualize||isNaN(h))return!1;var p=Number.isInteger(s)||i;return Cf.doUpdate(t,{predicate:function(g){var y=g.data;return h!==g.$index||(p?fe(fe([],de(c),!1),[y],!1):fe([y],de(c),!1))},fixRight:u})},n.insertVirtually=function(t,r){var i=r.beforeIndex,o=r.afterIndex,s=r.items,a=r.decrease,c=t.buffer,u=t.state.fetch,h=t.viewport,p=Number.isInteger(i)?J.backward:J.forward;if(!c.insertVirtually(s,p===J.backward?i:o,p,!!a))return!1;var g=h.getEdgeVisibleItem(c.items,J.backward),v=g.index,y=g.diff;return u.firstVisible.index=v,isNaN(v)||(u.simulate=!0,u.firstVisible.delta=-c.getSizeByIndex(v)+y),!0},n}(hr(k.insert)),P8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){var i=r.process,s=n.parseInput(t,r.options,!1,i).params;if(s){var a=n.doAppend(t,i,s);t.workflow.call({process:n.process,status:a?N.next:N.done})}},n.doAppend=function(t,r,i){var m,g,s=i.eof,u=t.buffer,h=r===k.prepend,p=h?!i.increase:i.decrease,v=i.items;return h?(m=(i.bof?u.absMinIndex:u.minIndex)+(u.size?0:1),v=fe([],de(v),!1).reverse()):g=(s?u.absMaxIndex:u.maxIndex)-(u.size||p?0:1),E1.doInsert(t,{items:v,beforeIndex:m,afterIndex:g,decrease:p,virtualize:i.virtualize})},n}(hr(k.append)),F8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t){var r=t.workflow,i=t.buffer,o=t.state.fetch,s=t.viewport,a=1/0,c=-1/0;if(i.items.forEach(function(m){var g=m.size;m.setSize(),m.size!==g&&(i.cacheItem(m),a=Math.min(a,m.$index),c=Math.max(c,m.$index))}),Number.isFinite(a)){o.first.indexBuffer=i.firstIndex,o.last.indexBuffer=i.lastIndex;var u=s.getEdgeVisibleItem(i.items,J.backward),h=u.index,p=u.diff;o.firstVisible.index=h,isNaN(h)||(o.firstVisible.delta=-i.getSizeByIndex(h)+p),o.check(i.items.filter(function(m){return m.$index>=a&&m.$index<=c}))}t.logger.stat("check"),r.call({process:n.process,status:Number.isFinite(a)?N.next:N.done})},n}(hr(k.check)),L8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){var i=n.parseInput(t,r).params;if(i){var o=n.doRemove(t,i);t.workflow.call({process:n.process,status:o?N.next:N.done})}},n.doRemove=function(t,r){t.state.fetch.firstVisible.index=NaN;var o=n.removeBufferedItems(t,r),s=o.length>0;if(s&&(r.indexes&&r.indexes.length&&(r.indexes=r.indexes.filter(function(h){return!o.includes(h)})),r.indexes&&r.indexes.length)){var a=(r.increase?1:0)*o.length,c=(r.increase?0:-1)*o.length;r.indexes=r.indexes.map(function(h){return h+(h<o[0]?a:c)})}var u=n.removeVirtualItems(t,r);return!(!s&&!u||(t.logger.stat("after remove"),0))},n.removeBufferedItems=function(t,r){var i=r.predicate,o=r.indexes,s=r.increase;if(!i&&!o)return[];var a=function(h){return i&&i(h)||!!o&&o.includes(h.$index)},c=t.buffer.items.reduce(function(h,p){return a(p)?fe(fe([],de(h),!1),[p.$index],!1):h},[]);return Cf.doUpdate(t,{predicate:function(h){return!a(h)},fixRight:s}),c},n.removeVirtualItems=function(t,r){var i=r.indexes,o=r.increase;if(!i||!i.length)return!1;for(var s=t.buffer,a=t.viewport,c=t.state.fetch,u=s.finiteAbsMinIndex,h=s.firstIndex,p=s.finiteAbsMaxIndex,m=s.lastIndex,g=[],v=0,y=i.length;v<y;v++)if((b=i[v])>=u&&!isNaN(h)&&b<h)g.push(b);else{if(!(b<=p&&!isNaN(m)&&b>m))continue;g.push(b)}if(!g.length)return!1;if(isNaN(c.firstVisible.index)){var b,_=a.getEdgeVisibleItem(s.items,J.backward),D=_.diff;c.firstVisible.index=b=_.index,isNaN(b)||(c.firstVisible.delta=-s.getSizeByIndex(b)+D)}return t.logger.log(function(){return"going to remove ".concat(g.length," item(s) virtually")}),s.removeVirtually(g,!!o),s.checkDefaultSize(),n.shiftFirstVisibleIndex(t,g,!!o),!0},n.shiftFirstVisibleIndex=function(t,r,i){var o=t.state.fetch.firstVisible;if(!isNaN(o.index)){var s=r.reduce(function(a,c){return a+(i&&c>o.index||!i&&c<o.index?1:0)},0);o.index=o.index+(i?s:-s)}},n}(hr(k.remove)),V8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){var i=n.parseInput(t,r).params;t.state.clip.forceForward=!(i&&i.backwardOnly),t.state.clip.forceBackward=!(i&&i.forwardOnly),t.workflow.call({process:n.process,status:N.next})},n}(hr(k.clip)),j8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){var i=n.parseInput(t,r).params;if(i){var o=n.doReplace(t,i);t.workflow.call({process:n.process,status:o?N.next:N.done})}},n.doReplace=function(t,r){var i=t.buffer.items.filter(function(a){return r.predicate(a)}).map(function(a){return a.$index});if(!i.length)return t.logger.log("no items to be replaced"),!1;var o=!1;return Cf.doUpdate(t,{predicate:function(a){return!i.includes(a.$index)||!o&&(o=!0,r.items)},fixRight:r.fixRight})},n}(hr(k.replace)),B8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){if(!r?.resume&&!t.state.paused.get())return t.logger.log("pause scroller"),t.state.paused.set(!0),void t.workflow.call({process:k.pause,status:N.done});t.logger.log("resume scroller"),t.state.paused.set(!1),t.workflow.call({process:k.pause,status:N.next})},n}(hr(k.pause)),To=C8[k.fix],U8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){var i=t.workflow,o=n.parseInput(t,r),s=o.data;o.params&&(Object.entries(s.params).forEach(function(c){var u=de(c,2),p=u[1];p.isSet&&p.isValid&&n.runByType(t,u[0],p.value,s)}),i.call({process:n.process,status:N.done}))},n.runByType=function(t,r,i,o){switch(r){case To.scrollPosition:return n.setScrollPosition(t,i);case To.minIndex:return n.setMinIndex(t,i);case To.maxIndex:return n.setMaxIndex(t,i);case To.updater:return n.updateItems(t,i);case To.scrollToItem:if(o.params){var s=o.params[To.scrollToItemOpt];return n.scrollToItem(t,i,s?s.value:void 0)}return;case To.scrollToItemOpt:return}},n.setScrollPosition=function(t,r){var i=t.viewport,o=r;r===-1/0?o=0:r===1/0&&(o=i.getScrollableSize()),i.setPosition(o)},n.setMinIndex=function(t,r){var i=t.buffer;t.settings.minIndex=r,i.absMinIndex=r},n.setMaxIndex=function(t,r){var i=t.buffer;t.settings.maxIndex=r,i.absMaxIndex=r},n.updateItems=function(t,r){var i=t.buffer,o=t.logger,s=!1,a=function(){return s=!0};i.items.forEach(function(c){return r(c.get(),a)}),s&&(o.log(function(){return"update Buffer.items reference"}),i.items=fe([],de(i.items),!1))},n.scrollToItem=function(t,r,i){var o=t.buffer.items.find(function(s){return r(s.get())});o?o.scrollTo(i):t.logger.log(function(){return"scrollToItem cancelled, item not found"})},n}(hr(k.fix)),S1=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t){var r=t.state.startInnerLoop();t.workflow.call({process:n.process,status:N.next,payload:r})},n}(Zn(Re.start)),H8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t){var r=t.workflow,o=t.state,a=o.cycle;o.fetch.minIndex=t.buffer.minIndex,n.setPositionsAndIndexes(t),n.skipBufferedItems(t),t.settings.infinite&&n.checkBufferGaps(t),n.checkFetchPackSize(t),n.setFetchDirection(t),r.call({process:n.process,status:n.getStatus(t),payload:{process:a.initiator}})},n.setPositionsAndIndexes=function(t){n.setPositions(t),n.setFirstIndex(t),n.setLastIndex(t),t.logger.fetch()},n.setPositions=function(t){var r=t.state.fetch.positions,i=t.viewport,o=i.getBufferPadding();r.before=i.scrollPosition,r.startDelta=n.getStartDelta(t),r.relative=r.before-r.startDelta,r.start=r.relative-o,r.end=r.relative+i.getSize()+o},n.getStartDelta=function(t){var r=t.buffer,i=t.viewport.offset,o=0;if(i&&(o+=i),!r.defaultSize)return o;for(var s=r.finiteAbsMinIndex;s<r.startIndex;s++)o+=r.getSizeByIndex(s);return t.logger.log(function(){return fe(["start delta is ".concat(o)],de(i?[" (+".concat(i," offset)")]:[]),!1)}),o},n.setFirstIndex=function(t){var r=t.state,i=t.buffer,o=r.fetch,s=o.positions.start,a=o.first,c=i.startIndex,u=0;if(r.cycle.innerLoop.isInitial)t.logger.log("skipping fetch backward direction [initial loop]");else if(i.defaultSize)for(var h=u,p=c;;){if(s>=0){var m=i.getSizeByIndex(p);if(h+m-s>0){c=p,u=h;break}if(h+=m,++p<i.absMinIndex)break}if(s<0){if(--p<i.absMinIndex)break;if(c=p,u=h-=i.getSizeByIndex(p),h-s<=0)break}}else t.logger.log("skipping fetch backward direction [no item size]");a.index=a.indexBuffer=Math.max(c,i.absMinIndex),a.position=u},n.setLastIndex=function(t){var v,r=t.state,i=r.fetch,o=r.cycle,s=t.buffer,a=t.settings,c=i.firstVisible,u=i.positions,h=u.relative,p=u.end,m=i.first,g=i.last;if(s.defaultSize){var y=m.indexBuffer,b=m.position;for(v=y;;){v=y;var _=s.getSizeByIndex(y);if(b+=_,isNaN(c.index)&&b>h&&(c.index=y,o.innerLoop.isInitial||(c.delta=b-_-h)),b>=p||y++>s.absMaxIndex)break}}else v=s.startIndex+a.bufferSize-1,t.logger.log("forcing fetch forward direction [no item size]");g.index=g.indexBuffer=Math.min(v,s.absMaxIndex)},n.skipBufferedItems=function(t){var r=t.buffer;if(r.size){for(var i=t.state.fetch,o=i.first.index,s=i.last.index,a=[[]],c=0,u=o;u<=s;u++)r.get(u)?a[c].length&&(a[++c]=[]):a[c].push(u);var h=a[0];a[0].length&&a[1]&&a[1].length&&(i.hasAnotherPack=!0,a[1].length>=a[0].length&&(h=a[1])),i.first.index=Math.max(h[0],r.absMinIndex),i.last.index=Math.min(h[h.length-1],r.absMaxIndex),(i.first.index!==o||i.last.index!==s)&&t.logger.fetch("after Buffer flushing")}},n.checkBufferGaps=function(t){var r=t.buffer,i=t.state.fetch;if(r.size){var o=i.first.index,s=r.lastIndex;o>s&&(i.first.index=i.first.indexBuffer=s+1);var a=r.firstIndex,c=i.last.index;c<a&&(i.last.index=i.last.indexBuffer=a-1),(i.first.index!==o||i.last.index!==c)&&t.logger.fetch("after Buffer filling (no clip case)")}},n.checkFetchPackSize=function(t){var r=t.buffer,i=t.state.fetch;if(i.shouldFetch){var o=i.first.index,s=i.last.index,a=t.settings.bufferSize-(s-o+1);if(!(a<=0)){if(!r.size||s>r.items[0].$index){var c=Math.min(s+a,r.absMaxIndex);c>s&&(i.last.index=i.last.indexBuffer=c)}else{var u=Math.max(o-a,r.absMinIndex);u<o&&(i.first.index=i.first.indexBuffer=u)}(i.first.index!==o||i.last.index!==s)&&(t.logger.fetch("after bufferSize adjustment"),n.skipBufferedItems(t))}}},n.setFetchDirection=function(t){var r=t.buffer,i=t.state.fetch;if(i.last.index){var o=J.forward;r.size&&(o=i.last.index<r.items[0].$index?J.backward:J.forward),i.direction=o,t.logger.log(function(){return'fetch direction is "'.concat(o,'"')})}},n.getStatus=function(t){var r=t.state,o=r.fetch;return r.cycle.initiator===k.clip?(t.logger.log(function(){return'going to skip fetch due to "'.concat(k.clip,'" process')}),N.next):o.shouldFetch?(t.logger.log(function(){return"going to fetch ".concat(o.count," items started from index ").concat(o.index)}),N.next):N.done},n}(Zn(Re.preFetch)),G8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t){var r=t.workflow,i={success:function(s){t.logger.log(function(){return"resolved ".concat(s.length," items ")+"(index = ".concat(t.state.fetch.index,", count = ").concat(t.state.fetch.count,")")}),t.state.fetch.newItemsData=s,r.call({process:n.process,status:N.next})},fail:function(s){return r.call({process:n.process,status:N.error,payload:{error:s}})}},o=n.get(t);n.complete(t,i,o)},n.complete=function(t,r,i){if(Object.prototype.hasOwnProperty.call(i,"data")){var s=i.data;i.isError?r.fail(i.error):r.success(s||[])}else{var u=t.state,h=u.scroll,p=u.fetch;null===h.positionBeforeAsync&&(h.positionBeforeAsync=t.viewport.scrollPosition),p.cancel=function(){r.success=function(){return null},r.fail=function(){return null}},i.then(function(g){return r.success(g)},function(g){return r.fail(g)})}},n.get=function(t){var a,c,u,h,i=t.state.fetch,p=function(y){u?u(y):a=y||null},m=function(y){h?h(y):c=y||null},g=(0,t.datasource.get)(i.index,i.count,p,m);if(g&&"object"==typeof g&&null!==g){if("function"==typeof g.then)return g;if("function"==typeof g.subscribe){var v=void 0;v=g.subscribe(p,m,function(){v&&"object"==typeof v&&"function"==typeof v.unsubscribe&&v.unsubscribe()})}}return a||c?{data:c?null:a||[],error:c,isError:!!c}:new Promise(function(y,b){u=y,h=b})},n}(Zn(Re.fetch)),q8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t){var r=t.workflow;n.setItems(t)?(n.setBufferLimits(t),r.call({process:n.process,status:t.state.fetch.hasNewItems?N.next:N.done})):r.call({process:n.process,status:N.error,payload:{error:"Can't set buffer items"}})},n.setBufferLimits=function(t){var r=t.buffer,i=t.state,o=i.fetch,s=i.cycle.innerLoop,a=o.items,c=o.first.index,u=o.last.index;if(a.length){var h=a.length-1;c<a[0].$index&&(r.absMinIndex=a[0].$index),u>a[h].$index&&(r.absMaxIndex=a[h].$index)}else(u<r.minIndex||s.isInitial)&&(r.absMinIndex=r.minIndex),(c>r.maxIndex||s.isInitial)&&(r.absMaxIndex=r.maxIndex)},n.setItems=function(t){var r=t.buffer,i=t.state,o=i.fetch,a=o.newItemsData;if(!a||!a.length)return!0;var c=o.index;return a.length<o.count&&(i.cycle.innerLoop.isInitial?c=r.startIndex:o.first.index<r.minIndex&&(c=r.firstIndex-a.length)),o.items=a.map(function(u,h){return new Dy(c+h,u,t.routines)}),r.setItems(o.items)},n}(Zn(Re.postFetch)),_y=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t){var r=t.workflow,i=t.state,o=i.cycle,s=i.render,a=i.scroll,c=i.fetch,u=t.viewport,h=t.routines;t.logger.stat("before new items render"),null===a.positionBeforeAsync&&(a.positionBeforeAsync=u.scrollPosition),s.cancel=h.render(function(){s.cancel=null,n.doRender(t)?r.call({process:n.process,status:s.noSize?N.done:N.next,payload:{process:o.initiator}}):r.call({process:n.process,status:N.error,payload:{error:"Can't associate item with element"}})},{items:c.items.map(function(p){return p.get()})})},n.doRender=function(t){var r=t.state,i=r.fetch,o=r.render,s=t.viewport,a=t.buffer,c=t.logger;return o.positionBefore=s.scrollPosition,!(!i.isCheck&&(o.sizeBefore=s.getScrollableSize(),!i.items.every(function(u){return n.processElement(t,u)}))||(a.checkDefaultSize(),o.sizeAfter=s.getScrollableSize(),c.stat("after new items render"),c.log(function(){return o.noSize?"viewport size has not been changed":void 0}),0))},n.processElement=function(t,r){var o=t.buffer,s=t.viewport.findItemElementById(r.nodeId);return!!s&&(r.element=s,r.makeVisible(),r.setSize(o.getSizeByIndex(r.$index)),o.cacheItem(r),!0)},n}(Zn(Re.render)),Ao=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t,r){var o=(void 0===r?{}:r).error,s=t.workflow,a=t.state.cycle.interrupter;if(!o&&!a&&n.calculateParams(t),function(e){return!!e.call.interrupted}(s))s.call({process:n.process,status:N.done});else{var c=n.shouldContinueRun(t,o);t.state.endInnerLoop(),s.call({process:n.process,status:c?N.next:N.done,payload:Mt({},a?{process:a}:{})})}},n.calculateParams=function(t){var r=t.adapter,i=t.workflow;r.setFirstOrLastVisible({first:!0,workflow:i}),r.setFirstOrLastVisible({last:!0,workflow:i})},n.shouldContinueRun=function(t,r){var i=t.state,s=i.fetch,a=i.render;return!!i.cycle.interrupter||!r&&!!(s.simulate&&s.isCheck&&!a.noSize||s.simulate&&s.doRemove||!s.simulate&&(s.hasNewItems&&!a.noSize||s.hasAnotherPack))},n}(Zn(Re.end)),cl=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t){var r=t.workflow,i=t.viewport,o=t.state.scroll;o.positionBeforeAdjust=i.scrollPosition,n.setPaddings(t),o.positionAfterAdjust=i.scrollPosition;var s=n.calculatePosition(t);n.setAdditionalForwardPadding(t,s),n.setPosition(t,s,function(){return r.call({process:n.process,status:N.done})})},n.setPaddings=function(t){var u,h,r=t.viewport,i=t.buffer,o=t.settings.inverse,s=t.state.fetch,a=i.getFirstVisibleItem(),c=i.getLastVisibleItem();a&&c?(u=a.$index,h=c.$index):h=(u=isNaN(s.firstVisible.index)?i.startIndex:s.firstVisible.index)-1;var v,p=r.paddings,m=p.forward,g=p.backward,y=0,b=0;for(v=i.finiteAbsMinIndex;v<u;v++)y+=i.getSizeByIndex(v);for(v=h+1;v<=i.finiteAbsMaxIndex;v++)b+=i.getSizeByIndex(v);var D=y+(r.getScrollableSize()-m.size-g.size)+b,M=r.getSize()-D;M>0&&(o?y+=M:b+=M,t.logger.log(function(){return o?"backward":"forward"+" padding will be increased by ".concat(M," to fill the viewport")})),g.size=y,m.size=b,t.logger.stat("after paddings adjustments")},n.calculatePosition=function(t){var r=t.viewport,i=t.buffer,o=t.state,s=o.fetch,a=o.render,c=o.scroll,u=r.paddings.backward.size;if(!isNaN(s.firstVisible.index)&&!isNaN(i.firstIndex)){t.logger.log("first index = ".concat(s.firstVisible.index,", delta = ").concat(s.firstVisible.delta));var h=s.shouldCheckPreSizeExpectation(i.lastIndex);i.items.forEach(function(m){m.$index<s.firstVisible.index?u+=m.size:(m.$index===s.firstVisible.index&&s.firstVisible.delta&&(u-=s.firstVisible.delta),h&&m.preSize&&s.items.includes(m)&&(u+=m.size-m.preSize))})}if(null!==c.positionBeforeAsync){var p=a.positionBefore-c.positionBeforeAsync;0!==p&&(t.logger.log("shift position due to fetch-render difference (".concat(p,")")),u+=p)}return r.offset>0&&(u||s.positions.before)&&(u+=r.offset),Math.round(u)},n.setAdditionalForwardPadding=function(t,r){var i=t.viewport,o=t.buffer;if(t.state.cycle.isInitial&&Ao.shouldContinueRun(t,null)){var a=r-i.getMaxScrollPosition();if(!(a<=0)){var c=o.getLastVisibleItem();if(c){for(var u=0,h=c.$index+1;u<=a&&h<=o.absMaxIndex;)u+=o.getSizeByIndex(h++);var p=Math.min(u,a);p&&(i.paddings.forward.size+=p,t.logger.log("increase fwd padding due to lack of items (".concat(a," -> ").concat(p,")")))}}}},n.setPosition=function(t,r,i){var o=t.state.scroll,s=t.viewport,a=t.routines;if(!o.hasPositionChanged(r))return i();o.syntheticPosition=r,o.syntheticFulfill=!1,o.cancelAnimation=a.animate(function(){o.cancelAnimation=null;var c=o.positionAfterAdjust-s.scrollPosition,u="";c>0&&(o.syntheticPosition=r-=c,u=" (-".concat(c,")")),o.syntheticFulfill=!0,s.scrollPosition=r,t.logger.stat("after scroll adjustment"+u),i()})},n}(Zn(Re.adjust)),M1=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t){n.prepareClip(t),t.workflow.call({process:n.process,status:N.next,payload:{doClip:t.state.clip.doClip}})},n.prepareClip=function(t){var r=t.state,i=r.fetch,o=r.clip;if(!n.shouldNotClip(t)){var s=i.first.indexBuffer,a=i.last.indexBuffer;t.logger.log(function(){return"looking for ".concat(i.direction?"anti-"+i.direction+" ":"","items ")+"that are out of [".concat(s,"..").concat(a,"] range")}),n.isBackward(t,s)&&n.prepareClipByDirection(t,J.backward,s),n.isForward(t,a)&&n.prepareClipByDirection(t,J.forward,a),o.doClip||t.logger.log("skipping clip [no items to clip]")}},n.shouldNotClip=function(t){var i=t.buffer,o=t.state;return t.settings.infinite&&!o.clip.force?(t.logger.log("skipping clip [infinite mode]"),!0):i.size?!!o.cycle.isInitial&&(t.logger.log("skipping clip [initial cycle]"),!0):(t.logger.log("skipping clip [empty buffer]"),!0)},n.isBackward=function(t,r){var o=t.state,s=o.clip;return s.force?s.forceBackward:o.fetch.direction!==J.backward&&r-1>=t.buffer.absMinIndex},n.isForward=function(t,r){var o=t.state,s=o.clip;return s.force?s.forceForward:o.fetch.direction!==J.forward&&r+1<=t.buffer.absMaxIndex},n.prepareClipByDirection=function(t,r,i){var o=r===J.forward;t.buffer.items.forEach(function(s){(!o&&s.$index<i||o&&s.$index>i)&&(s.toRemove=!0,s.removeDirection=r,t.state.clip.doClip=!0)})},n}(Zn(Re.preClip)),Z8=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return Ue(n,e),n.run=function(t){var r=t.workflow;n.doClip(t),r.call({process:n.process,status:N.next})},n.doClip=function(t){var r,i=t.buffer,o=t.viewport.paddings,s=t.state.clip,a=t.logger,c=((r={})[J.backward]=0,r[J.forward]=0,r);a.stat("before clip (".concat(++s.callCount,")"));var u=i.items.filter(function(h){return!!h.toRemove&&(h.hide(),c[h.removeDirection]+=h.size,!0)});u.length&&(c[J.backward]&&(o.byDirection(J.backward).size+=c[J.backward]),c[J.forward]&&(o.byDirection(J.forward).size+=c[J.forward]),t.settings.onBeforeClip&&t.settings.onBeforeClip(u.map(function(h){return h.get()}))),i.clip(),a.log(function(){var h=u.map(function(p){return p.$index});return h.length?["clipped ".concat(h.length," item(s) from Buffer")+(c.backward?", +".concat(c.backward," fwd px"):"")+(c.forward?", +".concat(c.forward," bwd px"):"")+", range: [".concat(h[0],"..").concat(h[h.length-1],"]")]:"clipped 0 items from Buffer"}),a.stat("after clip")},n}(Zn(Re.clip)),X8=function(){function e(n,t,r){var i=this;this.logs=[],this.logAdapterMethod=function(s,a,c){if(i.debug){var u=(void 0===a?[]:Array.isArray(a)?a:[a]).map(function(h){return"function"==typeof h?"func":"object"==typeof h&&h?Array.isArray(h)?"[of ".concat(h.length,"]"):"{ "+Object.keys(h).join(", ")+" }":h}).join(", ");i.log("adapter: ".concat(s,"(").concat(u||"",")").concat(c||""))}};var o=n.settings;this.debug=o.debug,this.immediateLog=o.immediateLog,this.logTime=o.logTime,this.getTime=function(){return n.state&&" // time: ".concat(n.state.time)},this.getStat=function(){var s=n.buffer,a=n.viewport,c=s.getFirstVisibleItem(),u=s.getLastVisibleItem();return"pos: "+a.scrollPosition+", size: "+a.getScrollableSize()+", bwd_p: "+a.paddings.backward.size+", fwd_p: "+a.paddings.forward.size+", default: "+(s.defaultSize||"no")+", items: "+s.getVisibleItemsCount()+", range: "+(c&&u?"[".concat(c.$index,"..").concat(u.$index,"]"):"no")},this.getFetchRange=function(){var s=n.state.fetch,a=s.first.index,c=s.last.index;return Number.isNaN(a)||Number.isNaN(c)?"no":"[".concat(a,"..").concat(c,"]")},this.getLoopId=function(){return n.state.cycle.loopId},this.getLoopIdNext=function(){return n.state.cycle.loopIdNext},this.getWorkflowCycleData=function(){return"".concat(o.instanceIndex,"-").concat(n.state.cycle.count)},this.getScrollPosition=function(){return n.routines.getScrollPosition()},this.log(function(){return"vscroll Workflow has been started, "+"core: ".concat(t.core.name," v").concat(t.core.version,", ")+"consumer: ".concat(t.consumer.name," v").concat(t.consumer.version,", ")+"scroller instance: ".concat(o.instanceIndex,", adapter ")+(r?"instance: ".concat(r.id):"is not instantiated")})}return e.prototype.object=function(n,t,r){this.log(function(){return[n,r?JSON.stringify(t,function(i,o){return Number.isNaN(o)?"NaN":o===1/0?"Infinity":o===-1/0?"-Infinity":o instanceof Element?"HTMLElement":o instanceof HTMLDocument?"HTMLDocument":"function"==typeof o?"Function":o}).replace(/"/g,"").replace(/(\{|:|,)/g,"$1 ").replace(/(\})/g," $1"):t]})},e.prototype.stat=function(n){var t=this;if(this.debug){var r=["color: #888; border: dashed #888 0; border-bottom-width: 0px","color: #000; border-width: 0"];this.log(function(){return fe(["%cstat"+(n?" ".concat(n):"")+",%c "+t.getStat()],de(r),!1)})}},e.prototype.fetch=function(n){var t=this;if(this.debug){var r="fetch interval"+(n?" ".concat(n):""),i=["color: #888","color: #000"];this.log(function(){return fe(["%c".concat(r,": %c").concat(t.getFetchRange())],de(i),!1)})}},e.prototype.prepareForLog=function(n){return n instanceof Event&&n.target?this.getScrollPosition():n},e.prototype.logProcess=function(n){if(this.debug){var t=n.process,r=n.status,i=n.payload,o=[];if(t===Re.init&&r===N.next)o.push("%c---=== loop ".concat(this.getLoopIdNext()," start"));else if(t===Re.end){o.push("%c---=== loop ".concat(this.getLoopId()," done"));var s=i&&i.process;r===N.next&&s!==k.reset&&s!==k.reload&&(o[0]+=", loop ".concat(this.getLoopIdNext()," start"))}o.length&&this.log(function(){return fe(fe([],de(o),!1),["color: #006600;"],!1)})}},e.prototype.logCycle=function(n){void 0===n&&(n=!0);var t=this.getWorkflowCycleData(),i="color: #0000aa; border: solid #555 1px; border-width: ".concat(n?"1px 0 0 1px":"0 0 1px 1px","; margin-left: -2px");this.log(function(){return["%c   ~~~ WF Cycle ".concat(t," ").concat(n?"STARTED":"FINALIZED"," ~~~  "),i]})},e.prototype.logError=function(n){var t=this;if(this.debug){var r=["color: #a00;","color: #000"];this.log(function(){return fe(["error:%c"+(n?" ".concat(n):"")+"%c (loop ".concat(t.getLoopIdNext(),")")],de(r),!1)})}},e.prototype.log=function(){for(var n=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(this.debug){if("function"==typeof t[0]&&(t=t[0](),Array.isArray(t)||(t=[t])),t.every(function(i){return void 0===i}))return;this.logTime&&(t=fe(fe([],de(t),!1),[this.getTime()],!1)),t=t.map(function(i){return n.prepareForLog(i)}),this.immediateLog?console.log.apply(this,t):this.logs.push(t)}},e.prototype.logForce=function(){for(var n=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.debug&&(!this.immediateLog&&this.logs.length&&(this.logs.forEach(function(i){return console.log.apply(n,i)}),this.logs=[]),t.length&&console.log.apply(this,t))},e}(),xf=function(){function e(n,t){this.element=n,this.settings={viewport:t.viewport,horizontal:t.horizontal,window:t.windowViewport},this.viewport=this.getViewportElement(),this.onInit(t)}return e.prototype.checkElement=function(n){if(!n)throw new Error("HTML element is not defined")},e.prototype.getViewportElement=function(){if(this.settings.window)return document.documentElement;if(this.settings.viewport)return this.settings.viewport;this.checkElement(this.element);var n=this.element.parentElement;return this.checkElement(n),n},e.prototype.onInit=function(n){n.windowViewport&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),n.dismissOverflowAnchor&&(this.viewport.style.overflowAnchor="none")},e.prototype.findElementBySelector=function(n,t){return this.checkElement(n),n.querySelector(t)},e.prototype.findPaddingElement=function(n){return this.findElementBySelector(this.element,"[data-padding-".concat(n,"]"))},e.prototype.findItemElement=function(n){return this.findElementBySelector(this.element,'[data-sid="'.concat(n,'"]'))},e.prototype.findItemChildBySelector=function(n,t){return this.findElementBySelector(this.element,'[data-sid="'.concat(n,'"] ').concat(t))},e.prototype.getScrollPosition=function(){return this.settings.window?this.settings.horizontal?window.pageXOffset:window.pageYOffset:this.viewport[this.settings.horizontal?"scrollLeft":"scrollTop"]},e.prototype.setScrollPosition=function(n){n=Math.max(0,n),this.settings.window?this.settings.horizontal?window.scrollTo(n,window.scrollY):window.scrollTo(window.scrollX,n):this.viewport[this.settings.horizontal?"scrollLeft":"scrollTop"]=n},e.prototype.getElementParams=function(n){return this.checkElement(n),n.getBoundingClientRect()},e.prototype.getWindowParams=function(){var n=this.viewport,t=n.clientWidth,r=n.clientHeight,i=n.clientLeft,o=n.clientTop;return{height:r,width:t,top:o,bottom:o+r,left:i,right:i+t,x:i,y:o,toJSON:function(){return null}}},e.prototype.getSize=function(n){return this.getElementParams(n)[this.settings.horizontal?"width":"height"]},e.prototype.getScrollerSize=function(){return this.getElementParams(this.element)[this.settings.horizontal?"width":"height"]},e.prototype.getViewportSize=function(){return this.settings.window?this.getWindowParams()[this.settings.horizontal?"width":"height"]:this.getSize(this.viewport)},e.prototype.getSizeStyle=function(n){return this.checkElement(n),parseFloat(n.style[this.settings.horizontal?"width":"height"])||0},e.prototype.setSizeStyle=function(n,t){this.checkElement(n),t=Math.max(0,Math.round(t)),n.style[this.settings.horizontal?"width":"height"]="".concat(t,"px")},e.prototype.getEdge=function(n,t){var r=this.settings.horizontal;return this.getElementParams(n)[t===J.forward?r?"right":"bottom":r?"left":"top"]},e.prototype.getViewportEdge=function(n){var t=this.settings,i=t.horizontal;return t.window?this.getWindowParams()[n===J.forward?i?"right":"bottom":i?"left":"top"]:this.getEdge(this.viewport,n)},e.prototype.makeElementVisible=function(n){this.checkElement(n),n.style.left="",n.style.top="",n.style.position=""},e.prototype.hideElement=function(n){this.checkElement(n),n.style.display="none"},e.prototype.getOffset=function(){var n=this,t=function(r){return(n.settings.horizontal?r.offsetLeft:r.offsetTop)||0};return t(this.element)-(this.settings.window?0:t(this.viewport))},e.prototype.scrollTo=function(n,t){this.checkElement(n),n.scrollIntoView(t)},e.prototype.render=function(n,t){var r=setTimeout(function(){return n()});return function(){return clearTimeout(r)}},e.prototype.animate=function(n){var t=requestAnimationFrame(function(){return n()});return function(){return cancelAnimationFrame(t)}},e.prototype.onScroll=function(n){var t=this.settings.window?window:this.viewport;return t.addEventListener("scroll",n),function(){return t.removeEventListener("scroll",n)}},e}(),T1=function(){function e(n,t){var r=t.findPaddingElement(n);t.checkElement(r),this.element=r,this.direction=n,this.routines=t}return e.prototype.reset=function(n){this.size=n||0},Object.defineProperty(e.prototype,"size",{get:function(){return this.routines.getSizeStyle(this.element)},set:function(n){this.routines.setSizeStyle(this.element,n)},enumerable:!1,configurable:!0}),e}(),Y8=function(){function e(n,t){this.settings=t,this.forward=new T1(J.forward,n),this.backward=new T1(J.backward,n)}return e.prototype.byDirection=function(n,t){return n===J.backward?t?this.forward:this.backward:t?this.backward:this.forward},e.prototype.reset=function(n,t,r){var s,i=this.getPositiveSize(t,n,r),o=this.getNegativeSize(t);this.settings.inverse?(this.forward.reset(o),this.backward.reset(i),(s=n-this.backward.size-r)>0&&(this.backward.size+=s,this.forward.size-=s)):(this.forward.reset(i),this.backward.reset(o),(s=n-this.forward.size-r)>0&&(this.backward.size-=s,this.forward.size+=s))},e.prototype.getPositiveSize=function(n,t,r){var i=this.settings,o=t;return isFinite(i.maxIndex)&&(o=(i.maxIndex-n+1)*i.itemSize),r&&(o=Math.max(o-r,0)),o},e.prototype.getNegativeSize=function(n){var t=this.settings,r=0;return isFinite(t.minIndex)&&(r=(n-t.minIndex)*t.itemSize),r},e}(),Q8=function(){function e(n,t,r,i){this.settings=n,this.routines=t,this.state=r,this.logger=i,this.paddings=new Y8(this.routines,n)}return e.prototype.reset=function(n){this.setOffset(),this.paddings.reset(this.getSize(),n,this.offset),this.scrollPosition=this.paddings.backward.size||0,this.state.scroll.reset()},e.prototype.setPosition=function(n){if(this.scrollPosition===n)return this.logger.log(function(){return["setting scroll position at",n,"[cancelled]"]}),n;this.routines.setScrollPosition(n);var r=this.scrollPosition;return this.logger.log(function(){return fe(["setting scroll position at",r],de(r!==n?["(".concat(n,")")]:[]),!1)}),r},Object.defineProperty(e.prototype,"scrollPosition",{get:function(){return this.routines.getScrollPosition()},set:function(n){this.setPosition(n)},enumerable:!1,configurable:!0}),e.prototype.getSize=function(){return this.routines.getViewportSize()},e.prototype.getScrollableSize=function(){return this.routines.getScrollerSize()},e.prototype.getMaxScrollPosition=function(){return this.getScrollableSize()-this.getSize()},e.prototype.getBufferPadding=function(){return this.getSize()*this.settings.padding},e.prototype.getEdge=function(n){return this.routines.getViewportEdge(n)},e.prototype.setOffset=function(){this.offset=this.routines.getOffset()},e.prototype.findItemElementById=function(n){return this.routines.findItemElement(n)},e.prototype.getEdgeVisibleItem=function(n,t){for(var s,r=t===J.backward,i=r?J.forward:J.backward,o=this.getEdge(t),a=0,c=r?0:n.length-1;r?c<=n.length-1:c>=0;c+=r?1:-1)if(a=this.routines.getEdge(n[c].element,i)-o,r&&a>0||!r&&a<0){s=n[c];break}return{item:s,index:s?s.$index:NaN,diff:a}},e}(),K8=function(){function e(){this.reset()}return e.prototype.reset=function(){this.newItems=[],this.oldItems=[],this.removed=[]},e}(),J8=function(){function e(n,t){this.itemSize=n,this.sizeStrategy=t,this.sizeMap=new Map,this.recalculation=new K8}return e.prototype.reset=function(n){n&&(this.constantSize=this.itemSize,this.frequentSize=this.itemSize,this.averageSize=this.itemSize,this.averageSizeFloat=this.itemSize,this.sizeMap.clear()),this.recalculation.reset()},e.prototype.get=function(){switch(this.sizeStrategy){case qn.Average:return this.averageSize;case qn.Frequent:return this.frequentSize;default:return this.constantSize}},e.prototype.recalculateAverageSize=function(n){var t=this.recalculation,r=t.oldItems,i=t.newItems,o=t.removed;if(r.length){var s=r.reduce(function(h,p){return h+p.size},0),a=r.reduce(function(h,p){return h+p.newSize},0);this.averageSizeFloat=(this.averageSizeFloat||0)-(s-a)/(n-i.length)}if(i.length&&(a=i.reduce(function(m,g){return m+g.size},0),this.averageSizeFloat=((n-i.length)*(this.averageSizeFloat||0)+a)/n),o.length){var u=o.reduce(function(p,m){return p+m.size},0);this.averageSizeFloat=((n+o.length)*(this.averageSizeFloat||0)-u)/n}this.averageSize=Math.round(this.averageSizeFloat)},e.prototype.recalculateFrequentSize=function(){var n=this,t=this.recalculation,r=t.oldItems,i=t.newItems,o=t.removed,s=this.sizeMap.get(this.frequentSize);i.length&&i.forEach(function(h){var p=h.size;return n.sizeMap.set(p,(n.sizeMap.get(p)||0)+1)}),r.length&&(r.forEach(function(h){var p=h.size;return n.sizeMap.set(p,Math.max((n.sizeMap.get(p)||0)-1,0))}),r.forEach(function(h){var p=h.newSize;return n.sizeMap.set(p,(n.sizeMap.get(p)||0)+1)})),o.length&&o.forEach(function(h){var p=h.size;return n.sizeMap.set(p,Math.max((n.sizeMap.get(p)||0)-1,0))});var a=fe([],de(this.sizeMap.entries()),!1).sort(function(h,p){return p[1]-h[1]}),c=a[0][1],u=a.filter(function(h){return h[1]===c});u.length>1&&u.find(function(h){return h[0]===s})||(this.frequentSize=a[0][0])},e.prototype.recalculate=function(n){if(this.sizeStrategy===qn.Constant)return!1;var t=this.recalculation;if(!t.oldItems.length&&!t.newItems.length&&!t.removed.length)return!1;var s=this.get();return n?(this.sizeStrategy===qn.Average?this.recalculateAverageSize(n):this.recalculateFrequentSize(),this.recalculation.reset()):this.reset(!0),this.get()!==s},e.prototype.setExisted=function(n,t){this.sizeStrategy!==qn.Constant&&this.recalculation.oldItems.push({size:n,newSize:t})},e.prototype.setNew=function(n){this.sizeStrategy!==qn.Constant?this.recalculation.newItems.push({size:n}):this.constantSize||(this.constantSize=n)},e.prototype.setRemoved=function(n){this.sizeStrategy!==qn.Constant&&this.recalculation.removed.push({size:n})},e}(),Iy=function(){function e(n,t){this.$index=n.$index,this.data=t?n.data:null,this.size=n.size}return e.prototype.changeIndex=function(n){this.$index=n},e}(),e6=function(){function e(n,t){var r=n.itemSize,i=n.cacheData,o=n.cacheOnReload,s=n.sizeStrategy;this.itemSize=r,this.saveData=i,this.cacheOnReload=o,this.sizeStrategy=s,this.logger=t,this.items=new Map,this.defaultSize=new J8(r,s),this.reset(!0)}return e.prototype.reset=function(n){(n=n||!this.cacheOnReload)&&(this.minIndex=1/0,this.maxIndex=-1/0,this.items.clear()),this.defaultSize.reset(n)},Object.defineProperty(e.prototype,"size",{get:function(){return this.items.size},enumerable:!1,configurable:!0}),e.prototype.get=function(n){return this.items.get(n)},e.prototype.getSizeByIndex=function(n){var t=this.get(n);return t&&t.size||this.defaultSize.get()},e.prototype.getDefaultSize=function(){return this.defaultSize.get()},e.prototype.recalculateDefaultSize=function(){var n=this;return!!this.defaultSize.recalculate(this.size)&&(this.logger.log(function(){return"default size has been updated: ".concat(n.defaultSize.get())}),!0)},e.prototype.add=function(n){var t=this.get(n.$index);return t?(this.saveData&&(t.data=n.data),t.size!==n.size&&(t.size?this.defaultSize.setExisted(t.size,n.size):this.defaultSize.setNew(n.size),t.size=n.size)):(t=new Iy(n,this.saveData),this.items.set(n.$index,t),this.defaultSize.setNew(n.size)),n.$index<this.minIndex&&(this.minIndex=n.$index),n.$index>this.maxIndex&&(this.maxIndex=n.$index),t},e.prototype.insertItems=function(n,t,r,i){var o=this,s=new Map,a=n.length,c=1/0,u=-1/0,h=function(p){s.set(p.$index,p),c=p.$index<c?p.$index:c,u=p.$index>u?p.$index:u};this.items.forEach(function(p){var m=0;r===J.backward?p.$index<t&&i?m=-a:p.$index>=t&&!i&&(m=a):r===J.forward&&(p.$index<=t&&i?m=-a:p.$index>t&&!i&&(m=a)),m&&p.changeIndex(p.$index+m),h(p)}),this.saveData&&n.forEach(function(p,m){var v=new Iy({$index:t+m-(i?a:0)+(r===J.forward?1:0),data:p},o.saveData);h(v)}),this.items=s,this.minIndex=c,this.maxIndex=u},e.prototype.removeItems=function(n,t){var r=this,i=new Map,o=1/0,s=-1/0;this.items.forEach(function(a){if(n.some(function(u){return u===a.$index}))a.size&&r.defaultSize.setRemoved(a.size);else{var c=n.reduce(t?function(u,h){return u+(a.$index<h?1:0)}:function(u,h){return u-(a.$index>h?1:0)},0);a.changeIndex(a.$index+c),i.set(a.$index,a),o=a.$index<o?a.$index:o,s=a.$index>s?a.$index:s}}),this.items=i,this.minIndex=o,this.maxIndex=s},e.prototype.updateSubset=function(n,t,r){var i=this;if(this.size&&n.length){var a,c,o=n[0].$index,s=n[n.length-1].$index;t.length?(a=t[0].$index-o,c=t[t.length-1].$index-s):(a=r?s-o+1:0,c=r?0:o-s-1);var p=new Map;this.items.forEach(function(m){return m.$index<o?(m.changeIndex(m.$index+a),void p.set(m.$index,m)):m.$index>s?(m.changeIndex(m.$index+c),void p.set(m.$index,m)):void 0}),t.forEach(function(m){return p.set(m.$index,new Iy(m,i.saveData))}),n.filter(function(m){return m.toRemove}).forEach(function(m){return i.defaultSize.setRemoved(m.size)}),this.minIndex+=a,this.maxIndex+=c,this.items=p}},e.prototype.shiftIndexes=function(n){var t=new Map,r=1/0,i=-1/0;this.items.forEach(function(o){o.changeIndex(o.$index+n),t.set(o.$index,o),r=o.$index<r?o.$index:r,i=o.$index>i?o.$index:i}),this.items=t,this.minIndex=r,this.maxIndex=i},e}(),t6=function(){function e(n,t){this.context=n,this.logger=t}return e.prototype.fillEmpty=function(n,t,r){return n.length?Number.isInteger(t)||Number.isInteger(r)?(this.logger.log(function(){return"going to fill the buffer with ".concat(n.length," item(s)")}),!0):(this.logger.log("no items to fill the buffer; wrong indexes"),!1):(this.logger.log("no items to fill the buffer; empty list"),!1)},e.prototype.insertInBuffer=function(n,t,r){var i=Number.isInteger(t)?t:Number.isInteger(r)?r:NaN,o=this.context.items.find(function(s){return n&&n(s.get())||Number.isInteger(i)&&i===s.$index});return o?o.$index:(this.logger.log("no items to insert in buffer; empty predicate's result"),NaN)},e.prototype.insertVirtual=function(n,t,r){if(!n.length)return this.logger.log("no items to insert virtually; empty list"),!1;var i=this.context,o=i.firstIndex,s=i.lastIndex,a=i.finiteAbsMinIndex,c=i.finiteAbsMaxIndex;if(t<a||t>c)return this.logger.log(function(){return"no items to insert virtually; "+"selected index (".concat(t,") does not match virtual area [").concat(a,"..").concat(c,"]")}),!1;var u=r===J.backward;return t<o+(u?1:0)||t>s-(u?0:1)?(this.logger.log(function(){return"going to insert ".concat(n.length," item(s) virtually")}),!0):(this.logger.log(function(){return"no items to insert virtually; selected index (".concat(t,") belongs Buffer [").concat(o,"..").concat(s,"]")}),!1)},e}(),n6=function(){function e(n,t,r){this._items=[],this.logger=r,this.changeItems=t,this.bof=new en(!1),this.eof=new en(!1),this.cache=new e6(n,r),this.checkCall=new t6(this,r),this.startIndexUser=n.startIndex,this.minIndexUser=n.minIndex,this.maxIndexUser=n.maxIndex,this.reset(!0)}return e.prototype.dispose=function(){this.bof.dispose(),this.eof.dispose(),this._items.forEach(function(n){return n.dispose()}),this._items=[]},e.prototype.reset=function(n,t){this.items.forEach(function(r){return r.hide()}),this.pristine=!0,this.items=[],this.cache.reset(n),this.absMinIndex=this.minIndexUser,this.absMaxIndex=this.maxIndexUser,this.setCurrentStartIndex(t),this.bof.set(!1),this.eof.set(!1),this.pristine=!1},e.prototype.setCurrentStartIndex=function(n){var t=this.minIndexUser,r=this.maxIndexUser,i=this.startIndexUser,o=Number(n);Number.isNaN(o)&&(this.logger.log(function(){return"fallback startIndex to settings.startIndex (".concat(i,")")}),o=i),o<t&&(this.logger.log(function(){return"setting startIndex to settings.minIndex (".concat(t,") because ").concat(o," < ").concat(t)}),o=t),o>r&&(this.logger.log(function(){return"setting startIndex to settings.maxIndex (".concat(r,") because ").concat(o," > ").concat(r)}),o=r),this.startIndex=o},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(n){this._items=n,this.changeItems(n),this.pristine||(this.checkBOF(),this.checkEOF())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absMinIndex",{get:function(){return this._absMinIndex},set:function(n){this._absMinIndex!==n&&(this._absMinIndex=Number.isFinite(this._absMaxIndex)&&n>this._absMaxIndex?this._absMaxIndex:n),this.pristine||this.checkBOF()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absMaxIndex",{get:function(){return this._absMaxIndex},set:function(n){this._absMaxIndex!==n&&(this._absMaxIndex=Number.isFinite(this._absMinIndex)&&n<this._absMinIndex?this._absMinIndex:n),this.pristine||this.checkEOF()},enumerable:!1,configurable:!0}),e.prototype.checkBOF=function(){var n=this.items.length?this.items[0].$index===this.absMinIndex:isFinite(this.absMinIndex);this.bof.set(n)},e.prototype.checkEOF=function(){var n=this.items.length?this.items[this.items.length-1].$index===this.absMaxIndex:isFinite(this.absMaxIndex);this.eof.set(n)},Object.defineProperty(e.prototype,"size",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cacheSize",{get:function(){return this.cache.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultSize",{get:function(){return this.cache.getDefaultSize()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minIndex",{get:function(){return isFinite(this.cache.minIndex)?this.cache.minIndex:this.startIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxIndex",{get:function(){return isFinite(this.cache.maxIndex)?this.cache.maxIndex:this.startIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstIndex",{get:function(){return this.items.length?this.items[0].$index:NaN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastIndex",{get:function(){return this.items.length?this.items[this.items.length-1].$index:NaN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finiteAbsMinIndex",{get:function(){return isFinite(this.absMinIndex)?this.absMinIndex:this.minIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finiteAbsMaxIndex",{get:function(){return isFinite(this.absMaxIndex)?this.absMaxIndex:this.maxIndex},enumerable:!1,configurable:!0}),e.prototype.get=function(n){return this.items.find(function(t){return t.$index===n})},e.prototype.setItems=function(n){if(this.items.length)if(this.items[0].$index>n[n.length-1].$index)this.items=fe(fe([],de(n),!1),de(this.items),!1);else{if(!(n[0].$index>this.items[this.items.length-1].$index))return!1;this.items=fe(fe([],de(this.items),!1),de(n),!1)}else this.items=fe([],de(n),!1);return!0},e.prototype.clip=function(){this.items=this.items.filter(function(n){return!n.toRemove})},e.prototype.getIndexToInsert=function(n,t,r){return this.checkCall.insertInBuffer(n,t,r)},e.prototype.shiftExtremum=function(n,t){t?(this.absMinIndex-=n,this.startIndex-=n):this.absMaxIndex+=n,this.startIndex>this.absMaxIndex?this.startIndex=this.absMaxIndex:this.startIndex<this.absMinIndex&&(this.startIndex=this.absMinIndex)},e.prototype.insertVirtually=function(n,t,r,i){if(!this.checkCall.insertVirtual(n,t,r))return!1;var o=0;return t<=this.firstIndex&&!i?o=n.length:t>=this.lastIndex&&i&&(o=-n.length),o&&(this.items.forEach(function(s){return s.updateIndex(s.$index+o)}),this.cache.insertItems(n,t,r,i),this.items=fe([],de(this.items),!1)),this.shiftExtremum(n.length,i),!0},e.prototype.removeVirtually=function(n,t){for(var r=this.items.length,i=!1,o=function(c){var u=s.items[c],h=n.reduce(function(p,m){return p+(t?u.$index<m?1:0:u.$index>m?-1:0)},0);i=i||!!h,u.updateIndex(u.$index+h)},s=this,a=t?r-1:0;t?a>=0:a<r;t?a--:a++)o(a);this.shiftExtremum(-n.length,t),i&&(this.items=fe([],de(this.items),!1)),this.cache.removeItems(n,t)},e.prototype.fillEmpty=function(n,t,r,i,o){if(!this.checkCall.fillEmpty(n,t,r))return!1;var s=Number.isInteger(t),a=s?t:r,c=i?n.length:s?1:0;return this.items=n.map(function(u,h){return o(a+h+(s?0:1)-c,u)}),this._absMinIndex=this.items[0].$index,this._absMaxIndex=this.items[this.size-1].$index,this.startIndex<=this.absMinIndex?this.startIndex=this.absMinIndex:this.startIndex>this.absMaxIndex&&(this.startIndex=this.absMaxIndex),!0},e.prototype.updateItems=function(n,t,r,i){if(!this.size||Number.isNaN(this.firstIndex))return{trackedIndex:NaN,toRemove:[]};for(var o=r,s=i?this.lastIndex:this.firstIndex,a=[],c=i?-1:1,u=this.size-1,h=new Map,p=Array.prototype[i?"unshift":"push"],m=function(_){var D=g.items[_];h.set(D.$index,D);var M=n(D);if(!M||Array.isArray(M)&&!M.length)return D.toRemove=!0,o+=D.$index>=r?i?1:0:i?0:-1,g.shiftExtremum(-1,i),"continue";if(!Array.isArray(M))return D.updateIndex(s),p.call(a,D),s+=c,"continue";D.$index<r?o+=i?0:M.length-1:D.$index>r&&(o+=i?1-M.length:0);var j=!0,X=[];(i?fe([],de(M),!1).reverse():M).forEach(function(Qe,Ct){var Pr;D.data===Qe?(r===D.$index&&(o=s+Ct*c),D.updateIndex(s+Ct*c),Pr=D,j=!1):(Pr=t(s+Ct*c,Qe)).toInsert=!0,p.call(X,Pr)}),D.toRemove=j,p.call.apply(p,fe([a],de(X),!1)),s+=c*M.length,M.length>1&&g.shiftExtremum(M.length-1,i)},g=this,v=i?u:0;i?v>=0:v<=u;v+=c)m(v);var y=this.items.filter(function(_){return _.toRemove}),b=Array.from(h).map(function(_){var D=de(_,2),j=D[1];return{$index:D[0],size:j.size,toRemove:j.toRemove}}).sort(function(_,D){return _.$index-D.$index});return this.items=a,this.cache.updateSubset(b,a,i),this.finiteAbsMinIndex===this.finiteAbsMaxIndex?o=NaN:o>this.finiteAbsMaxIndex?o=this.finiteAbsMaxIndex:o<this.finiteAbsMinIndex&&(o=this.finiteAbsMinIndex),{trackedIndex:o,toRemove:y}},e.prototype.cacheItem=function(n){this.cache.add(n)},e.prototype.getFirstVisibleItemIndex=function(){for(var n=this.items.length,t=0;t<n;t++)if(!this.items[t].invisible)return t;return-1},e.prototype.getLastVisibleItemIndex=function(){for(var n=this.items.length-1;n>=0;n--)if(!this.items[n].invisible)return n;return-1},e.prototype.getFirstVisibleItem=function(){var n=this.getFirstVisibleItemIndex();return n>=0?this.items[n]:void 0},e.prototype.getLastVisibleItem=function(){var n=this.getLastVisibleItemIndex();return n>=0?this.items[n]:void 0},e.prototype.getEdgeVisibleItem=function(n,t){return n===(t?J.backward:J.forward)?this.getLastVisibleItem():this.getFirstVisibleItem()},e.prototype.getVisibleItemsCount=function(){return this.items.reduce(function(n,t){return n+(t.invisible?0:1)},0)},e.prototype.getSizeByIndex=function(n){return this.cache.getSizeByIndex(n)},e.prototype.checkDefaultSize=function(){return this.cache.recalculateDefaultSize()},e}(),r6=function(){function e(n){this.total=n,this.isInitial=!1,this.busy=new en(!1)}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.count},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.isInitial=!1,this.count++,this.total++,this.busy.set(!1)},e.prototype.start=function(){this.busy.set(!0)},e.prototype.dispose=function(){this.busy.dispose()},e}(),i6=function(){function e(n,t){var r=t?t.count:1,i=t?t.innerLoop.count:0;this.instanceIndex=n,this.innerLoop=new r6(i),this.interrupter=null,this.busy=new en(!1),this.end(r)}return Object.defineProperty(e.prototype,"loopId",{get:function(){return"".concat(this.instanceIndex,"-").concat(this.count,"-").concat(this.innerLoop.total)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopIdNext",{get:function(){return"".concat(this.instanceIndex,"-").concat(this.count,"-").concat(this.innerLoop.total+1)},enumerable:!1,configurable:!0}),e.prototype.start=function(n,t){this.isInitial=n,this.initiator=t,this.innerLoop.isInitial=n,this.innerLoop.count=0,this.interrupter=null,this.busy.set(!0)},e.prototype.end=function(n){this.count=n,this.isInitial=!1,this.busy.set(!1)},e.prototype.dispose=function(n){n&&this.busy.dispose(),this.innerLoop.dispose()},e}(),o6=function(){function e(){this.reset()}return e.prototype.reset=function(){this.startDelta=0,this.before=0},e}(),s6=function(){function e(){this.reset()}return e.prototype.reset=function(){this.index=NaN,this.indexBuffer=NaN,this.position=NaN},e}(),a6=function(){function e(){this.reset()}return e.prototype.reset=function(){this.index=NaN,this.indexBuffer=NaN},e}(),c6=function(){function e(){this.reset()}return e.prototype.reset=function(){this.index=NaN,this.delta=0},e}(),l6=function(){function e(n){this.directionPriority=n,this.callCount=0,this.positions=new o6,this.first=new s6,this.last=new a6,this.firstVisible=new c6,this.reset()}return e.prototype.reset=function(){this._newItemsData=null,this.items=[],this.positions.reset(),this.first.reset(),this.last.reset(),this.firstVisible.reset(),this.hasAnotherPack=!1,this.direction=null,this.cancel=null,this.simulate=!1,this.isCheck=!1,this.doRemove=!1},Object.defineProperty(e.prototype,"newItemsData",{get:function(){return this._newItemsData},set:function(n){this._newItemsData=n,n&&n.length&&this.callCount++},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFetch",{get:function(){return!!this.count},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNewItems",{get:function(){return!(!this._newItemsData||!this._newItemsData.length)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.first.index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return isNaN(this.first.index)||isNaN(this.last.index)?0:this.last.index-this.first.index+1},enumerable:!1,configurable:!0}),e.prototype.shouldCheckPreSizeExpectation=function(n){if(this.directionPriority===J.backward)return!1;var t=this.items[this.items.length-1];return t&&t.$index<n},e.prototype.startSimulate=function(n){this.simulate=!0,this._newItemsData=n.map(function(t){return t.data}),this.items=n,this.hasAnotherPack=!1},e.prototype.stopSimulate=function(){this.simulate=!1,this.isCheck=!1,this.doRemove=!1},e.prototype.fill=function(n,t){this.startSimulate(n),this.first.index=n[0].$index,this.last.index=n[n.length-1].$index,this.direction=J.forward,this.firstVisible.index=t,this.firstVisible.delta=0},e.prototype.check=function(n){this.startSimulate(n),this.last.index=n[0].$index,this.first.index=n[n.length-1].$index,this.isCheck=!0},e.prototype.update=function(n,t,r,i){this.startSimulate(r),this.firstVisible.index=n,this.firstVisible.delta=t,this.doRemove=i.length>0},e}(),u6=function(){function e(){this.callCount=0,this.reset()}return Object.defineProperty(e.prototype,"force",{get:function(){return this.forceForward||this.forceBackward},enumerable:!1,configurable:!0}),e.prototype.reset=function(n){this.doClip=!1,n||(this.forceForward=!1,this.forceBackward=!1)},e}(),d6=function(){function e(){this.reset()}return Object.defineProperty(e.prototype,"noSize",{get:function(){return this.sizeBefore===this.sizeAfter},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.sizeBefore=0,this.sizeAfter=0,this.positionBefore=0,this.cancel=null},e}(),f6=function(){function e(){this.reset()}return e.prototype.reset=function(){this.previous=null,this.current=null,this.syntheticPosition=null,this.syntheticFulfill=!1,this.positionBeforeAsync=null,this.positionBeforeAdjust=null,this.positionAfterAdjust=null,this.stop()},e.prototype.stop=function(){this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),this.cancelAnimation&&(this.cancelAnimation(),this.cancelAnimation=null)},e.prototype.hasPositionChanged=function(n){var t=this.positionBeforeAdjust,r=this.positionAfterAdjust;return null===t||t!==n||null===r||r!==n},e}(),h6=function(){function e(n,t,r){this.packageInfo=n,this.settings=t,this.initTime=Number(new Date),this.paused=new en(!1),this.cycle=new i6(this.settings.instanceIndex,r?r.cycle:void 0),this.fetch=new l6(t.directionPriority),this.clip=new u6,this.render=new d6,this.scroll=new f6}return Object.defineProperty(e.prototype,"time",{get:function(){return Number(new Date)-this.initTime},enumerable:!1,configurable:!0}),e.prototype.startWorkflowCycle=function(n,t){this.cycle.start(n,t)},e.prototype.endWorkflowCycle=function(n){this.cycle.end(n)},e.prototype.startInnerLoop=function(){var n=this,t=n.cycle,r=n.scroll,i=n.fetch,o=n.render,s=n.clip;return t.innerLoop.start(),r.positionBeforeAsync=null,i.simulate||i.reset(),s.reset(s.force),o.reset(),Mt({},t.innerLoop.first?{process:t.initiator,doRender:i.simulate&&i.items.length>0}:{})},e.prototype.endInnerLoop=function(){var n=this,t=n.fetch,r=n.clip,i=n.render,o=n.cycle;t.stopSimulate(),r.reset(!0),t.cancel&&(t.cancel(),t.cancel=null),i.cancel&&(i.cancel(),i.cancel=null),o.innerLoop.done()},e.prototype.dispose=function(){this.scroll.stop(),this.cycle.dispose(),this.paused.dispose(),this.endInnerLoop()},e}(),Cy=hy(),p6=Cy.filter(function(e){return!!e.allowedWhenPaused}).map(function(e){return e.name}),xy=function(e,n){return!!e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,n)},A1=function(e,n,t){var r=n;if(!xy(n,"items")){var i=Array.isArray(n)?n:[n];r=e?{items:i,bof:t}:{items:i,eof:t}}return r},m6=function(){function e(n,t,r){var i=this;this.source={},this.box={},this.demand={},this.setFirstOrLastVisible=function(u){},this.getWorkflow=t,this.logger=r,this.relax$=null,this.relaxRun=null,this.reloadCounter=0;var o=n?.id||-1,s=n&&mf.get(n.id)||{};tl_setBlock(!0,o);var a=n?Cy.map(function(u){var h=n[u.name];if(n.augmented){var p=s[u.name];p&&(h=p.default)}return Mt(Mt({},u),{value:h})}):hy();Object.entries(s).forEach(function(u){var h=de(u,2),p=h[0],m=h[1],g=a.find(function(v){return v.name===p});g&&m&&(g.value=m.default)}),a.filter(function(u){return u.type===Mn.Scalar&&u.permanent}).forEach(function(u){var p=u.value;return Object.defineProperty(i,u.name,{configurable:!0,get:function(){return p}})}),a.filter(function(u){return u.type===Mn.Reactive}).forEach(function(u){var h=u.name;i.source[h]=u.value,Object.defineProperty(i,h,{configurable:!0,get:function(){return i.source[h]}})});var c=function(u){tl_setBox(u,o)&&([Pe.firstVisible,Pe.firstVisible$].some(function(h){return h===u.name})?i.setFirstOrLastVisible({first:!0}):[Pe.lastVisible,Pe.lastVisible$].some(function(h){return h===u.name})&&i.setFirstOrLastVisible({last:!0}))};a.filter(function(u){return u.type===Mn.Scalar&&!!u.reactive}).forEach(function(u){var h=u.name,m=u.reactive;i.box[h]=u.value,Object.defineProperty(i,h,{configurable:!0,set:function(g){if(g!==i.box[h]){i.box[h]=g,i.source[m].set(g);var v=s[m];v&&v.emit(v.source,g)}},get:function(){return c(u),i.box[h]}})}),a.filter(function(u){return u.type===Mn.Scalar&&u.onDemand}).forEach(function(u){var h=u.name;i.demand[h]=u.value,Object.defineProperty(i,h,{configurable:!0,get:function(){return i.demand[h]}})}),n&&(a.forEach(function(u){var h=u.name,p=u.type,m=u.permanent,g=i[h];p===Mn.Function?g=g.bind(i):p===Mn.WorkflowRunner?g=i.getWorkflowRunnerMethod(g,h):p===Mn.Reactive&&s[h]?g=n[h]:h===Pe.augmented&&(g=!0);var v=!m&&p===Mn.Scalar;Object.defineProperty(n,h,{configurable:!0,get:function(){return c(u),v?i[h]:g}})}),this.externalContext=n,tl_setBlock(!1,o))}return Object.defineProperty(e.prototype,"workflow",{get:function(){return this.getWorkflow()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reloadCount",{get:function(){return this.reloadCounter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reloadId",{get:function(){return this.id+"."+this.reloadCounter},enumerable:!1,configurable:!0}),e.prototype.getPromisifiedMethod=function(n,t){var r=this;return new Promise(function(i){r.relax$&&r.relax$.once(function(o){return i(o)}),n.apply(r,t)})},e.prototype.getWorkflowRunnerMethod=function(n,t){var r=this;return function(){for(var i,o,s,a,c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return r.relax$?r.paused&&!p6.includes(t)?(null===(a=null===(s=r.logger)||void 0===s?void 0:s.log)||void 0===a||a.call(s,function(){return"scroller is paused: "+t+" method is ignored"}),Promise.resolve(FH)):r.getPromisifiedMethod(n,c):(null===(o=null===(i=r.logger)||void 0===i?void 0:i.log)||void 0===o||o.call(i,function(){return"scroller is not initialized: "+t+" method is ignored"}),Promise.resolve(fy))}},e.prototype.initialize=function(n){var t=this,r=n.buffer,i=n.state,o=n.viewport,s=n.logger,a=n.adapterRun$,c=n.getWorkflow;if(Object.defineProperty(this.demand,Pe.itemsCount,{get:function(){return r.getVisibleItemsCount()}}),Object.defineProperty(this.demand,Pe.bufferInfo,{get:function(){return{firstIndex:r.firstIndex,lastIndex:r.lastIndex,minIndex:r.minIndex,maxIndex:r.maxIndex,absMinIndex:r.absMinIndex,absMaxIndex:r.absMaxIndex,defaultSize:r.defaultSize}}}),this.bof=r.bof.get(),r.bof.on(function(h){return t.bof=h}),this.eof=r.eof.get(),r.eof.on(function(h){return t.eof=h}),Object.defineProperty(this.demand,Pe.packageInfo,{get:function(){return i.packageInfo}}),this.loopPending=i.cycle.innerLoop.busy.get(),i.cycle.innerLoop.busy.on(function(h){return t.loopPending=h}),this.isLoading=i.cycle.busy.get(),i.cycle.busy.on(function(h){return t.isLoading=h}),this.paused=i.paused.get(),i.paused.on(function(h){return t.paused=h}),this.setFirstOrLastVisible=function(h){var p,m,g,v=h.first,b=h.workflow;if(!(!v&&!h.last||null!==(p=b?.call)&&void 0!==p&&p.interrupted)){var _=v?Pe.firstVisible:Pe.lastVisible;if(null!==(g=function(e){var n;return null===(n=nl.get(e||-1))||void 0===n?void 0:n.box}(null===(m=t.externalContext)||void 0===m?void 0:m.id))&&void 0!==g&&g[_]){if(r.items.some(function(j){return!j.element}))return void s.log("skipping first/lastVisible set because not all buffered items are rendered at this moment");var M=o.getEdgeVisibleItem(r.items,v?J.backward:J.forward).item;(!M||M.element!==t[_].element)&&(t[_]=M?M.get():Xs)}}},this.logger=s,a){this.relax$||(this.relax$=new en);var u=this.relax$;a.on(function(h){var p=h.status,m=h.payload,g=function(){};p===N.start?g=t.isLoading$.on(function(v){v||(g(),u.set({success:!0,immediate:!1,details:null}))}):(p===N.done||p===N.error)&&(g(),u.set({success:p!==N.error,immediate:!0,details:p===N.error&&m?String(m.error):null}))})}c&&(this.getWorkflow=c),this.init=!0},e.prototype.dispose=function(){var n=this;this.relax$&&this.relax$.dispose(),this.externalContext&&this.resetContext(),Object.getOwnPropertyNames(this).forEach(function(t){delete n[t]}),this.disposed=!0},e.prototype.resetContext=function(){var t,n=this,r=mf.get(null===(t=this.externalContext)||void 0===t?void 0:t.id);Cy.forEach(function(i){var o=i.type,a=i.name,c=i.value;if(o!==Mn.Reactive&&!i.permanent&&Object.defineProperty(n.externalContext,a,{configurable:!0,get:function(){return c}}),o===Mn.Reactive&&r){var u=r[a];u&&(u.default.reset(),u.emit(u.source,u.default.get()))}})},e.prototype.reset=function(n){this.reloadCounter++,this.logger.logAdapterMethod("reset",n," of ".concat(this.reloadId)),this.workflow.call({process:k.reset,status:N.start,payload:{options:n}})},e.prototype.reload=function(n){this.reloadCounter++,this.logger.logAdapterMethod("reload",n," of ".concat(this.reloadId)),this.workflow.call({process:k.reload,status:N.start,payload:{options:n}})},e.prototype.append=function(n,t){var r=A1(!1,n,t);this.logger.logAdapterMethod("append",[r.items,r.eof]),this.workflow.call({process:k.append,status:N.start,payload:{options:r}})},e.prototype.prepend=function(n,t){var r=A1(!0,n,t);this.logger.logAdapterMethod("prepend",[r.items,r.bof]),this.workflow.call({process:k.prepend,status:N.start,payload:{options:r}})},e.prototype.check=function(){this.logger.logAdapterMethod("check"),this.workflow.call({process:k.check,status:N.start})},e.prototype.remove=function(n){n=function(e){return xy(e,"predicate")||xy(e,"indexes")||(e={predicate:e}),e}(n),this.logger.logAdapterMethod("remove",n),this.workflow.call({process:k.remove,status:N.start,payload:{options:n}})},e.prototype.clip=function(n){this.logger.logAdapterMethod("clip",n),this.workflow.call({process:k.clip,status:N.start,payload:{options:n}})},e.prototype.insert=function(n){this.logger.logAdapterMethod("insert",n),this.workflow.call({process:k.insert,status:N.start,payload:{options:n}})},e.prototype.replace=function(n){this.logger.logAdapterMethod("replace",n),this.workflow.call({process:k.replace,status:N.start,payload:{options:n}})},e.prototype.update=function(n){this.logger.logAdapterMethod("update",n),this.workflow.call({process:k.update,status:N.start,payload:{options:n}})},e.prototype.pause=function(){this.logger.logAdapterMethod("pause"),this.workflow.call({process:k.pause,status:N.start})},e.prototype.resume=function(){this.logger.logAdapterMethod("resume"),this.workflow.call({process:k.pause,status:N.start,payload:{options:{resume:!0}}})},e.prototype.fix=function(n){this.logger.logAdapterMethod("fix",n),this.workflow.call({process:k.fix,status:N.start,payload:{options:n}})},e.prototype.relaxUnchained=function(n,t){var r=this,i=function(){return"function"==typeof n&&t===r.reloadId&&n()};return this.isLoading||i(),new Promise(function(o){r.isLoading?r.isLoading$.once(function(){i(),o(!1)}):o(!0)}).then(function(o){var s,a;if(r.disposed)return{immediate:o,success:!1,details:"Adapter was disposed"};var c=t===r.reloadId;return null===(a=null===(s=r.logger)||void 0===s?void 0:s.log)||void 0===a||a.call(s,function(){return c?void 0:"relax promise cancelled due to ".concat(t," != ").concat(r.reloadId)}),{immediate:o,success:c,details:c?null:"Interrupted by reload or reset"}})},e.prototype.relax=function(n){var t=this,r=this.reloadId;return this.logger.logAdapterMethod("relax",n," of ".concat(r)),this.init?this.relaxRun=this.relaxRun?this.relaxRun.then(function(){return t.relaxUnchained(n,r)}):this.relaxUnchained(n,r).then(function(i){return t.relaxRun=null,i}):Promise.resolve(fy)},e.prototype.showLog=function(){this.logger.logAdapterMethod("showLog"),this.logger.logForce()},e}(),y6=0,N1=function(){function e(n){var t=n.datasource,r=n.consumer,i=n.element,o=n.workflow,s=n.Routines,a=n.scroller,c=yf(t,o8).params.get;if(!c.isValid)throw new Error("".concat("Invalid datasource:"," ").concat(c.errors[0]));var u=a?a.state.packageInfo:{consumer:r,core:h1};if(i=a?a.routines.element:i,o=a?a.workflow:o,s&&!(s.prototype instanceof xf)){var h=function(p){function m(){return null!==p&&p.apply(this,arguments)||this}return Ue(m,p),m}(xf);Object.getOwnPropertyNames(s.prototype).filter(function(p){return"constructor"!==p}).forEach(function(p){return h.prototype[p]=s?.prototype[p]}),s=h}this.workflow=o,this.settings=new A8(t.settings,t.devSettings,++y6),this.logger=new X8(this,u,t.adapter),this.routines=new(s||xf)(i,this.settings),this.state=new h6(u,this.settings,a?a.state:void 0),this.buffer=new n6(this.settings,o.onDataChanged,this.logger),this.viewport=new Q8(this.settings,this.routines,this.state,this.logger),this.logger.object("vscroll settings object",this.settings,!0),this.initDatasource(t,a)}return e.prototype.initDatasource=function(n,t){var r=this;if(t)return this.datasource=n,void(this.adapter=t.adapter);var i=n instanceof p1,o=!i&&!this.settings.adapter;if(i)this.datasource=n;else{var s=py(function(){return{mock:o}});this.datasource=new s(n),this.settings.adapter&&(n.adapter=this.datasource.adapter)}this.adapter=new m6(o?null:this.datasource.adapter,function(){return r.workflow},this.logger)},e.prototype.init=function(n){var t=this;this.viewport.reset(this.buffer.startIndex),this.logger.stat("initialization"),this.adapter.initialize({buffer:this.buffer,state:this.state,viewport:this.viewport,logger:this.logger,adapterRun$:n,getWorkflow:function(){return t.workflow}})},e.prototype.dispose=function(n){this.logger.log(function(){return"disposing scroller"+(n?" (forever)":"")}),n&&this.adapter.dispose(),this.buffer.dispose(),this.state.dispose()},e.prototype.finalize=function(){},e}(),b6=function(){function e(n){var t=this,r=n.element,i=n.datasource,o=n.consumer,s=n.run,a=n.Routines,c=yf(n,T8);if(!c.isValid)throw new Error("Invalid Workflow params: ".concat(c.errors.join(", "),"."));this.isInitialized=!1,this.disposed=!1,this.initTimer=null,this.adapterRun$=new en,this.cyclesDone=0,this.interruptionCount=0,this.errors=[],this.offScroll=function(){return null},this.propagateChanges=s,this.stateMachineMethods={run:this.runProcess(),interrupt:this.interrupt.bind(this),done:this.done.bind(this),onError:this.onError.bind(this)},this.scroller=new N1({element:r,datasource:i,consumer:o,workflow:this.getUpdater(),Routines:a}),this.scroller.settings.initializeDelay?this.initTimer=setTimeout(function(){t.initTimer=null,t.init()},this.scroller.settings.initializeDelay):this.init()}return e.prototype.init=function(){var n=this;this.scroller.init(this.adapterRun$),this.offScroll=this.scroller.routines.onScroll(function(i){return n.callWorkflow({process:Re.scroll,status:N.start,payload:{event:i}})}),this.isInitialized=!0,this.callWorkflow({process:Re.init,status:N.start})},e.prototype.changeItems=function(n){this.propagateChanges(n)},e.prototype.callWorkflow=function(n){if(this.isInitialized){var t=n.process,r=n.status;if(this.scroller.state.paused.get()&&![k.pause,k.reset].includes(t))return void this.scroller.logger.log("scroller is paused: "+t+" process is ignored");t&&t.startsWith("adapter")&&r!==N.next&&this.adapterRun$.set(n),this.process(n)}},e.prototype.getUpdater=function(){return{call:this.callWorkflow.bind(this),onDataChanged:this.changeItems.bind(this)}},e.prototype.process=function(n){var t=n.status,r=n.process,i=n.payload;this.scroller.settings.logProcessRun&&this.scroller.logger.log(function(){return fe(fe(fe(["%cfire%c"],["color: #cc7777;","color: #000000;"],!1),[r,'"'.concat(t,'"')],!1),de(void 0!==i?[i]:[]),!1)}),this.scroller.logger.logProcess(n),r===Re.end&&this.scroller.finalize(),function(e){var n=e.input,t=n.process,r=n.status,i=n.payload,o=void 0===i?{}:i,s=e.methods,a=s.run,c=s.interrupt,u=s.done;if(r===N.error)return(0,s.onError)(t,o),void(t.startsWith("adapter")||a(Ao)(o));var p=o.options;switch(t){case Re.init:r===N.start&&a(Rn)(t),r===N.next&&a(S1)();break;case Re.scroll:r===N.start&&a(R8)(o),r===N.next&&a(Rn)(t);break;case k.reset:case k.reload:r===N.start&&(t===k.reset?a(k8)(p):a(O8)(p)),r===N.next&&(c(Mt({process:t},o)),o.finalize?a(Ao)():a(Rn)(t));break;case k.append:case k.prepend:r===N.start&&a(P8)({process:t,options:p}),r===N.next&&a(Rn)(t);break;case k.check:r===N.start&&a(F8)(),r===N.next&&a(Rn)(t);break;case k.remove:r===N.start&&a(L8)(p),r===N.next&&a(Rn)(t);break;case k.clip:r===N.start&&a(V8)(p),r===N.next&&a(Rn)(t);break;case k.insert:r===N.start&&a(E1)(p),r===N.next&&a(Rn)(t);break;case k.replace:r===N.start&&a(j8)(p),r===N.next&&a(Rn)(t);break;case k.update:r===N.start&&a(Cf)(p),r===N.next&&a(Rn)(t);break;case k.pause:r===N.start&&a(B8)(p),r===N.next&&a(Rn)(t);break;case k.fix:r===N.start&&a(U8)(p),r===N.next&&a(Rn)(t);break;case Re.start:switch(o.process){case k.append:case k.insert:case k.replace:case k.update:o.doRender?a(_y)():a(cl)();break;case k.check:a(_y)();break;case k.remove:a(cl)();break;default:a(H8)()}break;case Re.preFetch:r===N.next&&(o.process===k.clip?a(M1)():a(G8)()),r===N.done&&a(Ao)();break;case Re.fetch:a(q8)();break;case Re.postFetch:r===N.next&&a(_y)(),r===N.done&&a(Ao)();break;case Re.render:if(r===N.next)switch(o.process){case k.append:case k.check:case k.insert:case k.replace:case k.update:a(cl)();break;default:a(M1)()}r===N.done&&a(Ao)();break;case Re.preClip:o.doClip?a(Z8)():a(cl)();break;case Re.clip:a(cl)();break;case Re.adjust:a(Ao)();break;case Re.end:if(r===N.next)switch(o.process){case k.reset:case k.reload:u(),a(Rn)(o.process);break;default:a(S1)()}r===N.done&&u()}}({input:n,methods:this.stateMachineMethods})},e.prototype.runProcess=function(){var n=this;return function(t){var r=t.run,i=t.process,o=t.name;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];n.scroller.settings.logProcessRun&&n.scroller.logger.log(function(){return fe(fe(fe(["%crun%c"],["color: #333399;","color: #000000;"],!1),[i||o],!1),de(s),!1)}),r.apply(void 0,fe([n.scroller],de(s),!1))}}},e.prototype.onError=function(n,t){var r=t&&String(t.error)||"",i=this.scroller.state;this.errors.push({process:n,message:r,time:i.time,loop:i.cycle.loopIdNext}),this.scroller.logger.logError(r)},e.prototype.interrupt=function(n){var t=this,r=n.process,o=n.datasource;if(n.finalize){var s=this.scroller,a=s.workflow,c=s.logger;a.call=function(h){return c.log("[skip wf call]")},a.call.interrupted=!0,this.scroller.workflow=this.getUpdater(),this.interruptionCount++,c.log(function(){return"workflow had been interrupted by the ".concat(r," process (").concat(t.interruptionCount,")")})}if(o){var u=function(){t.scroller.logger.log("new Scroller instantiation");var h=new N1({datasource:o,scroller:t.scroller});t.scroller.dispose(),t.scroller=h,t.scroller.init()};this.scroller.state.cycle.busy.get()?this.scroller.adapter.relax(u.bind(this)):u()}},e.prototype.done=function(){var n=this.scroller,t=n.state,r=n.logger;this.cyclesDone++,r.logCycle(!1),t.endWorkflowCycle(this.cyclesDone+1),this.finalize()},e.prototype.dispose=function(){var n=this;this.scroller.logger.log(function(){return"disposing workflow"}),this.initTimer&&clearTimeout(this.initTimer),this.offScroll(),this.adapterRun$.dispose(),this.scroller.dispose(!0),Object.getOwnPropertyNames(this).forEach(function(t){delete n[t]}),this.disposed=!0},e.prototype.finalize=function(){},e}();const D6={name:"ngx-ui-scroll",version:"4.0.0"},_6=["ui-scroll",""],I6=(e,n,t,r)=>({$implicit:e,index:n,odd:t,even:r});function C6(e,n){}function x6(e,n){if(1&e&&(f(0,"div"),pe(1,C6,0,0,"ng-template",3),d()),2&e){const t=n.$implicit,r=Ie();Zr("position",t.invisible?"fixed":null)("left",t.invisible?"-99999px":null),dn("data-sid",t.$index),w(),x("ngTemplateOutlet",r.template())("ngTemplateOutletContext",R0(7,I6,t.data,t.$index,t.$index%2,!(t.$index%2)))}}let R1=(()=>{class e{constructor(){this.template=jn(null),this.items=jn([]),this.ngZone=C(be),this.element=C(Ft).nativeElement,C(br).onDestroy(()=>this.workflow?.dispose()),Mu(()=>{this.workflow=this.ngZone.runOutsideAngular(()=>new b6({consumer:D6,element:this.element,datasource:this.datasource,run:t=>{!t.length&&!this.items.length||this.ngZone.run(()=>this.items.set(t))},...this.Routines?{Routines:this.Routines}:{}}))})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["","ui-scroll",""]],attrs:_6,decls:4,vars:0,consts:[["data-padding-backward",""],[3,"position","left"],["data-padding-forward",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(r,i){1&r&&(O(0,"div",0),function Dx(e,n,t,r,i,o,s,a,c,u,h,p,m){cn("NgControlFlow");const g=I(),v=Q(),y=void 0!==c,b=I(),_=a?s.bind(b[15][8]):s,D=new r3(y,_);b[L+e]=D,bc(g,v,e+1,n,t,r,i,Ln(v.consts,o)),y&&bc(g,v,e+2,c,u,h,p,Ln(v.consts,m))}(1,x6,2,12,"div",1,bx),O(3,"div",2)),2&r&&(w(),_x(i.items()))},dependencies:[yv],encapsulation:2,changeDetection:0})}}return e})(),ii=(()=>{class e{constructor(t,r){this.templateRef=t,this.viewContainer=r}set uiScrollOf(t){this.datasource=t}set uiScrollRoutines(t){this.Routines=t}ngOnInit(){const t=this.viewContainer.createComponent(R1);t.instance.datasource=this.datasource,t.instance.template.set(this.templateRef),t.instance.Routines=this.Routines}static{this.\u0275fac=function(r){return new(r||e)(T(xr),T(Cn))}}static{this.\u0275dir=Y({type:e,selectors:[["","uiScroll","","uiScrollOf",""]],inputs:{uiScrollOf:"uiScrollOf",uiScrollRoutines:"uiScrollRoutines"}})}}return e})(),E6=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=$n({type:e})}static{this.\u0275inj=yn({})}}return e})();const sa=()=>({source:new zt,emit:(e,n)=>e.next(n)}),k1=()=>({source:new mn(Xs),emit:(e,n)=>e.next(n)}),Ce=py(()=>({mock:!1,reactive:{[Pe.init$]:sa(),[Pe.isLoading$]:sa(),[Pe.loopPending$]:sa(),[Pe.firstVisible$]:k1(),[Pe.lastVisible$]:k1(),[Pe.bof$]:sa(),[Pe.eof$]:sa(),[Pe.paused$]:sa()}}));function Ef(...e){const n=zc(e),t=HS(e),{args:r,keys:i}=US(e);if(0===r.length)return vt([],n);const o=new ut(function M6(e,n,t=zi){return r=>{O1(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)O1(n,()=>{const u=vt(e[c],n);let h=!1;u.subscribe(yt(r,p=>{o[c]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>qS(i,s):zi));return t?o.pipe(GS(t)):o}function O1(e,n,t){e?ti(t,e,n):n()}const Sf=ih(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function aa(e=1/0){return jt(zi,e)}function Ey(...e){return function T6(){return aa(1)}()(vt(e,zc(e)))}function P1(e){return new ut(n=>{lr(e()).subscribe(n)})}function Mf(e,n){const t=He(e)?e:()=>e,r=i=>i.error(t());return new ut(n?i=>n.schedule(r,0,i):r)}const Xn=new ut(e=>e.complete());function Sy(){return Rt((e,n)=>{let t=null;e._refCount++;const r=yt(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class F1 extends ut{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,_w(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new $t;const t=this.getSubject();n.add(this.source.subscribe(yt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=$t.EMPTY)}return n}refCount(){return Sy()(this)}}function Fi(e){return e<=0?()=>Xn:Rt((n,t)=>{let r=0;n.subscribe(yt(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Tf(e){return Rt((n,t)=>{let r=!1;n.subscribe(yt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function L1(e=R6){return Rt((n,t)=>{let r=!1;n.subscribe(yt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function R6(){return new Sf}function No(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ar((i,o)=>e(i,o,r)):zi,Fi(1),t?Tf(n):L1(()=>new Sf))}function tn(e,n,t){const r=He(e)||n||t?{next:e,error:n,complete:t}:e;return r?Rt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(yt(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):zi}function ca(e){return Rt((n,t)=>{let o,r=null,i=!1;r=n.subscribe(yt(t,void 0,void 0,s=>{o=lr(e(s,ca(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function My(e){return e<=0?()=>Xn:Rt((n,t)=>{let r=[];n.subscribe(yt(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}let L6=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(z(En))};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const se="primary",ul=Symbol("RouteTitle");class $6{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function la(e){return new $6(e)}function z6(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(":"===s[0])i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Nr(e,n){const t=e?Ty(e):void 0,r=n?Ty(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!B1(e[i],n[i]))return!1;return!0}function Ty(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function B1(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function $1(e){return e.length>0?e[e.length-1]:null}function Vi(e){return function S6(e){return!!e&&(e instanceof ut||He(e.lift)&&He(e.subscribe))}(e)?e:_c(e)?vt(Promise.resolve(e)):K(e)}const H6={exact:function H1(e,n,t){if(!ko(e.segments,n.segments)||!Af(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!H1(e.children[r],n.children[r],t))return!1;return!0},subset:G1},z1={exact:function G6(e,n){return Nr(e,n)},subset:function q6(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>B1(e[t],n[t]))},ignored:()=>!0};function U1(e,n,t){return H6[t.paths](e.root,n.root,t.matrixParams)&&z1[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function G1(e,n,t){return q1(e,n,n.segments,t)}function q1(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!ko(i,t)||n.hasChildren()||!Af(i,t,r))}if(e.segments.length===t.length){if(!ko(e.segments,t)||!Af(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!G1(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(ko(e.segments,i)&&Af(e.segments,i,r)&&e.children[se])&&q1(e.children[se],n,o,r)}}function Af(e,n,t){return n.every((r,i)=>z1[t](e[i].parameters,r.parameters))}class Ro{root;queryParams;fragment;_queryParamMap;constructor(n=new Fe([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=la(this.queryParams),this._queryParamMap}toString(){return X6.serialize(this)}}class Fe{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rf(this)}}class dl{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=la(this.parameters),this._parameterMap}toString(){return X1(this)}}function ko(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let fl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:()=>new Nf,providedIn:"root"})}return e})();class Nf{parse(n){const t=new s9(n);return new Ro(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${hl(n.root,!0)}`,r=function K6(e){const n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${kf(t)}=${kf(i)}`).join("&"):`${kf(t)}=${kf(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function Y6(e){return encodeURI(e)}(n.fragment)}`:""}`}}const X6=new Nf;function Rf(e){return e.segments.map(n=>X1(n)).join("/")}function hl(e,n){if(!e.hasChildren())return Rf(e);if(n){const t=e.children[se]?hl(e.children[se],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==se&&r.push(`${i}:${hl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Z6(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===se&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==se&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===se?[hl(e.children[se],!1)]:[`${i}:${hl(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[se]?`${Rf(e)}/${t[0]}`:`${Rf(e)}/(${t.join("//")})`}}function W1(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kf(e){return W1(e).replace(/%3B/gi,";")}function Ay(e){return W1(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Of(e){return decodeURIComponent(e)}function Z1(e){return Of(e.replace(/\+/g,"%20"))}function X1(e){return`${Ay(e.path)}${function Q6(e){return Object.entries(e).map(([n,t])=>`;${Ay(n)}=${Ay(t)}`).join("")}(e.parameters)}`}const J6=/^[^\/()?;#]+/;function Ny(e){const n=e.match(J6);return n?n[0]:""}const e9=/^[^\/()?;=#]+/,n9=/^[^=?&#]+/,i9=/^[^&#]+/;class s9{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fe([],{}):new Fe([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[se]=new Fe(n,t)),r}parseSegment(){const n=Ny(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(n),new dl(Of(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function t9(e){const n=e.match(e9);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Ny(this.remaining);i&&(r=i,this.capture(r))}n[Of(t)]=Of(r)}parseQueryParam(n){const t=function r9(e){const n=e.match(n9);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function o9(e){const n=e.match(i9);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=Z1(t),o=Z1(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ny(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=se);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[se]:new Fe([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new E(4011,!1)}}function Y1(e){return e.segments.length>0?new Fe([],{[se]:e}):e}function Q1(e){const n={};for(const[r,i]of Object.entries(e.children)){const o=Q1(i);if(r===se&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function a9(e){if(1===e.numberOfChildren&&e.children[se]){const n=e.children[se];return new Fe(e.segments.concat(n.segments),n.children)}return e}(new Fe(e.segments,n))}function Oo(e){return e instanceof Ro}function K1(e){let n;const i=Y1(function t(o){const s={};for(const c of o.children){const u=t(c);s[c.outlet]=u}const a=new Fe(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function J1(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return Ry(i,i,i,t,r);const o=function l9(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new tT(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new tT(t,n,r)}(n);if(o.toRoot())return Ry(i,i,new Fe([],{}),t,r);const s=function u9(e,n,t){if(e.isAbsolute)return new Ff(n,!0,0);if(!t)return new Ff(n,!1,NaN);if(null===t.parent)return new Ff(t,!0,0);const r=Pf(e.commands[0])?0:1;return function d9(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new Ff(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?gl(s.segmentGroup,s.index,o.commands):nT(s.segmentGroup,s.index,o.commands);return Ry(i,s.segmentGroup,a,t,r)}function Pf(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function pl(e){return"object"==typeof e&&null!=e&&e.outlets}function Ry(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),s=e===n?t:eT(e,n,t);const a=Y1(Q1(s));return new Ro(a,o,i)}function eT(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:eT(o,n,t)}),new Fe(e.segments,r)}class tT{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Pf(r[0]))throw new E(4003,!1);const i=r.find(pl);if(i&&i!==$1(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ff{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function nT(e,n,t){if(e??=new Fe([],{}),0===e.segments.length&&e.hasChildren())return gl(e,n,t);const r=function h9(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(pl(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!iT(c,u,s))return o;r+=2}else{if(!iT(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new Fe(e.segments.slice(0,r.pathIndex),{});return o.children[se]=new Fe(e.segments.slice(r.pathIndex),e.children),gl(o,0,i)}return r.match&&0===i.length?new Fe(e.segments,{}):r.match&&!e.hasChildren()?ky(e,n,t):r.match?gl(e,0,i):ky(e,n,t)}function gl(e,n,t){if(0===t.length)return new Fe(e.segments,{});{const r=function f9(e){return pl(e[0])?e[0].outlets:{[se]:e}}(t),i={};if(Object.keys(r).some(o=>o!==se)&&e.children[se]&&1===e.numberOfChildren&&0===e.children[se].segments.length){const o=gl(e.children[se],n,t);return new Fe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=nT(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Fe(e.segments,i)}}function ky(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(pl(o)){const c=p9(o.outlets);return new Fe(r,c)}if(0===i&&Pf(t[0])){r.push(new dl(e.segments[n].path,rT(t[0]))),i++;continue}const s=pl(o)?o.outlets[se]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Pf(a)?(r.push(new dl(s,rT(a))),i+=2):(r.push(new dl(s,{})),i++)}return new Fe(r,{})}function p9(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=ky(new Fe([],{}),0,r))}),n}function rT(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function iT(e,n,t){return e==t.path&&Nr(n,t.parameters)}const Lf="imperative";var me=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(me||{});class Rr{id;url;constructor(n,t){this.id=n,this.url=t}}class ml extends Rr{type=me.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oi extends Rr{urlAfterRedirects;type=me.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var kn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(kn||{}),Vf=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Vf||{});class Po extends Rr{reason;code;type=me.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ua extends Rr{reason;code;type=me.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}}class Oy extends Rr{error;target;type=me.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class oT extends Rr{urlAfterRedirects;state;type=me.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g9 extends Rr{urlAfterRedirects;state;type=me.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m9 extends Rr{urlAfterRedirects;state;shouldActivate;type=me.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class v9 extends Rr{urlAfterRedirects;state;type=me.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y9 extends Rr{urlAfterRedirects;state;type=me.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w9{route;type=me.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class b9{route;type=me.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class D9{snapshot;type=me.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _9{snapshot;type=me.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I9{snapshot;type=me.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C9{snapshot;type=me.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sT{routerEvent;position;anchor;type=me.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Py{}class jf{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}}function pr(e){return e.outlet||se}function vl(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class A9{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return vl(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new yl(this.rootInjector)}}let yl=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new A9(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(z(Ut))};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();class aT{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Fy(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Fy(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Ly(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Ly(n,this._root).map(t=>t.value)}}function Fy(e,n){if(e===n.value)return n;for(const t of n.children){const r=Fy(e,t);if(r)return r}return null}function Ly(e,n){if(e===n.value)return[n];for(const t of n.children){const r=Ly(e,t);if(r.length)return r.unshift(n),r}return[]}class gr{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function da(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class cT extends aT{snapshot;constructor(n,t){super(n),this.snapshot=t,Vy(this,n)}toString(){return this.snapshot.toString()}}function lT(e){const n=function N9(e){const o=new $f([],{},{},"",{},se,e,null,{});return new uT("",new gr(o,[]))}(e),t=new mn([new dl("",{})]),r=new mn({}),i=new mn({}),o=new mn({}),s=new mn(""),a=new fa(t,r,o,s,i,se,e,n.root);return a.snapshot=n.root,new cT(new gr(a,[]),n)}class fa{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(we(u=>u[ul]))??K(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(we(n=>la(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(we(n=>la(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bf(e,n,t="emptyOnly"){let r;const{routeConfig:i}=e;return r=null===n||"always"!==t&&""!==i?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...i?.data,...e._resolvedData}},i&&fT(i)&&(r.resolve[ul]=i.title),r}class $f{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ul]}constructor(n,t,r,i,o,s,a,c,u){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=la(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=la(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uT extends aT{url;constructor(n,t){super(t),this.url=n,Vy(this,t)}toString(){return dT(this._root)}}function Vy(e,n){n.value._routerState=e,n.children.forEach(t=>Vy(e,t))}function dT(e){const n=e.children.length>0?` { ${e.children.map(dT).join(", ")} } `:"";return`${e.value}${n}`}function jy(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Nr(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Nr(n.params,t.params)||e.paramsSubject.next(t.params),function U6(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Nr(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Nr(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function By(e,n){const t=Nr(e.params,n.params)&&function W6(e,n){return ko(e,n)&&e.every((t,r)=>Nr(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||By(e.parent,n.parent))}function fT(e){return"string"==typeof e.title||null===e.title}const R9=new R("");let $y=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=se;activateEvents=new et;deactivateEvents=new et;attachEvents=new et;detachEvents=new et;routerOutletData=kR(void 0);parentContexts=C(yl);location=C(Cn);changeDetector=C($s);inputBinder=C(zf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new k9(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Y({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Jn]})}return e})();class k9{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===fa?this.route:n===yl?this.childContexts:n===R9?this.outletData:this.parent.get(n,t)}}const zf=new R("");let hT=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Ef([r.queryParams,r.params,r.data]).pipe(ur(([o,s,a],c)=>(a={...o,...s,...a},0===c?K(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function P$(e){const n=ue(e);if(!n)return null;const t=new vc(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})();function wl(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function P9(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return wl(e,r,i);return wl(e,r)})}(e,n,t);return new gr(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>wl(e,a)),s}}const r=function F9(e){return new fa(new mn(e.url),new mn(e.params),new mn(e.queryParams),new mn(e.fragment),new mn(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>wl(e,o));return new gr(r,i)}}class zy{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}}const pT="ngNavigationCancelingError";function Uf(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Oo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=gT(!1,kn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function gT(e,n){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[pT]=!0,t.cancellationCode=n,t}function mT(e){return!!e&&e[pT]}class j9{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),jy(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=da(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=da(n);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=da(n);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=da(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new C9(o.value.snapshot))}),n.children.length&&this.forwardEvent(new _9(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(jy(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),jy(a.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}}class vT{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Hf{component;route;constructor(n,t){this.component=n,this.route=t}}function B9(e,n,t){const r=e._root;return bl(r,n?n._root:null,t,[r.value])}function ha(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function qA(e){return null!==$l(e)}(e)?n.get(e):e:r}function bl(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=da(n);return e.children.forEach(s=>{(function z9(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function U9(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!ko(e.url,n.url);case"pathParamsOrQueryParamsChange":return!ko(e.url,n.url)||!Nr(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!By(e,n)||!Nr(e.queryParams,n.queryParams);default:return!By(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new vT(r)):(o.data=s.data,o._resolvedData=s._resolvedData),bl(e,n,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hf(a.outlet.component,s))}else s&&Dl(n,a,i),i.canActivateChecks.push(new vT(r)),bl(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Dl(a,t.getContext(s),i)),i}function Dl(e,n,t){const r=da(e),i=e.value;Object.entries(r).forEach(([o,s])=>{Dl(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new Hf(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function _l(e){return"function"==typeof e}function yT(e){return e instanceof Sf||"EmptyError"===e?.name}const Gf=Symbol("INITIAL_VALUE");function pa(){return ur(e=>Ef(e.map(n=>n.pipe(Fi(1),function N6(...e){const n=zc(e);return Rt((t,r)=>{(n?Ey(e,t,n):Ey(e,t)).subscribe(r)})}(Gf)))).pipe(we(n=>{for(const t of n)if(!0!==t){if(t===Gf)return Gf;if(!1===t||Y9(t))return t}return!0}),Ar(n=>n!==Gf),Fi(1)))}function Y9(e){return Oo(e)||e instanceof zy}function wT(e){return function PA(...e){return ww(e)}(tn(n=>{if("boolean"!=typeof n)throw Uf(0,n)}),we(n=>!0===n))}class Uy{segmentGroup;constructor(n){this.segmentGroup=n||null}}class Hy extends Error{urlTree;constructor(n){super(),this.urlTree=n}}function ga(e){return Mf(new Uy(e))}class l7{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return K(r);if(i.numberOfChildren>1||!i.children[se])return Mf(new E(4e3,!1));i=i.children[se]}}applyRedirectCommands(n,t,r,i,o){if("string"!=typeof t){const a=t,{queryParams:c,fragment:u,routeConfig:h,url:p,outlet:m,params:g,data:v,title:y}=i,b=Fn(o,()=>a({params:g,data:v,queryParams:c,fragment:u,routeConfig:h,url:p,outlet:m,title:y}));if(b instanceof Ro)throw new Hy(b);t=b}const s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if("/"===t[0])throw new Hy(s);return s}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new Ro(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new Fe(o,s)}createSegments(n,t,r,i){return t.map(o=>":"===o.path[0]?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const Gy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function u7(e,n,t,r,i){const o=bT(e,n,t);return o.matched?(r=function x9(e,n){return e.providers&&!e._injector&&(e._injector=od(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function s7(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?K(i.map(s=>{const a=ha(s,e);return Vi(function X9(e){return e&&_l(e.canMatch)}(a)?a.canMatch(n,t):Fn(e,()=>a(n,t)))})).pipe(pa(),wT()):K(!0)}(r,n,t).pipe(we(s=>!0===s?o:{...Gy}))):K(o)}function bT(e,n,t){if("**"===n.path)return function d7(e){return{matched:!0,parameters:e.length>0?$1(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...Gy}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||z6)(t,e,n);if(!i)return{...Gy};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function DT(e,n,t,r){return t.length>0&&function p7(e,n,t){return t.some(r=>qf(e,n,r)&&pr(r)!==se)}(e,t,r)?{segmentGroup:new Fe(n,h7(r,new Fe(t,e.children))),slicedSegments:[]}:0===t.length&&function g7(e,n,t){return t.some(r=>qf(e,n,r))}(e,t,r)?{segmentGroup:new Fe(e.segments,f7(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new Fe(e.segments,e.children),slicedSegments:t}}function f7(e,n,t,r){const i={};for(const o of t)if(qf(e,n,o)&&!r[pr(o)]){const s=new Fe([],{});i[pr(o)]=s}return{...r,...i}}function h7(e,n){const t={};t[se]=n;for(const r of e)if(""===r.path&&pr(r)!==se){const i=new Fe([],{});t[pr(r)]=i}return t}function qf(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class v7{}class b7{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new l7(this.urlSerializer,this.urlTree)}noMatchError(n){return new E(4002,`'${n.segmentGroup}'`)}recognize(){const n=DT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(we(({children:t,rootSnapshot:r})=>{const i=new gr(r,t),o=new uT("",i),s=function c9(e,n,t=null,r=null){return J1(K1(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(n){const t=new $f([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),se,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,se,t).pipe(we(r=>({children:r,rootSnapshot:t})),ca(r=>{if(r instanceof Hy)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Uy?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(we(s=>s instanceof gr?[s]:[]))}processChildren(n,t,r,i){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return vt(o).pipe(Ws(s=>{const a=r.children[s],c=function T9(e,n){const t=e.filter(r=>pr(r)===n);return t.push(...e.filter(r=>pr(r)!==n)),t}(t,s);return this.processSegmentGroup(n,c,a,s,i)}),function O6(e,n){return Rt(function k6(e,n,t,r,i){return(o,s)=>{let a=t,c=n,u=0;o.subscribe(yt(s,h=>{const p=u++;c=a?e(c,h,p):(a=!0,h),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(e,n,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),Tf(null),function P6(e,n){const t=arguments.length>=2;return r=>r.pipe(e?Ar((i,o)=>e(i,o,r)):zi,My(1),t?Tf(n):L1(()=>new Sf))}(),jt(s=>{if(null===s)return ga(r);const a=_T(s);return function D7(e){e.sort((n,t)=>n.value.outlet===se?-1:t.value.outlet===se?1:n.value.outlet.localeCompare(t.value.outlet))}(a),K(a)}))}processSegment(n,t,r,i,o,s,a){return vt(t).pipe(Ws(c=>this.processSegmentAgainstRoute(c._injector??n,t,c,r,i,o,s,a).pipe(ca(u=>{if(u instanceof Uy)return K(null);throw u}))),No(c=>!!c),ca(c=>{if(yT(c))return function m7(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?K(new v7):ga(r);throw c}))}processSegmentAgainstRoute(n,t,r,i,o,s,a,c){return pr(r)===s||s!==se&&qf(i,o,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s,c):ga(i):ga(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s,a){const{matched:c,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=bT(t,i,o);if(!c)return ga(t);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const g=new $f(o,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IT(i),pr(i),i.component??i._loadedComponent??null,i,CT(i)),v=Bf(g,a,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);const y=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,g,n);return this.applyRedirects.lineralizeSegments(i,y).pipe(jt(b=>this.processSegment(n,r,t,b.concat(m),s,!1,a)))}matchSegmentAgainstRoute(n,t,r,i,o,s){const a=u7(t,r,i,n);return"**"===r.path&&(t.children={}),a.pipe(ur(c=>c.matched?this.getChildConfig(n=r._injector??n,r,i).pipe(ur(({routes:u})=>{const h=r._loadedInjector??n,{parameters:p,consumedSegments:m,remainingSegments:g}=c,v=new $f(m,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,IT(r),pr(r),r.component??r._loadedComponent??null,r,CT(r)),y=Bf(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(y.params),v.data=Object.freeze(y.data);const{segmentGroup:b,slicedSegments:_}=DT(t,m,g,u);if(0===_.length&&b.hasChildren())return this.processChildren(h,u,b,v).pipe(we(M=>new gr(v,M)));if(0===u.length&&0===_.length)return K(new gr(v,[]));const D=pr(r)===o;return this.processSegment(h,u,b,_,D?se:o,!0,v).pipe(we(M=>new gr(v,M instanceof gr?[M]:[])))})):ga(t)))}getChildConfig(n,t,r){return t.children?K({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?K({routes:t._loadedRoutes,injector:t._loadedInjector}):function o7(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?K(!0):K(i.map(s=>{const a=ha(s,e);return Vi(function G9(e){return e&&_l(e.canLoad)}(a)?a.canLoad(n,t):Fn(e,()=>a(n,t)))})).pipe(pa(),wT())}(n,t,r).pipe(jt(i=>i?this.configLoader.loadChildren(n,t).pipe(tn(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function c7(){return Mf(gT(!1,kn.GuardRejected))}())):K({routes:[],injector:n})}}function _7(e){const n=e.value.routeConfig;return n&&""===n.path}function _T(e){const n=[],t=new Set;for(const r of e){if(!_7(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=_T(r.children);n.push(new gr(r.value,i))}return n.filter(r=>!t.has(r))}function IT(e){return e.data||{}}function CT(e){return e.resolve||{}}function xT(e){const n=e.children.map(t=>xT(t)).flat();return[e,...n]}function qy(e){return ur(n=>{const t=e(n);return t?vt(t).pipe(we(()=>n)):K(n)})}let ET=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===se);return r}getResolvedTitleForRoute(t){return t.data[ul]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:()=>C(M7),providedIn:"root"})}return e})(),M7=(()=>{class e extends ET{title;constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(z(L6))};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const Il=new R("",{providedIn:"root",factory:()=>({})});let ST=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=V({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){1&r&&O(0,"router-outlet")},dependencies:[$y],encapsulation:2})}return e})();function Wy(e){const n=e.children&&e.children.map(Wy),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==se&&(t.component=ST),t}const Wf=new R("");let Zy=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(gB);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Vi(t.loadComponent()).pipe(we(MT),tn(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Zc(()=>{this.componentLoaders.delete(t)})),i=new F1(r,()=>new zt).pipe(Sy());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function T7(e,n,t,r){return Vi(e.loadChildren()).pipe(we(MT),jt(i=>i instanceof dC||Array.isArray(i)?K(i):vt(n.compileModuleAsync(i))),we(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Wf,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wy),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Zc(()=>{this.childrenLoaders.delete(r)})),s=new F1(o,()=>new zt).pipe(Sy());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MT(e){return function A7(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Xy=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:()=>C(N7),providedIn:"root"})}return e})(),N7=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const TT=new R(""),AT=new R("");function R7(e,n,t){const r=e.get(AT),i=e.get(En);return e.get(be).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o;const s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),function k7(e){return new Promise(n=>{Mu({read:()=>setTimeout(n)},{injector:e})})}(e))),{onViewTransitionCreated:c}=r;return c&&Fn(e,()=>c({transition:a,from:n,to:t})),s})}const NT=new R("");let Yy=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new zt;transitionAbortSubject=new zt;configLoader=C(Zy);environmentInjector=C(Ut);destroyRef=C(br);urlSerializer=C(fl);rootContexts=C(yl);location=C(Vc);inputBindingEnabled=null!==C(zf,{optional:!0});titleStrategy=C(ET);options=C(Il,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(Xy);createViewTransition=C(TT,{optional:!0});navigationErrorHandler=C(NT,{optional:!0});navigationId=0;get hasRequestedNavigation(){return 0!==this.navigationId}transitions;afterPreactivation=()=>K(void 0);rootComponentType=null;destroyed=!1;constructor(){this.configLoader.onLoadEndListener=i=>this.events.next(new b9(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new w9(i)),this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...t,extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r})}setupNavigations(t){return this.transitions=new mn(null),this.transitions.pipe(Ar(r=>null!==r),ur(r=>{let i=!1,o=!1;return K(r).pipe(ur(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",kn.SupersededByNewNavigation),Xn;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:"string"==typeof s.extras.browserUrl?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!a&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const u="";return this.events.next(new ua(s.id,this.urlSerializer.serialize(s.rawUrl),u,Vf.IgnoredSameUrlNavigation)),s.resolve(!1),Xn}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return K(s).pipe(ur(u=>(this.events.next(new ml(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Xn:Promise.resolve(u))),function I7(e,n,t,r,i,o){return jt(s=>function y7(e,n,t,r,i,o,s="emptyOnly"){return new b7(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(we(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),tn(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:u.urlAfterRedirects};const h=new oT(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){const{id:u,extractedUrl:h,source:p,restoredState:m,extras:g}=s,v=new ml(u,this.urlSerializer.serialize(h),p,m);this.events.next(v);const y=lT(this.rootComponentType).snapshot;return this.currentTransition=r={...s,targetSnapshot:y,urlAfterRedirects:h,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,K(r)}{const u="";return this.events.next(new ua(s.id,this.urlSerializer.serialize(s.extractedUrl),u,Vf.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Xn}}),tn(s=>{const a=new g9(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),we(s=>(this.currentTransition=r={...s,guards:B9(s.targetSnapshot,s.currentSnapshot,this.rootContexts)},r)),function Q9(e,n){return jt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?K({...t,guardsResult:!0}):function K9(e,n,t,r){return vt(e).pipe(jt(i=>function i7(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?K(o.map(a=>{const c=vl(n)??i,u=ha(a,c);return Vi(function Z9(e){return e&&_l(e.canDeactivate)}(u)?u.canDeactivate(e,n,t,r):Fn(c,()=>u(e,n,t,r))).pipe(No())})).pipe(pa()):K(!0)}(i.component,i.route,t,n,r)),No(i=>!0!==i,!0))}(s,r,i,e).pipe(jt(a=>a&&function H9(e){return"boolean"==typeof e}(a)?function J9(e,n,t,r){return vt(n).pipe(Ws(i=>Ey(function t7(e,n){return null!==e&&n&&n(new D9(e)),K(!0)}(i.route.parent,r),function e7(e,n){return null!==e&&n&&n(new I9(e)),K(!0)}(i.route,r),function r7(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function $9(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>P1(()=>K(s.guards.map(c=>{const u=vl(s.node)??t,h=ha(c,u);return Vi(function W9(e){return e&&_l(e.canActivateChild)}(h)?h.canActivateChild(r,e):Fn(u,()=>h(r,e))).pipe(No())})).pipe(pa())));return K(o).pipe(pa())}(e,i.path,t),function n7(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return K(!0);const i=r.map(o=>P1(()=>{const s=vl(n)??t,a=ha(o,s);return Vi(function q9(e){return e&&_l(e.canActivate)}(a)?a.canActivate(n,e):Fn(s,()=>a(n,e))).pipe(No())}));return K(i).pipe(pa())}(e,i.route,t))),No(i=>!0!==i,!0))}(r,o,e,n):K(a)),we(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),tn(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&"boolean"!=typeof s.guardsResult)throw Uf(0,s.guardsResult);const a=new m9(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Ar(s=>!!s.guardsResult||(this.cancelNavigationTransition(s,"",kn.GuardRejected),!1)),qy(s=>{if(0!==s.guards.canActivateChecks.length)return K(s).pipe(tn(a=>{const c=new v9(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),ur(a=>{let c=!1;return K(a).pipe(function C7(e,n){return jt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return K(t);const o=new Set(i.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const u of xT(c))s.add(u);let a=0;return vt(s).pipe(Ws(c=>o.has(c)?function x7(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!fT(i)&&(o[ul]=i.title),function E7(e,n,t,r){const i=Ty(e);if(0===i.length)return K({});const o={};return vt(i).pipe(jt(s=>function S7(e,n,t,r){const i=vl(n)??r,o=ha(e,i);return Vi(o.resolve?o.resolve(n,t):Fn(i,()=>o(n,t)))}(e[s],n,t,r).pipe(No(),tn(a=>{if(a instanceof zy)throw Uf(new Nf,a);o[s]=a}))),My(1),we(()=>o),ca(s=>yT(s)?Xn:Mf(s)))}(o,e,n,r).pipe(we(s=>(e._resolvedData=s,e.data=Bf(e,e.parent,t).resolve,null)))}(c,r,e,n):(c.data=Bf(c,c.parent,e).resolve,K(void 0))),tn(()=>a++),My(1),jt(c=>a===s.size?K(t):Xn))})}(this.paramsInheritanceStrategy,this.environmentInjector),tn({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",kn.NoDataFromResolver)}}))}),tn(a=>{const c=new y9(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),qy(s=>{const a=c=>{const u=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(c.routeConfig).pipe(tn(h=>{c.component=h}),we(()=>{})));for(const h of c.children)u.push(...a(h));return u};return Ef(a(s.targetSnapshot.root)).pipe(Tf(null),Fi(1))}),qy(()=>this.afterPreactivation()),ur(()=>{const{currentSnapshot:s,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,s.root,a.root);return c?vt(c).pipe(we(()=>r)):K(r)}),we(s=>{const a=function O9(e,n,t){const r=wl(e,n._root,t?t._root:void 0);return new cT(r,n)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r={...s,targetRouterState:a},this.currentNavigation.targetRouterState=a,r}),tn(()=>{this.events.next(new Py)}),((e,n,t,r)=>we(i=>(new j9(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Fi(1),tn({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oi(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),function F6(e){return Rt((n,t)=>{lr(e).subscribe(yt(t,()=>t.complete(),ah)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(tn(s=>{throw s}))),Zc(()=>{!i&&!o&&this.cancelNavigationTransition(r,"",kn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ca(s=>{if(this.destroyed)return r.resolve(!1),Xn;if(o=!0,mT(s))this.events.next(new Po(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),function L9(e){return mT(e)&&Oo(e.url)}(s)?this.events.next(new jf(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{const a=new Oy(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{const c=Fn(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(!(c instanceof zy))throw this.events.next(a),s;{const{message:u,cancellationCode:h}=Uf(0,c);this.events.next(new Po(r.id,this.urlSerializer.serialize(r.extractedUrl),u,h)),this.events.next(new jf(c.redirectTo,c.navigationBehaviorOptions))}}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Xn}))}))}cancelNavigationTransition(t,r,i){const o=new Po(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function O7(e){return e!==Lf}let P7=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:()=>C(L7),providedIn:"root"})}return e})();class F7{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let L7=(()=>{class e extends F7{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Et(e)))(i||e)}})();static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),RT=(()=>{class e{urlSerializer=C(fl);options=C(Il,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=C(Vc);urlHandlingStrategy=C(Xy);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ro;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){const o=void 0!==t?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Ro?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=lT(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:()=>C(V7),providedIn:"root"})}return e})(),V7=(()=>{class e extends RT{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ml?this.updateStateMemento():t instanceof ua?this.commitTransition(r):t instanceof oT?"eager"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Py?(this.commitTransition(r),"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Po&&(t.code===kn.GuardRejected||t.code===kn.NoDataFromResolver)?this.restoreHistory(r):t instanceof Oy?this.restoreHistory(r,!0):t instanceof oi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){const{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){const a=this.browserPageId,c={...s,...this.generateNgRouterState(i,a)};this.location.replaceState(t,"",c)}else{const a={...s,...this.generateNgRouterState(i,this.browserPageId+1)};this.location.go(t,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&0===o&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Et(e)))(i||e)}})();static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kT(e,n){e.events.pipe(Ar(t=>t instanceof oi||t instanceof Po||t instanceof Oy||t instanceof ua),we(t=>t instanceof oi||t instanceof ua?0:t instanceof Po&&(t.code===kn.Redirect||t.code===kn.SupersededByNewNavigation)?2:1),Ar(t=>2!==t),Fi(1)).subscribe(()=>{n()})}const j7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},B7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let si=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(cm);stateManager=C(RT);options=C(Il,{optional:!0})||{};pendingTasks=C(Dr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(Yy);urlSerializer=C(fl);location=C(Vc);urlHandlingStrategy=C(Xy);_events=new zt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(P7);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(Wf,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(zf,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $t;subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Po&&r.code!==kn.Redirect&&r.code!==kn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof oi)this.navigated=!0;else if(r instanceof jf){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||O7(i.source),...s};this.scheduleNavigation(a,Lf,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function z7(e){return!(e instanceof Py||e instanceof jf)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Lf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Wy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let p,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h={...this.currentUrlTree.queryParams,...o};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}null!==h&&(h=this.removeEmptyProps(h));try{p=K1(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||"/"!==t[0][0])&&(t=[]),p=this.currentUrlTree.root}return J1(p,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Oo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Lf,null,r)}navigate(t,r={skipLocationChange:!1}){return function $7(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new E(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(i=!0===r?{...j7}:!1===r?{...B7}:r,Oo(t))return U1(this.currentUrlTree,t,i);const o=this.parseUrl(t);return U1(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,m)=>{a=p,c=m});const h=this.pendingTasks.add();return kT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const W={datasource:{id:"datasource",name:"Datasource"},settings:{id:"settings",name:"Settings"},adapter:{id:"adapter",name:"Adapter"},adapterProps:{id:"adapter",name:"Adapter props"},adapterMethods:{id:"adapter",name:"Adapter methods"},experimental:{id:"experimental",name:"Experimental"}},P={datasource:{...W.datasource,map:{datasourceGetSignatures:{id:"datasource-get-signatures",name:"Get-method signatures",scope:W.datasource.id},unlimitedBidirectional:{id:"unlimited-bidirectional",name:"Unlimited bidirectional",scope:W.datasource.id},limited:{id:"limited",name:"Limited",scope:W.datasource.id},positiveLimitedIndexes:{id:"positive-limited-indexes",name:"Positive limited",scope:W.datasource.id},remote:{id:"remote",name:"Remote",scope:W.datasource.id},invertedIndexes:{id:"inverted-indexes",name:"Inverted",scope:W.datasource.id},pages:{id:"pages",name:"Pages",scope:W.datasource.id}}},settings:{...W.settings,map:{noSettings:{id:"no-settings",name:"No settings",scope:W.settings.id},bufferSize:{id:"buffer-size",name:"bufferSize",scope:W.settings.id},padding:{id:"padding",name:"padding",scope:W.settings.id},itemSize:{id:"item-size",name:"itemSize",scope:W.settings.id},startIndex:{id:"start-index",name:"startIndex",scope:W.settings.id},minMaxIndexes:{id:"min-max-indexes",name:"minIndex / maxIndex",scope:W.settings.id},infiniteMode:{id:"infinite-mode",name:"Infinite mode",scope:W.settings.id},horizontalMode:{id:"horizontal-mode",name:"Horizontal mode",scope:W.settings.id},differentItemHeights:{id:"different-item-heights",name:"Different item heights",scope:W.settings.id},windowViewport:{id:"window-viewport",name:"Entire window scrollable",scope:W.settings.id}}},adapter:{...W.adapter,map:[]},adapterProps:{...W.adapterProps,map:{init:{id:"init",name:"Initialization",scope:W.adapterProps.id},packageInfo:{id:"package-info",name:"Package info",scope:W.adapterProps.id},isLoading:{id:"is-loading",name:"Is loading?",scope:W.adapterProps.id},isLoadingAdvanced:{id:"is-loading-advanced",name:"Is loading, advanced",scope:W.adapterProps.id},itemsCount:{id:"items-count",name:"Buffer items counter",scope:W.adapterProps.id},bufferInfo:{id:"buffer-info",name:"Buffer info",scope:W.adapterProps.id},bofEof:{id:"bof-eof",name:"Begin/end of file",scope:W.adapterProps.id},firstLastVisible:{id:"first-last-visible-items",name:"First and last visible items",scope:W.adapterProps.id}}},adapterMethods:{...W.adapterMethods,map:{returnValue:{id:"return-value",name:"Return value",scope:W.adapter.id},relax:{id:"relax",name:"Relax",scope:W.adapter.id},reload:{id:"reload",name:"Reload",scope:W.adapter.id},reset:{id:"reset",name:"Reset",scope:W.adapter.id},pauseResume:{id:"pause-resume",name:"Pause / resume",scope:W.adapterMethods.id},check:{id:"check-size",name:"Check size",scope:W.adapterMethods.id},clip:{id:"clip",name:"Clip",scope:W.adapterMethods.id},appendPrepend:{id:"append-prepend",name:"Append / prepend",scope:W.adapterMethods.id},appendPrependSync:{id:"append-prepend-sync",name:"Append / prepend sync",scope:W.adapterMethods.id},insert:{id:"insert",name:"Insert",scope:W.adapterMethods.id},remove:{id:"remove",name:"Remove",scope:W.adapterMethods.id},replace:{id:"replace",name:"Replace",scope:W.adapterMethods.id},update:{id:"update",name:"Update",scope:W.adapterMethods.id}}},experimental:{...W.experimental,map:{viewportElementSetting:{id:"viewportElement-setting",name:"viewportElement setting",scope:W.experimental.id},inverseSetting:{id:"inverse-setting",name:"inverse setting",scope:W.experimental.id},adapterFixPosition:{id:"adapter-fix-position",name:"Adapter fix-position method",scope:W.experimental.id},adapterFixUpdater:{id:"adapter-fix-updater",name:"Adapter fix-updater method",scope:W.experimental.id},adapterFixScrollToItem:{id:"adapter-fix-scrollToItem",name:"Adapter fix-scrollToItem method",scope:W.experimental.id},onBeforeClipSetting:{id:"onBeforeClip-setting",name:"onBeforeClip setting",scope:W.experimental.id},routines:{id:"routines",name:"Routines",scope:W.experimental.id}}}},OT=Object.values(P).map(e=>({...e,map:Object.values(e.map).map(n=>n)}));let Z7=(()=>{class e{static \u0275prov=F({token:e,providedIn:"root",factory:()=>new X7(C(En),window)})}return e})();class X7{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const t=function Y7(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}}let ct=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new zt;constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof oi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){null==t?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Oo(t)||Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const t=this.urlTree;this.href=null!==t&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;const r=null===this.href?null:function b_(e,n,t){return function vO(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?w_:y_}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.routerLinkInput?null:Oo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(T(si),T(fa),function Fa(e){return function cR(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(Eb(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===n)return t[i+1];i+=2}}}return null}(ce(),e)}("tabindex"),T(rr),T(Ft),T(Do))};static \u0275dir=Y({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&H("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&dn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",zs],skipLocationChange:[2,"skipLocationChange","skipLocationChange",zs],replaceUrl:[2,"replaceUrl","replaceUrl",zs],routerLink:"routerLink"},features:[Jn]})}return e})(),GT=(()=>{class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new et;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof oi&&this.update()})}ngAfterContentInit(){K(this.links.changes,K(null)).pipe(aa()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=vt(t).pipe(aa()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function CG(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{const o=i.urlTree;return!!o&&t.isActive(o,r)}}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||e)(T(si),T(Ft),T(rr),T($s),T(ct,8))};static \u0275dir=Y({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&c0(o,ct,5),2&r){let s;Pm(s=Fm())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Jn]})}return e})();class qT{}let xG=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ar(t=>t instanceof oi),Ws(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=od(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return vt(i).pipe(aa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):K(null);const o=i.pipe(jt(s=>null===s?K(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?vt([o,this.loader.loadComponent(r)]).pipe(aa()):o})}static \u0275fac=function(r){return new(r||e)(z(si),z(Ut),z(qT),z(Zy))};static \u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const ew=new R("");let WT=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ml?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof oi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ua&&t.code===Vf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){!function OI(){throw new Error("invalid")}()};static \u0275prov=F({token:e,factory:e.\u0275fac})}return e})();function kr(e,n){return{\u0275kind:e,\u0275providers:n}}function XT(){const e=C(_t);return n=>{const t=e.get(xn);if(n!==t.components[0])return;const r=e.get(si),i=e.get(YT);1===e.get(tw)&&r.initialNavigation(),e.get(QT,null,le.Optional)?.setUpPreloading(),e.get(ew,null,le.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const YT=new R("",{factory:()=>new zt}),tw=new R("",{providedIn:"root",factory:()=>1}),QT=new R("");function TG(e){return kr(0,[{provide:QT,useExisting:xG},{provide:qT,useExisting:e}])}function NG(e){return cn("NgRouterViewTransitions"),kr(9,[{provide:TT,useValue:R7},{provide:AT,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const RG=[Vc,{provide:fl,useClass:Nf},si,yl,{provide:fa,useFactory:function ZT(e){return e.routerState.root},deps:[si]},Zy,[]];let KT=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[RG,[],{provide:Wf,multi:!0,useValue:t},[],r?.errorHandler?{provide:NT,useValue:r.errorHandler}:[],{provide:Il,useValue:r||{}},r?.useHash?{provide:Do,useClass:H$}:{provide:Do,useClass:UE},{provide:ew,useFactory:()=>{const e=C(Z7),n=C(be),t=C(Il),r=C(Yy),i=C(fl);return t.scrollOffset&&e.setOffset(t.scrollOffset),new WT(i,r,e,n,t)}},r?.preloadingStrategy?TG(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?FG(r):[],r?.bindToComponentInputs?kr(8,[hT,{provide:zf,useExisting:hT}]).\u0275providers:[],r?.enableViewTransitions?NG().\u0275providers:[],[{provide:JT,useFactory:XT},{provide:Ic,multi:!0,useExisting:JT}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Wf,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=$n({type:e});static \u0275inj=yn({})}return e})();function FG(e){return["disabled"===e.initialNavigation?kr(3,[LC(()=>{C(si).setUpLocationChangeListener()}),{provide:tw,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?kr(2,[{provide:tw,useValue:0},LC(()=>{const n=C(_t);return n.get(V$,Promise.resolve()).then(()=>new Promise(r=>{const i=n.get(si),o=n.get(YT);kT(i,()=>{r(!0)}),n.get(Yy).afterPreactivation=()=>(r(!0),o.closed?K(void 0):o),i.initialNavigation()}))})]).\u0275providers:[]]}const JT=new R(""),VG=()=>({exact:!0}),nw=e=>[e];let jG=(()=>{class e{constructor(){this.demos=P}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-nav"]],standalone:!1,decls:31,vars:14,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container"],["href","https://github.com/dhilt/ngx-ui-scroll","aria-label","View source on Github",1,"github-corner"],["width","80","height","80","viewBox","0 0 250 250","aria-hidden","true",2,"fill","#fff","color","#343a40","position","absolute","top","0","border","0","left","auto","right","0"],["d","M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"],["d","M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2","fill","currentColor",1,"octo-arm",2,"transform-origin","130px 106px"],["d","M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z","fill","currentColor",1,"octo-body"],[1,"main-menu"],["href","https://github.com/dhilt/ngx-ui-scroll",1,"navbar-brand"],["routerLink","/","routerLinkActive","active",1,"navbar-link",3,"routerLinkActiveOptions"],["routerLinkActive","active",1,"navbar-link",3,"routerLink"],["routerLink","/adapter","routerLinkActive","active",1,"navbar-link"],[1,"copyrights"],["href","https://github.com/dhilt"],["href","https://github.com/dhilt/ngx-ui-scroll?sponsor=1","role","link","target","_blank","rel","noopener noreferrer",1,"support"],[1,"support_icon"]],template:function(r,i){1&r&&(f(0,"nav",0)(1,"div",1)(2,"a",2),function bb(){te.lFrame.currentNamespace="svg"}(),f(3,"svg",3),O(4,"path",4)(5,"path",5)(6,"path",6),d()(),function Db(){!function KN(){te.lFrame.currentNamespace=null}()}(),f(7,"div",7)(8,"a",8),l(9,"ngx-ui-scroll"),d(),f(10,"a",9),l(11,"Home"),d(),f(12,"a",10),l(13),d(),f(14,"a",10),l(15),d(),f(16,"a",11),l(17,"Adapter"),d(),f(18,"a",10),l(19),d()(),O(20,"br"),f(21,"span",12),l(22," 2025\xa0\xa9\xa0"),f(23,"a",13),l(24,"dhilt"),d(),O(25,"br"),f(26,"a",14)(27,"span",15),l(28,"\u{1f449}"),d(),l(29,"\xa0\xa0Support\xa0Project "),d()(),O(30,"br"),d()()),2&r&&(w(10),x("routerLinkActiveOptions",function A0(e,n,t){const r=Wt()+e,i=I();return i[r]===ie?Er(i,r,t?n.call(t):n()):function wc(e,n){return e[n]}(i,r)}(7,VG)),w(2),x("routerLink",ye(8,nw,i.demos.datasource.id)),w(),$(i.demos.datasource.name),w(),x("routerLink",ye(10,nw,i.demos.settings.id)),w(),$(i.demos.settings.name),w(3),x("routerLink",ye(12,nw,i.demos.experimental.id)),w(),$(i.demos.experimental.name))},dependencies:[ct,GT],styles:[".github-corner[_ngcontent-%COMP%]:hover   .octo-arm[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_octocat-wave .56s ease-in-out}@keyframes _ngcontent-%COMP%_octocat-wave{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width: 500px){.github-corner[_ngcontent-%COMP%]:hover   .octo-arm[_ngcontent-%COMP%]{animation:none}.github-corner[_ngcontent-%COMP%]   .octo-arm[_ngcontent-%COMP%]{animation:octocat-wave .56s ease-in-out}}\n\n/*# sourceMappingURL=nav.component.html-angular-inline--1.css.map*/"]})}}return e})();function BG(e,n){1&e&&(f(0,"div"),O(1,"app-nav"),f(2,"div",2),O(3,"router-outlet"),d()())}function $G(e,n){1&e&&(f(0,"div",3),O(1,"router-outlet"),d())}let zG=(()=>{class e{constructor(t,r){this.route=t,this.router=r,this.hasLayout=!0,this.subscriptions=[],this.subscriptions.push(r.events.pipe(Ar(i=>i instanceof ml)).subscribe(i=>{const o=i.url;this.hasLayout=!("/window"===o||"/test"===o),"/window"===o?document.body.classList.add("entire-window"):document.body.classList.remove("entire-window"),o.includes("#")||window.scrollTo(0,0)})),"scrollRestoration"in history&&(history.scrollRestoration="manual")}ngAfterViewInit(){this.subscriptions.push(this.route.fragment.subscribe(t=>{t?setTimeout(()=>{const r=document.getElementById(t);r&&r.scrollIntoView()}):window.scrollTo(0,0)}))}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}static{this.\u0275fac=function(r){return new(r||e)(T(fa),T(si))}}static{this.\u0275cmp=V({type:e,selectors:[["app-root"]],standalone:!1,decls:2,vars:2,consts:[[4,"ngIf"],["class","no-layout",4,"ngIf"],[1,"container","mb-5"],[1,"no-layout"]],template:function(r,i){1&r&&pe(0,BG,4,0,"div",0)(1,$G,2,0,"div",1),2&r&&(x("ngIf",i.hasLayout),w(),x("ngIf",!i.hasLayout))},dependencies:[ei,$y,jG],encapsulation:2})}}return e})();var S=function(e){return e.Component="Component",e.Template="Template",e.Styles="CSS",e.Datasource="Datasource",e.Server="Server",e}(S||{});const UG=e=>["../",e];let ma=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-title"]],inputs:{config:"config"},standalone:!1,decls:4,vars:6,consts:[[3,"id"],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"h3",0),l(1),f(2,"a",1),l(3,"#"),d()()),2&r&&(B("id",i.config.id),w(),G(" ",i.config.name," "),w(),B("fragment",i.config.id),x("routerLink",ye(4,UG,i.config.scope)))},dependencies:[ct],encapsulation:2})}}return e})();function HG(e,n){if(1&e&&(f(0,"tab",5)(1,"pre",6),l(2),d()()),2&e){const t=n.index,r=Ie(3);B("heading",r.sources[t].name),x("active",r.sources[t].active),w(2),$(r.sources[t].text)}}function GG(e,n){if(1&e&&(f(0,"tabset"),pe(1,HG,3,3,"tab",4),d()),2&e){const t=Ie(2);w(),x("ngForOf",t.sources)}}function qG(e,n){if(1&e&&(f(0,"pre",6),l(1),d()),2&e){const t=Ie(2);w(),$(t.sources[0].text)}}function WG(e,n){if(1&e&&(f(0,"div",1),pe(1,GG,2,1,"tabset",2)(2,qG,2,1,"pre",3),d()),2&e){const t=Ie();w(),x("ngIf",t.sources.length>1),w(),x("ngIf",1===t.sources.length)}}let Qf=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-sources"]],inputs:{sources:"sources"},standalone:!1,decls:1,vars:1,consts:[["class","sources",4,"ngIf"],[1,"sources"],[4,"ngIf"],["class","prettyprint",4,"ngIf"],[3,"heading","active",4,"ngFor","ngForOf"],[3,"heading","active"],[1,"prettyprint"]],template:function(r,i){1&r&&pe(0,WG,3,2,"div",0),2&r&&x("ngIf",i.sources&&i.sources.length)},dependencies:[Gd,ei,d1,cy],encapsulation:2})}}return e})();const ZG=[[["","actions",""]],[["","description",""]]],XG=["[actions]","[description]"],YG=(e,n)=>({item:e,index:n});function QG(e,n){1&e&&l(0),2&e&&$(n.item.text)}function KG(e,n){}function JG(e,n){if(1&e&&(f(0,"div")(1,"div"),pe(2,KG,0,0,"ng-template",15),d()()),2&e){const t=n.$implicit,r=n.index,i=Ie(2),o=Di(1);w(),mo("item ",i.context.addClass||"",""),Zr("height",t.hasOwnProperty("size")?t.size+"px":null),w(),x("ngTemplateOutlet",i.itemTemplate||o)("ngTemplateOutletContext",N0(7,YG,t,r))}}function eq(e,n){1&e&&Am(0)}function tq(e,n){if(1&e&&(f(0,"div"),l(1," Viewport scrollable size: "),f(2,"span"),l(3),d()(),f(4,"div"),l(5," DOM elements count: "),f(6,"span"),l(7),d()(),f(8,"div"),l(9," Datasource.get log "),f(10,"div",18)(11,"pre"),l(12),d()()()),2&e){const t=Ie(3);mo("elements ",t.context.addClass||"",""),w(3),$(t.viewport(t.context.viewportId)),w(),mo("elements ",t.context.addClass||"",""),w(3),$(t.elements(t.context.viewportId)),w(),mo("datasource ",t.context.addClass||"",""),w(4),$(t.context.log)}}function nq(e,n){if(1&e&&(f(0,"div"),l(1," Datasource.get log "),f(2,"div",18)(3,"pre"),l(4),d()()()),2&e){const t=Ie(3);mo("datasource ",t.context.addClass||"",""),w(4),$(t.context.log)}}function rq(e,n){if(1&e&&(f(0,"div",16),pe(1,eq,1,0,"ng-container",17)(2,tq,13,12,"ng-template",null,1,_i)(4,nq,5,4,"ng-template",null,2,_i),d()),2&e){const t=Di(3),r=Di(5),i=Ie(2);w(),x("ngIf",!i.context.logViewOnly)("ngIfThen",t)("ngIfElse",r)}}function iq(e,n){if(1&e&&(f(0,"div",9)(1,"div",10)(2,"div",11),pe(3,JG,3,10,"div",12),d()(),pe(4,rq,6,3,"div",13),O(5,"div",14),d()),2&e){const t=Ie();w(2),mo("viewport ",t.context.addClass||"",""),B("id",t.context.viewportId||t.context.config.id),w(),x("uiScrollOf",t.datasource),w(),x("ngIf",t.init&&!t.context.noInfo)}}let ae=(()=>{class e{constructor(){this.init=!1}viewport(t){const r=document.getElementById(t);return r?r[this.datasource.settings&&this.datasource.settings.horizontal?"scrollWidth":"scrollHeight"].toString():""}elements(t){const r=document.getElementById(t);return r?((r.children[0].childElementCount||0)-2).toString(10):""}ngOnInit(){setTimeout(()=>{this.sources.every(t=>!t.active)&&(this.sources[0].active=!0),this.init=!0})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo"]],inputs:{datasource:"datasource",context:"context",sources:"sources",itemTemplate:"itemTemplate"},standalone:!1,ngContentSelectors:XG,decls:10,vars:3,consts:[["defaultItemTemplate",""],["allView",""],["logView",""],[1,"demo"],[3,"config"],[1,"actions"],["class","work",4,"ngIf"],[3,"sources"],[1,"description"],[1,"work"],[1,"viewport-wrapper"],[3,"id"],[4,"uiScroll","uiScrollOf"],["class","log",4,"ngIf"],[1,"clearfix","mb-3"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"log"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"pre-wrapper"]],template:function(r,i){1&r&&(Dd(ZG),pe(0,QG,1,1,"ng-template",null,0,_i),f(2,"div",3),O(3,"app-demo-title",4),f(4,"div",5),Nc(5),d(),pe(6,iq,6,6,"div",6),O(7,"app-demo-sources",7),f(8,"div",8),Nc(9,1),d()()),2&r&&(w(3),x("config",i.context.config),w(3),x("ngIf",!i.context.noWorkView),w(),x("sources",i.sources))},dependencies:[ei,yv,ii,ma,Qf],encapsulation:2})}}return e})(),eA=(()=>{class e{constructor(t){this.http=t}getData(t,r){return this.http.get(`/api/data?index=${t}&count=${r}`)}static{this.\u0275fac=function(r){return new(r||e)(z(JM))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})(),oq=(()=>{class e{constructor(t){this.remoteDataService=t,this.demoContext={config:P.datasource.map.remote,logViewOnly:!0,log:"",count:0},this.datasource={get:(r,i)=>(this.demoContext.log=`${++this.demoContext.count}) get items [${r}..${r+i-1}]\n${this.demoContext.log}`,this.remoteDataService.getData(r,i))},this.sources=[{name:"Service/Component",text:"@Injectable()\nexport class RemoteDataService {\n\n  constructor(private http: HttpClient) {\n  }\n\n  getData(index: number, count: number): Observable<any> {\n    return this.http.get(\n      `/api/data?index=${index}&count=${count}`\n    );\n  }\n}\n\n@Component(...)\nexport class DemoRemoteDatasourceComponent {\n\n  datasource: IDatasource = {\n    get: (index, count) =>\n      this.remoteDataService.getData(index, count)\n  };\n\n  constructor(private remoteDataService: RemoteDataService) {\n  }\n}"},{name:S.Server,text:"const MIN = -99;\nconst MAX = 900;\n\napp.get('/api/data', (req, res) => {\n  const index = parseInt(req.query.index, 10);\n  const count = parseInt(req.query.count, 10);\n  if (isNaN(index) || isNaN(count)) {\n    return res.send([]);\n  }\n  const start = Math.max(MIN, index);\n  const end = Math.min(index + count - 1, MAX);\n  if (start > end) {\n    return res.send([]);\n  }\n  const result = [];\n  for (let i = start; i <= end; i++) {\n    result.push({ id: i, text: 'item #' + i });\n  }\n  res.send(result);\n});"}]}static{this.\u0275fac=function(r){return new(r||e)(T(eA))}}static{this.\u0275cmp=V({type:e,selectors:[["app-remote-datasource"]],standalone:!1,decls:16,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," In case the data is accessible via some remote API, the "),f(4,"em"),l(5,"Datasource.get"),d(),l(6," could be implemented using Observable signature. In this demo we have a nodejs application with "),f(7,"em"),l(8,"/api/data"),d(),l(9,' GET request handler ("Server" tab), which emulates a remote limited Datasource implementation. The Component just provides '),f(10,"em"),l(11,"/api/data"),d(),l(12," GET method call inside "),f(13,"em"),l(14,"Datasource.get"),d(),l(15," body. And again, the only requirement is that the API handler on server must return an array of index-count items or empty array if we are out of range. "),d()()()),2&r&&x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})();function sq(e,n){if(1&e&&(f(0,"div")(1,"div",21),l(2),d()()),2&e){const t=n.$implicit,r=n.even;w(),Xr("even",r),w(),G(" ",t.text," ")}}function aq(e,n){if(1&e&&(f(0,"span")(1,"a",22),l(2),d(),O(3,"br"),d()),2&e){const t=n.$implicit,r=Ie().$implicit;w(),B("routerLink",r.id),B("fragment",t.id),w(),G(" ",t.name," ")}}function cq(e,n){if(1&e&&(f(0,"div")(1,"h5"),l(2),d(),pe(3,aq,4,3,"span",20),d()),2&e){const t=n.$implicit;w(2),$(t.name),w(),x("ngForOf",t.map)}}let lq=(()=>{class e{constructor(){this.angularVersion=hB.full,this.reloadIndex=999,this.delay=0,this.datasource=new Ce({get:(t,r,i)=>{const o=[];for(let s=t;s<=t+r-1;s++)o.push({id:s,text:"item #"+s});this.delay?setTimeout(()=>i(o),this.delay):i(o)},settings:{padding:.5,bufferSize:15,itemSize:25,startIndex:1},devSettings:{debug:!1}}),this.sources=[{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource; let even = even">\n    <div class="item" [class.even]="even">\n      {{item.text}}\n    </div>\n  </div>\n</div>'},{name:S.Component,text:"delay = 25;\nreloadIndex = 999;\n\ndatasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    if (this.delay) {\n      setTimeout(() => success(data), this.delay);\n    } else {\n      success(data);\n    }\n  }\n});\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}"},{name:"Adapter",text:'Version:\n{{datasource.adapter.packageInfo.consumer.version}}\n\nCore:\n{{datasource.adapter.packageInfo.core.name}}\nv{{datasource.adapter.packageInfo.core.version}}\n\nFirst visible:\n#{{datasource.adapter.firstVisible.$index}}\n\nLast visible:\n#{{(datasource.adapter.lastVisible$ | async)?.$index}}\n\nItems in DOM:\n{{datasource.adapter.itemsCount}}\n\nIs loading:\n{{datasource.adapter.isLoading}}\n\nDatasource delay (ms):\n<input [(ngModel)]="delay" type="number">\n\nIndex to reload:\n<input [(ngModel)]="reloadIndex" type="number">\n<button (click)="doReload()">Reload</button>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.item.even {\n  background-color: #f2f2f2;\n}"}],this.scopes=W,this.demos=OT,this.demosNotEmpty=OT.filter(({map:t})=>t.length)}doReload(){this.datasource.adapter.reload(this.reloadIndex)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-home"]],standalone:!1,decls:76,vars:30,consts:[["href","https://github.com/dhilt/ngx-ui-scroll"],[1,"demo"],[1,"work"],[1,"viewport-wrapper"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"log"],[2,"line-height","25px","margin-bottom","2px"],[2,"display","flex","align-items","center","margin-bottom","2px"],["type","number",2,"width","84px",3,"ngModelChange","ngModel"],[2,"display","flex","align-items","center"],["type","number",2,"width","60px",3,"ngModelChange","ngModel"],[2,"width","60px",3,"click"],[1,"clearfix","mb-3"],[1,"sources"],[3,"heading"],[1,"prettyprint","lang-html"],[1,"prettyprint"],[3,"routerLink"],[1,"demo-examples",2,"display","flex"],[4,"ngFor","ngForOf"],[1,"item"],[3,"routerLink","fragment"]],template:function(r,i){if(1&r&&(f(0,"h1"),l(1,"Angular UI Scroll Demo App"),d(),f(2,"p")(3,"em"),l(4,"ngx-ui-scroll"),d(),l(5," is the Angular library for large datasets virtualization. More information regarding motivation, infrastructure, features, developing can be found on "),f(6,"a",0),l(7,"GitHub"),d(),l(8,". This site is dedicated to practical examples of "),f(9,"em"),l(10,"ngx-ui-scroll"),d(),l(11," usage.\n"),d(),f(12,"div",1)(13,"h3"),l(14,"Common demo"),d(),f(15,"div",2)(16,"div",3)(17,"div",4),pe(18,sq,3,3,"div",5),d()(),f(19,"div",6)(20,"div",7),l(21),O(22,"br"),l(23),O(24,"br"),l(25),O(26,"br"),l(27),yo(28,"async"),O(29,"br"),l(30),O(31,"br"),l(32),O(33,"br"),d(),f(34,"div",8),l(35," Datasource delay (ms):\xa0 "),f(36,"input",9),Ze("ngModelChange",function(s){return tt(i.delay,s)||(i.delay=s),s}),d()(),f(37,"div",10),l(38," Index to reload:\xa0 "),f(39,"input",11),Ze("ngModelChange",function(s){return tt(i.reloadIndex,s)||(i.reloadIndex=s),s}),d(),l(40,"\xa0 "),f(41,"button",12),H("click",function(){return i.doReload()}),l(42,"Reload"),d()()(),O(43,"div",13),d(),f(44,"div",14)(45,"tabset")(46,"tab",15)(47,"pre",16),l(48),d()(),f(49,"tab",15)(50,"pre",17),l(51),d()(),f(52,"tab",15)(53,"pre",16),l(54),d()(),f(55,"tab",15)(56,"pre",17),l(57),d()()()()(),f(58,"p"),l(59," This particular demo includes simplest virtual list template (tab 1), simplest Datasource implementation with no any settings provided (tab 2), some of the Adapter read-only properties output (tab 3), simplest styling (tab 4). Many other samples with all necessary details and explanations can be found at "),f(60,"a",18),l(61),d(),l(62,", "),f(63,"a",18),l(64),d(),l(65,", "),f(66,"a",18),l(67),d(),l(68," and "),f(69,"a",18),l(70),d(),l(71," sections. Below is the list of all examples available in these sections.\n"),d(),f(72,"h3"),l(73,"Example list"),d(),f(74,"div",19),pe(75,cq,4,2,"div",20),d()),2&r){let o;w(18),x("uiScrollOf",i.datasource),w(3),G(" ngx-ui-scroll v",i.datasource.adapter.packageInfo.consumer.version," "),w(2),Vm(" (",i.datasource.adapter.packageInfo.core.name," v",i.datasource.adapter.packageInfo.core.version,", angular v",i.angularVersion,") "),w(2),G(" First visible: #",i.datasource.adapter.firstVisible.$index," "),w(2),G(" Last visible: #",null==(o=wo(28,28,i.datasource.adapter.lastVisible$))?null:o.$index," "),w(3),G(" Items in DOM: ",i.datasource.adapter.itemsCount," "),w(2),G(" Is loading: ",i.datasource.adapter.isLoading," "),w(4),We("ngModel",i.delay),w(3),We("ngModel",i.reloadIndex),w(7),B("heading",i.sources[0].name),w(2),$(i.sources[0].text),w(),B("heading",i.sources[1].name),w(2),$(i.sources[1].text),w(),B("heading",i.sources[2].name),w(2),$(i.sources[2].text),w(),B("heading",i.sources[3].name),w(2),$(i.sources[3].text),w(3),B("routerLink",i.scopes.datasource.id),w(),$(i.scopes.datasource.name),w(2),B("routerLink",i.scopes.settings.id),w(),$(i.scopes.settings.name),w(2),B("routerLink",i.scopes.adapter.id),w(),$(i.scopes.adapter.name),w(2),B("routerLink",i.scopes.experimental.id),w(),$(i.scopes.experimental.name),w(5),x("ngForOf",i.demosNotEmpty)}},dependencies:[Gd,hn,Qv,Jt,Vt,d1,cy,ii,ct,Bc],encapsulation:2})}}return e})();const On=(e,n,t,r)=>{e.count=e.count||0,e.log=`${++e.count}) got ${r} items [${n}..${n+t-1}]\n`+e.log},At=(e,n)=>(t,r,i)=>((e,n,t)=>{isNaN(Number(t))?n(e):setTimeout(()=>n(e),Number(t))})(((e,n,t)=>{const r=[];for(let i=n;i<=n+t-1;i++)r.push({id:i,text:"item #"+i});return On(e,n,t,r.length),r})(e,t,r),i,n);let dq=(()=>{class e{constructor(){this.demoContext={config:P.settings.map.noSettings,viewportId:"no-settings-viewport",count:0,log:""},this.datasource={get:At(this.demoContext)},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-basic"]],standalone:!1,decls:31,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," Speaking of what impact could "),f(4,"em"),l(5,"Settings"),d(),l(6," have on the Scroller behavior, we need to get an idea of its behavior before any settings applied. This demo is the very basic example with no "),f(7,"em"),l(8,"Settings"),d(),l(9," provided. "),d(),f(10,"p"),l(11," Let's first investigate the demo's log. The visible part of the viewport contains 10 items in accordance with CSS: 10 items of 25px each are equal to 250px of the viewport height. "),f(12,"em"),l(13,"Datasource.get"),d(),l(14," log shows that there were 3 requests of 5, 10 and 5 items on the initial load (before any scrolling). So we have 20 DOM elements initially: 15 downward items with positive indexes and 5 upward negative items. 20 items result in 500px and this is the initial viewport scrollable size. "),d(),f(15,"p"),l(16," The viewport scrollable size value can increase only; as we scroll more and more, items flow through the "),f(17,"em"),l(18,"Datasource.get"),d(),l(19,". In this demo the "),f(20,"em"),l(21,"Datasource"),d(),l(22," is unlimited, it produces items with indexes from -Infinity to +Infinity. The number of DOM elements in the viewport is not constant, but it fluctuates around the initial value during scrolling (20-31). The core concept of the virtualization is to keep as small number of real items as needed while the scrollable size of the viewport can be very big. "),d(),f(23,"p"),l(24," Why do we have 3 requests initially, why the first one is about only 5 items, why at least 10 items are invisible? This is how the "),f(25,"em"),l(26,"*uiScroll"),d(),l(27," works and further reading should shed light on the details. But we need to know that the default behavior could be changed via "),f(28,"em"),l(29,"Settings"),d(),l(30," object. "),d()()()),2&r&&x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})(),fq=(()=>{class e{constructor(){this.demoContext={config:P.settings.map.bufferSize,viewportId:"buffer-size-viewport",count:0,log:""},this.datasource={get:At(this.demoContext),settings:{bufferSize:15}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 15\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-buffer-size"]],standalone:!1,decls:41,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," The "),f(4,"em"),l(5,"bufferSize"),d(),l(6," property defines minimal number of items that the Scroller may retrieve via "),f(7,"em"),l(8,"Datasource.get"),d(),l(9," method in a single request. In this demo we see that the initial load consists of 2 requests of 15 items (from 1 to 15 and from -14 to 0). Initially the Scroller starts fill the viewport downward from zero scroll position. If the first fetch is enough, the second one will be in the backward direction. The size of these fetches is determined by the "),f(10,"em"),l(11,"bufferSize"),d(),l(12," setting. The next fetches (during scrolling) could ask for more than "),f(13,"em"),l(14,"bufferSize"),d(),l(15," items, but never less than "),f(16,"em"),l(17,"bufferSize"),d(),l(18,". "),d(),f(19,"p"),l(20," The bigger the "),f(21,"em"),l(22,"bufferSize"),d(),l(23," value is, the less requests generally are needed to fill out the viewport. For example, scrolling from 1 to 100 item when the "),f(24,"em"),l(25,"bufferSize"),d(),l(26," is 1, we may see about 40 "),f(27,"em"),l(28,"Datasource.get"),d(),l(29," calls (depends on the environment). But in this demo (where the "),f(30,"em"),l(31,"bufferSize"),d(),l(32," is 15) we may reach the 100th item in about 10 "),f(33,"em"),l(34,"Datasource.get"),d(),l(35," calls. "),d(),f(36,"p"),l(37," The default value of "),f(38,"em"),l(39,"bufferSize"),d(),l(40," property is 5. It has to be a positive integer. The minimum value is 1. "),d()()()),2&r&&x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})(),hq=(()=>{class e{constructor(){this.demoContext={config:P.settings.map.padding,viewportId:"padding-viewport",count:0,log:""},this.datasource={get:At(this.demoContext),settings:{bufferSize:7,padding:1.46}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 7,\n    padding: 1.46\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-padding"]],standalone:!1,decls:47,vars:3,consts:[[3,"datasource","context","sources"],["description",""],["href","https://github.com/dhilt/vscroll/wiki/Viewport"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," The "),f(4,"em"),l(5,"padding"),d(),l(6," setting defines an extra space out of the visible part of the viewport that should be filled with items. This provides outlets that determine when the items are to be created/destroyed. See also the "),f(7,"a",2),l(8,"Viewport doc"),d(),l(9," for details. "),d(),f(10,"p"),l(11," The value is relative to the visible size of the viewport. So "),f(12,"em"),l(13,"1.46"),d(),l(14," means that the Scroller would request new items until the areas of 146% of the viewport size in both forward and backward directions are filled with rendered items: 100% + 146% downward and 146% upward. In this demo we have 3 requests on the initial load, let's see what happened: "),d(),f(15,"ol")(16,"li"),l(17," 250px + 1.46 * 250px = 615px \u2014 total size of area that needs to be filled in downward (positive) direction, where 250px is the size of the visible viewport (per CSS) "),d(),f(18,"li"),l(19," 7 items * 25px = 175px \u2014 the result size of the first downward fetch, where "),f(20,"em"),l(21,"bufferSize"),d(),l(22," is 7 and 25px is the item's size (per CSS) "),d(),f(23,"li"),l(24," 615px - 175px = 440px \u2014 downward space which has to be filled during the second downward fetch "),d(),f(25,"li"),l(26," ceil(440px / 25px) = 18 \u2014 the number of items that should fill 440px area during the second downward fetch "),d()(),f(27,"p"),l(28," So we have 2 "),f(29,"em"),l(30,"Datasource.get"),d(),l(31," downward requests for 7 and 18 items. And this is an explanation of the last (initial backward) fetch: "),d(),f(32,"ol")(33,"li"),l(34," 1.46 * 250px = 360px \u2014 upward space that has to be filled in backward (negative) direction "),d(),f(35,"li"),l(36," ceil(360px / 25px) = 15 \u2014 the number of items that should fill 360px during backward fetch "),d()(),f(37,"p"),l(38," This way we got 40 DOM elements (7 + 18 + 15 = 40). The bigger "),f(39,"em"),l(40,"padding"),d(),l(41," value is, the more DOM elements should be present in the viewport. "),d(),f(42,"p"),l(43," The default value of "),f(44,"em"),l(45,"padding"),d(),l(46," property is 0.5. It is a floating point number. The minimum value is 0.01. "),d()()()),2&r&&x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})(),pq=(()=>{class e{constructor(){this.demoContext={config:P.settings.map.itemSize,viewportId:"item-size-viewport",count:0,log:""},this.datasource={get:At(this.demoContext),settings:{itemSize:25}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    itemSize: 25\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-item-size"]],standalone:!1,decls:36,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," Another setting which has an impact on the viewport filling procedure is "),f(4,"em"),l(5,"itemSize"),d(),l(6,". After the first fetch is done, the Scroller gets knowledge on average item's size and can make further requests precisely. The "),f(7,"em"),l(8,"itemSize"),d(),l(9," property tells the Scroller that the initial average item's size is determined and could be used right on the first cycle. That's why we have only 2 initial "),f(10,"em"),l(11,"Datasource.get"),d(),l(12," calls in this demo: "),d(),f(13,"ol")(14,"li"),l(15,"250px + 0.5 * 250px = 375px \u2014 downward (positive) size"),d(),f(16,"li"),l(17," ceil(375px / 25px) = 15 \u2014 items number to fill the area of 375px "),d(),f(18,"li"),l(19,"0.5 * 250px = 125px \u2014 upward (negative) size"),d(),f(20,"li"),l(21," ceil(125px / 25px) = 5 \u2014 items number to fill the area of 125px "),d()(),f(22,"p")(23,"em"),l(24,"itemSize"),d(),l(25," don't fix item's size on the template layer, it is just an expectation of average item's size. If we set it to, say, 10, then the first "),f(26,"em"),l(27,"Datasource.get"),d(),l(28," call will result in ceil(375 / 10) = 38 items which will occupy 38 * 25 = 950px downward area. The second fetch will be the same as above, because the Scroller will recalculate average item's size after the first fetch is done. Setting "),f(29,"em"),l(30,"itemSize"),d(),l(31," to, say, 9999 will give us good old 3 fetches: 5 (not 1, because 1 < bufferSize that is 5 by default) and 10 items on forward direction and 5 items on backward direction. "),d(),f(32,"p")(33,"em"),l(34,"itemSize"),d(),l(35," has no default value. If set, it has to be a positive integer. The minimum value is 1. "),d()()()),2&r&&x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})(),gq=(()=>{class e{constructor(){this.demoContext={config:P.settings.map.startIndex,viewportId:"start-index-viewport",count:0,log:""},this.datasource={get:At(this.demoContext),settings:{startIndex:137}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 137\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-start-index"]],standalone:!1,decls:18,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," What if we want to start the Scroller from some specific position? The "),f(4,"em"),l(5,"startIndex"),d(),l(6," setting determines what index the Scroller will use to start the load process when "),f(7,"em"),l(8,"Datasource.get"),d(),l(9," method is called for the first time. "),d(),f(10,"p"),l(11," The default "),f(12,"em"),l(13,"startIndex"),d(),l(14," value is 1. It has to be an integer with no range limitations. But real datasource boundaries (in case the "),f(15,"em"),l(16,"Datasource"),d(),l(17," is limited) should be taken into the account. "),d()()()),2&r&&x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})();const nA=e=>["/",e];let mq=(()=>{class e{constructor(){this.demoContext={config:P.settings.map.minMaxIndexes,viewportId:"min-max-indexes-viewport",count:0,log:""},this.datasourceLimitedDemoConfig=P.datasource.map.limited,this.datasourcePositiveLimitedDemoConfig=P.datasource.map.positiveLimitedIndexes,this.datasource={get:At(this.demoContext),settings:{minIndex:1,maxIndex:1e3}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    minIndex: 1,\n    maxIndex: 1000\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-min-max-indexes"]],standalone:!1,decls:84,vars:11,consts:[[3,"datasource","context","sources"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," If the boundaries of the dataset are known, we may virtualize all the data items right on the Scroller initialization, in other words the Scroller will maintain forward and backward padding elements of the viewport in assumption that the dataset consists of ("),f(4,"em"),l(5,"maxIndex"),d(),l(6," - "),f(7,"em"),l(8,"minIndex"),d(),l(9,") items. So it will be possible to jump to any position immediately. "),d(),f(10,"p"),l(11," In this demo we tell the Scroller to work with indexes in-between [1..1000] range only. 1000 items of 25px amount 25000px, this is the end viewport scrollable size which will not be changed. "),d(),f(12,"p"),l(13," An important note is that "),f(14,"em"),l(15,"minIndex"),d(),l(16," and "),f(17,"em"),l(18,"maxIndex"),d(),l(19," should stay within the real datasource boundaries. All the demos we discussed before have unlimited datasources, so "),f(20,"em"),l(21,"minIndex"),d(),l(22," and "),f(23,"em"),l(24,"maxIndex"),d(),l(25," could accept any values. But in case the datasource is limited, say, by [MIN..MAX] range, then "),f(26,"em"),l(27,"minIndex"),d(),l(28," should be >= "),f(29,"em"),l(30,"MIN"),d(),l(31," and "),f(32,"em"),l(33,"maxIndex"),d(),l(34," should be <= "),f(35,"em"),l(36,"MAX"),d(),l(37,". An example of limited "),f(38,"em"),l(39,"Datasource.get"),d(),l(40," implementation can be found "),f(41,"a",2),l(42,"here"),d(),l(43,". "),d(),f(44,"p"),l(45," The Scroller can accept only one of min/max indexes settings. For example, if we know that our datasource have no negative values, then we may define "),f(46,"em"),l(47,"minIndex"),d(),l(48," as 1 (or 0) and not define "),f(49,"em"),l(50,"maxIndex"),d(),l(51,". It also seems right idea to set "),f(52,"em"),l(53,"startIndex"),d(),l(54," value to 0 in case "),f(55,"em"),l(56,"minIndex"),d(),l(57," value had been set to 0. An example of positive-limited "),f(58,"em"),l(59,"Datasource.get"),d(),l(60," implementation can be found "),f(61,"a",2),l(62,"here"),d(),l(63,". "),d(),f(64,"p"),l(65," Both of "),f(66,"em"),l(67,"minIndex"),d(),l(68," and "),f(69,"em"),l(70,"maxIndex"),d(),l(71," values should be integer. The default "),f(72,"em"),l(73,"minIndex"),d(),l(74," value is "),f(75,"em"),l(76,"-Infinity"),d(),l(77,". The default "),f(78,"em"),l(79,"maxIndex"),d(),l(80," value is "),f(81,"em"),l(82,"+Infinity"),d(),l(83,". "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(41),B("fragment",i.datasourceLimitedDemoConfig.id),x("routerLink",ye(7,nA,i.datasourceLimitedDemoConfig.scope)),w(20),B("fragment",i.datasourcePositiveLimitedDemoConfig.id),x("routerLink",ye(9,nA,i.datasourcePositiveLimitedDemoConfig.scope)))},dependencies:[ct,ae],encapsulation:2})}}return e})(),vq=(()=>{class e{constructor(){this.demoContext={config:P.settings.map.infiniteMode,viewportId:"infinite-viewport",count:0,log:""},this.datasource={get:At(this.demoContext),settings:{infinite:!0}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n}"},{name:S.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 175px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-infinite"]],standalone:!1,decls:13,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3,' The Scroller might work in "infinite" mode, when items are never removed. This mode can be turned on via '),f(4,"em"),l(5,"infinite"),d(),l(6," property of the "),f(7,"em"),l(8,"settings"),d(),l(9," object. Setting "),f(10,"em"),l(11,"infinite"),d(),l(12," to true, we ask the Scroller not to remove items that are getting out of the visible part of the viewport. That's why the DOM elements counter value increases per each edge-scroll event and never decreased. "),d()()()),2&r&&x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})(),yq=(()=>{class e{constructor(){this.demoContext={config:P.settings.map.horizontalMode,viewportId:"horizontal-viewport",addClass:"horizontal",count:0,log:""},this.datasource={get:At(this.demoContext),settings:{horizontal:!0}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    horizontal: true\n  }\n}"},{name:S.Template,text:'<div class="viewport horizontal">\n  <div *uiScroll="let item of datasource">\n    <div class="item horizontal">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport.horizontal {\n  width: 250px;\n  height: 100px;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  white-space: nowrap;\n}\n.viewport.horizontal div {\n  display: inline-block;\n}\n.item.horizontal {\n  border: 1px solid #aaa;\n  height: 100px;\n  padding: 0 5px;\n  font-weight: bolder;\n}"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-horizontal"]],standalone:!1,decls:10,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," Horizontal scrolling could be enabled via "),f(4,"em"),l(5,"horizontal"),d(),l(6," setting. The styles also need to be fixed in accordance with horizontal scrolling. Currently we have some limitations at the template layer but "),f(7,"em"),l(8,"display: inline-block;"),d(),l(9," rule applied to all nested containers makes the horizontal mode work. "),d()()()),2&r&&x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})();function rA(...e){const n=zc(e),t=function y5(e,n){return"number"==typeof kv(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?lr(r[0]):aa(t)(vt(r,n)):Xn}const iA=e=>["/",e];function wq(e,n){if(1&e&&(f(0,"div")(1,"div",16),l(2),d()()),2&e){const t=n.$implicit;w(),Zr("height",t.size,"px"),w(),G(" ",t.text," ")}}function bq(e,n){if(1&e&&(f(0,"div")(1,"div",16),l(2),d()()),2&e){const t=n.$implicit;w(),Zr("height",t.size,"px"),w(),G(" ",t.text," ")}}function Dq(e,n){if(1&e&&(f(0,"pre"),l(1),d()),2&e){const t=Ie();w(),$(t.averageLog)}}function _q(e,n){if(1&e&&(f(0,"pre"),l(1),d()),2&e){const t=Ie();w(),$(t.frequentLog)}}let Iq=(()=>{class e{constructor(){this.settingsScope=P.settings.map,this.demoConfig=P.settings.map.differentItemHeights,this.viewportId="different-heights-viewport",this.MIN=0,this.MAX=99,this.SIZE=20,this.averageLog="",this.frequentLog="",this.log="average",this.datasourceAverage=new Ce({get:(t,r,i)=>i(this.getData(t,r,!1)),settings:{startIndex:this.MIN,minIndex:this.MIN,maxIndex:this.MAX,sizeStrategy:qn.Average}}),this.datasourceFrequent=new Ce({get:(t,r,i)=>i(this.getData(t,r,!0)),settings:{startIndex:this.MIN,minIndex:this.MIN,maxIndex:this.MAX,sizeStrategy:qn.Frequent}}),this.sources=[{name:S.Component,text:"MIN = 0;\nMAX = 99;\nSIZE = 20;\n\ndatasourceAverage = new Datasource<MyItem>({\n  get: (index, count, success) =>\n    success(this.getData(index, count, false)),\n  settings: {\n    startIndex: this.MIN,\n    minIndex: this.MIN,\n    maxIndex: this.MAX,\n    sizeStrategy: SizeStrategy.Average\n  }\n});\n\ndatasourceFrequent = new Datasource<MyItem>({\n  get: (index, count, success) =>\n    success(this.getData(index, count, true)),\n  settings: {\n    startIndex: this.MIN,\n    minIndex: this.MIN,\n    maxIndex: this.MAX,\n    sizeStrategy: SizeStrategy.Frequent\n  }\n});\n\ngetData(index: number, count: number, isFrequent: boolean): MyItem[] {\n  const data = [];\n  const start = Math.max(this.MIN, index);\n  const end = Math.min(index + count - 1, this.MAX);\n  for (let i = start; i <= end; i++) {\n    const size = isFrequent\n      ? this.SIZE * (i % 10 === 0 ? 2 : 1)\n      : this.SIZE + i;\n    data.push({ text: 'item #' + i, size });\n  }\n  return data;\n}"},{name:S.Template,active:!0,text:'<em>average</em>\n<div class="viewport">\n  <div *uiScroll="let item of datasourceAverage">\n     <div class="item" [style.height.px]="item.size">\n      {{item.text}}\n     </div>\n  </div>\n</div>\n\n<em>frequent</em>\n<div class="viewport">\n  <div *uiScroll="let item of datasourceFrequent">\n    <div class="item" [style.height.px]="item.size">\n      {{item.text}}\n     </div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n}"}],this.averageSample="Array.from({length: 100}).reduce((a, i, j) => a + j + 20 , 0) / 100; // 69.5px",rA(this.datasourceAverage.adapter.init$,this.datasourceFrequent.adapter.init$).pipe(Fi(1)).subscribe(()=>this.setupLog())}setupLog(){const t=this.datasourceAverage.adapter,r=this.datasourceFrequent.adapter,o=document.getElementById(this.viewportId).getElementsByClassName("viewport"),s=o[0],a=o[1];t.loopPending$.subscribe(c=>{c||(this.averageLog=`default: ${t.bufferInfo.defaultSize}px, total: ${s.scrollHeight}px\n`+this.averageLog)}),r.loopPending$.subscribe(c=>{c||(this.frequentLog=`default: ${r.bufferInfo.defaultSize}px, total: ${a.scrollHeight}px\n`+this.frequentLog)})}getData(t,r,i){const o=[],s=Math.max(this.MIN,t),a=Math.min(t+r-1,this.MAX);for(let c=s;c<=a;c++)o.push({text:"item #"+c,size:i?this.SIZE*(c%10==0?2:1):this.SIZE+c});return o}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-different-heights"]],standalone:!1,decls:75,vars:18,consts:[[1,"demo"],[3,"config"],[1,"work",3,"id"],[1,"viewport-wrapper"],[1,"viewport-label"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"datasource"],["name","log","value","average","type","radio",3,"ngModelChange","ngModel"],["name","log","value","frequent","type","radio",3,"ngModelChange","ngModel"],[1,"pre-wrapper"],[4,"ngIf"],[1,"clearfix","mb-3"],[3,"sources"],[1,"description"],[3,"routerLink","fragment"],[1,"item"]],template:function(r,i){1&r&&(f(0,"div",0),O(1,"app-demo-title",1),f(2,"div",2)(3,"div",3)(4,"div",4),l(5,"average"),d(),f(6,"div",5),pe(7,wq,3,3,"div",6),d()(),f(8,"div",3)(9,"div",4),l(10,"frequent"),d(),f(11,"div",5),pe(12,bq,3,3,"div",6),d()(),f(13,"div",7)(14,"div")(15,"input",8),Ze("ngModelChange",function(s){return tt(i.log,s)||(i.log=s),s}),d(),l(16," average log \xa0 "),f(17,"input",9),Ze("ngModelChange",function(s){return tt(i.log,s)||(i.log=s),s}),d(),l(18," frequent log "),d(),f(19,"div",10),pe(20,Dq,2,1,"pre",11)(21,_q,2,1,"pre",11),d()(),O(22,"div",12),d(),O(23,"app-demo-sources",13),f(24,"div",14)(25,"p"),l(26," Scroller works fine with non-constant item heights. The "),f(27,"em"),l(28,"sizeStrategy"),d(),l(29," setting defines the default item size. Scroller uses this default value when it needs to fetch new items and some or all of these new items had never been fetched before, so their sizes are unknown. (See "),f(30,"a",15),l(31,"padding setting"),d(),l(32," to get more details on fetching.) The following values are available "),d(),f(33,"ul")(34,"li")(35,"em"),l(36,"SizeStrategy.Average"),d(),l(37,' ("average"), the average size is calculated for each new item render and is considered the default '),d(),f(38,"li")(39,"em"),l(40,"SizeStrategy.Frequent"),d(),l(41,' ("frequent"), the most frequent size across all renders is considered the default '),d(),f(42,"li")(43,"em"),l(44,"SizeStrategy.Constant"),d(),l(45,' ("constant"), the default item size value is taken from the '),f(46,"a",15),l(47,"itemSize setting"),d(),l(48," and never changes. If the "),f(49,"em"),l(50,"itemSize"),d(),l(51," setting is not defined, the size of the first rendered item will be used as the default. "),d()(),f(52,"p"),l(53,' In this sample we have two Scrollers demonstrating "average" and "frequent" strategies. The log section helps to understand behavior and catch the difference between strategies. The "average" datasource provides incrementally growing items, and we see how the '),f(54,"em"),l(55,"default"),d(),l(56," size increases per each scroll down. Having 100 items with height of (20 + i)px, we'll get 70px as the average value in the end: "),d(),f(57,"pre"),l(58),d(),f(59,"p"),l(60," The "),f(61,"em"),l(62,"total"),d(),l(63,' size in the log section is an expectation of scrollable area for 100 items, it consists of two parts: 1) cumulative height of the items that have been rendered at least once, and 2) anticipated height of unknown items based on the "default" size. This second part increases per each '),f(64,"em"),l(65,"default"),d(),l(66,' size increase in the "average" sample. '),d(),f(67,"p"),l(68,' The "frequent" datasource provides the size of each 10th item = 40px, the rest = 20px. In this case it seems reasonable to use '),f(69,"em"),l(70,"SizeStrategy.Frequent"),d(),l(71,' strategy, though there is no strict conditions defining which strategy should be used in the end App. If accuracy is not a concern, the "constant" strategy can be enabled by using the '),f(72,"em"),l(73,"SizeStrategy.Constant"),d(),l(74," value as it results in less calculations on the Scroller's end. However, it is recommended to make additional research on the impact on performance for each specific case. "),d()()()),2&r&&(w(),x("config",i.demoConfig),w(),x("id",i.viewportId),w(5),x("uiScrollOf",i.datasourceAverage),w(5),x("uiScrollOf",i.datasourceFrequent),w(3),We("ngModel",i.log),w(2),We("ngModel",i.log),w(3),x("ngIf","average"===i.log),w(),x("ngIf","frequent"===i.log),w(2),x("sources",i.sources),w(7),B("fragment",i.settingsScope.padding.id),x("routerLink",ye(14,iA,i.settingsScope.padding.scope)),w(16),B("fragment",i.settingsScope.itemSize.id),x("routerLink",ye(16,iA,i.settingsScope.itemSize.scope)),w(12),G("      ",i.averageSample,"\n    "))},dependencies:[ei,hn,Kv,Jt,Vt,ii,ct,ma,Qf],encapsulation:2})}}return e})(),Cq=(()=>{class e{constructor(){this.demoContext={config:P.settings.map.windowViewport,viewportId:"window-viewport-viewport",noWorkView:!0,count:0,log:""},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    windowViewport: true\n  }\n}"},{name:S.Template,text:'<div *uiScroll="let item of datasource">\n  <div class="item">{{item.text}}</div>\n</div>'},{name:S.Styles,text:".item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-window-viewport"]],standalone:!1,decls:13,vars:2,consts:[[3,"context","sources"],["actions",""],["routerLink","/window"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," Follow "),f(4,"a",2),l(5,"this link"),d(),l(6," to open the Entire Window scrollable demo. "),d()(),f(7,"div",3)(8,"p"),l(9," The entire window might work as the viewport if "),f(10,"em"),l(11,"windowViewport"),d(),l(12,' setting is set to true. Previous versions of the library (prior to 1.6.4) required the "overflow-anchor" css property to be disabled at the top level of the DOM tree (body or html tag). Today it is not necessary. '),d()()()),2&r&&x("context",i.demoContext)("sources",i.sources)},dependencies:[ct,ae],encapsulation:2})}}return e})(),xq=(()=>{class e{constructor(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-samples-settings"]],standalone:!1,decls:28,vars:0,template:function(r,i){1&r&&(f(0,"h1"),l(1,"Angular UI Scroll Settings Demos"),d(),f(2,"p")(3,"em"),l(4,"Settings"),d(),l(5," object is\xa0a\xa0part of\xa0"),f(6,"em"),l(7,"Datasource"),d(),l(8," implementation. It allows to configure the\xa0Scroller during its initialization. Each sample on this page deals with a\xa0single setting and includes:\n"),d(),f(9,"ul")(10,"li"),l(11,"working viewport with scrollable area;"),d(),f(12,"li"),l(13," log section where we\xa0may see current size of\xa0the viewport, how many real items (DOM elements) the viewport has in\xa0the\xa0moment and how many items have been retrieved via Datasource.get; "),d(),f(14,"li"),l(15," code listing which contains Datasource typescript code, Template html code and CSS; "),d(),f(16,"li"),l(17,"description and explanations."),d()(),O(18,"app-demo-basic")(19,"app-demo-buffer-size")(20,"app-demo-padding")(21,"app-demo-item-size")(22,"app-demo-start-index")(23,"app-demo-min-max-indexes")(24,"app-demo-infinite")(25,"app-demo-horizontal")(26,"app-demo-different-heights")(27,"app-demo-window-viewport"))},dependencies:[dq,fq,hq,pq,gq,mq,vq,yq,Iq,Cq],encapsulation:2})}}return e})();const oA=e=>["/",e];let Eq=(()=>{class e{constructor(){this.demoContext={config:P.adapterMethods.map.relax,noInfo:!0},this.adapterMethodsScope=P.adapterMethods,this.datasource=new Ce({get:(t,r,i)=>{const o=[];for(let s=t;s<t+r;s++)o.push({id:s,text:"item #"+s});i(o)}}),this.sources=[{active:!0,name:"Relax",text:"async doReplace() {\n  const { adapter } = this.datasource;\n  await adapter.relax();\n  adapter.remove({\n    predicate: ({ $index }) => $index > 4 && $index < 8\n  });\n  await adapter.relax();\n  adapter.insert({\n    items: [{ id: '5*', text: 'item #5 *' }],\n    after: ({ $index }) => $index === 4\n  });\n}\n"},{name:"Is loading",text:"relax(cb: Function) {\n  const { adapter } = this.datasource;\n  if (!adapter.isLoading) {\n    cb();\n  } else {\n    adapter.isLoading$\n      .pipe(filter(isLoading => !isLoading), take(1))\n      .subscribe(() => cb());\n  }\n}\n\ndoReplace() {\n  const { adapter } = this.datasource;\n  this.relax(() =>\n    adapter.remove({\n      predicate: ({ $index }) => $index > 4 && $index < 8\n    })\n  );\n  this.relax(() =>\n    adapter.insert({\n      items: [{ id: '5*', text: 'item #5 *' }],\n      after: ({ $index }) => $index === 4\n    })\n  );\n}\n"},{name:"Callback",text:"doReplace() {\n  const { adapter } = this.datasource;\n  adapter.relax(() =>\n    adapter.remove({\n      predicate: ({ $index }) => $index > 4 && $index < 8\n    })\n  );\n  adapter.relax(() =>\n    adapter.insert({\n      items: [{ id: '5*', text: 'item #5 *' }],\n      after: ({ $index }) => $index === 4\n    })\n  );\n}\n"},{name:"Return",text:"async doReplace() {\n  const { adapter } = this.datasource;\n  await adapter.relax();\n  await adapter.remove({\n    predicate: ({ $index }) => $index > 4 && $index < 8\n  });\n  adapter.insert({\n    items: [{ id: '5*', text: 'item #5 *' }],\n    after: ({ $index }) => $index === 4\n  });\n}\n"}],this.isLoadingSample="\n  if (!adapter.isLoading) {\n    doSomething();\n  } else {\n    adapter.isLoading$\n      .pipe(filter(isLoading => !isLoading), take(1))\n      .subscribe(() => doSomething());\n  }",this.relaxSample="\n  await adapter.relax();\n  doSomething();"}doReplace(){var t=this;return Ke(function*(){const{adapter:r}=t.datasource;yield r.relax(),r.remove({predicate:({$index:o})=>o>4&&o<8}),yield r.relax(),r.insert({items:[{id:"5*",text:"item #5 *"}],after:({$index:o})=>4===o})})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-adapter-relax"]],standalone:!1,decls:63,vars:13,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),H("click",function(){return i.doReplace()}),l(3,"replace (5, 6, 7) with (5 *)"),d()(),f(4,"div",3)(5,"p"),l(6," The "),f(7,"em"),l(8,"Adapter.relax"),d(),l(9," is a kind of empty "),f(10,"em"),l(11,"Adapter"),d(),l(12,' method that does only one thing: it resolves when the Scroller is relaxed. If we need to run any logic that should not interfere with the Scroller internal processes, it should be protected by the "relax" promise: '),d(),f(13,"pre"),l(14),d(),f(15,"p"),l(16," In this demo we simulate items replacement by performing a sequence of 2 "),f(17,"em"),l(18,"Adapter"),d(),l(19,' methods: remove and insert. A few existed items (5, 6, 7) are being replaced with a new one (5*). Removing is an asynchronous operation, and we can\'t perform "insert" before "remove" is done (it will produce an error). Thus, both operations must be run in sequence. Also, we should be wary of any async processes before running the Adapter methods chain. So the algorithm for this demo can be written as follows: '),d(),f(20,"ul")(21,"li"),l(22,"wait for Scroller stops"),d(),f(23,"li"),l(24,"run remove"),d(),f(25,"li"),l(26,"wait for remove is done"),d(),f(27,"li"),l(28,"run insert"),d()(),f(29,"p"),l(30," (Please note, a replacement can be done via "),f(31,"a",4),l(32,"Adapter.replace API"),d(),l(33," in a single run; the "),f(34,"em"),l(35,"insert-remove"),d(),l(36," approach is less performant than the "),f(37,"em"),l(38,"Adapter.replace"),d(),l(39,") "),d(),f(40,"p"),l(41," The purpose of the "),f(42,"em"),l(43,"Adapter.relax"),d(),l(44,' method is to make sure that the Scroller relaxes and there are no pending internal tasks running on the Scroller\'s end. The first tab "Relax" demonstrates how the desired sequence can be implemented with the '),f(45,"em"),l(46,"Adapter.relax"),d(),l(47,' method. This method returns a promise which becomes resolved when the Scroller stops. Basically, this may be treated as a shortcut for the following approach, which is presented on the "Is\xa0loading" tab: '),d(),f(48,"pre"),l(49),d(),f(50,"p"),l(51,' All the tabs are equivalent. The third tab "Callback" uses a callback signature of the '),f(52,"em"),l(53,"Adapter.relax"),d(),l(54,' method. The method accepts callback as an optional argument, and this allows to run necessary logic right before resolving the "relax" promise. This might be helpful if we don\'t want to wait until the end of the current call stack. '),d(),f(55,"p"),l(56," At last, we may use "),f(57,"a",4),l(58,"Return value API"),d(),l(59," (which is a part of each "),f(60,"em"),l(61,"Adapter"),d(),l(62,' method) and get rid of the second "relax". This approach is demonstrated on the last tab "Return". '),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(14),$(i.relaxSample),w(17),B("fragment",i.adapterMethodsScope.map.replace.id),x("routerLink",ye(9,oA,i.adapterMethodsScope.map.replace.scope)),w(18),$(i.isLoadingSample),w(8),B("fragment",i.adapterMethodsScope.map.returnValue.id),x("routerLink",ye(11,oA,i.adapterMethodsScope.map.returnValue.scope)))},dependencies:[ct,ae],encapsulation:2})}}return e})(),Sq=(()=>{class e{constructor(){this.demoConfig=P.adapterMethods.map.returnValue,this.returnValueType="  Promise<{\n    success: boolean,\n    immediate: boolean,\n    details: string | null\n  }>",this.returnValueSample="\n  const { immediate } = await adapter.remove({ predicate });\n  if (immediate) {\n    console.log('No items were removed');\n  }",this.explicitSequenceSample='\n  await adapter.append({ items });\n  scrollToBottom(); // will not scroll without "await"\n  '}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-adapter-return-value"]],standalone:!1,decls:76,vars:4,consts:[[1,"demo"],[3,"config"],[1,"description"]],template:function(r,i){1&r&&(f(0,"div",0),O(1,"app-demo-title",1),f(2,"div",2)(3,"p"),l(4," Along with "),f(5,"em"),l(6,"Adapter"),d(),l(7," properties there are several "),f(8,"em"),l(9,"Adapter"),d(),l(10," methods. Each "),f(11,"em"),l(12,"Adapter"),d(),l(13," method runs the Scroller's Workflow that handles multiple internal processes, some of which may be asynchronous. In order to deal with such asynchronicity, the return value of any "),f(14,"em"),l(15,"Adapter"),d(),l(16," method is a "),f(17,"em"),l(18,"Promise"),d(),l(19," that is resolved when all internal processes triggered by the "),f(20,"em"),l(21,"Adapter"),d(),l(22," are terminated. Return value has following type "),d(),f(23,"pre"),l(24),d(),f(25,"p"),l(26," - "),f(27,"em"),l(28,"success"),d(),l(29,": specifies whether the "),f(30,"em"),l(31,"Adapter"),d(),l(32," method completed successfully or not; for example, if some method is invoked with wrong arguments, no error will be thrown, but we'll get "),f(33,"em"),l(34,"success:\xa0false"),d(),l(35," in the result; "),O(36,"br"),l(37," - "),f(38,"em"),l(39,"details"),d(),l(40,": contains error message in case "),f(41,"em"),l(42,"success"),d(),l(43," is "),f(44,"em"),l(45,"false"),d(),l(46,"; "),O(47,"br"),l(48," - "),f(49,"em"),l(50,"immediate"),d(),l(51,": specifies whether the "),f(52,"em"),l(53,"Adapter"),d(),l(54," method completed immediately or not; for example, if "),f(55,"em"),l(56,"Adapter.remove"),d(),l(57," won't remove any items, then it will be terminated immediately and we'll get "),f(58,"em"),l(59,"immediate:\xa0true"),d(),l(60," in the result. "),d(),f(61,"pre"),l(62),d(),f(63,"p"),l(64," Note, "),f(65,"em"),l(66,"immediate:\xa0false"),d(),l(67," does not necessarily mean that the "),f(68,"em"),l(69,"Adapter"),d(),l(70," method worked asynchronously. For example, "),f(71,"em"),l(72,"Adapter.clip"),d(),l(73," does its work in a single call stack regardless of whether there are items to be clipped or not. But in any case, if there is any logic that needs to be run after the Adapter method completes its job, it is highly recommended to implement an explicit sequence like this: "),d(),f(74,"pre"),l(75),d()()()),2&r&&(w(),x("config",i.demoConfig),w(23),$(i.returnValueType),w(38),$(i.returnValueSample),w(13),$(i.explicitSequenceSample))},dependencies:[ma],encapsulation:2})}}return e})(),Mq=(()=>{class e{constructor(){this.demoContext={config:P.adapterMethods.map.reset,viewportId:"reset-viewport",count:0,log:""},this.datasource=new Ce({get:At(this.demoContext)}),this.startIndex=100,this.bufferSize=20,this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nstartIndex = 100;\nbufferSize = 20;\n\ndoReset() {\n  const settings = {\n    startIndex: Number(this.startIndex),\n    bufferSize: Number(this.bufferSize)\n  };\n  this.datasource.adapter.reset({ settings });\n}"},{active:!0,name:S.Template,text:'<button (click)="doReset()">Reset</button>\n<input [(ngModel)]="startIndex" size="3"> - new start index\n<input [(ngModel)]="bufferSize" size="3"> - new buffer size\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'}],this.resetWithNewInstanceSample="  this.datasource.adapter.reset(new Datasource(...));"}doReset(){this.demoContext.count=0,this.demoContext.log="";const t={startIndex:Number(this.startIndex),bufferSize:Number(this.bufferSize)};this.datasource.adapter.reset({settings:t})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-reset"]],standalone:!1,decls:59,vars:6,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["size","3",3,"ngModelChange","ngModel"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),H("click",function(){return i.doReset()}),l(3,"Reset"),d(),O(4,"br"),f(5,"input",3),Ze("ngModelChange",function(s){return tt(i.startIndex,s)||(i.startIndex=s),s}),d(),l(6," - new start index"),O(7,"br"),f(8,"input",3),Ze("ngModelChange",function(s){return tt(i.bufferSize,s)||(i.bufferSize=s),s}),d(),l(9," - new buffer size "),d(),f(10,"div",4)(11,"p"),l(12," The "),f(13,"em"),l(14,"Adapter.reset"),d(),l(15," method is designed to reset the internal state of the Scroller. It differs from the "),f(16,"em"),l(17,"Adapter.reload"),d(),l(18," because it re-instantiates all internal entities, which is equivalent to destroying the Scroller and re-creating it again via "),f(19,"em"),l(20,"ngIf"),d(),l(21,". "),d(),f(22,"p"),l(23," The method has 1 optional argument: "),f(24,"em"),l(25,"datasource"),d(),l(26," object. By passing it, we tell the Scroller that we want to use a new datasource. If the argument is not passed, the old Datasource will be used. "),d(),f(27,"p"),l(28," All fields of the "),f(29,"em"),l(30,"datasource"),d(),l(31," argument are optional. Missing parts of a new Datasource will be taken from the original one. For instance, in this demo only "),f(32,"em"),l(33,"settings"),d(),l(34," field is passed: "),f(35,"em"),l(36,"Adapter.reset({ settings })"),d(),l(37,". This sets new "),f(38,"em"),l(39,"startIndex"),d(),l(40," and "),f(41,"em"),l(42,"bufferSize"),d(),l(43," settings while "),f(44,"em"),l(45,"Datasource.get"),d(),l(46," remains pristine. It affects the value of the DOM elements counter. "),d(),f(47,"p")(48,"b"),l(49,"Important note!"),d(),l(50," Do not re-assign the Datasource at the App component level, "),f(51,"em"),l(52,"this.datasource"),d(),l(53," must keep the same reference before and after reset. So "),f(54,"em"),l(55,"this.datasource\xa0=\xa0..."),d(),l(56," expressions are prohibited after reset, for it will make the Adapter subscriptions broken. The Scroller maintains Datasource params and provides the Adapter consistency across the reset. Even in case of passing a new instance of Datasource: "),d(),f(57,"pre"),l(58),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(5),We("ngModel",i.startIndex),w(3),We("ngModel",i.bufferSize),w(50),$(i.resetWithNewInstanceSample))},dependencies:[hn,Jt,Vt,ae],encapsulation:2})}}return e})();const Tq=e=>["/",e];let Aq=(()=>{class e{constructor(){this.demoContext={config:P.adapterMethods.map.reload,viewportId:"reload-viewport",count:0,log:""},this.startIndexDemoConfig=P.settings.map.startIndex,this.datasource=new Ce({get:At(this.demoContext)}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nreloadIndex: number = 99;\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}"},{active:!0,name:S.Template,text:'<button (click)="doReload()">Reload</button>\nby index <input [(ngModel)]="reloadIndex">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.reloadIndex=99}onInputChanged(t){let r=parseInt(t.value,10);isNaN(r)&&(r=1),t.value=r.toString(),this.reloadIndex=r}doReload(){this.demoContext.count=0,this.demoContext.log="",this.datasource.adapter.reload(this.reloadIndex)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-reload"]],standalone:!1,decls:52,vars:8,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["size","2",3,"change","ngModel"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),H("click",function(){return i.doReload()}),l(3,"Reload"),d(),l(4," \xa0 by index \xa0 "),f(5,"input",3),H("change",function(s){return i.onInputChanged(s.target)}),d()(),f(6,"div",4)(7,"p"),l(8," The "),f(9,"em"),l(10,"Adapter.reload"),d(),l(11," method allows to reload the Scroller. This includes resetting the items "),f(12,"em"),l(13,"Buffer"),d(),l(14," and the "),f(15,"em"),l(16,"Viewport"),d(),l(17," params. The "),f(18,"em"),l(19,"reload"),d(),l(20," method has 1 optional argument: "),f(21,"em"),l(22,"index"),d(),l(23,". It specifies the index of the item to be first in the visible part of the viewport after reload. "),d(),f(24,"p"),l(25," If "),f(26,"em"),l(27,"index"),d(),l(28," argument is not set, "),f(29,"em"),l(30,"settings.startIndex"),d(),l(31," will be used as the first index. If neither "),f(32,"em"),l(33,"index"),d(),l(34," argument not "),f(35,"em"),l(36,"startIndex"),d(),l(37," setting is present, the default value 1 will be used. See also "),f(38,"a",5),l(39,"startIndex setting"),d(),l(40," demo. "),d(),f(41,"p"),l(42," The "),f(43,"em"),l(44,"Adapter.reload"),d(),l(45," method is safe and needs not to be protected with the "),f(46,"em"),l(47,"Adapter.relax"),d(),l(48," (though it could be protected if that's the UX requirement). This method interrupts the Scroller's flow and synchronously terminates any pending processes on the Scroller's end. The same is true also for the "),f(49,"em"),l(50,"Adapter.reset"),d(),l(51," method. "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(5),x("ngModel",i.reloadIndex),w(33),B("fragment",i.startIndexDemoConfig.id),x("routerLink",ye(6,Tq,i.startIndexDemoConfig.scope)))},dependencies:[hn,Jt,Vt,ct,ae],encapsulation:2})}}return e})(),Nq=(()=>{class e{constructor(){this.demoContext={config:P.adapterMethods.map.pauseResume,viewportId:"pause-resume-viewport",count:0,log:""},this.datasource=new Ce({get:(t,r,i)=>{const o=[];for(let s=t;s<=t+r-1;s++)o.push({id:s,text:"item #"+s});On(this.demoContext,t,r,o.length),i(o)}}),this.sources=[{active:!0,name:S.Template,text:'<button (click)="datasource.adapter.pause()">Pause</button>\n<button (click)="datasource.adapter.resume()">Resume</button>\nScroller is {{ datasource.adapter.paused ? \'paused\' : \'not paused\' }}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Datasource,text:"datasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n  }\n})"}],this.argumentDescription="  onBeforeClip: (items: {\n    $index: number,\n    data: any,\n    element?: HTMLElement\n  }[]) => void"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-pause-resume"]],standalone:!1,decls:36,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),H("click",function(){return i.datasource.adapter.pause()}),l(3,"Pause"),d(),f(4,"button",2),H("click",function(){return i.datasource.adapter.resume()}),l(5,"Resume"),d(),l(6),d(),f(7,"div",3)(8,"p"),l(9," The "),f(10,"em"),l(11,"Adapter.pause"),d(),l(12," method is to stop the Scroller. When paused, it doesn't receive the scroll events from the viewport, so the scroll events are ignored. Also, all the Adapter methods (except "),f(13,"em"),l(14,"Adapter.resume"),d(),l(15," and "),f(16,"em"),l(17,"Adapter.reset"),d(),l(18,") don't do anything. The "),f(19,"em"),l(20,"Adapter.resume"),d(),l(21," method is to make the Scroller live again. "),d(),f(22,"p"),l(23," In addition to the "),f(24,"em"),l(25,"pause"),d(),l(26,"/"),f(27,"em"),l(28,"resume"),d(),l(29," methods, there is a read-only property, "),f(30,"em"),l(31,"Adapter.paused"),d(),l(32,", that reports whether the Scroller is paused or not. Along with the scalar property, there is also a reactive one: "),f(33,"em"),l(34,"Adapter.paused$"),d(),l(35,". "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(6),G(" Scroller is ",i.datasource.adapter.paused?"paused":"not paused"," "))},dependencies:[ae],encapsulation:2})}}return e})(),Rq=(()=>{class e{constructor(t){this.changeDetector=t,this.demoContext={config:P.adapterProps.map.init,viewportId:"init-viewport",noInfo:!0,count:0,log:""},this.version="...",this.datasource=new Ce({get:At(this.demoContext)}),this.sources=[{active:!0,name:S.Component,text:"version = '...';\n\ndatasource = new Datasource ({\n  get: (index, length, success) =>\n    success(Array.from({ length }).map((i, j) =>\n      ({ id: index + j, text: 'item #' + (index + j) })\n    ))\n});\n\nconstructor() {\n  const { adapter } = this.datasource;\n  adapter.init$.pipe(take(1)).subscribe(() =>\n    this.version = adapter.packageInfo.consumer.version\n  );\n}"},{name:S.Component+" (OnPush)",text:"@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  ...\n})\n\n...\n\nversion = '...';\n\ndatasource = new Datasource ({\n  get: (index, length, success) =>\n    success(Array.from({ length }).map((i, j) =>\n      ({ id: index + j, text: 'item #' + (index + j) })\n    ))\n});\n\nconstructor(public changeDetector: ChangeDetectorRef) {\n  const { adapter } = this.datasource;\n  adapter.init$.pipe(take(1)).subscribe(() => {\n    this.version = adapter.packageInfo.consumer.version;\n    this.changeDetector.detectChanges();\n  });\n}"},{name:S.Template,text:'ngx-ui-scroll version is {{version}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}];const{adapter:r}=this.datasource;r.init$.pipe(Fi(1)).subscribe(()=>{this.version=r.packageInfo.consumer.version,this.changeDetector.detectChanges()})}static{this.\u0275fac=function(r){return new(r||e)(T($s))}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-init"]],standalone:!1,decls:42,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),l(2),d(),f(3,"div",2)(4,"p")(5,"em"),l(6,"Adapter.init$"),d(),l(7," is a Subject-boolean property that fires once after the "),f(8,"em"),l(9,"Adapter"),d(),l(10," is initialized and the Scroller is ready to run. There is also "),f(11,"em"),l(12,"Adapter.init"),d(),l(13," read-only boolean property. An important point is that there is a time gap between the Datasource/Adapter instantiation and the Scroller/Adapter initialization. In other words, we may instantiate the Datasource long before the Scroller's viewport is rendered and it starts working. "),d(),f(14,"p"),l(15," This demo displays "),f(16,"em"),l(17,"ngx-ui-scroll"),d(),l(18," version taken from the "),f(19,"em"),l(20,"Adapter"),d(),l(21,". The "),f(22,"em"),l(23,"Adapter.init$"),d(),l(24," subscription is used to set "),f(25,"em"),l(26,"version"),d(),l(27," property exactly when the "),f(28,"em"),l(29,"Adapter"),d(),l(30," initializes and receives all data. "),d(),f(31,"p"),l(32," The second tab (OnPush) implements "),f(33,"em"),l(34,"OnPush"),d(),l(35," strategy with an additional "),f(36,"em"),l(37,"changeDetector"),d(),l(38," call, which is required to update the view, because initialization is an asynchronous process. If we remove "),f(39,"em"),l(40,"changeDetector"),d(),l(41," call, we see 3 dots, the initial value. "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(2),G("ngx-ui-scroll version is ",i.version,""))},dependencies:[ae],encapsulation:2,changeDetection:0})}}return e})(),kq=(()=>{class e{constructor(){this.demoContext={config:P.adapterProps.map.isLoading,viewportId:"is-loading-viewport",count:0,log:""},this.datasource=new Ce({get:At(this.demoContext,225)}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 225);\n  }\n});\n\nisLoadingCounter = 0;\n\nconstructor() {\n  this.datasource.adapter.isLoading$\n    .subscribe(isLoading =>\n      this.isLoadingCounter += !isLoading ? 1 : 0\n    );\n}\n"},{active:!0,name:S.Template,text:'The Scroller is\n{{datasource.adapter.isLoading ? \'loading\': \'relaxing\'}}.\n\n<br>\n\nThe value of isLoading counter has been changed\nfor {{isLoadingCounter}} times.\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.isLoadingCounter=0,this.datasource.adapter.isLoading$.subscribe(t=>this.isLoadingCounter+=t?0:1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-is-loading"]],standalone:!1,decls:36,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),l(2),O(3,"br"),l(4),d(),f(5,"div",2)(6,"p")(7,"em"),l(8,"Adapter.isLoading"),d(),l(9," is a read-only boolean property indicating whether there are any pending processes running by the Scroller. So when "),f(10,"em"),l(11,"datasource.adapter.isLoading"),d(),l(12," is "),f(13,"em"),l(14,"true"),d(),l(15,", it means that the Scroller is working right now and the viewport might be updated soon. 225ms delay was added to the "),f(16,"em"),l(17,"Datasource.get"),d(),l(18," implementation in this sample. "),d(),f(19,"p"),l(20," In addition to read-only scalar "),f(21,"em"),l(22,"isLoading"),d(),l(23," property there is also "),f(24,"em"),l(25,"isLoading$"),d(),l(26," property which is Observable. A Subject, to be exact. In this demo we have a subscription and "),f(27,"em"),l(28,"isLoadingCounter"),d(),l(29," which is incremented each time the "),f(30,"em"),l(31,"isLoading"),d(),l(32," value becomes "),f(33,"em"),l(34,"false"),d(),l(35,". We see that the initial value of this counter on the UI (before any scrolling) is 1. So the Scroller does initialization and first 3 fetches in a single session. "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(2),G(" The Scroller is ",i.datasource.adapter.isLoading?"loading":"relaxing",". "),w(2),G(" The value of isLoading counter has been changed for ",i.isLoadingCounter," times. "))},dependencies:[ae],encapsulation:2})}}return e})(),Oq=(()=>{class e{constructor(){this.demoContext={config:P.adapterProps.map.packageInfo,viewportId:"package-info-viewport",count:0,log:""},this.datasource=new Ce({get:At(this.demoContext)}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:S.Template,text:'Consumer: {{datasource.adapter.packageInfo.consumer.name}}\nv{{datasource.adapter.packageInfo.consumer.version}}\n<br>\nCore: {{datasource.adapter.packageInfo.core.name}}\nv{{datasource.adapter.packageInfo.core.version}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-package-info"]],standalone:!1,decls:10,vars:7,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),l(2),O(3,"br"),l(4),d(),f(5,"div",2)(6,"p")(7,"em"),l(8,"Adapter.packageInfo"),d(),l(9,' represents a read-only object which contains information about versions of ngx-ui-scroll and its external core. Prior to ngx-ui-scroll v2, this core was a physical part of the ngx-ui-scroll codebase. Now it is a separate npm package "vscroll" that "ngx-ui-scroll" depends on. '),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(2),Un(" Consumer: ",i.datasource.adapter.packageInfo.consumer.name," v",i.datasource.adapter.packageInfo.consumer.version," "),w(2),Un(" Core: ",i.datasource.adapter.packageInfo.core.name," v",i.datasource.adapter.packageInfo.core.version," "))},dependencies:[ae],encapsulation:2})}}return e})(),Pq=(()=>{class e{constructor(){this.demoContext={config:P.adapterProps.map.itemsCount,viewportId:"items-count-viewport",count:0,log:""},this.datasource=new Ce({get:At(this.demoContext)}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:S.Template,text:'The Scroller\'s buffer has\n{{datasource.adapter.itemsCount}} items.\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-items-count"]],standalone:!1,decls:12,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),l(2),d(),f(3,"div",2)(4,"p"),l(5," We may use "),f(6,"em"),l(7,"Adapter.itemsCount"),d(),l(8," read-only property to see how many items exist in the Scroller's Buffer at the moment. The "),f(9,"em"),l(10,"itemsCount"),d(),l(11," value is the same as the value of DOM elements counter. "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(2),G("The Scroller's buffer has ",i.datasource.adapter.itemsCount," items."))},dependencies:[ae],encapsulation:2})}}return e})(),Fq=(()=>{class e{constructor(){this.demoContext={config:P.adapterProps.map.bufferInfo,viewportId:"buffer-info-viewport",count:0,log:""},this.datasource=new Ce({get:At(this.demoContext)}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:S.Template,text:'firstIndex: {{datasource.adapter.bufferInfo.firstIndex}} /\nlastIndex: {{datasource.adapter.bufferInfo.lastIndex}} <br>\nminIndex: {{datasource.adapter.bufferInfo.minIndex}} /\nmaxIndex: {{datasource.adapter.bufferInfo.maxIndex}} <br>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.bufferInfoType="interface IBufferInfo {\n  firstIndex: number;\n  lastIndex: number;\n  minIndex: number;\n  maxIndex: number;\n  absMinIndex: number;\n  absMaxIndex: number;\n}"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-buffer-info"]],standalone:!1,decls:32,vars:8,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),l(2),O(3,"br"),l(4),O(5,"br"),d(),f(6,"div",2)(7,"p")(8,"em"),l(9,"Adapter.bufferInfo"),d(),l(10," is a read-only property which exposes an object of the following type: "),d(),f(11,"pre"),l(12),d(),f(13,"p")(14,"em"),l(15,"firstIndex"),d(),l(16," & "),f(17,"em"),l(18,"lastIndex"),d(),l(19," are the first and the last indexes in the current Buffer, "),f(20,"em"),l(21,"minIndex"),d(),l(22," & "),f(23,"em"),l(24,"maxIndex"),d(),l(25," are min and max indexes that were present in the Buffer, "),f(26,"em"),l(27,"absMinIndex"),d(),l(28," & "),f(29,"em"),l(30,"absMaxIndex"),d(),l(31," are min and max indexes that can be present in the Buffer. "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(2),Un(" firstIndex: ",i.datasource.adapter.bufferInfo.firstIndex," / lastIndex: ",i.datasource.adapter.bufferInfo.lastIndex,""),w(2),Un(" minIndex: ",i.datasource.adapter.bufferInfo.minIndex," / maxIndex: ",i.datasource.adapter.bufferInfo.maxIndex,""),w(8),$(i.bufferInfoType))},dependencies:[ae],encapsulation:2})}}return e})(),Lq=(()=>{class e{constructor(){this.demoContext={config:P.adapterProps.map.bofEof,viewportId:"bof-eof-viewport",count:0,log:""},this.datasource=new Ce({get:(i,o,s)=>{const u=[],h=Math.max(1,i),p=Math.min(i+o-1,100);if(h<=p)for(let m=h;m<=p;m++)u.push({id:m,text:"item #"+m});On(this.demoContext,i,o,u.length),s(u)}}),this.edgeCounter=0,this.sources=[{name:S.Component,text:"datasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const MIN = 1, MAX = 100;\n    const data = [];\n    const start = Math.max(MIN, index);\n    const end = Math.min(index + count - 1, MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i, height: 20 + i });\n      }\n    }\n    success(data);\n  }\n});\n\nedgeCounter = 0;\n\nconstructor() {\n  const { eof$, bof$ } = this.datasource.adapter;\n  merge(bof$, eof$).subscribe(() => this.edgeCounter++);\n}\n"},{active:!0,name:S.Template,text:"Begin of file is {{datasource.adapter.bof ? '' : 'not'}} reached\n<br>\nEnd of file is {{datasource.adapter.eof ? '' : 'not'}} reached\n<br>\nBOF / EOF changes counter: {{edgeCounter}}\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>"},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}];const{eof$:t,bof$:r}=this.datasource.adapter;rA(r,t).subscribe(()=>this.edgeCounter++)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-bof-eof"]],standalone:!1,decls:45,vars:6,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),l(2),O(3,"br"),l(4),O(5,"br"),l(6),d(),f(7,"div",2)(8,"p")(9,"em"),l(10,"Adapter.bof"),d(),l(11," and "),f(12,"em"),l(13,"Adapter.eof"),d(),l(14," are read-only boolean properties that indicate whether the dataset beginning (bof, begin of file) or the dataset ending (eof, end of file) is reached or not. "),d(),f(15,"p"),l(16," Along with scalar properties there are also two Observable ones: "),f(17,"em"),l(18,"Adapter.bof$"),d(),l(19," and "),f(20,"em"),l(21,"Adapter.eof$"),d(),l(22," which are Subjects and produce new values when scalar properties change. "),d(),f(23,"p"),l(24,' In this demo we have limited datasource consisting of 100 items starting from index 1. So initially we are at the left border of the dataset, and that\'s why we see "Begin of file is reached" message. After some scrolling down '),f(25,"em"),l(26,"bof"),d(),l(27," is turned to "),f(28,"em"),l(29,"false"),d(),l(30,", the first item is destroyed and can be retrieved again. "),d(),f(31,"p"),l(32," The "),f(33,"em"),l(34,"edgeCounter"),d(),l(35," is bof/eof changes counter. It is defined via "),f(36,"em"),l(37,"merge(bof$, eof$)"),d(),l(38," subscription which is triggered each time "),f(39,"em"),l(40,"bof$"),d(),l(41,"/"),f(42,"em"),l(43,"eof$"),d(),l(44," emits a new value. "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(2),G(" Begin of file is ",i.datasource.adapter.bof?"":"not"," reached "),w(2),G(" End of file is ",i.datasource.adapter.eof?"":"not"," reached "),w(2),G(" BOF / EOF changes counter: ",i.edgeCounter," "))},dependencies:[ae],encapsulation:2})}}return e})();function Vq(e,n){if(1&e&&(f(0,"div",3),l(1),O(2,"br"),l(3),yo(4,"async"),O(5,"br"),l(6),d()),2&e){let t;const r=Ie();w(),G(" First visible item's index: ",r.datasource.adapter.firstVisible.$index," "),w(2),G(" Last visible item's index: ",null==(t=wo(4,3,r.datasource.adapter.lastVisible$))?null:t.$index," "),w(3),G(" Visible items counter: ",r.visibleCount," ")}}let jq=(()=>{class e{constructor(){this.demoContext={config:P.adapterProps.map.firstLastVisible,viewportId:"first-last-visible-items-viewport",count:0,log:""},this.datasource=new Ce({get:At(this.demoContext)}),this.init=!1,this.visibleCount=0,this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nconstructor() {\n  const { firstVisible$, lastVisible$ } = this.datasource.adapter;\n  combineLatest(firstVisible$, lastVisible$)\n    .subscribe(result => {\n      const first = Number(result[0].$index);\n      const last = Number(result[1].$index);\n      this.visibleCount =\n        isNaN(first) || isNaN(last) ? 0 : last - first + 1;\n    });\n}"},{active:!0,name:S.Template,text:'First visible item\'s index:\n{{datasource.adapter.firstVisible.$index}}\n<br>\nLast visible item\'s index:\n{{(datasource.adapter.lastVisible$ | async)?.$index}}\n<br>\nVisible items counter: {{visibleCount}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.itemAdapterDescription="  ItemAdapter {\n    $index: number;\n    data: any;\n    element?: HTMLElement;\n  }",setTimeout(()=>this.init=!0);const{firstVisible$:t,lastVisible$:r}=this.datasource.adapter;Ef([t,r]).subscribe(i=>{const o=Number(i[0].$index),s=Number(i[1].$index);this.visibleCount=isNaN(o)||isNaN(s)?0:s-o+1})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-first-last-visible-items"]],standalone:!1,decls:57,vars:5,consts:[[3,"datasource","context","sources"],["actions","",4,"ngIf"],["description",""],["actions",""]],template:function(r,i){1&r&&(f(0,"app-demo",0),pe(1,Vq,7,5,"div",1),f(2,"div",2)(3,"p"),l(4," The "),f(5,"em"),l(6,"Adapter"),d(),l(7," has two read-only properties which allow to determine the first and the last visible items: "),f(8,"em"),l(9,"firstVisible"),d(),l(10," and "),f(11,"em"),l(12,"lastVisible"),d(),l(13,". These are the objects of special "),f(14,"em"),l(15,"ItemAdapter"),d(),l(16," type "),d(),f(17,"pre"),l(18),d(),f(19,"p")(20,"em"),l(21,"$index"),d(),l(22," corresponds to "),f(23,"em"),l(24,"Datasource"),d(),l(25," item index value; "),f(26,"em"),l(27,"data"),d(),l(28," is what we were pushing to the Scroller on "),f(29,"em"),l(30,"Datasource.get"),d(),l(31," (item's content); "),f(32,"em"),l(33,"element"),d(),l(34," is the DOM element that is relevant to our item. "),d(),f(35,"p"),l(36," In addition to scalar "),f(37,"em"),l(38,"firstVisible"),d(),l(39," and "),f(40,"em"),l(41,"lastVisible"),d(),l(42," properties there are also Observable versions: "),f(43,"em"),l(44,"firstVisible$"),d(),l(45," and "),f(46,"em"),l(47,"lastVisible$"),d(),l(48,". In this demo we calculate a number of visible items with the help of "),f(49,"em"),l(50,"combineLatest"),d(),l(51," RxJs method. "),d(),f(52,"p"),l(53,' Recalculation of the first and the last items occurs per each non-empty "inner loop" session, when a bunch of new items are fetched via '),f(54,"em"),l(55,"Datasource.get"),d(),l(56,", rendered and unnecessary items are clipped out. "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(),x("ngIf",i.init),w(17),$(i.itemAdapterDescription))},dependencies:[ei,ae,Bc],encapsulation:2})}}return e})();const sA=e=>["/",e];let Bq=(()=>{class e{constructor(){this.demoContext={config:P.adapterMethods.map.appendPrepend,viewportId:"append-prepend-viewport",count:0,log:""},this.adapterScope=P.adapter,this.adapterMethodsScope=P.adapterMethods,this.inputValue=4,this.newIndex=0,this.datasource=new Ce({get:(t,r,i)=>{const o=[];for(let s=t;s<t+r;s++)o.push({id:s,text:"item #"+s});On(this.demoContext,t,r,o.length),i(o)},settings:{startIndex:100}}),this.sources=[{name:S.Component,text:"data: MyItem[];\ninputValue = 4;\nnewIndex = 0;\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 100\n  }\n});\n\ngenerateItems(isPrepend: boolean) {\n    const items: MyItem[] = [];\n    for (let i = 0; i < this.inputValue; i++) {\n      this.newIndex++;\n      const item = {\n        id: this.newIndex,\n        text: 'new item #' + this.newIndex + '*'\n      };\n      isPrepend ? items.unshift(item) : items.push(item);\n    }\n    return items;\n}\n\nasync doPrepend() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.prepend({\n    items: this.generateItems(true)\n  });\n}\n\nasync doAppend() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.append({\n    items: this.generateItems(false)\n  });\n}"},{active:!0,name:S.Template,text:'<button (click)="doAppend()">Append</button> /\n<button (click)="doPrepend()">Prepend</button>\n<input [(ngModel)]="inputValue" size="2">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.prependCallSample="Adapter.prepend({ items })",this.appendCallSample="Adapter.append({ items })",this.prependArgumentsDescription="  AdapterPrependOptions {\n    items: unknown[];\n    bof?: boolean;\n    virtualize?: boolean;\n    increase?: boolean;\n  }",this.appendArgumentsDescription="  AdapterAppendOptions {\n    items: unknown[];\n    eof?: boolean;\n    virtualize?: boolean;\n    decrease?: boolean;\n  }"}onInputChanged(t){const r=parseInt(t.value.trim(),10);t.value=r.toString(),this.inputValue=r}generateItems(t){const r=[];for(let i=0;i<this.inputValue;i++){this.newIndex++;const o={id:this.newIndex,text:"new item #"+this.newIndex+"*"};t?r.unshift(o):r.push(o)}return r}doPrepend(){var t=this;return Ke(function*(){yield t.datasource.adapter.relax(),yield t.datasource.adapter.prepend({items:t.generateItems(!0)})})()}doAppend(){var t=this;return Ke(function*(){yield t.datasource.adapter.relax(),yield t.datasource.adapter.append({items:t.generateItems(!1)})})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-append-prepend"]],standalone:!1,decls:90,vars:14,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["size","2",3,"change","ngModel"],["description",""],[1,"row"],[1,"column"],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),H("click",function(){return i.doAppend()}),l(3,"Append"),d(),l(4," / "),f(5,"button",2),H("click",function(){return i.doPrepend()}),l(6,"Prepend"),d(),f(7,"input",3),H("change",function(s){return i.onInputChanged(s.target)}),d()(),f(8,"div",4)(9,"p"),l(10," Adding items at the end and at the beginning of the Scroller's Buffer is possible with "),f(11,"em"),l(12,"Adapter.append"),d(),l(13," and "),f(14,"em"),l(15,"Adapter.prepend"),d(),l(16," methods respectively. These methods accept the following argument objects: "),d(),f(17,"div",5)(18,"div",6)(19,"pre"),l(20),d()(),f(21,"div",6)(22,"pre"),l(23),d()()(),f(24,"ul")(25,"li")(26,"em"),l(27,"items"),d(),l(28," An array of items to add."),d(),f(29,"li")(30,"em"),l(31,"eof"),d(),l(32,"/"),f(33,"em"),l(34,"bof"),d(),l(35,"/"),f(36,"em"),l(37,"virtualize"),d(),l(38," Virtualization params."),d(),f(39,"li")(40,"em"),l(41,"decrease"),d(),l(42,"/"),f(43,"em"),l(44,"increase"),d(),l(45," Influence the index management strategy."),d()(),f(46,"p"),l(47," In this section, we focus on the "),f(48,"em"),l(49,"items"),d(),l(50," parameter. The other options will be considered in the "),f(51,"a",7),l(52,"next demo"),d(),l(53,". Both "),f(54,"em"),l(55,"append"),d(),l(56," and "),f(57,"em"),l(58,"prepend"),d(),l(59," methods work similarly, so let's discuss "),f(60,"em"),l(61,"prepend"),d(),l(62,". "),d(),f(63,"p"),l(64," In this demo we have 20 items on start. The first 5 items (indices 95\u201399) are invisible because they are outside the visible part of the viewport. When you click the \u201cPrepend\u201d button, 4 new items (as specified in the input) are added to the top of the list. These prepended items become visible as you scroll upward. The Scroller seamlessly injects these new items into its buffer, so the buffer indices change from 95\u2013114 to 91\u2013114. "),d(),f(65,"p"),l(66," However, if you scroll away \u2014 causing the items with indices in the 90s to become invisible and be removed from the DOM \u2014 and then scroll back, you\u2019ll notice that the \u201cnew\u201d items are gone and the original items (91\u201394) have returned to their places. This behavior occurs because changes made via the "),f(67,"em"),l(68,"Adapter"),d(),l(69," only affect the Scroller\u2019s internal buffer, not the external "),f(70,"em"),l(71,"Datasource"),d(),l(72," managed at the App Component level. "),d(),f(73,"p"),l(74," It is the responsibility of the end app developer to maintain data consistency when performing manual updates (such as append, prepend, insert, remove operations). The "),f(75,"em"),l(76,"Datasource.get"),d(),l(77," method must always return the correct data, while the Scroller manages the indexes. The "),f(78,"a",7),l(79,"next sample"),d(),l(80," demonstrates an approach for consistent "),f(81,"em"),l(82,"Datasource"),d(),l(83," implementation synchronized with the use of the "),f(84,"em"),l(85,"Adapter.append"),d(),l(86," and "),f(87,"em"),l(88,"Adapter.prepend"),d(),l(89," methods. "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(7),x("ngModel",i.inputValue),w(13),$(i.appendArgumentsDescription),w(3),$(i.prependArgumentsDescription),w(28),B("fragment",i.adapterMethodsScope.map.appendPrependSync.id),x("routerLink",ye(10,sA,i.adapterScope.id)),w(27),B("fragment",i.adapterMethodsScope.map.appendPrependSync.id),x("routerLink",ye(12,sA,i.adapterScope.id)))},dependencies:[hn,Jt,Vt,ct,ae],encapsulation:2})}}return e})();const iw=e=>["/",e];function $q(e,n){if(1&e&&(f(0,"span",8),l(1),d(),l(2)),2&e){const t=n.item,r=n.index;w(),G("",r,")"),w(),G(" ",t.text,"\n")}}let zq=(()=>{class e{constructor(){this.demoContext={config:P.adapterMethods.map.appendPrependSync,viewportId:"append-prepend-sync-viewport",count:0,log:""},this.adapterScope=P.adapter,this.adapterPropsScope=P.adapterProps,this.adapterMethodsScope=P.adapterMethods,this.inputPrepend=4,this.inputAppend=4,this.increasePrepend=!1,this.decreaseAppend=!1,this.MIN=1,this.MAX=100,this.absMinIndex=this.MIN,this.absMaxIndex=this.MAX,this.datasource=new Ce({get:(t,r,i)=>{const o=[],a=t+r-1;for(let c=t;c<=a;c++){const u=c-this.MIN;u>=0&&u<this.data.length&&o.push(this.data[u])}On(this.demoContext,t,r,o.length),i(o)},settings:{startIndex:Math.round((this.MAX-this.MIN)/2)}}),this.sources=[{name:S.Component,text:"inputPrepend = 4;\ninputAppend = 4;\nincreasePrepend = false;\ndecreaseAppend = false;\n    \nMIN = 1;\nMAX = 100;\ndata: MyItem[];\nabsMinIndex = this.MIN;\nabsMaxIndex = this.MAX;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ text: 'item #' + i });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data: MyItem[] = [];\n    const start = index;\n    const end = start + count - 1;\n    for (let i = start; i <= end; i++) {\n      const _index = i - this.MIN;\n      if (_index >= 0 && _index < this.data.length) {\n        data.push(this.data[_index]);\n      }\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: Math.round((this.MAX - this.MIN) / 2)\n  }\n});\n\nasync doPrepend() {\n  await this.datasource.adapter.relax();\n  const items = [];\n  for (let i = 0; i < this.inputPrepend; i++) {\n    if (!this.increasePrepend) {\n      this.MIN--;\n    } else {\n      this.MAX++;\n    }\n    this.absMinIndex--;\n    const newItem: MyItem = {\n      text: 'item #' + this.absMinIndex + '*'\n    };\n    this.data.unshift(newItem);\n    items.push(newItem);\n  }\n  this.datasource.adapter.prepend({\n    items, bof: true, increase: this.increasePrepend\n  });\n}\n\nasync doAppend() {\n  await this.datasource.adapter.relax();\n  const items = [];\n  for (let i = 0; i < this.inputAppend; i++) {\n    if (!this.decreaseAppend) {\n      this.MAX++;\n    } else {\n      this.MIN--;\n    }\n    this.absMaxIndex++;\n    const newItem: MyItem = {\n      text: 'item #' + this.absMaxIndex + '*'\n    };\n    this.data.push(newItem);\n    items.push(newItem);\n  }\n  this.datasource.adapter.append({\n    items, eof: true, decrease: this.decreaseAppend\n  });\n}"},{active:!0,name:S.Template,text:'<button (click)="doPrepend()">Prepend</button>\n<input [ngModel]="inputPrepend" size="2"> items\n{{increasePrepend ? \'increasingly\' : \'decreasingly\'}}\n<input type="checkbox" [(ngModel)]="increasePrepend">\n<br>\n<button (click)="doAppend()">Append</button>\n<input [ngModel]="inputAppend" size="2"> items\n{{decreaseAppend ? \'decreasingly\' : \'increasingly\'}}\n<input type="checkbox" [(ngModel)]="decreaseAppend">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource; let index = index">\n    <div class="item">\n      <span class="index">{{index}})</span> {{item.text}}\n    </div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.prependCallSample="Adapter.prepend({ items, bof: true })",this.appendCallSample="Adapter.append({ items, eof: true })",this.prependIncreaseCallSample="Adapter.prepend({ items, increase: true })",this.data=[];for(let t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t})}onInputChanged(t,r){const i=parseInt(r.value.trim(),10);r.value=i.toString(),t?this.inputPrepend=i:this.inputAppend=i}doPrepend(){var t=this;return Ke(function*(){yield t.datasource.adapter.relax();const r=[];for(let i=0;i<t.inputPrepend;i++){t.increasePrepend?t.MAX++:t.MIN--,t.absMinIndex--;const o={id:"x",text:"item #"+t.absMinIndex+"*"};t.data.unshift(o),r.push(o)}t.datasource.adapter.prepend({items:r,bof:!0,increase:t.increasePrepend})})()}doAppend(){var t=this;return Ke(function*(){yield t.datasource.adapter.relax();const r=[];for(let i=0;i<t.inputAppend;i++){t.decreaseAppend?t.MIN--:t.MAX++,t.absMaxIndex++;const o={id:"x",text:"item #"+t.absMaxIndex+"*"};t.data.push(o),r.push(o)}t.datasource.adapter.append({items:r,eof:!0,decrease:t.decreaseAppend})})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-append-prepend-sync"]],standalone:!1,decls:120,vars:25,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],[3,"click"],["size","2",3,"change","ngModel"],["type","checkbox",3,"ngModelChange","ngModel"],["description",""],[3,"routerLink","fragment"],[1,"index"]],template:function(r,i){if(1&r){const o=sr();pe(0,$q,3,2,"ng-template",null,0,_i),f(2,"app-demo",1)(3,"div",2)(4,"button",3),H("click",function(){return Te(o),Ae(i.doPrepend())}),l(5,"Prepend"),d(),l(6,"\xa0 "),f(7,"input",4),H("change",function(a){return Te(o),Ae(i.onInputChanged(!0,a.target))}),d(),l(8),f(9,"input",5),Ze("ngModelChange",function(a){return Te(o),tt(i.increasePrepend,a)||(i.increasePrepend=a),Ae(a)}),d(),O(10,"br"),f(11,"button",3),H("click",function(){return Te(o),Ae(i.doAppend())}),l(12,"Append"),d(),l(13,"\xa0 "),f(14,"input",4),H("change",function(a){return Te(o),Ae(i.onInputChanged(!1,a.target))}),d(),l(15),f(16,"input",5),Ze("ngModelChange",function(a){return Te(o),tt(i.decreaseAppend,a)||(i.decreaseAppend=a),Ae(a)}),d()(),f(17,"div",6)(18,"p"),l(19," The "),f(20,"em"),l(21,"append"),d(),l(22," and "),f(23,"em"),l(24,"prepend"),d(),l(25," methods have parameters responsible for the virtualization of inserted items: "),f(26,"em"),l(27,"eof"),d(),l(28,"/"),f(29,"em"),l(30,"bof"),d(),l(31," and "),f(32,"em"),l(33,"virtualize"),d(),l(34,". Only one of these parameters can be used at a time (setting both to "),f(35,"em"),l(36,"true"),d(),l(37," simultaneously will reset both values to "),f(38,"em"),l(39,"false"),d(),l(40,"). "),d(),f(41,"p"),l(42," If "),f(43,"em"),l(44,"eof"),d(),l(45,"/"),f(46,"em"),l(47,"bof"),d(),l(48," is set to "),f(49,"em"),l(50,"true"),d(),l(51,", the items added via the "),f(52,"em"),l(53,"append"),d(),l(54,"/"),f(55,"em"),l(56,"prepend"),d(),l(57," methods will be virtualized and will not appear in the DOM if, at the time of insertion, we are not at the beginning (in the case of prepend-bof) or at the end (in the case of append-eof) of the list. See also "),f(58,"a",7),l(59,"bof/eof demo"),d(),l(60,". "),d(),f(61,"p"),l(62," For example, if we call "),f(63,"em"),l(64),d(),l(65," when the beginning of the dataset is reached and no more items can be fetched in the backward direction, then the new items will be injected and rendered immediately. But if we are not in BOF, new items will not appear, they will be virtualized: viewport backward padding element size will be increased in accordance with the number of new items multiplied by the default item size. The same works for "),f(66,"em"),l(67),d(),l(68," call adjusted for forward direction and forward padding element. "),d(),f(69,"p"),l(70," If "),f(71,"em"),l(72,"virtualize"),d(),l(73," is set to "),f(74,"em"),l(75,"true"),d(),l(76,", the added rows will be virtualized in any case, even if we are at the beginning or end of the list. "),d(),f(77,"p"),l(78," Indexes increase by default when "),f(79,"em"),l(80,"Adapter.append"),d(),l(81," and decrease by default when "),f(82,"em"),l(83,"Adapter.prepend"),d(),l(84,". The indexing strategy can be changed by "),f(85,"em"),l(86,"decrease"),d(),l(87,"/"),f(88,"em"),l(89,"increase"),d(),l(90," params. They are boolean and set to "),f(91,"em"),l(92,"false"),d(),l(93," by default. For example, if we call "),f(94,"em"),l(95),d(),l(96,", the topmost index remains unchanged, prepended items start with the topmost index, the rest indexes are incremented. "),d(),f(97,"p"),l(98," The most important idea behind the Adapter update API is that the changes made via Adapter must be synched with the Datasource. This demo implements one of the possible ways of synching the Datasource with the Adapter.append/prepend updates. The external dataset is changed per each "),f(99,"em"),l(100,"doAppend"),d(),l(101," / "),f(102,"em"),l(103,"doPrepend"),d(),l(104," call destructively by "),f(105,"em"),l(106,"unshift"),d(),l(107," and "),f(108,"em"),l(109,"push"),d(),l(110," Array's methods. There are also some additional variables that provide index offsets and that are used in the "),f(111,"em"),l(112,"Datasource.get"),d(),l(113," and doPrepend/doAppend methods to guarantee a stable data flow from the App component to the Scroller. Another examples of such synchronization could be found in "),f(114,"a",7),l(115,"remove"),d(),l(116," and "),f(117,"a",7),l(118,"insert"),d(),l(119," demos. "),d()()()}if(2&r){const o=Di(1);w(2),x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)("itemTemplate",o),w(5),x("ngModel",i.inputPrepend),w(),G(" \xa0items ",i.increasePrepend?"increasingly":"decreasingly"," \xa0"),w(),We("ngModel",i.increasePrepend),w(5),x("ngModel",i.inputAppend),w(),G(" \xa0items ",i.decreaseAppend?"decreasingly":"increasingly"," \xa0"),w(),We("ngModel",i.decreaseAppend),w(42),B("fragment",i.adapterPropsScope.map.bofEof.id),x("routerLink",ye(19,iw,i.adapterScope.id)),w(6),$(i.prependCallSample),w(3),$(i.appendCallSample),w(28),$(i.prependIncreaseCallSample),w(19),B("fragment",i.adapterMethodsScope.map.remove.id),x("routerLink",ye(21,iw,i.adapterScope.id)),w(3),B("fragment",i.adapterMethodsScope.map.insert.id),x("routerLink",ye(23,iw,i.adapterScope.id))}},dependencies:[hn,Io,Jt,Vt,ct,ae],encapsulation:2})}}return e})(),Uq=(()=>{class e{constructor(){this.demoContext={config:P.adapterProps.map.isLoadingAdvanced,viewportId:"is-loading-advanced-viewport",count:0,log:""},this.datasource=new Ce({get:At(this.demoContext,125)}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 125);\n  }\n});\n\nloadingCounter = 0;\ninnerLoopCounter = 0;\n\nconstructor() {\n  this.datasource.adapter.isLoading$\n    .subscribe(result =>\n      this.loadingCounter += !result ? 1 : 0\n    );\n  this.datasource.adapter.loopPending$\n    .subscribe(result =>\n      this.innerLoopCounter += !result ? 1 : 0\n    );\n}"},{active:!0,name:S.Template,text:"The Scroller is\n{{datasource.adapter.isLoading ? 'loading': 'relaxing'}},\ncounter {{loadingCounter}}\n\n<br>\n\nInner loop is\n{{datasource.adapter.loopPending ? 'pending': 'stopped'}},\ncounter: {{innerLoopCounter}}\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>"},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 175px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.loadingCounter=0,this.innerLoopCounter=0,this.datasource.adapter.isLoading$.subscribe(t=>this.loadingCounter+=t?0:1),this.datasource.adapter.loopPending$.subscribe(t=>this.innerLoopCounter+=t?0:1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-is-loading-advanced"]],standalone:!1,decls:64,vars:7,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),l(2),O(3,"br"),l(4),d(),f(5,"div",2)(6,"p"),l(7,' The Scroller has internal process layer that might be called "inner loop", which is responsible for single fetch-clip-render chain. Inner loop can be empty and non-empty. Empty inner loop does nothing but check if the Scroller could relax. Non-empty inner loop corresponds to 1 '),f(8,"em"),l(9,"Datasource.get"),d(),l(10,' call (which is "fetch" subprocess) and following viewport updates: clipping old items, inserting new ones and render. '),f(11,"em"),l(12,"Adapter.loopPending"),d(),l(13," read-only scalar property and "),f(14,"em"),l(15,"Adapter.loopPending$"),d(),l(16,' observable property let us to know if the "inner loop" is pending or not. '),d(),f(17,"p"),l(18," The "),f(19,"em"),l(20,"isLoading"),d(),l(21," property, which we discussed earlier, majorizes "),f(22,"em"),l(23,"loopPending"),d(),l(24,' property, and this demo shows how they correlate. Here we count the Scroller "loading" sessions and the Scroller "inner loops" within the '),f(25,"em"),l(26,"Adapter.isLoading$"),d(),l(27," and "),f(28,"em"),l(29,"Adapter.loopPending$"),d(),l(30," subscriptions respectively. After the Scroller is initialized and started relaxing, we see that there are 4 inner loops done, while "),f(31,"em"),l(32,"isLoading"),d(),l(33," counter is 1. Practically it means that we have 3 "),f(34,"em"),l(35,"Datasource.get"),d(),l(36,' calls and 1 more empty loop to ensure that the Scroller could relax. And these 4 inner loops are being packed into 1 "isLoading" session. '),d(),f(37,"p"),l(38,"So, there might be distinguished 3 levels of pending:"),d(),f(39,"ul")(40,"li")(41,"em"),l(42,"Datasource.get"),d(),l(43," pending, which is fully manual, because the implementation of the "),f(44,"em"),l(45,"Datasource"),d(),l(46," is in our hands; "),d(),f(47,"li")(48,"em"),l(49,"inner loop"),d(),l(50," pending, which is "),f(51,"em"),l(52,"loopPending"),d(),l(53," and which includes some internal Scroller's subprocesses (fetch, clip, render) that can take some time in addition to "),f(54,"em"),l(55,"Datasource.get"),d(),l(56,' call (which is a part of "fetch" subprocess); '),d(),f(57,"li")(58,"em"),l(59,"Workflow"),d(),l(60," pending, which is "),f(61,"em"),l(62,"isLoading"),d(),l(63,' and which consists of 1 and more inner loops making up one continuous "loading" session. '),d()()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(2),Un(" The Scroller is ",i.datasource.adapter.isLoading?"loading":"relaxing",", counter ",i.loadingCounter," "),w(2),Un(" Inner loop is ",i.datasource.adapter.loopPending?"pending":"stopped",", counter: ",i.innerLoopCounter," "))},dependencies:[ae],encapsulation:2})}}return e})();function Hq(e,n){if(1&e&&(f(0,"div")(1,"div",13)(2,"small"),l(3),d(),l(4),d()()),2&e){const t=n.$implicit,r=n.index;w(3),G("",r,")"),w(),G(" ",t," ")}}function Gq(e,n){if(1&e&&(f(0,"div")(1,"div",13)(2,"small"),l(3),d(),l(4),d()()),2&e){const t=n.$implicit,r=n.index;w(3),G("",r,")"),w(),G(" ",t," ")}}let qq=(()=>{class e{constructor(){this.demoConfig=P.adapterMethods.map.insert,this.MIN=1,this.MAX=100,this.MIN2=1,this.MAX2=100,this.datasource=new Ce({get:(t,r,i)=>{t-=this.MIN;const o=Math.max(0,t),s=Math.min(this.MAX-this.MIN+1,t+r);i(o>s?[]:this.data.slice(o,s))},settings:{startIndex:this.MIN}}),this.datasource2=new Ce({get:(t,r,i)=>{t-=this.MIN2;const o=Math.max(0,t),s=Math.min(this.MAX2-this.MIN2+1,t+r);i(o>s?[]:this.data2.slice(o,s))},settings:{startIndex:this.MIN2}}),this.inputCount="2",this.inputIndex="3",this.inputCount2="2",this.inputIndex2="3",this.sources=[{active:!0,name:"Datasource",text:"MIN = 1;\nMAX = 100;\ndata: string[] = [];\n\ninputCount = '2';\ninputIndex = '3';\n\nconstructor() {\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push('item #' + i);\n  }\n}\n\ndatasource = new Datasource<string>({\n  get: (index, count, success) => {\n    index -= this.MIN; // convert to natural indexes starting with 0\n    const start = Math.max(0, index);\n    const end = Math.min(this.MAX - this.MIN + 1, index + count);\n    const data = start > end ? [] : this.data.slice(start, end);\n    success(data);\n  },\n  settings: {\n    startIndex: this.MIN\n  }\n});\n  "},{name:"Increase",text:"\nasync doInsert() {\n  await this.datasource.adapter.relax();\n  const count = Number(this.inputCount); // first input\n  const itemData = 'item #' + this.inputIndex; // second input\n  const index = this.data.indexOf(itemData) + 1;\n  if (index < 0 || isNaN(count)) {\n    return;\n  }\n  const items = [];\n  for (let i = 1; i <= count; i++) {\n    this.MAX++;\n    const newItem = itemData + ' ' + Array(i).fill('*').join('');\n    items.push(newItem);\n  }\n  this.data = [\n    ...this.data.slice(0, index),\n    ...items,\n    ...this.data.slice(index)\n  ];\n  await this.datasource.adapter.insert({\n    afterIndex: index,\n    items\n  });\n}\n"},{name:"Decrease",text:"\nasync doInsert() {\n  await this.datasource.adapter.relax();\n  const count = Number(this.inputCount); // first input\n  const itemData = 'item #' + this.inputIndex; // second input\n  const index = this.data.indexOf(itemData);\n  if (index < 0 || isNaN(count)) {\n    return;\n  }\n  const items = [];\n  for (let i = 1; i <= count; i++) {\n    this.MIN--;\n    const newItem = itemData + ' ' + Array(i).fill('*').join('');\n    items.unshift(newItem);\n  }\n  this.data = [\n    ...this.data.slice(0, index),\n    ...items,\n    ...this.data.slice(index)\n  ];\n  await this.datasource.adapter.insert({\n    before: ({ data }) => data === itemData,\n    items,\n    decrease: true\n  });\n}\n"}],this.argumentsDescription="  AdapterInsertOptions {\n    items: any[];\n    before?: ItemsPredicate;\n    after?: ItemsPredicate;\n    beforeIndex?: number;\n    afterIndex?: number;\n    decrease?: boolean;\n  }",this.data=[];for(let t=this.MIN;t<=this.MAX;t++)this.data.push("item #"+t);this.data2=[];for(let t=this.MIN2;t<=this.MAX2;t++)this.data2.push("item #"+t)}doInsert(){var t=this;return Ke(function*(){yield t.datasource.adapter.relax();const r=`item #${t.inputIndex}`,i=t.data.indexOf(r)+1,o=Number(t.inputCount);if(i<0||isNaN(o))return;const s=[];for(let a=1;a<=o;a++){t.MAX++;const c=r+" "+Array(a).fill("*").join("");s.push(c)}t.data=[...t.data.slice(0,i),...s,...t.data.slice(i)],yield t.datasource.adapter.insert({afterIndex:i,items:s})})()}doInsert2(){var t=this;return Ke(function*(){yield t.datasource2.adapter.relax();const r=`item #${t.inputIndex2}`,i=t.data.indexOf(r),o=Number(t.inputCount2);if(i<0||isNaN(o))return;const s=[];for(let a=1;a<=o;a++){t.MIN2--;const c=r+" "+Array(a).fill("*").join("");s.unshift(c)}t.data2=[...t.data2.slice(0,i),...s,...t.data2.slice(i)],yield t.datasource2.adapter.insert({before:({data:a})=>a===r,items:s,decrease:!0})})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-insert"]],standalone:!1,decls:121,vars:9,consts:[[1,"demo"],[3,"config"],[1,"work"],[1,"viewport-wrapper"],[1,"actions"],[3,"click"],["size","2",3,"ngModelChange","ngModel"],["size","4",3,"ngModelChange","ngModel"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"clearfix","mb-3"],[3,"sources"],[1,"description"],[1,"item"]],template:function(r,i){1&r&&(f(0,"div",0),O(1,"app-demo-title",1),f(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),H("click",function(){return i.doInsert()}),l(6,"Insert"),d(),f(7,"input",6),Ze("ngModelChange",function(s){return tt(i.inputCount,s)||(i.inputCount=s),s}),d(),l(8," items "),O(9,"br"),l(10," after item #"),f(11,"input",7),Ze("ngModelChange",function(s){return tt(i.inputIndex,s)||(i.inputIndex=s),s}),d(),O(12,"br"),l(13," incrementally "),d(),f(14,"div",8),pe(15,Hq,5,2,"div",9),d()(),f(16,"div",3)(17,"div",4)(18,"button",5),H("click",function(){return i.doInsert2()}),l(19,"Insert"),d(),f(20,"input",6),Ze("ngModelChange",function(s){return tt(i.inputCount2,s)||(i.inputCount2=s),s}),d(),l(21," items "),O(22,"br"),l(23," before item #"),f(24,"input",7),Ze("ngModelChange",function(s){return tt(i.inputIndex2,s)||(i.inputIndex2=s),s}),d(),O(25,"br"),l(26," decrementally "),d(),f(27,"div",8),pe(28,Gq,5,2,"div",9),d()(),O(29,"div",10),d(),O(30,"app-demo-sources",11),f(31,"div",12)(32,"p"),l(33," The "),f(34,"em"),l(35,"Adapter.insert"),d(),l(36," method is dedicated for adding items in the runtime without scrolling. It allows to insert new items before or after specified one. The argument of this method is an object of the following type: "),d(),f(37,"pre"),l(38),d(),f(39,"p"),l(40," The "),f(41,"em"),l(42,"items"),d(),l(43," option is an array we want to be added to the dataset. The "),f(44,"em"),l(45,"before"),d(),l(46,", "),f(47,"em"),l(48,"after"),d(),l(49,", "),f(50,"em"),l(51,"beforeIndex"),d(),l(52," and "),f(53,"em"),l(54,"afterIndex"),d(),l(55," options define the position of the insertion; only one of these options is allowed. Predicate function ("),f(56,"em"),l(57,"before"),d(),l(58,"/"),f(59,"em"),l(60,"after"),d(),l(61,") is applied to each item in the current buffer, and the first "),f(62,"em"),l(63,"true"),d(),l(64," result of running the predicate determines the item before/after which the new "),f(65,"em"),l(66,"items"),d(),l(67," should appear. "),d(),f(68,"p"),l(69," Using the "),f(70,"em"),l(71,"beforeIndex"),d(),l(72,"/"),f(73,"em"),l(74,"afterIndex"),d(),l(75," option allows to insert "),f(76,"em"),l(77,"items"),d(),l(78," by index. Also, these options provide virtual insertion, if selected index is out the buffer but still belongs to the known datasource boundaries. "),d(),f(79,"p"),l(80," The last option is "),f(81,"em"),l(82,"decrease"),d(),l(83,". The indexes of the items following after the inserted ones are increased by default. This behavior can be changed, by setting "),f(84,"em"),l(85,"decrease"),d(),l(86," to "),f(87,"em"),l(88,"true"),d(),l(89,", we are telling the Scroller that the indexes of the items that are before the inserted ones should decrease. "),d(),f(90,"p"),l(91," This demo shows how the "),f(92,"em"),l(93,"Adapter.insert"),d(),l(94,' method can be used in the real life. "Datasource" tab contains common datasource logic. "Increase" and "Decrease" tabs present inserting logic for both cases we have in this demo. "Increase" uses index API (in-buffer + virtual insertions), "Decrease" uses predicate API (in-buffer insertions only). Note that each item is just a string, and the Scroller deals with natural indexes, which forces us to subtract '),f(95,"em"),l(96,"MIN"),d(),l(97," value from the "),f(98,"em"),l(99,"index"),d(),l(100," coming into the "),f(101,"em"),l(102,"Datasource.get"),d(),l(103," body. "),d(),f(104,"p"),l(105," Also, this is very important to maintain consistency between the external "),f(106,"em"),l(107,"Datasource"),d(),l(108," and the internal Scroller's buffer. Both "),f(109,"em"),l(110,"doInsert"),d(),l(111," methods do it. They a) generate new items in a for-loop, b) insert them into the datasource by updating "),f(112,"em"),l(113,"this.data"),d(),l(114,", c) insert them into the internal "),f(115,"em"),l(116,"Buffer"),d(),l(117," via "),f(118,"em"),l(119,"Adapter.insert"),d(),l(120,". "),d()()()),2&r&&(w(),x("config",i.demoConfig),w(6),We("ngModel",i.inputCount),w(4),We("ngModel",i.inputIndex),w(4),x("uiScrollOf",i.datasource),w(5),We("ngModel",i.inputCount2),w(4),We("ngModel",i.inputIndex2),w(4),x("uiScrollOf",i.datasource2),w(2),x("sources",i.sources),w(8),$(i.argumentsDescription))},dependencies:[hn,Jt,Vt,ii,ma,Qf],encapsulation:2})}}return e})(),Wq=(()=>{class e{constructor(){this.demoContext={config:P.adapterMethods.map.check,viewportId:"check-size-viewport",count:0,log:""},this.MIN=1,this.MAX=200,this.startIndex=20,this.sizeValue=15,this.needAutoscroll=!1,this.datasource=new Ce({get:(t,r,i)=>{const o=[];for(let s=t;s<t+r;s++){const a=this.data.find(c=>c.id===s);a&&o.push(a)}On(this.demoContext,t,r,o.length),i(o)},settings:{startIndex:this.startIndex}}),this.sources=[{name:S.Component,text:"MIN = 1;\nMAX = 200;\nstartIndex = 20;\nsizeValue = 15;\ndata: MyItem[];\nneedAutoscroll: false;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i, size: 50 });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      const found = this.data.find(item => item.id === i);\n      if (found) {\n        data.push(found);\n      }\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: this.startIndex\n  }\n});\n\nfindElement(index: number): HTMLElement | null {\n  const viewportElement = document.getElementsByClassName('viewport')[0];\n  return viewportElement\n    ? viewportElement.querySelector(`[data-sid=\"${index}\"]`)\n    : null;\n}\n\ndoChangeSize() {\n  const DELTA = 5;\n  const index = Number(this.startIndex - DELTA);\n  if (!isNaN(index)) {\n    for (let i = index; i < index + DELTA * 2; i++) {\n      const element = this.findElement(i);\n      if (element) {\n        element.style.height = this.sizeValue + 'px';\n        const item = this.data.find(({ id }) => id === i);\n        if (item) {\n          item.size = this.sizeValue;\n        }\n      }\n    }\n  }\n}\n\nautoscroll(index: number) {\n  const element = this.findElement(index);\n  const viewportElement = document.getElementsByClassName('viewport')[0];\n  if (!element || !viewportElement) {\n    return;\n  }\n  const elementTop = element.getBoundingClientRect().top;\n  const viewportTop = viewportElement.getBoundingClientRect().top;\n  const toScroll = viewportTop - elementTop;\n  const diff = viewportElement.scrollTop - toScroll;\n  if (viewportElement.scrollTop === diff) {\n    return;\n  }\n  this.datasource.adapter.fix({ scrollPosition: diff });\n}\n\nasync doCheck() {\n  await this.datasource.adapter.relax();\n  let firstVisibleIndex: number | undefined;\n  if (this.needAutoscroll) {\n    firstVisibleIndex = this.datasource.adapter.firstVisible.$index;\n  }\n  this.doChangeSize();\n  await this.datasource.adapter.check();\n  if (firstVisibleIndex !== undefined) {\n    this.autoscroll(firstVisibleIndex);\n  }\n}"},{active:!0,name:S.Template,text:'<button (click)="doCheck(20)">Resize and Check</button>\n<br />\nAutoscroll: <input type="checkbox" [(ngModel)]="needAutoscroll"/>\n<br />\nFirst visible item\'s index: {{datasource.adapter.firstVisible.$index}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n  overflow: hidden;\n}"}],this.data=[];for(let t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t,size:50})}findElement(t){const i=document.getElementById(this.demoContext.viewportId||this.demoContext.config.id);return i?i.querySelector(`[data-sid="${t}"]`):null}doChangeSize(){const r=Number(this.startIndex-5);if(!isNaN(r))for(let i=r;i<r+10;i++){const o=this.findElement(i);if(o){o.style.height=this.sizeValue+"px";const s=this.data.find(({id:a})=>a===i);s&&(s.size=this.sizeValue)}}}autoscroll(t){const r=this.findElement(t),o=document.getElementById(this.demoContext.viewportId||this.demoContext.config.id);if(!r||!o)return;const s=r.getBoundingClientRect().top,c=o.getBoundingClientRect().top-s,u=o.scrollTop-c;o.scrollTop!==u&&this.datasource.adapter.fix({scrollPosition:u})}doCheck(){var t=this;return Ke(function*(){let r;yield t.datasource.adapter.relax(),t.needAutoscroll&&(r=t.datasource.adapter.firstVisible.$index),t.doChangeSize(),yield t.datasource.adapter.check(),void 0!==r&&t.autoscroll(r)})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-check-size"]],standalone:!1,decls:33,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["type","checkbox",3,"ngModelChange","ngModel"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),H("click",function(){return i.doCheck()}),l(3,"Resize and Check"),d(),O(4,"br"),l(5," Autoscroll: "),f(6,"input",3),Ze("ngModelChange",function(s){return tt(i.needAutoscroll,s)||(i.needAutoscroll=s),s}),d(),O(7,"br"),l(8),d(),f(9,"div",4)(10,"p"),l(11," The "),f(12,"em"),l(13,"Adapter.check"),d(),l(14," method could be useful when rows heights can change after rendering. By invoking the "),f(15,"em"),l(16,"Adapter.check"),d(),l(17," method we ask the Scroller to check if any of items that are in the current Buffer (and present in DOM) changed their size. "),d(),f(18,"p"),l(19,"In this demo, the "),f(20,"em"),l(21,"doCheck"),d(),l(22," method is implemented to"),d(),f(23,"ul")(24,"li"),l(25,"change the actual size of 10 items (from 15 to 25) in DOM;"),d(),f(26,"li"),l(27,"run "),f(28,"em"),l(29,"Adapter.check()"),d(),l(30,";"),d(),f(31,"li"),l(32,"autoscroll to the first visible item before changing(optionally)."),d()()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(6),We("ngModel",i.needAutoscroll),w(2),G(" First visible item's index: ",i.datasource.adapter.firstVisible.$index," "))},dependencies:[Io,Jt,Vt,ae],encapsulation:2})}}return e})();function Zq(e,n){if(1&e){const t=sr();f(0,"span",6),l(1),d(),l(2),f(3,"span",7),H("click",function(){const i=Te(t).item;return Ae(Ie().removeById(i.id))}),l(4,"[remove]"),d()}if(2&e){const t=n.item,r=n.index;w(),G("",r,")"),w(),G(" ",t.text," ")}}let Xq=(()=>{class e{constructor(){this.demoContext={config:P.adapterMethods.map.remove,viewportId:"remove-viewport",addClass:"remove",count:0,log:""},this.MIN=-50,this.MAX=50,this.inputValue=5,this.datasource=new Ce({get:(t,r,i)=>{let o=[];const s=-Math.min(this.MIN,0),a=Math.max(t+s,0),c=Math.min(t+r-1,this.MAX)+s;a<=c&&(o=this.data.slice(a,c+1)),On(this.demoContext,t,r,o.length),i(o)}}),this.sources=[{name:S.Component,text:"MIN = -50;\nMAX = 50;\ndata: MyItem[];\ninputValue = 5;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const shift = -Math.min(this.MIN, 0);\n    const start = Math.max(index + shift, 0);\n    const end = Math.min(index + count - 1, this.MAX) + shift;\n    success(start <= end\n      ? this.data.slice(start, end + 1)\n      : []\n    );\n  }\n});\n\nremoveFromDatasource(toRemove: number, byIndex = false) {\n  const indexToRemove = byIndex\n    ? toRemove - Math.min(this.MIN, 0) // shift!\n    : this.data.findIndex(({ id }) => id === toRemove);\n  if (indexToRemove >= 0) {\n    this.data.splice(indexToRemove, 1);\n  }\n  this.MAX--;\n}\n\nasync removeById(id: number) {\n  await this.datasource.adapter.relax();\n  this.removeFromDatasource(id);\n  await this.datasource.adapter.remove({\n    predicate: ({ data }) => data.id === id\n  });\n}\n\nasync removeByIndex(index: number) {\n  await this.datasource.adapter.relax();\n  this.removeFromDatasource(index, true);\n  await this.datasource.adapter.remove({\n    indexes: [index]\n  });\n}"},{active:!0,name:S.Template,text:'<input [(ngModel)]="inputValue" size="3">\n<button (click)="removeByIndex(inputValue)">\n  Remove by index\n</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">\n      {{item.text}}\n      <span class="remove" (click)="removeById(item.id)">\n        [remove]\n      </span>\n    </div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.remove {\n  font-weight: normal;\n  font-size: smaller;\n  cursor: pointer;\n}\n.remove:hover {\n  color: rgb(158, 0, 0);\n}"}],this.argumentsDescription="  AdapterRemoveOptions {\n    predicate?: ItemsPredicate;\n    indexes?: number[];\n    increase?: boolean;\n  }",this.predicateDescription="  adapter.remove({ predicate: ({ data }) => data.id === id });",this.data=[];for(let t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t})}onInputChanged(t){const r=parseInt(t.value.trim(),10);t.value=r.toString(),this.inputValue=r}removeFromDatasource(t,r=!1){const i=r?t-Math.min(this.MIN,0):this.data.findIndex(({id:o})=>o===t);i>=0&&this.data.splice(i,1),this.MAX--}removeById(t){var r=this;return Ke(function*(){yield r.datasource.adapter.relax(),r.removeFromDatasource(t),yield r.datasource.adapter.remove({predicate:({data:i})=>i.id===t})})()}removeByIndex(t){var r=this;return Ke(function*(){yield r.datasource.adapter.relax(),r.removeFromDatasource(t,!0),yield r.datasource.adapter.remove({indexes:[t]})})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-remove"]],standalone:!1,decls:67,vars:7,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],["size","3",3,"ngModelChange","change","ngModel"],[3,"click"],["description",""],[1,"index"],[1,"remove",3,"click"]],template:function(r,i){if(1&r){const o=sr();pe(0,Zq,5,2,"ng-template",null,0,_i),f(2,"app-demo",1)(3,"div",2)(4,"input",3),Ze("ngModelChange",function(a){return Te(o),tt(i.inputValue,a)||(i.inputValue=a),Ae(a)}),H("change",function(a){return Te(o),Ae(i.onInputChanged(a.target))}),d(),f(5,"button",4),H("click",function(){return Te(o),Ae(i.removeByIndex(i.inputValue))}),l(6,"Remove by index"),d()(),f(7,"div",5)(8,"p"),l(9," The "),f(10,"em"),l(11,"Adapter.remove"),d(),l(12," method allows to remove items from current buffer or/and virtually. The argument of this method is an object of the following type: "),d(),f(13,"pre"),l(14),d(),f(15,"p"),l(16," The "),f(17,"em"),l(18,"predicate"),d(),l(19," option is a function applying to each item in the buffer. If the return value is true, the item will be removed. The argument of the predicate is of "),f(20,"em"),l(21,"ItemAdapter"),d(),l(22," type, and in this demo we have the following version of "),f(23,"em"),l(24,"predicate"),d(),l(25," for removing by id: "),d(),f(26,"pre"),l(27),d(),f(28,"p"),l(29," Indexes are adjusted each time a delete is performed via Adapter. For example, it's impossible to remove item with id = 5 twice, because there is only one item with id = 5. But we may remove item with index = 5 as many times as many indexes we have after this one. "),d(),f(30,"p"),l(31," Instead of "),f(32,"em"),l(33,"predicate"),d(),l(34," running over buffered items, it is possible to remove items by "),f(35,"em"),l(36,"indexes"),d(),l(37,". This method works with both buffered and virtual items. For example, we have [1..10] buffered items (they are rendered) and [11..100] virtual items (emulated via forward padding element which size corresponds to 90 virtual items), and we want to remove the last item via "),f(38,"em"),l(39,"Adapter.remove({ indexes: [100] })"),d(),l(40,", the result will be as follows: "),d(),f(41,"ul")(42,"li"),l(43,"buffer is not affected"),d(),f(44,"li"),l(45,"the visible part of the viewport remains the same"),d(),f(46,"li"),l(47," size of the forward padding is reduced by size of the 100th item, so the scrollable area becomes slightly smaller "),d()(),f(48,"p"),l(49," By default, indexes are decreased, that is, the indexes following the deleted one(s) are decremented. The "),f(50,"em"),l(51,"increase"),d(),l(52," option allows to change the default indexes adjustment strategy. By setting "),f(53,"em"),l(54,"increase"),d(),l(55," to "),f(56,"em"),l(57,"true"),d(),l(58,", we tell the Scroller that we want to increase indexes of the items before the removed one(s). "),d(),f(59,"p"),l(60," The very important point is that we need to synchronize the Datasource with the changes we are making over the Scroller's buffer via "),f(61,"em"),l(62,"Adapter.remove"),d(),l(63,". Generally, this is the App component responsibility, and in this demo it is done by the "),f(64,"em"),l(65,"removeFromDatasource"),d(),l(66," method. It removes 1 item from the initial dataset, and decrements the value of the right border. "),d()()()}if(2&r){const o=Di(1);w(2),x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)("itemTemplate",o),w(2),We("ngModel",i.inputValue),w(10),$(i.argumentsDescription),w(13),$(i.predicateDescription)}},dependencies:[hn,Jt,Vt,ae],encapsulation:2})}}return e})();const aA=e=>["/",e];function Yq(e,n){if(1&e&&(f(0,"span",6),l(1),d(),l(2)),2&e){const t=n.item,r=n.index;w(),G("",r,")"),w(),G(" ",t.text,"\n")}}let Qq=(()=>{class e{constructor(){this.demoContext={config:P.adapterMethods.map.replace,viewportId:"replace-viewport",addClass:"replace",count:0,log:""},this.adapterScope=P.adapter,this.adapterMethodsScope=P.adapterMethods,this.MAX=100,this.datasource=new Ce({get:(t,r,i)=>{let o=[];const s=Math.min(t+r-1,this.data.length-1);t<=s&&(o=this.data.slice(t,s+1)),On(this.demoContext,t,r,o.length),i(o)},settings:{startIndex:0}}),this.sources=[{name:S.Component,text:"MAX = 100;\ndata: Item[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i < this.MAX; i++) {\n    this.data.push({ text: 'item #' + (i + 1) });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (start, count, success) => {\n    let data: Item[] = [];\n    const end = Math.min(start + count - 1, this.data.length - 1);\n    if (start <= end) {\n      data = this.data.slice(start, end + 1);\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n});\n\nasync doReplace() {\n  await this.datasource.adapter.relax();\n  const toRemove = [3, 4, 5];\n  const newItems: Item[] = [{ text: 'X' }, { text: 'Y' }];\n  this.data = [\n    ...this.data.slice(0, toRemove[0]),\n    ...newItems,\n    ...this.data.slice(toRemove[toRemove.length - 1])\n  ];\n  await this.datasource.adapter.replace({\n    predicate: ({ $index }) => toRemove.includes($index),\n    items: newItems\n  });\n}"},{active:!0,name:S.Template,text:'<button (click)="doReplace()">3, 4, 5 to X, Y</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource; let index = index">\n    <div class="item">\n      <span class="index">{{index}}</span>\n      {{item.text}}\n    </div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.index {\n  font-weight: normal;\n  font-size: smaller;\n}"}],this.argumentsDescription="  AdapterReplaceOptions {\n    predicate: ItemsPredicate;\n    items: any[];\n    fixRight?: boolean;\n  }",this.data=[];for(let t=0;t<this.MAX;t++)this.data.push({text:"item #"+(t+1)})}doReplace(){var t=this;return Ke(function*(){yield t.datasource.adapter.relax();const r=[3,4,5],i=[{text:"X"},{text:"Y"}];t.data=[...t.data.slice(0,r[0]),...i,...t.data.slice(r[r.length-1])],yield t.datasource.adapter.replace({predicate:({$index:o})=>r.includes(o),items:i})})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-replace"]],standalone:!1,decls:56,vars:13,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],[3,"click"],["description",""],[3,"routerLink","fragment"],[1,"index"]],template:function(r,i){if(1&r){const o=sr();pe(0,Yq,3,2,"ng-template",null,0,_i),f(2,"app-demo",1)(3,"div",2)(4,"button",3),H("click",function(){return Te(o),Ae(i.doReplace())}),l(5,"3, 4, 5 to X, Y"),d()(),f(6,"div",4)(7,"p"),l(8," The "),f(9,"em"),l(10,"Adapter.replace"),d(),l(11," method allows to perform many-to-many in-Buffer replacement. It acts as a combination of insert and remove operations working in a single run, which means minimal latency in comparison to applying "),f(12,"em"),l(13,"Adapter.insert"),d(),l(14," and "),f(15,"em"),l(16,"Adapter.remove"),d(),l(17," methods one by one. The argument of this method is an object of the following type: "),d(),f(18,"pre"),l(19),d(),f(20,"p"),l(21," The "),f(22,"em"),l(23,"predicate"),d(),l(24," option is exactly the same as in "),f(25,"a",5),l(26,"Adapter-remove"),d(),l(27," and case. The "),f(28,"em"),l(29,"indexes"),d(),l(30," options is exactly the same as in the "),f(31,"a",5),l(32,"Adapter-insert"),d(),l(33," case. The "),f(34,"em"),l(35,"fixRight"),d(),l(36," option allows to change the default indexing strategy. The default "),f(37,"em"),l(38,"fixRight"),d(),l(39," value is "),f(40,"em"),l(41,"false"),d(),l(42,", which means the indexes of the items following the replaced ones will be changed during the replacement. Otherwise, if "),f(43,"em"),l(44,"fixRight"),d(),l(45," is set "),f(46,"em"),l(47,"true"),d(),l(48,", the indexes of the items preceding the replaced ones will be changed. "),d(),f(49,"p"),l(50," Current limitations of the "),f(51,"em"),l(52,"Adapter.replace"),d(),l(53," method: no virtual replacements are possible and only continues series are allowed. So only a portion of items that are currently in the Scroller Buffer can be replaced with this method and this portion must consist of a continuous list of items. "),d(),f(54,"p"),l(55,' In this demo we are replacing 3 items with indexes [3, 4, 5] with 2 new items. Switching to "fixRight" strategy is not implemented here, in order to keep natural indexes flow as simple as possible. Note, before running the "replace" operation over the Scroller\'s Buffer, the Datasource gets the update as well. '),d()()()}if(2&r){const o=Di(1);w(2),x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)("itemTemplate",o),w(17),$(i.argumentsDescription),w(6),B("fragment",i.adapterMethodsScope.map.remove.id),x("routerLink",ye(9,aA,i.adapterScope.id)),w(6),B("fragment",i.adapterMethodsScope.map.insert.id),x("routerLink",ye(11,aA,i.adapterScope.id))}},dependencies:[ct,ae],encapsulation:2})}}return e})();const cA=e=>["/",e];let Kq=(()=>{class e{constructor(){this.demoContext={config:P.adapterMethods.map.clip,viewportId:"clip-viewport",count:0,log:""},this.settingsScope=P.settings,this.datasource=new Ce({get:At(this.demoContext),settings:{infinite:!0}}),this.sources=[{name:S.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n});\n\nasync doClip() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.clip();\n}"},{active:!0,name:S.Template,text:'<button (click)="doClip()">Clip</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.clipOptionsDescription="  AdapterClipOptions {\n    forwardOnly?: boolean;\n    backwardOnly?: boolean;\n  }",this.clipOptionsSample="{ backwardOnly: true }"}doClip(){var t=this;return Ke(function*(){yield t.datasource.adapter.relax(),yield t.datasource.adapter.clip()})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-clip"]],standalone:!1,decls:45,vars:13,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"button",2),H("click",function(){return i.doClip()}),l(3,"Clip"),d()(),f(4,"div",3)(5,"p"),l(6," The "),f(7,"em"),l(8,"Adapter.clip"),d(),l(9," method allows to remove out-of-viewport items on demand. Out-of-viewport means out of visible part of the viewport + paddings, see "),f(10,"a",4),l(11,"padding setting"),d(),l(12," demo. Not to be confused with "),f(13,"em"),l(14,"Adapter.remove"),d(),l(15,", as the "),f(16,"em"),l(17,"Adapter.clip"),d(),l(18," method has no impact on the "),f(19,"em"),l(20,"Datasource"),d(),l(21,". It just cleans up the DOM. "),d(),f(22,"p"),l(23," Commonly, the Scroller runs a clipping procedure each time new items are fetched after scrolling and it clips old items from a side of the viewport that is opposite to a side where new items appear. This is one of the core parts of the virtualization concept. By invoking the "),f(24,"em"),l(25,"Adapter.clip"),d(),l(26," method we are telling the Scroller to run this procedure immediately and remove items that are out-of-viewport in both directions or in specific direction. Here is an argument object that lets to specify the clipping direction: "),d(),f(27,"pre"),l(28),d(),f(29,"p"),l(30," This could be useful when we enlarge the list of items manually, via "),f(31,"em"),l(32,"Adapter.append"),d(),l(33," or "),f(34,"em"),l(35,"Adapter.prepend"),d(),l(36," methods. For example, we appended 100 new items and started scrolling down, in forward direction. We might want the items that exit the viewport in backward direction to be clipped. Such a clipping will occur automatically only when we reach the bottom line of the buffer and new items are fetched and rendered in forward direction. If we don't want to wait, we just call "),f(37,"em"),l(38),d(),l(39,". "),d(),f(40,"p"),l(41," This demo implements some artificial but quite illustrative case. Here we disabled virtualization by turning on the "),f(42,"a",4),l(43,"infinite setting"),d(),l(44,'. Clipping will never happen automatically. We see how the DOM elements counter value is getting bigger and bigger as we scroll on and on. By pressing the "Clip" button, we let only 20-21 items to survive. This way a kind of manual virtualization could be implemented. '),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(10),B("fragment",i.settingsScope.map.padding.id),x("routerLink",ye(9,cA,i.settingsScope.id)),w(18),$(i.clipOptionsDescription),w(10),G("Adapter.clip(",i.clipOptionsSample,")"),w(4),B("fragment",i.settingsScope.map.infiniteMode.id),x("routerLink",ye(11,cA,i.settingsScope.id)))},dependencies:[ct,ae],encapsulation:2})}}return e})();const ow=e=>["/",e];function Jq(e,n){if(1&e&&(f(0,"span",7),l(1),d(),l(2)),2&e){const t=n.item,r=n.index;w(),G("",r,")"),w(),G(" ",t.text,"\n")}}let eW=(()=>{class e{constructor(){this.demoContext={config:P.adapterMethods.map.update,viewportId:"update-viewport",addClass:"update",count:0,log:""},this.adapterScope=P.adapter,this.adapterMethodsScope=P.adapterMethods,this.MAX=100,this.START=1,this.fixRight=!1,this.datasource=new Ce({get:(t,r,i)=>{let o=[];const s=t-this.START,a=Math.min(s+r-1,this.data.length-1);s<=a&&(o=this.data.slice(s,a+1)),On(this.demoContext,t,r,o.length),i(o)},settings:{startIndex:this.START}}),this.sources=[{name:S.Component,text:"MAX = 100;\nSTART = 1;\nfixRight = false;\ndata: MyItem[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i <= this.MAX - this.START; i++) {\n    this.data.push({ text: 'item #' + (i + this.START) });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    let data: MyItem[] = [];\n    const start = index - this.START;\n    const end = Math.min(start + count - 1, this.data.length - 1);\n    if (start <= end) {\n      data = this.data.slice(start, end + 1);\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n});\n\nasync doUpdate() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.update({\n    predicate: ({ $index, data, element }) => {\n      if ($index === 3) {\n        // remove 3\n        return false;\n      }\n      if (data.text === 'item #5') {\n        // replace 5 with A and B\n        return [{ text: 'A' }, { text: 'B' }];\n      }\n      if (element?.innerText.match('item #7')) {\n        // append C and D to 7\n        return [data, { text: 'C' }, { text: 'D' }];\n      }\n      // don't touch other items\n      return true;\n    },\n    fixRight: this.fixRight\n  });\n}"},{active:!0,name:S.Template,text:'<button (click)="doUpdate()">Run update</button>\n<input type="checkbox" [(ngModel)]="fixRight"> fix right\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource; let index = index">\n    <div class="item">\n      <span class="index">{{index}}</span>\n      {{item.text}}\n    </div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.index {\n  font-weight: normal;\n  font-size: smaller;\n}"}],this.argumentsDescription="  AdapterReplaceOptions {\n    predicate: ItemsPredicate;\n    items: any[];\n    fixRight?: boolean;\n  }",this.data=[];for(let t=0;t<=this.MAX-this.START;t++)this.data.push({text:"item #"+(t+this.START)})}doUpdate(){var t=this;return Ke(function*(){yield t.datasource.adapter.relax(),yield t.datasource.adapter.update({predicate:({$index:r,data:i,element:o})=>3!==r&&("item #5"===i.text?[{text:"A"},{text:"B"}]:!o?.innerText.match("item #7")||[i,{text:"C"},{text:"D"}]),fixRight:t.fixRight})})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-demo-update"]],standalone:!1,decls:75,vars:17,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],[3,"click"],["type","checkbox",3,"ngModelChange","ngModel"],["description",""],[3,"routerLink","fragment"],[1,"index"]],template:function(r,i){if(1&r){const o=sr();pe(0,Jq,3,2,"ng-template",null,0,_i),f(2,"app-demo",1)(3,"div",2)(4,"button",3),H("click",function(){return Te(o),Ae(i.doUpdate())}),l(5,"Run update"),d(),O(6,"br"),f(7,"input",4),Ze("ngModelChange",function(a){return Te(o),tt(i.fixRight,a)||(i.fixRight=a),Ae(a)}),d(),l(8," fix right "),d(),f(9,"div",5)(10,"p"),l(11," The "),f(12,"em"),l(13,"Adapter.update"),d(),l(14," method provides access to Scroller's Buffer and allows to perform insert/replace/remove operations on the fly. The "),f(15,"em"),l(16,"Adapter.update"),d(),l(17," method has 1 required argument which is a predicate that is applied to each item in the current Scroller's Buffer. The argument of the predicate gives natural datasource "),f(18,"em"),l(19,"$index"),d(),l(20," of the item, its "),f(21,"em"),l(22,"data"),d(),l(23," payload and its HTML "),f(24,"em"),l(25,"element"),d(),l(26,". The return value of "),f(27,"em"),l(28,"predicate"),d(),l(29," determines what should happen with each item in the Buffer: "),d(),f(30,"ul")(31,"li"),l(32," returning of a falsy value or an empty array means removal of an item; "),d(),f(33,"li"),l(34," returning of a truthy value or an array with only current item in it means leaving an item as is; "),d(),f(35,"li"),l(36,"returning of a non-empty array means replacement/insertion."),d()(),f(37,"p"),l(38," In the demo the predicate is implemented to remove item 3, replace item 5 with new A and B items, insert new C and D items after item 7, while other items should remain pristine. This particular predicate should provide [1..10] to [1, 2, 4, A, B, 6, 7, C, D, 8] contents transition. "),d(),f(39,"p"),l(40," On index shifting. The second option of the "),f(41,"em"),l(42,"Adapter.update"),d(),l(43," is "),f(44,"em"),l(45,"fixRight"),d(),l(46,". This is a non-required boolean setting that defines the indexing strategy. If "),f(47,"em"),l(48,"fixRight"),d(),l(49," is false (which is default), indexes to the right of the updated ones will be affected. Since the first updated item has index 3, the indexes of the first two items should not change after update when fixRight\xa0=\xa0false. But the index of the 8 item should grow up to 10: 2 removals (3, 5) and 4 insertions (A, B, C, D) results in +2\xa0shift. If "),f(50,"em"),l(51,"fixRight"),d(),l(52," is true, indexes to the left of the updated ones will be affected. And we'll see -2\xa0shift on the first two items when fixRight\xa0=\xa0true. "),d(),f(53,"p"),l(54," The very important thing is to synchronize each update we perform via Adapter API over the Scroller's Buffer with the Datasource outside the Scroller. This demo does not have such synchronization due to high complexity of the operations. But there are some examples in other demos: "),f(55,"a",6),l(56,"append"),d(),l(57,", "),f(58,"a",6),l(59,"remove"),d(),l(60," and "),f(61,"a",6),l(62,"insert"),d(),l(63,". "),d(),f(64,"p"),l(65," Since v2, the "),f(66,"em"),l(67,"Adapter.insert"),d(),l(68," and "),f(69,"em"),l(70,"Adapter.replace"),d(),l(71," methods use the "),f(72,"em"),l(73,"Adapter.update"),d(),l(74," method under hood. "),d()()()}if(2&r){const o=Di(1);w(2),x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)("itemTemplate",o),w(5),We("ngModel",i.fixRight),w(48),B("fragment",i.adapterMethodsScope.map.appendPrependSync.id),x("routerLink",ye(11,ow,i.adapterScope.id)),w(3),B("fragment",i.adapterMethodsScope.map.remove.id),x("routerLink",ye(13,ow,i.adapterScope.id)),w(3),B("fragment",i.adapterMethodsScope.map.insert.id),x("routerLink",ye(15,ow,i.adapterScope.id))}},dependencies:[Io,Jt,Vt,ct,ae],encapsulation:2})}}return e})(),tW=(()=>{class e{constructor(){this.datasourceSample="  import { Datasource } from 'ngx-ui-scroll';\n\n  datasource = new Datasource({ get, settings });",this.datasourceTypedSample="datasource = new Datasource<MyItem>({ get, settings });"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-samples-adapter"]],standalone:!1,decls:65,vars:2,template:function(r,i){1&r&&(f(0,"h1"),l(1,"Angular UI Scroll Adapter Demos"),d(),f(2,"p")(3,"em"),l(4,"Adapter"),d(),l(5," is\xa0a\xa0special object to\xa0assess and manipulate the Scroller. The API it\xa0provides is\xa0 discussed on\xa0this page. In order to get an access to the "),f(6,"em"),l(7,"Adapter"),d(),l(8," API, the "),f(9,"em"),l(10,"Datasource"),d(),l(11," has to be instantiated via operator "),f(12,"em"),l(13,"new"),d(),l(14,":\n"),d(),f(15,"pre"),l(16),d(),f(17,"p"),l(18," For better typings it is recommended to provide also data item type argument:\n"),d(),f(19,"pre"),l(20),d(),f(21,"p"),l(22," The constructor argument is\xa0an\xa0object of\xa0"),f(23,"em"),l(24,"IDatasource"),d(),l(25," type which must include "),f(26,"em"),l(27,"get"),d(),l(28," method property and may include "),f(29,"em"),l(30,"settings"),d(),l(31," object property. The Scroller's augments the result "),f(32,"em"),l(33,"Datasource"),d(),l(34," object with the "),f(35,"em"),l(36,"Adapter"),d(),l(37," object property during instantiating. So, after the "),f(38,"em"),l(39,"Datasource"),d(),l(40," object had been instantiated, we\xa0may access "),f(41,"em"),l(42,"this.datasource.adapter"),d(),l(43," property object with its API methods and properties.\n"),d(),O(44,"app-demo-init")(45,"app-demo-package-info")(46,"app-demo-is-loading")(47,"app-demo-is-loading-advanced")(48,"app-demo-items-count")(49,"app-demo-buffer-info")(50,"app-demo-bof-eof")(51,"app-demo-first-last-visible-items")(52,"app-demo-adapter-return-value")(53,"app-adapter-relax")(54,"app-demo-reload")(55,"app-demo-reset")(56,"app-demo-pause-resume")(57,"app-demo-check-size")(58,"app-demo-clip")(59,"app-demo-append-prepend")(60,"app-demo-append-prepend-sync")(61,"app-demo-insert")(62,"app-demo-remove")(63,"app-demo-replace")(64,"app-demo-update")),2&r&&(w(16),$(i.datasourceSample),w(4),$(i.datasourceTypedSample))},dependencies:[Eq,Sq,Mq,Aq,Nq,Rq,kq,Oq,Pq,Fq,Lq,jq,Bq,zq,Uq,qq,Wq,Xq,Qq,Kq,eW],encapsulation:2})}}return e})(),nW=(()=>{class e{constructor(){this.demoContext={config:P.datasource.map.datasourceGetSignatures,noWorkView:!0},this.sources=[{name:S.Datasource,text:"datasourceCallback: IDatasource = {\n  get: (index, count, success) =>\n    success(this.getData(index, count))\n};\n\ndatasourceCallback2: IDatasource = {\n  get: (index, count, success) => setTimeout(\n    success(this.getData(index, count)), DELAY\n  )\n};\n\ndatasourcePromise: IDatasource = {\n  get: (index, count) => new Promise(resolve =>\n    resolve(this.getData(index, count))\n  )\n};\n\ndatasourceObservable: IDatasource = {\n  get: (index, count) => Observable.create(observer =>\n    observer.next(this.getData(index, count))\n};\n\ndatasourcePromise2: IDatasource = {\n  get: (index, count) =>\n    this.getDataPromise(index, count)\n};\n\ndatasourceObservable2: IDatasource = {\n  get: (index, count) =>\n    this.getDataObservable(index, count)\n};"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-datasource-signatures"]],standalone:!1,decls:60,vars:2,consts:[[3,"context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," All the datasources listed above are valid. The first version ("),f(4,"em"),l(5,"datasourceCallback"),d(),l(6,") introduces simplest callback-based signature when we need to pass a third argument which is a callback function that should be called explicitly with the items array argument. We assume that "),f(7,"em"),l(8,"this.getData(index, count)"),d(),l(9," returns appropriate part of the dataset we want to virtualize, which is an array of "),f(10,"em"),l(11,"count"),d(),l(12," items started from "),f(13,"em"),l(14,"index"),d(),l(15," position. "),f(16,"em"),l(17,"datasourceCallback2"),d(),l(18," demonstrates an asynchronous version of callback-based Datasource. "),d(),f(19,"p")(20,"em"),l(21,"datasourcePromise"),d(),l(22," and "),f(23,"em"),l(24,"datasourcePromise2"),d(),l(25," introduce promise-based signature when an object of "),f(26,"em"),l(27,"Promise"),d(),l(28," type needs to be returned. Resolving this promise is our responsibility, and we assume that "),f(29,"em"),l(30,"this.getDataPromise"),d(),l(31," method resolves necessary part of the dataset based on "),f(32,"em"),l(33,"index"),d(),l(34," and "),f(35,"em"),l(36,"count"),d(),l(37," parameters. "),d(),f(38,"p")(39,"em"),l(40,"datasourceObservable"),d(),l(41," and "),f(42,"em"),l(43,"datasourceObservable2"),d(),l(44," introduce observable-based signature when an object of "),f(45,"em"),l(46,"Observable"),d(),l(47," type needs to be returned. Similar to Promise case we need to be sure that the "),f(48,"em"),l(49,"next"),d(),l(50," method is called in appropriate time, and we assume that "),f(51,"em"),l(52,"this.getDataObservable"),d(),l(53," method delivers necessary part of the dataset based on "),f(54,"em"),l(55,"index"),d(),l(56," and "),f(57,"em"),l(58,"count"),d(),l(59," parameters. "),d()()()),2&r&&x("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})(),rW=(()=>{class e{constructor(){this.demoContext={config:P.datasource.map.unlimitedBidirectional,logViewOnly:!0,log:"",count:0},this.datasource={get:(t,r,i)=>{const o=[];for(let s=t;s<=t+r-1;s++)o.push({id:s,text:"item #"+s});On(this.demoContext,t,r,o.length),i(o)}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ text: 'item #' + i });\n    }\n    success(data);\n  }\n};"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-bidirectional-unlimited-datasource"]],standalone:!1,decls:27,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," The datasource implemented here has no boundaries. The result "),f(4,"em"),l(5,"data"),d(),l(6," array will consist of "),f(7,"em"),l(8,"count"),d(),l(9," items started exactly from "),f(10,"em"),l(11,"index"),d(),l(12," position regardless of "),f(13,"em"),l(14,"count"),d(),l(15," and "),f(16,"em"),l(17,"index"),d(),l(18," values. They could be any finite integers. "),d(),f(19,"p"),l(20," This sample as well as following ones does include "),f(21,"em"),l(22,"Datasource.get"),d(),l(23," method log telling us how many items are fetched by the Scroller via "),f(24,"em"),l(25,"Datasource"),d(),l(26," in a single run. "),d()()()),2&r&&x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})();const iW=e=>["/",e];let oW=(()=>{class e{constructor(){this.demoContext={config:P.datasource.map.limited,logViewOnly:!0,log:"",count:0},this.minMaxDemoConfig=P.settings.map.minMaxIndexes,this.MIN=-99,this.MAX=100,this.datasource={get:(t,r,i)=>{const o=[],s=Math.max(this.MIN,t),a=Math.min(t+r-1,this.MAX);if(s<=a)for(let c=s;c<=a;c++)o.push({id:c,text:"item #"+c});On(this.demoContext,t,r,o.length),i(o)}},this.sources=[{name:"Runtime generation",text:"MIN = -99;\nMAX = 100;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(this.MIN, index);\n    const end = Math.min(index + count - 1, this.MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ text: 'item #' + i });\n      }\n    }\n    success(data);\n  }\n};"},{name:"Fixed dataset",text:"MIN = -99;\nMAX = 100;\n\nconstructor() {\n  for (let i = this.MIN; i <= this.MAX; ++i) {\n    this.data.push({ text: 'item #' + i });\n  }\n}\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = index;\n    const end = start + count - 1;\n    for (let i = start; i <= end; i++) {\n      const _index = i - this.MIN;\n      if (_index >= 0 && _index < this.data.length) {\n        data.push(this.data[_index]);\n      }\n    }\n    success(data);\n  }\n};"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-limited-datasource"]],standalone:!1,decls:16,vars:7,consts:[[3,"datasource","context","sources"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," The datasource could be limited. The main point of limited datasource implementation is to cut the result in accordance with dataset boundaries and return an empty array if we are out of range. "),d(),f(4,"p"),l(5," In this sample we have only 200 items in the dataset: from -99 to 100 including 0. If at some point the Scroller will request this datasource for, say, 10 items started from -105 index, the result will consist of only 4 items: -99, -98, -97, -96. If a request falls out of [-99..100] range, an empty array will be returned. "),d(),f(6,"p"),l(7," The second tab (Fixed dataset) implements a limited datasource over a fixed dataset, which is initialized in the Component's constructor. This way data could be retrieved from a remote source. "),d(),f(8,"p"),l(9," Another option of how to limit the datasource is to use "),f(10,"a",2),l(11,"minIndex/maxIndex settings"),d(),l(12,"; this way the implementation of the "),f(13,"em"),l(14,"Datasource.get"),d(),l(15," method could remain unlimited as the Scroller will not request for items that are out of [minIndex..maxIndex] range. "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(10),B("fragment",i.minMaxDemoConfig.id),x("routerLink",ye(5,iW,i.minMaxDemoConfig.scope)))},dependencies:[ct,ae],encapsulation:2})}}return e})();const lA=e=>["/",e];let sW=(()=>{class e{constructor(){this.demoContext={config:P.datasource.map.positiveLimitedIndexes,logViewOnly:!0,log:"",count:0},this.settingsScope=P.settings.map,this.datasource={get:(t,r,i)=>{const o=[],s=Math.max(1,t),a=t+r-1;if(s<=a)for(let c=s;c<=a;c++)o.push({id:c,text:"item #"+c});On(this.demoContext,t,r,o.length),i(o)}},this.sources=[{name:S.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(1, index); // or 0\n    const end = index + count - 1;\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ text: 'item #' + i });\n      }\n    }\n    success(data);\n  }\n};"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-positive-limited-datasource"]],standalone:!1,decls:18,vars:11,consts:[[3,"datasource","context","sources"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3," If we are not going to deal with negative indexes, we can fix the datasource left boundary at 1 (or 0 depends on your needs). This is a particular case of a limited datasource implementation discussed above with only "),f(4,"em"),l(5,"MIN"),d(),l(6," value set up. Also, positive limitation could be alternatively achieved by assigning "),f(7,"a",2),l(8,"minIndex setting"),d(),l(9," to 1 (or 0). "),d(),f(10,"p"),l(11," Note that if 0 index is the left boundary of the dataset, then it seems reasonable to assign 0 value to "),f(12,"a",2),l(13,"startIndex setting"),d(),l(14," too, because the default "),f(15,"em"),l(16,"startIndex"),d(),l(17," value is 1. "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(7),B("fragment",i.settingsScope.minMaxIndexes.id),x("routerLink",ye(7,lA,i.settingsScope.minMaxIndexes.scope)),w(5),B("fragment",i.settingsScope.startIndex.id),x("routerLink",ye(9,lA,i.settingsScope.startIndex.scope)))},dependencies:[ct,ae],encapsulation:2})}}return e})();function aW(e,n){if(1&e&&(f(0,"div")(1,"div",9),l(2),d()()),2&e){const t=n.$implicit;w(2),$(t.text)}}function cW(e,n){if(1&e&&(f(0,"div")(1,"div",9),l(2),d()()),2&e){const t=n.$implicit;w(2),$(t.text)}}let lW=(()=>{class e{constructor(){this.demoConfig=P.datasource.map.invertedIndexes,this.MIN=1,this.datasourceCommon={get:(t,r,i)=>i(this.getData(t,r))},this.datasourceInverted={get:(t,r,i)=>{i(this.getData(-t-r+this.MIN,r).reverse())},settings:{startIndex:-10}},this.sources=[{name:S.Component,text:"MIN = 1;\n\ndatasourceCommon: IDatasource = {\n  get: (index, count, success) =>\n    success(this.getData(index, count))\n};\n\ndatasourceInverted: IDatasource = {\n  get: (index, count, success) => {\n    const _index = -index - count + this.MIN;\n    const data = this.getData(_index, count).reverse();\n    success(data);\n  },\n  settings: {\n    startIndex: -10\n  }\n};\n\ngetData(index: number, count: number) {\n  const data = [];\n  const start = Math.max(this.MIN, index);\n  const end = index + count - 1;\n  if (start <= end) {\n    for (let i = start; i <= end; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n  }\n  return data;\n}"}]}getData(t,r){const i=[],o=Math.max(this.MIN,t),s=t+r-1;if(o<=s)for(let a=o;a<=s;a++)i.push({id:a,text:"item #"+a});return i}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-inverted-datasource"]],standalone:!1,decls:50,vars:4,consts:[[1,"demo"],[3,"config"],[1,"work"],[1,"viewport-wrapper"],[1,"viewport-label"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"clearfix","mb-3"],[1,"prettyprint"],[1,"item"]],template:function(r,i){1&r&&(f(0,"div",0),O(1,"app-demo-title",1),f(2,"div",2)(3,"div",3)(4,"div",4),l(5,"common \u2193"),d(),f(6,"div",5),pe(7,aW,3,1,"div",6),d()(),f(8,"div",3)(9,"div",4),l(10,"inverted \u2191"),d(),f(11,"div",5),pe(12,cW,3,1,"div",6),d()(),O(13,"div",7),d(),f(14,"pre",8),l(15),d(),f(16,"p")(17,"em"),l(18,"Datasource.get"),d(),l(19,' method implementation could be quite complex and flexible. This piece demonstrates how the dataset we want to virtualize could be processed to provide "inverted" viewport logic when new positive items are retrieved by scrolling up. '),d(),f(20,"p")(21,"em"),l(22,"getData"),d(),l(23," method implements positive limited datasource as it was done in the previous sample with one change: left dataset boundary is parametrized by "),f(24,"em"),l(25,"MIN"),d(),l(26," property. So "),f(27,"em"),l(28,"datasourceCommon.get"),d(),l(29," just passes "),f(30,"em"),l(31,"getData"),d(),l(32," result to its "),f(33,"em"),l(34,"success"),d(),l(35," callback. "),d(),f(36,"p"),l(37," But "),f(38,"em"),l(39,"datasourceInverted.get"),d(),l(40," does the simple math: it inverts and shifts the "),f(41,"em"),l(42,"index"),d(),l(43," and reverses the result array. So the Scroller gets some specifically processed portion of our dataset that reflects our needs. By settings "),f(44,"em"),l(45,"startIndex"),d(),l(46," value to -10 in this case we are telling that we want 10 items to be fetched and rendered in forward direction initially. And it does not depend on "),f(47,"em"),l(48,"MIN"),d(),l(49,", it does depend on the viewport and single item size: 10 items are visible. "),d()()),2&r&&(w(),x("config",i.demoConfig),w(6),x("uiScrollOf",i.datasourceCommon),w(5),x("uiScrollOf",i.datasourceInverted),w(3),$(i.sources[0].text))},dependencies:[ii,ma],encapsulation:2})}}return e})(),uW=(()=>{class e{constructor(){this.demoContext={config:P.datasource.map.pages,logViewOnly:!0,log:""},this.getCount=0,this.pagesCount=30,this.pageSize=7,this.datasource={get:(t,r,i)=>{this.getCount++,this.demoContext.log="\n"+this.demoContext.log,this.demoContext.log=`${this.getCount}.1 index = ${t}, count = ${r}\n`+this.demoContext.log;const o=Math.max(t,0),s=t+r-1;if(o>s)return this.demoContext.log=`${this.getCount}.2 empty result\n`+this.demoContext.log,void i([]);this.demoContext.log=`${this.getCount}.2 requesting items [${o}..${s}]\n${this.demoContext.log}`;const a=Math.floor(o/this.pageSize),c=Math.floor(s/this.pageSize);let u=[];const h=[];for(let v=a;v<=c;v++)h.push(v),u=[...u,...this.getDataPage(v)];this.demoContext.log=`${this.getCount}.3 requesting pages: ${h.join(", ")}\n`+this.demoContext.log,this.demoContext.log=`${this.getCount}.4 `+(u.length?`pages result [${u[0].index}..${u[u.length-1].index}]`:"empty result")+"\n"+this.demoContext.log;const p=o-a*this.pageSize,g=u.slice(p,p+s-o+1);this.demoContext.log=(g.length?`${this.getCount}.5 sliced result [${g[0].index}..${g[g.length-1].index}]\n`:"")+this.demoContext.log,i(g)},settings:{startIndex:0}},this.sources=[{name:S.Component,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    // items to request (x.2)\n    const startIndex = Math.max(index, 0);\n    const endIndex = index + count - 1;\n    if (startIndex > endIndex) {\n      success([]); // empty result\n      return;\n    }\n\n    // pages to request (x.3)\n    const startPage = Math.floor(startIndex / this.pageSize);\n    const endPage = Math.floor(endIndex / this.pageSize);\n\n    // pages result (x.4)\n    let pagesResult: MyItem[] = [];\n    for (let i = startPage; i <= endPage; i++) {\n      pagesResult = [...pagesResult, ...this.getDataPage(i)];\n    }\n\n    // sliced result (x.5)\n    const start = startIndex - startPage * this.pageSize;\n    const end = start + endIndex - startIndex + 1;\n    const data = pagesResult.slice(start, end);\n\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n};\n\npagesCount = 30;\npageSize = 7;\ndata: MyItem[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i < this.pagesCount; i++) {\n    this.data[i] = [];\n    for (let j = 0; j < this.pageSize; j++) {\n      const index = i * this.pageSize + j;\n      this.data[i].push({\n        index,\n        text: 'test ' + index\n      });\n    }\n  }\n}\n\ngetDataPage(page: number) {\n  if (page < 0 || page >= this.pagesCount) {\n    return [];\n  }\n  return this.data[page];\n}"},{name:S.Component+" (async)",text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const startIndex = Math.max(index, 0);\n    const endIndex = index + count - 1;\n    if (startIndex > endIndex) {\n      success([]); // empty result\n      return;\n    }\n\n    const startPage = Math.floor(startIndex / this.pageSize);\n    const endPage = Math.floor(endIndex / this.pageSize);\n\n    const pagesRequest: Promise<MyItem>[] = [];\n    for (let i = startPage; i <= endPage; i++) {\n      pagesRequest.push(\n        this.remoteDataService.getDataPageAsync(i)\n      );\n    }\n    return Promise.all(pagesRequest).then(pagesResult => {\n      pagesResult = pagesResult.reduce((acc, result) =>\n        [...acc, ...result]\n      , []);\n      const start = startIndex - startPage * this.pageSize;\n      const end = start + endIndex - startIndex + 1;\n      return pagesResult.slice(start, end);\n    });\n  },\n  settings: {\n    startIndex: 0\n  }\n};\n\nconstructor(\n  private remoteDataService: RemoteDataService\n) {\n}"}],this.data=[];for(let t=0;t<this.pagesCount;t++){this.data[t]=[];for(let r=0;r<this.pageSize;r++){const i=t*this.pageSize+r;this.data[t].push({index:i,text:`test ${i}`})}}}getDataPage(t){return t<0||t>=this.pagesCount?[]:this.data[t]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-pages-datasource"]],standalone:!1,decls:37,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"p"),l(3,' This sample demonstrates how the Scroller can be integrated with the datasource which has "pages" API only. The Scroller deals with "offset-limit" (that is "index-count") API by default, but necessary transition layer could be implemented via '),f(4,"em"),l(5,"datasource.get"),d(),l(6,". "),d(),f(7,"p"),l(8," The "),f(9,"em"),l(10,"constructor"),d(),l(11," initializes "),f(12,"em"),l(13,"data"),d(),l(14," two-dimensional array, "),f(15,"em"),l(16,"getDataPage"),d(),l(17,' method simulates "pages" API. We are assuming that '),f(18,"em"),l(19,"getDataPage"),d(),l(20," is the only entry point to our data. Then each time the "),f(21,"em"),l(22,"datasource.get"),d(),l(23,' method is called, we are converting "index-count" API params to appropriate pages numbers, retrieving these pages, joining pages results and slicing it to resolve the exactly part of the dataset the Scroller needs for. '),d(),f(24,"p")(25,"em"),l(26,"getDataPage"),d(),l(27," could be async, let's imagine that there is "),f(28,"em"),l(29,"remoteDataService"),d(),l(30," which has "),f(31,"em"),l(32,"getDataPageAsync"),d(),l(33," method which returns "),f(34,"em"),l(35,"Promise"),d(),l(36,'. Using promise-based signature in this case, x.3, x.4 and x.5 code sections might be rewritten as it is shown in "Component (async)" tab. '),d()()()),2&r&&x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})();const uA=e=>["/",e];let dW=(()=>{class e{constructor(){this.demos=P,this.importSample="import { Datasource, IDatasource } from 'ngx-ui-scroll';",this.datasourceSampleLiteral="datasource: IDatasource = { get, settings };",this.datasourceSampleClass="datasource = new Datasource({ get, settings });"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-datasource"]],standalone:!1,decls:99,vars:9,consts:[[3,"routerLink"]],template:function(r,i){1&r&&(f(0,"h1"),l(1,"Angular UI Scroll Datasource Demos"),d(),f(2,"p"),l(3," The idea of\xa0the "),f(4,"em"),l(5,"*uiScroll"),d(),l(6," directive usage is\xa0very similar to\xa0the\xa0use of\xa0"),f(7,"em"),l(8,"*ngFor"),d(),l(9," directive in\xa0the simplest case, but as\xa0it\xa0follows from the documentation, a\xa0special "),f(10,"em"),l(11,"Datasource"),d(),l(12," object needs to\xa0be\xa0passed instead of Angular "),f(13,"em"),l(14,"Iterable"),d(),l(15,". "),f(16,"em"),l(17,"Datasource"),d(),l(18," is\xa0an\xa0entry point to\xa0the\xa0virtual scroll engine, that provides data flow from the\xa0host App to\xa0the\xa0Scroller. There are two common ways of\xa0how the "),f(19,"em"),l(20,"Datasource"),d(),l(21," could be\xa0defined:\n"),d(),f(22,"ul")(23,"li"),l(24," as an object literal of "),f(25,"em"),l(26,"IDatasource"),d(),l(27," type "),f(28,"pre"),l(29),d()(),f(30,"li"),l(31," as an instance of "),f(32,"em"),l(33,"Datasource"),d(),l(34," class "),f(35,"pre"),l(36),d()()(),f(37,"p"),l(38," The constructor argument in\xa0the second case should be\xa0an object of "),f(39,"em"),l(40,"IDatasource"),d(),l(41," type. Instantiating via operator "),f(42,"em"),l(43,"new"),d(),l(44," is\xa0needed for the "),f(45,"em"),l(46,"Adapter"),d(),l(47," to\xa0be\xa0available on\xa0the result "),f(48,"em"),l(49,"datasource"),d(),l(50," object (see "),f(51,"a",0),l(52,"Adapter demo page"),d(),l(53," for details). Both of\xa0"),f(54,"em"),l(55,"IDatasource"),d(),l(56," and "),f(57,"em"),l(58,"Datasource"),d(),l(59," definitions could be\xa0imported from "),f(60,"em"),l(61,"UiScrollModule"),d(),l(62,":\n"),d(),f(63,"pre"),l(64),d(),f(65,"p"),l(66,"The "),f(67,"em"),l(68,"IDatasource"),d(),l(69," object we need to define in both cases"),d(),f(70,"ul")(71,"li"),l(72,"must contain "),f(73,"em"),l(74,"get"),d(),l(75," method property and"),d(),f(76,"li"),l(77,"may contain "),f(78,"em"),l(79,"settings"),d(),l(80," object property."),d()(),f(81,"p"),l(82," With the help of\xa0"),f(83,"em"),l(84,"settings"),d(),l(85," object the Scroller could be\xa0configured, as\xa0it\xa0is\xa0 described on\xa0"),f(86,"a",0),l(87,"Settings demo page"),d(),l(88,". On this page we\xa0are going to\xa0discuss the "),f(89,"em"),l(90,"Datasource.get"),d(),l(91," method implementation.\n"),d(),O(92,"app-datasource-signatures")(93,"app-bidirectional-unlimited-datasource")(94,"app-limited-datasource")(95,"app-positive-limited-datasource")(96,"app-remote-datasource")(97,"app-inverted-datasource")(98,"app-pages-datasource")),2&r&&(w(29),$(i.datasourceSampleLiteral),w(7),$(i.datasourceSampleClass),w(15),x("routerLink",ye(5,uA,i.demos.adapter.id)),w(13),$(i.importSample),w(22),x("routerLink",ye(7,uA,i.demos.settings.id)))},dependencies:[ct,nW,rW,oW,sW,oq,lW,uW],encapsulation:2})}}return e})(),fW=(()=>{class e{constructor(){this.demoContext={config:P.experimental.map.viewportElementSetting,noWorkView:!0},this.sources=[{name:S.Datasource,text:"@ViewChild('viewport', { static: true }) viewportRef: ElementRef<HTMLElement>;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    viewportElement: () => this.viewportRef.nativeElement\n  }\n}"},{name:S.Template,active:!0,text:'<div class="viewport" #viewport>\n  <div>\n    <div>\n      <div *uiScroll="let item of datasource">\n        <div class="item">{{item.text}}</div>\n      </div>\n    </div>\n  </div>\n</div>'},{name:S.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.nativeSample="settings: {\n  viewportElement: () =>\n    document.getElementsByClassName('viewport')[0]\n}"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-viewport-element-setting"]],standalone:!1,decls:35,vars:3,consts:[[3,"context","sources"],["actions","",1,"comment"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),l(2,"Available since v1.8.1, undocumented"),d(),f(3,"div",2)(4,"p"),l(5," As it follows from the doc, the viewport is a scrollable area with a finite height. By default, the nearest ancestor of the "),f(6,"em"),l(7,"*uiScroll"),d(),l(8," container is treated as the Viewport. With the "),f(9,"em"),l(10,"viewportElement"),d(),l(11," setting we may change the default behavior and make another html element to be the Viewport. "),d(),f(12,"p"),l(13," The value of "),f(14,"em"),l(15,"viewportElement"),d(),l(16," setting can be an html element or a function synchronously returning an html element. The second option is useful if the Viewport is a part of the template of the same component that contains the Scroller, and the "),f(17,"em"),l(18,"Datasource"),d(),l(19," is initialized before the view is ready (before "),f(20,"em"),l(21,"ngOnInit"),d(),l(22,"). "),d(),f(23,"p"),l(24," This sample shows a declarative way and uses "),f(25,"em"),l(26,"ViewChild"),d(),l(27," decorator and "),f(28,"em"),l(29,"#viewport"),d(),l(30," syntax to access the 3d ancestor of the Scroller base container. This also could be achieved via native javascript methods, for example "),d(),f(31,"pre"),l(32),d(),f(33,"p"),l(34," Note, using this feature is potentially dangerous, because any html element can be set as the Viewport this way. For example, the engine does not check whether this element is an ancestor of the Scroller element or not. "),d()()()),2&r&&(x("context",i.demoContext)("sources",i.sources),w(32),$(i.nativeSample))},dependencies:[ae],encapsulation:2})}}return e})(),hW=(()=>{class e{constructor(){this.demoContext={config:P.experimental.map.inverseSetting,addClass:"inverse",noInfo:!0},this.MIN=1,this.MAX=5,this.datasource={get:(t,r,i)=>{const o=[],s=Math.max(this.MIN,t),a=Math.min(t+r-1,this.MAX);if(s<=a)for(let c=s;c<=a;c++)o.push({id:c,text:"item #"+c});i(o)},settings:{inverse:!0}},this.sources=[{name:S.Datasource,text:"MIN = 1;\nMAX = 5;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(this.MIN, index);\n    const end = Math.min(index + count - 1, this.MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n    }\n    success(data);\n  },\n  settings: {\n    inverse: true\n  }\n};"},{name:S.Styles,text:".viewport div[data-padding-backward] {\n  background-color: #e1f0ff;\n}\n.item {\n  background-color: #bcdeff;\n}"}]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-inverse-setting"]],standalone:!1,decls:17,vars:3,consts:[[3,"datasource","context","sources"],["actions","",1,"comment"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1),l(2,"Available since v1.3.4, undocumented"),d(),f(3,"div",2)(4,"p"),l(5," When there is a lack of items in the viewport, the Scroller sets the height of the forward padding element to some value enough to fill the viewport. This is the default behavior, and this can be changed with the help of the "),f(6,"em"),l(7,"inverse"),d(),l(8," setting. "),d(),f(9,"p"),l(10," When "),f(11,"em"),l(12,"inverse"),d(),l(13," setting is set to "),f(14,"em"),l(15,"true"),d(),l(16,", the backward padding element will have a priority over the forward one, and it will be stretched if there are not enough items in the viewport. "),d()()()),2&r&&x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})(),pW=(()=>{class e{constructor(){this.demoContext={config:P.experimental.map.adapterFixPosition,noInfo:!0},this.datasource=new Ce({get:(t,r,i)=>{const o=[];for(let s=t;s<t+r;s++)o.push({id:s,text:"item #"+s});i(o)}}),this.sources=[{name:S.Template,text:'<button (click)="scrollTop()">scroll top</button>\n<button (click)="scrollBottom()">scroll bottom</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Component,text:"datasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\n  scrollTop() {\n    this.datasource.adapter.fix({ scrollPosition: 0 });\n  }\n\n  scrollBottom() {\n    this.datasource.adapter.fix({ scrollPosition: +Infinity });\n  }\n"}],this.adapterFixPosition="Adapter.fix({ scrollPosition: 0 })"}scrollTop(){this.datasource.adapter.fix({scrollPosition:0})}scrollBottom(){this.datasource.adapter.fix({scrollPosition:1/0})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-adapter-fix-position"]],standalone:!1,decls:51,vars:3,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"div",2),l(3,"Available since v1.2.4, undocumented"),d(),f(4,"button",3),H("click",function(){return i.scrollTop()}),l(5,"scroll top"),d(),f(6,"button",3),H("click",function(){return i.scrollBottom()}),l(7,"scroll bottom"),d()(),f(8,"div",4)(9,"p"),l(10," The "),f(11,"em"),l(12,"Adapter.fix"),d(),l(13," method has a number of settings, one of them is "),f(14,"em"),l(15,"scrollPosition"),d(),l(16,". It allows to change the position of the viewport's scrollbar programmatically. It is used in the lib tests. "),d(),f(17,"p"),l(18," The value of "),f(19,"em"),l(20,"scrollPosition"),d(),l(21," should be an integer or Infinity. Negative value would be treated as zero. Despite the browsers have no agreement on how to deal with setting "),f(22,"em"),l(23,"scrollTop"),d(),l(24,"/"),f(25,"em"),l(26,"scrollLeft"),d(),l(27," properties into "),f(28,"em"),l(29,"+/-Infinity"),d(),l(30,", the Scroller treats them as follows: "),d(),f(31,"ul")(32,"li"),l(33," scroll to the beginning of the viewport if "),f(34,"em"),l(35,"-Infinity"),d(),l(36,", (the value will be set to "),f(37,"em"),l(38,"0"),d(),l(39,") "),d(),f(40,"li"),l(41," scroll to the end of the viewport if "),f(42,"em"),l(43,"Infinity"),d(),l(44," (scroll position will be set into the viewport's "),f(45,"em"),l(46,"scrollHeight"),d(),l(47," or "),f(48,"em"),l(49,"scrollWidth"),d(),l(50," value) "),d()()()()),2&r&&x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources)},dependencies:[ae],encapsulation:2})}}return e})();const Kf=e=>["/",e];let gW=(()=>{class e{constructor(){this.demoContext={config:P.experimental.map.adapterFixUpdater,noInfo:!0},this.adapterPropsScope=P.adapterProps,this.adapterMethodsScope=P.adapterMethods,this.datasource=new Ce({get:(t,r,i)=>{const o=[];for(let s=t;s<t+r;s++)o.push({id:s,text:"item #"+s});i(o)}}),this.sources=[{name:S.Template,text:'<button (click)="doUpdate()">Update</button> item #\n<input [(ngModel)]="inputValue" size="2">\n<div>Items in buffer: {{this.countItems()}}</div>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Component,text:"inputValue = '5'\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data: MyItem[] = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\ndoUpdate() {\n  const index = Number(this.inputValue);\n  if (!isNaN(index)) {\n    this.datasource.adapter.fix({\n      updater: ({ $index, data }, update) => {\n        if (index === $index) {\n          data.text += '*';\n          // update();\n        }\n      }\n    });\n  }\n}\n\ncountItems() {\n  let count = 0;\n  this.datasource.adapter.fix({\n    updater: _ => count++\n  });\n  return count;\n}\n"}],this.itemAdapterDescription="  ItemAdapter {\n    $index: number;\n    data: any;\n    element?: HTMLElement;\n  }",this.adapterFixUpdater="Adapter.fix({ updater })",this.inputValue="5"}doUpdate(){const t=Number(this.inputValue);isNaN(t)||this.datasource.adapter.fix({updater:({$index:r,data:i},o)=>{t===r&&(i.text+="*"),o()}})}countItems(){let t=0;return this.datasource.adapter.fix({updater:r=>t++}),t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-adapter-fix-updater"]],standalone:!1,decls:78,vars:22,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["size","2",3,"ngModelChange","ngModel"],["description",""],[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"div",2),l(3,"Available since v1.3.1, undocumented"),d(),f(4,"button",3),H("click",function(){return i.doUpdate()}),l(5,"Update"),d(),l(6," item # "),f(7,"input",4),Ze("ngModelChange",function(s){return tt(i.inputValue,s)||(i.inputValue=s),s}),d(),f(8,"div"),l(9),d()(),f(10,"div",5)(11,"p"),l(12," The "),f(13,"em"),l(14,"Adapter.fix"),d(),l(15," method could be invoked with "),f(16,"em"),l(17,"updater"),d(),l(18," option which is a function that is applied to each element in the current Scroller's Buffer list and allows to update buffered items on the fly. The argument of the "),f(19,"em"),l(20,"updater"),d(),l(21," function is an object of special "),f(22,"em"),l(23,"ItemAdapter"),d(),l(24," type "),d(),f(25,"pre"),l(26),d(),f(27,"p"),l(28," The "),f(29,"em"),l(30,"data"),d(),l(31," is exactly what the "),f(32,"em"),l(33,"Datasource"),d(),l(34," sends to the Scroller as the items contents. So we have access to the items inside the Scroller's Buffer, and in this demo we update the "),f(35,"em"),l(36,"text"),d(),l(37," of selected item by its index. If we destroy the updated item by scrolling out and then scroll back, we will see that our update is gone. Speaking generally, we need to care about datasource consistency and every update we want to be applied to the Scroller's Buffer should also happen at the datasource level. The examples of Datasource-Adapter synching can be found "),f(38,"a",6),l(39,"here"),d(),l(40,", "),f(41,"a",6),l(42,"here"),d(),l(43," and "),f(44,"a",6),l(45,"here"),d(),l(46,". "),d(),f(47,"p"),l(48," The "),f(49,"em"),l(50,"Adapter.fix({ updater })"),d(),l(51," usage can be very diverse. For example, we may not change anything in the buffer, but gather some statistic. In this demo "),f(52,"em"),l(53,"countItems"),d(),l(54," method uses "),f(55,"em"),l(56,"updater"),d(),l(57," to get a number of items in the buffer at a particular moment. The result is equal to the value of "),f(58,"em"),l(59,"Adapter.itemsCount"),d(),l(60," read-only property ("),f(61,"a",6),l(62,"link"),d(),l(63,"). Also, I would not recommend to bind "),f(64,"em"),l(65,"countItems"),d(),l(66,"-like methods with the template as it is in this demo, for it might affect the performance. "),d(),f(67,"p"),l(68," The "),f(69,"em"),l(70,"Adapter.fix-updater"),d(),l(71," method has the second argument "),f(72,"em"),l(73,"update"),d(),l(74," (available since v2.0.0-rc.6) which is a function that can be invoked in case the "),f(75,"em"),l(76,"Buffer.items"),d(),l(77," array reference needs to be updated. "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(7),We("ngModel",i.inputValue),w(2),G("Items in buffer: ",i.countItems(),""),w(17),$(i.itemAdapterDescription),w(12),B("fragment",i.adapterMethodsScope.map.appendPrependSync.id),x("routerLink",ye(14,Kf,i.adapterMethodsScope.id)),w(3),B("fragment",i.adapterMethodsScope.map.remove.id),x("routerLink",ye(16,Kf,i.adapterMethodsScope.id)),w(3),B("fragment",i.adapterMethodsScope.map.insert.id),x("routerLink",ye(18,Kf,i.adapterMethodsScope.id)),w(17),B("fragment",i.adapterPropsScope.map.itemsCount.id),x("routerLink",ye(20,Kf,i.adapterPropsScope.id)))},dependencies:[hn,Jt,Vt,ct,ae],encapsulation:2})}}return e})(),mW=(()=>{class e{constructor(){this.demoContext={config:P.experimental.map.adapterFixScrollToItem,noInfo:!0},this.datasource=new Ce({get:(t,r,i)=>{const o=[];for(let s=t;s<t+r;s++)o.push({id:s,text:"item #"+s});i(o)}}),this.sources=[{name:S.Template,text:'<button (click)="doScrollTo()">Scroll to</button> item #\n<input [(ngModel)]="index" size="2">\n<input type="checkbox" [(ngModel)]="scrollToBottom"> - scroll to bottom\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:S.Component,text:"index = '5'\nscrollToBottom = false;\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data: MyItem[] = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\ndoScrollTo() {\n  const index = Number(this.index);\n  const alignToTop = !Boolean(this.scrollToBottom);\n  if (!isNaN(index)) {\n    this.datasource.adapter.fix({\n      scrollToItem: ({ data }) => data.id === index,\n      scrollToItemOpt: alignToTop\n    });\n  }\n}\n"}],this.adapterFixUpdater="Adapter.fix({ scrollToItem })",this.index="5",this.scrollToBottom=!1}doScrollTo(){const t=Number(this.index),r=!this.scrollToBottom;isNaN(t)||this.datasource.adapter.fix({scrollToItem:({data:i})=>i.id===t,scrollToItemOpt:r})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-adapter-fix-scroll-to-item"]],standalone:!1,decls:34,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["size","2",3,"ngModelChange","ngModel"],["type","checkbox",3,"ngModelChange","ngModel"],["description",""],["href","https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView"]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"div",2),l(3,"Available since v1.6.2, undocumented"),d(),f(4,"button",3),H("click",function(){return i.doScrollTo()}),l(5,"Scroll to"),d(),l(6," item # "),f(7,"input",4),Ze("ngModelChange",function(s){return tt(i.index,s)||(i.index=s),s}),d(),O(8,"br"),f(9,"input",5),Ze("ngModelChange",function(s){return tt(i.scrollToBottom,s)||(i.scrollToBottom=s),s}),d(),l(10," - scroll to bottom "),d(),f(11,"div",6)(12,"p"),l(13," What if we want to scroll to a specific item in the viewport? This can be done via "),f(14,"em"),l(15,"scrollToItem"),d(),l(16," option of the "),f(17,"em"),l(18,"Adapter.fix"),d(),l(19," method. This option specifies an item predicate function, and the first item in the Buffer, that satisfies this predicate, will be the item to which the viewport will scroll. "),d(),f(20,"p"),l(21," Scrolling is performed via "),f(22,"em"),l(23,"element.scrollIntoView()"),d(),l(24," native DOM Element interface's method. According to its specification, it accepts 1 optional argument which can be a Boolean parameter or special Object parameter (details can be found on "),f(25,"a",7),l(26,"MDN"),d(),l(27,"). To provide this option, the "),f(28,"em"),l(29,"Adapter.fix"),d(),l(30," method handles another property of its argument object: "),f(31,"em"),l(32,"scrollToItemOpt"),d(),l(33,". The demo shows how to use it. "),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(7),We("ngModel",i.index),w(2),We("ngModel",i.scrollToBottom))},dependencies:[hn,Io,Jt,Vt,ae],encapsulation:2})}}return e})(),vW=(()=>{class e{constructor(){this.demoContext={config:P.experimental.map.onBeforeClipSetting,viewportId:"onBeforeClip-setting-viewport",log:"",count:0},this.datasource=new Ce({get:(t,r,i)=>{const o=[];for(let s=t;s<=t+r-1;s++)o.push({id:s,text:"item #"+s});i(o)},settings:{bufferSize:25,onBeforeClip:t=>{const r=`${++this.demoContext.count}) clipping ${t.length} items[${t[0].$index}..${t[t.length-1].$index}]\n`;this.demoContext.log=r+this.demoContext.log}}}),this.sources=[{name:S.Datasource,active:!0,text:"datasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 25,\n    onBeforeClip: (items) => {\n      const range = `[${items[0].$index}..${items[items.length - 1].$index}]`;\n      const text = `clipping ${items.length} items ${range}`;\n      console.log(text);\n    }\n  }\n})"},{name:S.Template,text:'<button (click)="datasource.adapter.clip()">Clip now</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'}],this.argumentDescription="  onBeforeClip: (items: {\n    $index: number,\n    data: any,\n    element?: HTMLElement\n  }[]) => void"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-on-before-clip-setting"]],standalone:!1,decls:24,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["description",""]],template:function(r,i){1&r&&(f(0,"app-demo",0)(1,"div",1)(2,"div",2),l(3,"Available since v1.9.0, undocumented"),d(),f(4,"button",3),H("click",function(){return i.datasource.adapter.clip()}),l(5,"Clip"),d()(),f(6,"div",4)(7,"p")(8,"em"),l(9,"onBeforeClip"),d(),l(10," setting allows to run some code at the moment when 1 or more items are to clip out of the viewport. The code will run synchronously. Clipping cannot be cancelled. It is like to "),f(11,"em"),l(12,"OnDestroy"),d(),l(13," Angular lifecycle hook, but it is triggered before the elements are removed from DOM. "),d(),f(14,"p"),l(15," The log in this demo shows exactly what the "),f(16,"em"),l(17,"onBeforeClip"),d(),l(18," method sends to the console. The argument of the callback is the array of items of "),f(19,"em"),l(20,"ItemAdapter"),d(),l(21," type: "),d(),f(22,"pre"),l(23),d()()()),2&r&&(x("datasource",i.datasource)("context",i.demoContext)("sources",i.sources),w(23),$(i.argumentDescription))},dependencies:[ae],encapsulation:2})}}return e})();function yW(e,n){if(1&e&&(f(0,"div")(1,"div",16),l(2),d()()),2&e){const t=n.$implicit;w(2),G(" ",t.text," ")}}const wW=e=>class extends xf{render(...n){return e.log&&(e.logText+=`${JSON.stringify(n[1].items)}\n`,console.log("Items to render:",n[1].items)),super.render(...n)}};let bW=(()=>{class e{constructor(){this.demoConfig=P.experimental.map.routines,this.MIN=-99,this.MAX=100,this.data=[],this.log=!1,this.logText="",this.CustomRoutines=wW(this),this.datasource=new Ce({get:(t,r,i)=>{t-=this.MIN;const o=Math.max(0,t),s=Math.min(this.MAX-this.MIN+1,t+r);i(o>s?[]:this.data.slice(o,s))}}),this.sources=[{active:!0,name:S.Template,text:'<input type="checkbox" [(ngModel)]="log" />\n{{ log ? \'disable\' : \'enable\' }} render log\n      \n<div class="viewport">\n  <div *uiScroll="let item of datasource; Routines: CustomRoutines">\n    <div class="item">\n      {{ item.text }}\n    </div>\n  </div>\n</div>'},{name:S.Component,text:"import { Datasource, Routines } from 'ngx-ui-scroll';\n\nconst getCustomRoutines = (context: DemoRoutinesComponent) =>\n  class extends Routines {\n    render(...args: Parameters<Routines['render']>) {\n      if (context.log) { // the context of the demo component\n        console.log(args[1].items);\n      }\n      // pass by the original render\n      return super.render(...args);\n    }\n  };\n\n@Component({ ... })\nexport class DemoRoutinesComponent {\n  MIN = -99;\n  MAX = 100;\n  data: MyItem[] = [];\n  log = false;\n  CustomRoutines = getCustomRoutines(this);\n\n  constructor() {\n    for (let i = this.MIN; i <= this.MAX; i++) {\n      this.data.push({ id: i, text: 'item #' + i });\n    }\n  }\n\n  datasource = new Datasource<MyItem>({\n    get: (index, count, success) => {\n      index -= this.MIN; // convert to natural indexes starting with 0\n      const start = Math.max(0, index);\n      const end = Math.min(this.MAX - this.MIN + 1, index + count);\n      const data = start > end ? [] : this.data.slice(start, end);\n      success(data);\n    }\n  });\n}"}];for(let t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-routines"]],standalone:!1,decls:41,vars:7,consts:[[1,"demo"],[3,"config"],[1,"work"],[1,"actions"],[1,"comment"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"viewport-wrapper"],[1,"viewport"],[4,"uiScroll","uiScrollOf","uiScrollRoutines"],[1,"log"],[1,"datasource"],[1,"pre-wrapper",2,"height","220px"],[1,"clearfix","mb-3"],[3,"sources"],[1,"description"],["href","https://github.com/dhilt/vscroll/blob/main/src/interfaces/routines.ts"],[1,"item"]],template:function(r,i){1&r&&(f(0,"div",0),O(1,"app-demo-title",1),f(2,"div",2)(3,"div",3)(4,"div",4),l(5,"Available since v3.2.0, undocumented"),d(),f(6,"input",5),Ze("ngModelChange",function(s){return tt(i.log,s)||(i.log=s),s}),d(),l(7),d(),f(8,"div",6)(9,"div",7),pe(10,yW,3,1,"div",8),d()(),f(11,"div",9)(12,"div",10),l(13," Items to render log "),f(14,"div",11)(15,"pre"),l(16),d()()()(),O(17,"div",12),d(),O(18,"app-demo-sources",13),f(19,"div",14)(20,"p"),l(21," Routines API allows to adjust/reimplement DOM-specific logic within the core. This can be seen as the lowest-level API and should be considered dangerous. In order to use Routines API, you need to provide "),f(22,"em"),l(23,"Routines"),d(),l(24," parameter into the "),f(25,"em"),l(26,"ui-scroll"),d(),l(27," directive. This parameter is a class that must be extended from the original "),f(28,"em"),l(29,"Routines"),d(),l(30," class distributed by the library. "),d(),f(31,"p"),l(32," This demo implements an artificial use case where we want to access and log data items before they are rendered. The Routines factory ("),f(33,"em"),l(34,"getCustomRoutines"),d(),l(35,") is needed to provide the demo component context as we want to enable/disable the logging feature. "),d(),f(36,"p"),l(37," A complete list of Routines methods can be taken from the definition of the "),f(38,"a",15),l(39,"IRoutines interface"),d(),l(40,". "),d()()()),2&r&&(w(),x("config",i.demoConfig),w(5),We("ngModel",i.log),w(),G(" ",i.log?"disable":"enable"," render log "),w(3),x("uiScrollOf",i.datasource)("uiScrollRoutines",i.CustomRoutines),w(6),$(i.logText),w(2),x("sources",i.sources))},dependencies:[Io,Jt,Vt,ii,ma,Qf],encapsulation:2})}}return e})(),DW=(()=>{class e{constructor(){this.scope=P.experimental.map,this.base="../"+P.experimental.id,this.adapterFixArgumentDescription="  interface AdapterFixOptions {\n    scrollPosition?: number;\n    minIndex?: number;\n    maxIndex?: number;\n    updater?: (item: ItemAdapter, update: () => void) => void;\n    scrollToItem?: (item: ItemAdapter) => boolean;\n    scrollToItemOpt?: boolean | ScrollIntoViewOptions;\n  }"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-experimental"]],standalone:!1,decls:41,vars:19,consts:[[3,"routerLink","fragment"]],template:function(r,i){1&r&&(f(0,"h1"),l(1,"Angular UI Scroll Experimental Demos"),d(),f(2,"p"),l(3," There are some undocumented settings and Adapter methods that provide additional flexibility. We can consider them as experimental features. Most of these features are not tested well and may have some side effects or behave imperfectly.\n"),d(),f(4,"ul")(5,"li")(6,"a",0),l(7),d()(),f(8,"li")(9,"a",0),l(10),d()(),f(11,"li"),l(12," fix adapter method: "),f(13,"a",0),l(14,"position"),d(),l(15,", "),f(16,"a",0),l(17,"updater"),d(),l(18,", "),f(19,"a",0),l(20,"scroll to item"),d()(),f(21,"li")(22,"a",0),l(23),d()(),f(24,"li")(25,"a",0),l(26),d()()(),f(27,"p"),l(28," For example, "),f(29,"em"),l(30,"Adapter.fix"),d(),l(31," method. It has different options for different cases which are discussed below. These options are passed as an object of the following type:\n"),d(),f(32,"pre"),l(33),d(),O(34,"app-viewport-element-setting")(35,"app-inverse-setting")(36,"app-adapter-fix-position")(37,"app-adapter-fix-updater")(38,"app-adapter-fix-scroll-to-item")(39,"app-on-before-clip-setting")(40,"app-routines")),2&r&&(w(6),B("routerLink",i.base),B("fragment",i.scope.viewportElementSetting.id),w(),G(" ",i.scope.viewportElementSetting.name," "),w(2),B("routerLink",i.base),B("fragment",i.scope.inverseSetting.id),w(),G(" ",i.scope.inverseSetting.name," "),w(3),B("routerLink",i.base),B("fragment",i.scope.adapterFixPosition.id),w(3),B("routerLink",i.base),B("fragment",i.scope.adapterFixUpdater.id),w(3),B("routerLink",i.base),B("fragment",i.scope.adapterFixScrollToItem.id),w(3),B("routerLink",i.base),B("fragment",i.scope.onBeforeClipSetting.id),w(),G(" ",i.scope.onBeforeClipSetting.name," "),w(2),B("routerLink",i.base),B("fragment",i.scope.routines.id),w(),G(" ",i.scope.routines.name," "),w(7),$(i.adapterFixArgumentDescription))},dependencies:[ct,fW,hW,pW,gW,mW,vW,bW],encapsulation:2})}}return e})();function _W(e,n){if(1&e&&(f(0,"div",5)(1,"b"),l(2),d(),f(3,"span"),l(4),d()()),2&e){const t=n.$implicit;w(2),$(t.text),w(),Zr("color",t.color),w(),G(" ",t.data," ")}}function IW(e,n){if(1&e&&(f(0,"div"),pe(1,_W,5,4,"div",4),d()),2&e){const t=Ie();w(),x("uiScrollOf",t.datasource)}}let xW=(()=>{class e{constructor(){this.datasource=new Ce({get:(t,r,i)=>{const o=Math.max(t,1),s=Math.min(t+r-1,500),a=[];if(o<=s)for(let c=o;c<=s;c++){const u={data:"",text:"item #"+c,color:"black",size:20};c%15==0&&(u.data=Array.from({length:7*Math.random()+3},()=>"*").join(""),u.color=c%30==0?"red":"black"),a.push(u)}i(a)},settings:{startIndex:100,padding:.25,bufferSize:1,itemSize:20,minIndex:1,windowViewport:!0}}),this.init=!1,setTimeout(()=>this.init=!0)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-samples-window"]],standalone:!1,decls:9,vars:4,consts:[[1,"header"],["routerLink","/",1,"navbar-link"],[1,"top-visible"],[4,"ngIf"],["style","height: 20px",4,"uiScroll","uiScrollOf"],[2,"height","20px"]],template:function(r,i){if(1&r&&(f(0,"div",0)(1,"h1"),l(2,"Entire window scrolling demo"),d(),f(3,"a",1),l(4,"Home"),d()(),f(5,"div",2),l(6),yo(7,"async"),d(),pe(8,IW,2,1,"div",3)),2&r){let o;w(6),G(" Top visible: ",null==(o=wo(7,2,i.datasource.adapter.firstVisible$))?null:o.$index,"\n"),w(2),x("ngIf",i.init)}},dependencies:[ei,ii,ct,Bc],encapsulation:2})}}return e})();const EW=["*"],SW=["viewport"];function MW(e,n){1&e&&(f(0,"span"),l(1,"Destroy"),d())}function TW(e,n){1&e&&(f(0,"span"),l(1,"Create"),d())}function AW(e,n){if(1&e){const t=sr();f(0,"div")(1,"button",2),H("click",function(){return Te(t),Ae(Ie().doReload())}),l(2,"Reload"),d(),f(3,"button",2),H("click",function(){return Te(t),Ae(Ie().doPrepend())}),l(4,"Prepend"),d(),f(5,"button",2),H("click",function(){return Te(t),Ae(Ie().doLog())}),l(6,"Show log"),d(),O(7,"br"),f(8,"button",2),H("click",function(){return Te(t),Ae(Ie().doScrollHome())}),l(9,"Up"),d(),f(10,"button",2),H("click",function(){return Te(t),Ae(Ie().doScrollEnd())}),l(11,"Down"),d(),f(12,"button",2),H("click",function(){return Te(t),Ae(Ie().doScrollSome())}),l(13,"Some"),d(),O(14,"br"),f(15,"input",1),Ze("ngModelChange",function(i){Te(t);const o=Ie();return tt(o.sizeIndex,i)||(o.sizeIndex=i),Ae(i)}),d(),f(16,"button",2),H("click",function(){return Te(t),Ae(Ie().doChangeSize())}),l(17,"Size"),d(),O(18,"br"),f(19,"small"),l(20),d(),O(21,"br"),f(22,"small"),l(23),yo(24,"async"),d(),O(25,"br"),f(26,"small"),l(27),yo(28,"async"),d(),O(29,"br"),f(30,"small"),l(31),yo(32,"async"),d(),O(33,"br"),f(34,"small"),l(35),d()()}if(2&e){let t,r;const i=Ie();w(15),We("ngModel",i.sizeIndex),w(5),G("ngx-ui-scroll version: ",i.datasource.adapter.packageInfo.consumer.version,""),w(3),Un("isLoading: ",i.datasource.adapter.isLoading," (",wo(24,10,i.datasource.adapter.isLoading$),") "),w(4),Un("first visible: ",i.datasource.adapter.firstVisible.$index," (",null==(t=wo(28,12,i.datasource.adapter.firstVisible$))?null:t.$index,") "),w(4),Un("last visible: ",i.datasource.adapter.lastVisible.$index," (",null==(r=wo(32,14,i.datasource.adapter.lastVisible$))?null:r.$index,") "),w(4),Un("total: ",i.datasource.adapter.itemsCount,", visible: ",i.getVisibleItemsCount()," ")}}function NW(e,n){if(1&e){const t=sr();f(0,"div",2),H("click",function(){const i=Te(t).$implicit;return Ae(Ie(2).doToggleItem(i))}),f(1,"app-samples-test-inner"),l(2),f(3,"span"),l(4),d()()()}if(2&e){const t=n.$implicit;Zr("height",t.size+"px"),w(2),G(" ",t.text," "),w(),Zr("color",t.color),w(),G(" ",t.isSelected?"********":""," ")}}function RW(e,n){if(1&e&&(f(0,"div"),pe(1,NW,5,6,"div",5),d()),2&e){const t=Ie();w(),x("uiScrollOf",t.datasource)}}let Or=-199,OW=(()=>{class e{constructor(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-samples-test-inner"]],standalone:!1,ngContentSelectors:EW,decls:2,vars:0,template:function(r,i){1&r&&(Dd(),f(0,"b"),Nc(1),d())},encapsulation:2})}}return e})();const PW=[{path:"",component:lq},{path:"settings",component:xq},{path:"adapter",component:tW},{path:"datasource",component:dW},{path:"experimental",component:DW},{path:"window",component:xW},{path:"test",component:(()=>{class e{constructor(){this.reloadIndex=1,this.sizeIndex=1,this.sizeValue=10,this.datasourceDelay=0,this.datasource=new Ce({get:(t,r)=>this.fetchData(t,r),settings:{padding:.1,bufferSize:10,itemSize:100,startIndex:1,viewportElement:()=>this.viewportRef.nativeElement},devSettings:{debug:!0,immediateLog:!1,logTime:!1,logProcessRun:!0,throttle:40}}),this.show=!0,this.generateData()}generateData(){this.data=[];for(let t=0;t<=50-Or;t++){const r={id:t+Or,text:"item #"+(t+Or),isSelected:t%15==0,size:Math.max(5,20+t+Or)};r.isSelected&&(r.data=Array.from({length:7*Math.random()+3},()=>"*").join(""),r.color=t%30==0?"red":"black"),this.data.push(r)}}fetchData(t,r){const i=[],o=Math.max(Or,t),s=Math.min(50,t+r-1);if(o<=s)for(let a=o;a<=s;a++)i.push(this.data[a-Or]);return new ut(a=>{this.datasourceDelay?setTimeout(()=>a.next(i),this.datasourceDelay):a.next(i)})}getVisibleItemsCount(){const t=this.datasource.adapter;let r=t.lastVisible.$index;r=Number.isInteger(r)?r:NaN;let i=t.firstVisible.$index;return i=Number.isInteger(i)?i:NaN,Number.isNaN(r)||Number.isNaN(i)?0:r-i+1}getViewportElement(){return document.getElementsByClassName("viewport")[0]}doScroll(t,r,i){const o=this.getViewportElement();setTimeout(()=>{o.scrollTop-=i,--t>0&&this.doScroll(t,r,i)},r)}doHideShow(){this.show=!this.show}doReload(){this.datasource.adapter.reload(this.reloadIndex)}doPrepend(){Or--;const t={id:Or,text:"item #"+Or,isSelected:!1,size:25};this.data.unshift(t),this.datasource.adapter.prepend(t,!0)}doScrollHome(){this.getViewportElement().scrollTop=0}doScrollEnd(){this.getViewportElement().scrollTop=999999}doScrollSome(){const t=this.getViewportElement().scrollTop;this.getViewportElement().scrollTop=t+300}doChangeSize(){const t=document.getElementById("my-viewport"),r=Number(this.sizeIndex);if(!isNaN(r)&&t){for(let i=r;i<r+5;i++){const o=t.querySelector(`[data-sid="${i}"]`);if(o){o.style.height=this.sizeValue+"px";const s=this.data.find(a=>a.id===i);s&&(s.size=this.sizeValue)}}this.datasource.adapter.check()}}doLog(){this.datasource.adapter.showLog()}doToggleItem(t){this.datasource.adapter.fix({updater:({data:r})=>{t.id===r.id&&(r.isSelected=!r.isSelected)}})}autoscroll(){const{adapter:t}=this.datasource,r=t.isLoading$.subscribe(i=>{const o=document.getElementById("my-viewport"),s=t.lastVisible.element;if(!i&&o&&s&&s.getBoundingClientRect){const a=s.getBoundingClientRect().bottom,u=o.getBoundingClientRect().bottom-a,h=o.scrollTop-u;o.scrollTop===h?r.unsubscribe():(t.fix({scrollPosition:h}),o.scrollTop===h&&r.unsubscribe())}})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=V({type:e,selectors:[["app-samples-test"]],viewQuery:function(r,i){if(1&r&&l0(SW,7),2&r){let o;Pm(o=Fm())&&(i.viewportRef=o.first)}},standalone:!1,decls:21,vars:6,consts:[["viewport",""],[2,"width","50px",3,"ngModelChange","ngModel"],[3,"click"],[4,"ngIf"],["id","my-viewport",1,"viewport",2,"height","600px"],[3,"height","click",4,"uiScroll","uiScrollOf"]],template:function(r,i){if(1&r){const o=sr();f(0,"div")(1,"input",1),Ze("ngModelChange",function(a){return Te(o),tt(i.datasourceDelay,a)||(i.datasourceDelay=a),Ae(a)}),d(),l(2," - "),f(3,"small"),l(4,"datasource delay"),d(),O(5,"br"),f(6,"input",1),Ze("ngModelChange",function(a){return Te(o),tt(i.reloadIndex,a)||(i.reloadIndex=a),Ae(a)}),d(),l(7," - "),f(8,"small"),l(9,"reload index"),d(),O(10,"br"),f(11,"button",2),H("click",function(){return Te(o),Ae(i.doHideShow())}),pe(12,MW,2,0,"span",3)(13,TW,2,0,"span",3),d(),O(14,"br"),pe(15,AW,36,16,"div",3),O(16,"br")(17,"br"),d(),f(18,"div",4,0),pe(20,RW,2,1,"div",3),d()}2&r&&(w(),We("ngModel",i.datasourceDelay),w(5),We("ngModel",i.reloadIndex),w(6),x("ngIf",i.show),w(),x("ngIf",!i.show),w(2),x("ngIf",i.show),w(5),x("ngIf",i.show))},dependencies:[ei,hn,Jt,Vt,ii,OW,Bc],encapsulation:2})}}return e})()},{path:"**",redirectTo:"",pathMatch:"full"}];let FW=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=$n({type:e})}static{this.\u0275inj=yn({imports:[KT.forRoot(PW,{useHash:!0}),KT]})}}return e})(),LW=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=$n({type:e,bootstrap:[zG]})}static{this.\u0275inj=yn({providers:[eA],imports:[xz,CU,tH,cH.forRoot(),E6,FW]})}}return e})();Cz().bootstrapModule(LW).catch(e=>console.error(e))}},va=>{va(va.s=431)}]);
//# sourceMappingURL=main.d9be6d9b50c4e694.js.map