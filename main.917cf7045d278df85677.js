(self.webpackChunkngx_ui_scroll_app=self.webpackChunkngx_ui_scroll_app||[]).push([[179],{98255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=98255,e.exports=t},51064:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?h(e):t}function p(e){var t=l();return function(){var n,i=r(e);if(t){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return f(this,n)}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t,n){return(x=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i}).apply(null,arguments)}function k(e){var t="function"==typeof Map?new Map:void 0;return(k=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return x(e,arguments,r(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}var _=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function S(e){return null!==e&&"object"==typeof e}function I(e){return"function"==typeof e}var C=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map(function(e,t){return"".concat(t+1,") ").concat(e.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),T=function(){var e=function(){function e(t){s(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return a(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var a=0;a<n.length;++a)n[a].remove(this);if(I(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(l){t=l instanceof C?A(l.errors):[l]}}if(_(o))for(var s=-1,u=o.length;++s<u;){var c=o[s];if(S(c))try{c.unsubscribe()}catch(l){t=t||[],l instanceof C?t=t.concat(A(l.errors)):t.push(l)}}if(t)throw new C(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}();return e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function A(e){return e.reduce(function(e,t){return e.concat(t instanceof C?t.errors:t)},[])}var E=!1,O={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else E&&console.log("RxJS: Back to a better error behavior. Thank you. <3");E=e},get useDeprecatedSynchronousErrorHandling(){return E}};function M(e){setTimeout(function(){throw e},0)}var P={closed:!0,next:function(e){},error:function(e){if(O.useDeprecatedSynchronousErrorHandling)throw e;M(e)},complete:function(){}},D=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),R=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;switch(s(this,n),(o=t.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=P;break;case 1:if(!e){o.destination=P;break}if("object"==typeof e){e instanceof n?(o.syncErrorThrowable=e.syncErrorThrowable,o.destination=e,e.add(h(o))):(o.syncErrorThrowable=!0,o.destination=new N(h(o),e));break}default:o.syncErrorThrowable=!0,o.destination=new N(h(o),e,r,i)}return o}return a(n,[{key:D,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,i(r(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(T),N=function(e){c(n,e);var t=p(n);function n(e,r,i,o){var a,u;s(this,n),(a=t.call(this))._parentSubscriber=e;var c=h(a);return I(r)?u=r:r&&(u=r.next,i=r.error,o=r.complete,r!==P&&(I((c=Object.create(r)).unsubscribe)&&a.add(c.unsubscribe.bind(c)),c.unsubscribe=a.unsubscribe.bind(h(a)))),a._context=c,a._next=u,a._error=i,a._complete=o,a}return a(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;O.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=O.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):M(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;M(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};O.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),O.useDeprecatedSynchronousErrorHandling)throw n;M(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!O.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return O.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(M(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(R),V=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function z(e){return e}function j(e){return 0===e.length?z:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}var L=function(){var e=function(){function e(t){s(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return a(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof R)return e;if(e[D])return e[D]()}return e||t||n?new R(e,t,n):new R(P)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||O.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),O.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){O.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof R?t:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=F(t))(function(t,r){var i;i=n.subscribe(function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}},r,t)})}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:V,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:j(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=F(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})}}]),e}();return e.create=function(t){return new e(t)},e}();function F(e){if(e||(e=O.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var U=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),B=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return a(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(T),$=function(e){c(n,e);var t=p(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).destination=e,r}return n}(R),H=function(){var e=function(e){c(n,e);var t=p(n);function n(){var e;return s(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return a(n,[{key:D,value:function(){return new $(this)}},{key:"lift",value:function(e){var t=new q(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new U;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new U;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new U;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new U;return i(r(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new U;return this.hasError?(e.error(this.thrownError),T.EMPTY):this.isStopped?(e.complete(),T.EMPTY):(this.observers.push(e),new B(this,e))}},{key:"asObservable",value:function(){var e=new L;return e.source=this,e}}]),n}(L);return e.create=function(e,t){return new q(e,t)},e}(),q=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).destination=e,i.source=r,i}return a(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):T.EMPTY}}]),n}(H);function W(e){return e&&"function"==typeof e.schedule}function G(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new X(e,t))}}var X=function(){function e(t,n){s(this,e),this.project=t,this.thisArg=n}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new Z(e,this.project,this.thisArg))}}]),e}(),Z=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e)).project=r,o.count=0,o.thisArg=i||h(o),o}return a(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(R),Q=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function K(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Y=K(),J=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function ee(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var te=function(e){if(e&&"function"==typeof e[V])return n=e,function(e){var t=n[V]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(J(e))return Q(e);if(ee(e))return function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,M),t}}(e);if(e&&"function"==typeof e[Y])return t=e,function(e){for(var n=t[Y]();;){var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e};var t,n,r=S(e)?"an invalid object":"'".concat(e,"'"),i="You provided ".concat(r," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(i)};function ne(e,t){return new L(function(n){var r=new T,i=0;return r.add(t.schedule(function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function re(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[V]}(e))return function(e,t){return new L(function(n){var r=new T;return r.add(t.schedule(function(){var i=e[V]();r.add(i.subscribe({next:function(e){r.add(t.schedule(function(){return n.next(e)}))},error:function(e){r.add(t.schedule(function(){return n.error(e)}))},complete:function(){r.add(t.schedule(function(){return n.complete()}))}}))})),r})}(e,t);if(ee(e))return function(e,t){return new L(function(n){var r=new T;return r.add(t.schedule(function(){return e.then(function(e){r.add(t.schedule(function(){n.next(e),r.add(t.schedule(function(){return n.complete()}))}))},function(e){r.add(t.schedule(function(){return n.error(e)}))})})),r})}(e,t);if(J(e))return ne(e,t);if(function(e){return e&&"function"==typeof e[Y]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new L(function(n){var r,i=new T;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(function(){r=e[Y](),i.add(t.schedule(function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof L?e:new L(te(e))}var ie=function(e){c(n,e);var t=p(n);function n(e){var r;return s(this,n),(r=t.call(this)).parent=e,r}return a(n,[{key:"_next",value:function(e){this.parent.notifyNext(e)}},{key:"_error",value:function(e){this.parent.notifyError(e),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(R),oe=function(e){c(n,e);var t=p(n);function n(){return s(this,n),t.apply(this,arguments)}return a(n,[{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(R);function ae(e,t){if(!t.closed){if(e instanceof L)return e.subscribe(t);var n;try{n=te(e)(t)}catch(r){t.error(r)}return n}}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(se(function(n,r){return re(e(n,r)).pipe(G(function(e,i){return t(n,e,r,i)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new ue(e,n))})}var ue=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;s(this,e),this.project=t,this.concurrent=n}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new ce(e,this.project,this.concurrent))}}]),e}(),ce=function(e){c(n,e);var t=p(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return s(this,n),(i=t.call(this,e)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return a(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=new ie(this),n=this.destination;n.add(t);var r=ae(e,t);r!==t&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e){this.destination.next(e)}},{key:"notifyComplete",value:function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(oe);function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return se(z,e)}function de(e,t){return t?ne(e,t):new L(Q(e))}function he(){for(var e=Number.POSITIVE_INFINITY,t=null,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r[r.length-1];return W(o)?(t=r.pop(),r.length>1&&"number"==typeof r[r.length-1]&&(e=r.pop())):"number"==typeof o&&(e=r.pop()),null===t&&1===r.length&&r[0]instanceof L?r[0]:le(e)(de(r,t))}function fe(){return function(e){return e.lift(new pe(e))}}var pe=function(){function e(t){s(this,e),this.connectable=t}return a(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new ve(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),ve=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).connectable=r,i}return a(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(R),me=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return a(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new T).add(this.source.subscribe(new ye(this.getSubject(),this))),e.closed&&(this._connection=null,e=T.EMPTY)),e}},{key:"refCount",value:function(){return fe()(this)}}]),n}(L),ge=function(){var e=me.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),ye=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).connectable=r,i}return a(n,[{key:"_error",value:function(e){this._unsubscribe(),i(r(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),i(r(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}($);function be(){return new H}function we(e){for(var t in e)if(e[t]===we)return t;throw Error("Could not find renamed property on target object.")}function xe(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ke(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ke).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return"".concat(e.overriddenName);if(e.name)return"".concat(e.name);var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function _e(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Se=we({__forward_ref__:we});function Ie(e){return e.__forward_ref__=Ie,e.toString=function(){return ke(this())},e}function Ce(e){return Te(e)?e():e}function Te(e){return"function"==typeof e&&e.hasOwnProperty(Se)&&e.__forward_ref__===Ie}var Ae=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this,function(e,t){var n=e?"NG0".concat(e,": "):"";return"".concat(n).concat(t)}(e,r))).code=e,i}return n}(k(Error));function Ee(e){return"string"==typeof e?e:null==e?"":String(e)}function Oe(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ee(e)}function Me(e,t){var n=t?" in ".concat(t):"";throw new Ae("201","No provider for ".concat(Oe(e)," found").concat(n))}function Pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function De(e){return{providers:e.providers||[],imports:e.imports||[]}}function Re(e){return Ne(e,je)||Ne(e,Fe)}function Ne(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ve(e){return e&&(e.hasOwnProperty(Le)||e.hasOwnProperty(Ue))?e[Le]:null}var ze,je=we({"\u0275prov":we}),Le=we({"\u0275inj":we}),Fe=we({ngInjectableDef:we}),Ue=we({ngInjectorDef:we}),Be=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function $e(){return ze}function He(e){var t=ze;return ze=e,t}function qe(e,t,n){var r=Re(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Be.Optional?null:void 0!==t?t:void Me(ke(e),"Injector")}function We(e){return{toString:e}.toString()}var Ge=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),Xe=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({}),Ze="undefined"!=typeof globalThis&&globalThis,Qe="undefined"!=typeof window&&window,Ke="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ye="undefined"!=typeof global&&global,Je=Ze||Ye||Qe||Ke,et={},tt=[],nt=we({"\u0275cmp":we}),rt=we({"\u0275dir":we}),it=we({"\u0275pipe":we}),ot=we({"\u0275mod":we}),at=we({"\u0275loc":we}),st=we({"\u0275fac":we}),ut=we({__NG_ELEMENT_ID__:we}),ct=0;function lt(e){return We(function(){var t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Ge.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||tt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Xe.Emulated,id:"c",styles:e.styles||tt,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=ct++,n.inputs=vt(e.inputs,t),n.outputs=vt(e.outputs),i&&i.forEach(function(e){return e(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(dt)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ht)}:null,n})}function dt(e){return yt(e)||function(e){return e[rt]||null}(e)}function ht(e){return function(e){return e[it]||null}(e)}var ft={};function pt(e){var t={type:e.type,bootstrap:e.bootstrap||tt,declarations:e.declarations||tt,imports:e.imports||tt,exports:e.exports||tt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&We(function(){ft[e.id]=e.type}),t}function vt(e,t){if(null==e)return et;var n={};for(var r in e)if(e.hasOwnProperty(r)){var i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}var mt=lt;function gt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function yt(e){return e[nt]||null}function bt(e,t){var n=e[ot]||null;if(!n&&!0===t)throw new Error("Type ".concat(ke(e)," does not have '\u0275mod' property."));return n}var wt=20,xt=10;function kt(e){return Array.isArray(e)&&"object"==typeof e[1]}function _t(e){return Array.isArray(e)&&!0===e[1]}function St(e){return 0!=(8&e.flags)}function It(e){return 2==(2&e.flags)}function Ct(e){return 1==(1&e.flags)}function Tt(e){return null!==e.template}function At(e,t){return e.hasOwnProperty(st)?e[st]:null}var Et=function(){function e(t,n,r){s(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return a(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function Ot(){return Mt}function Mt(e){return e.type.prototype.ngOnChanges&&(e.setInput=Dt),Pt}function Pt(){var e=Rt(this),t=null==e?void 0:e.current;if(t){var n=e.previous;if(n===et)e.previous=t;else for(var r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Dt(e,t,n,r){var i=Rt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:et,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Et(u&&u.currentValue,t,a===et),e[r]=t}function Rt(e){return e.__ngSimpleChanges__||null}Ot.ngInherit=!0;var Nt="http://www.w3.org/2000/svg",Vt=void 0;function zt(e){return!!e.listen}var jt={createRenderer:function(e,t){return void 0!==Vt?Vt:"undefined"!=typeof document?document:void 0}};function Lt(e){for(;Array.isArray(e);)e=e[0];return e}function Ft(e,t){return Lt(t[e])}function Ut(e,t){return Lt(t[e.index])}function Bt(e,t){return e.data[t]}function $t(e,t){return e[t]}function Ht(e,t){var n=t[e];return kt(n)?n:n[0]}function qt(e){return 4==(4&e[2])}function Wt(e){return 128==(128&e[2])}function Gt(e,t){return null==t?null:e[t]}function Xt(e){e[18]=0}function Zt(e,t){e[5]+=t;for(var n=e,r=e[3];null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}var Qt={lFrame:wn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Kt(){return Qt.bindingsEnabled}function Yt(){return Qt.lFrame.lView}function Jt(){return Qt.lFrame.tView}function en(e){return Qt.lFrame.contextLView=e,e[8]}function tn(){for(var e=nn();null!==e&&64===e.type;)e=e.parent;return e}function nn(){return Qt.lFrame.currentTNode}function rn(e,t){var n=Qt.lFrame;n.currentTNode=e,n.isParent=t}function on(){return Qt.lFrame.isParent}function an(){Qt.lFrame.isParent=!1}function sn(){return Qt.isInCheckNoChangesMode}function un(e){Qt.isInCheckNoChangesMode=e}function cn(){var e=Qt.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ln(){return Qt.lFrame.bindingIndex}function dn(){return Qt.lFrame.bindingIndex++}function hn(e){var t=Qt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function fn(e){Qt.lFrame.currentDirectiveIndex=e}function pn(){return Qt.lFrame.currentQueryIndex}function vn(e){Qt.lFrame.currentQueryIndex=e}function mn(e){var t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function gn(e,t,n){if(n&Be.SkipSelf){for(var r=t,i=e;!(null!==(r=r.parent)||n&Be.Host||null===(r=mn(i))||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}var o=Qt.lFrame=bn();return o.currentTNode=t,o.lView=e,!0}function yn(e){var t=bn(),n=e[1];Qt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bn(){var e=Qt.lFrame,t=null===e?null:e.child;return null===t?wn(e):t}function wn(e){var t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function xn(){var e=Qt.lFrame;return Qt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var kn=xn;function _n(){var e=xn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Sn(e){return(Qt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Qt.lFrame.contextLView))[8]}function In(){return Qt.lFrame.selectedIndex}function Cn(e){Qt.lFrame.selectedIndex=e}function Tn(){var e=Qt.lFrame;return Bt(e.tView,e.selectedIndex)}function An(e,t){for(var n=t.directiveStart,r=t.directiveEnd;n<r;n++){var i=e.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(e.contentHooks||(e.contentHooks=[])).push(-n,o),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),u&&((e.viewHooks||(e.viewHooks=[])).push(n,u),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,u)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function En(e,t,n){Pn(e,t,3,n)}function On(e,t,n,r){(3&e[2])===n&&Pn(e,t,n,r)}function Mn(e,t){var n=e[2];(3&n)===t&&(n&=2047,e[2]=n+=1)}function Pn(e,t,n,r){for(var i=null!=r?r:-1,o=t.length-1,a=0,s=void 0!==r?65535&e[18]:0;s<o;s++)if("number"==typeof t[s+1]){if(a=t[s],null!=r&&a>=r)break}else t[s]<0&&(e[18]+=65536),(a<i||-1==i)&&(Dn(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Dn(e,t,n,r){var i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}var Rn=-1,Nn=function e(t,n,r){s(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Vn(e,t,n){for(var r=zt(e),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?e.setAttribute(t,s,u,a):t.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];jn(c)?r&&e.setProperty(t,c,l):r?e.setAttribute(t,c,l):t.setAttribute(c,l),i++}}return i}function zn(e){return 3===e||4===e||6===e}function jn(e){return 64===e.charCodeAt(0)}function Ln(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,r=0;r<t.length;r++){var i=t[r];"number"==typeof i?n=i:0===n||Fn(e,n,i,null,-1===n||2===n?t[++r]:null)}return e}function Fn(e,t,n,r,i){var o=0,a=e.length;if(-1===t)a=-1;else for(;o<e.length;){var s=e[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<e.length;){var u=e[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Un(e){return e!==Rn}function Bn(e){return 32767&e}function $n(e,t){for(var n=e>>16,r=t;n>0;)r=r[15],n--;return r}var Hn=!0;function qn(e){var t=Hn;return Hn=e,t}var Wn=0;function Gn(e,t){var n=Zn(e,t);if(-1!==n)return n;var r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Xn(r.data,e),Xn(t,null),Xn(r.blueprint,null));var i=Qn(e,t),o=e.injectorIndex;if(Un(i))for(var a=Bn(i),s=$n(i,t),u=s[1].data,c=0;c<8;c++)t[o+c]=s[a+c]|u[a+c];return t[o+8]=i,o}function Xn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Zn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Qn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=0,r=null,i=t;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return Rn;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Rn}function Kn(e,t,n){!function(e,t,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ut)&&(r=n[ut]),null==r&&(r=n[ut]=Wn++);var i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Yn(e,t,n){if(n&Be.Optional)return e;Me(t,"NodeInjector")}function Jn(e,t,n,r){if(n&Be.Optional&&void 0===r&&(r=null),0==(n&(Be.Self|Be.Host))){var i=e[9],o=He(void 0);try{return i?i.get(t,r,n&Be.Optional):qe(t,r,n&Be.Optional)}finally{He(o)}}return Yn(r,t,n)}function er(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Be.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==e){var o=ar(n);if("function"==typeof o){if(!gn(t,e,r))return r&Be.Host?Yn(i,n,r):Jn(t,n,r,i);try{var a=o(r);if(null!=a||r&Be.Optional)return a;Me(n)}finally{kn()}}else if("number"==typeof o){var s=null,u=Zn(e,t),c=Rn,l=r&Be.Host?t[16][6]:null;for((-1===u||r&Be.SkipSelf)&&((c=-1===u?Qn(e,t):t[u+8])!==Rn&&ur(r,!1)?(s=t[1],u=Bn(c),t=$n(c,t)):u=-1);-1!==u;){var d=t[1];if(sr(o,u,d.data)){var h=rr(u,t,n,s,r,l);if(h!==tr)return h}(c=t[u+8])!==Rn&&ur(r,t[1].data[u+8]===l)&&sr(o,u,t)?(s=d,u=Bn(c),t=$n(c,t)):u=-1}}}return Jn(t,n,r,i)}var tr={};function nr(){return new cr(tn(),Yt())}function rr(e,t,n,r,i,o){var a=t[1],s=a.data[e+8],u=ir(s,a,n,null==r?It(s)&&Hn:r!=a&&0!=(3&s.type),i&Be.Host&&o===s);return null!==u?or(t,a,u,s):tr}function ir(e,t,n,r,i){for(var o=e.providerIndexes,a=t.data,s=1048575&o,u=e.directiveStart,c=o>>20,l=i?s+c:e.directiveEnd,d=r?s:s+c;d<l;d++){var h=a[d];if(d<u&&n===h||d>=u&&h.type===n)return d}if(i){var f=a[u];if(f&&Tt(f)&&f.type===n)return u}return null}function or(e,t,n,r){var i=e[n],o=t.data;if(i instanceof Nn){var a=i;a.resolving&&function(e,t){throw new Ae("200","Circular dependency in DI detected for ".concat(e).concat(""))}(Oe(o[n]));var s=qn(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?He(a.injectImpl):null;gn(e,r,Be.Default);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){var r=t.type.prototype,i=r.ngOnInit,o=r.ngDoCheck;if(r.ngOnChanges){var a=Mt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,a)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==u&&He(u),qn(s),a.resolving=!1,kn()}}return i}function ar(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e.hasOwnProperty(ut)?e[ut]:void 0;return"number"==typeof t?t>=0?255&t:nr:t}function sr(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function ur(e,t){return!(e&Be.Self||e&Be.Host&&t)}var cr=function(){function e(t,n){s(this,e),this._tNode=t,this._lView=n}return a(e,[{key:"get",value:function(e,t){return er(this._tNode,this._lView,e,void 0,t)}}]),e}();function lr(e){return We(function(){for(var t=e.prototype.constructor,n=t[st]||dr(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;i&&i!==r;){var o=i[st]||dr(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(e){return new e}})}function dr(e){return Te(e)?function(){var t=dr(Ce(e));return t&&t()}:At(e)}function hr(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(zn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}return null}(tn(),e)}var fr="__parameters__";function pr(e,t,n){return We(function(){var r=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var o=x(i,t);return a.annotation=o,a;function a(e,t,n){for(var r=e.hasOwnProperty(fr)?e[fr]:Object.defineProperty(e,fr,{value:[]})[fr];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var vr=function(){function e(t,n){s(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return a(e,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),e}(),mr=new vr("AnalyzeForEntryComponents"),gr=Function;function yr(e,t){void 0===t&&(t=e);for(var n=0;n<e.length;n++){var r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),yr(r,t)):t!==e&&t.push(r)}return t}function br(e,t){e.forEach(function(e){return Array.isArray(e)?br(e,t):t(e)})}function wr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function xr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function kr(e,t){for(var n=[],r=0;r<e;r++)n.push(t);return n}function _r(e,t,n){var r=Ir(e,t);return r>=0?e[1|r]=n:function(e,t,n,r){var i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r=~r,t,n),r}function Sr(e,t){var n=Ir(e,t);if(n>=0)return e[1|n]}function Ir(e,t){return function(e,t,n){for(var r=0,i=e.length>>1;i!==r;){var o=r+(i-r>>1),a=e[o<<1];if(t===a)return o<<1;a>t?i=o:r=o+1}return~(i<<1)}(e,t)}var Cr={},Tr=/\n/gm,Ar="__source",Er=we({provide:String,useValue:we}),Or=void 0;function Mr(e){var t=Or;return Or=e,t}function Pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be.Default;if(void 0===Or)throw new Error("inject() must be called from an injection context");return null===Or?qe(e,void 0,t):Or.get(e,t&Be.Optional?null:void 0,t)}function Dr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be.Default;return($e()||Pr)(Ce(e),t)}function Rr(e){for(var t=[],n=0;n<e.length;n++){var r=Ce(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=Be.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}t.push(Dr(i,o))}else t.push(Dr(r))}return t}function Nr(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}function Vr(e,t,n,r){var i=e.ngTempTokenPath;throw t[Ar]&&i.unshift(t[Ar]),e.message=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=ke(t);if(Array.isArray(t))i=t.map(ke).join(" -> ");else if("object"==typeof t){var o=[];for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):ke(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Tr,"\n  "))}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}var zr=Nr(pr("Inject",function(e){return{token:e}}),-1),jr=Nr(pr("Optional"),8),Lr=Nr(pr("SkipSelf"),4),Fr=function(){function e(t){s(this,e),this.changingThisBreaksApplicationSecurity=t}return a(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),e}();function Ur(e){return e instanceof Fr?e.changingThisBreaksApplicationSecurity:e}var Br=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$r=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,Hr=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function qr(e){var t,n,r=(t=Yt())&&t[12];return r?r.sanitize(Hr.URL,e)||"":function(e,t){var n=function(e){return e instanceof Fr&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===t}(e,"URL")?Ur(e):(n=Ee(e),(n=String(n)).match(Br)||n.match($r)?n:"unsafe:"+n)}function Wr(e,t){e.__ngContext__=t}function Gr(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Xr(e){return e.ngDebugContext}function Zr(e){return e.ngOriginalError}function Qr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var Kr=function(){function e(){s(this,e),this._console=console}return a(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||Qr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Xr(e)?Xr(e):this._findContext(Zr(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=Zr(e);t&&Zr(t);)t=Zr(t);return t}}]),e}(),Yr=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Je)}();function Jr(e){return e instanceof Function?e():e}var ei=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function ti(e,t){return(void 0)(e,t)}function ni(e){var t=e[3];return _t(t)?t[3]:t}function ri(e){return oi(e[13])}function ii(e){return oi(e[4])}function oi(e){for(;null!==e&&!_t(e);)e=e[4];return e}function ai(e,t,n,r,i){if(null!=r){var o,a=!1;_t(r)?o=r:kt(r)&&(a=!0,r=r[0]);var s=Lt(r);0===e&&null!==n?null==i?vi(t,n,s):pi(t,n,s,i||null,!0):1===e&&null!==n?pi(t,n,s,i||null,!0):2===e?function(e,t,n){var r=gi(e,t);r&&function(e,t,n,r){zt(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,s,a):3===e&&t.destroyNode(s),null!=o&&function(e,t,n,r,i){var o=n[7];o!==Lt(n)&&ai(t,e,r,o,i);for(var a=xt;a<n.length;a++){var s=n[a];Ii(s[1],s,e,t,r,o)}}(t,e,o,n,i)}}function si(e,t){return zt(e)?e.createText(t):e.createTextNode(t)}function ui(e,t,n){return zt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function ci(e,t){var n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Zt(i,-1)),n.splice(r,1)}function li(e,t){if(!(e.length<=xt)){var n,r=xt+t,i=e[r];if(i){var o=i[17];null!==o&&o!==e&&ci(o,i),t>0&&(e[r-1][4]=i[4]);var a=xr(e,xt+t);Ii(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function di(e,t){if(!(256&t[2])){var n=t[11];zt(n)&&n.destroyNode&&Ii(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return hi(e[1],e);for(;t;){var n=null;if(kt(t))n=t[13];else{var r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)kt(t)&&hi(t[1],t),t=t[3];null===t&&(t=e),kt(t)&&hi(t[1],t),n=t&&t[4]}t=n}}(t)}}function hi(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var r=0;r<n.length;r+=2){var i=t[n[r]];if(!(i instanceof Nn)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2){var s=i[o[a]],u=o[a+1];try{u.call(s)}finally{}}else try{o.call(i)}finally{}}}}(e,t),function(e,t){var n=e.cleanup,r=t[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(t):Lt(t[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var d=i+1;d<r.length;d++)(0,r[d])();t[7]=null}}(e,t),1===t[1].type&&zt(t[11])&&t[11].destroy();var n=t[17];if(null!==n&&_t(t[3])){n!==t[3]&&ci(n,t);var r=t[19];null!==r&&r.detachView(e)}}}function fi(e,t,n){return function(e,t,n){for(var r=t;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){var i=e.data[r.directiveStart].encapsulation;if(i===Xe.None||i===Xe.Emulated)return null}return Ut(r,n)}(e,t.parent,n)}function pi(e,t,n,r,i){zt(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function vi(e,t,n){zt(e)?e.appendChild(t,n):t.appendChild(n)}function mi(e,t,n,r,i){null!==r?pi(e,t,n,r,i):vi(e,t,n)}function gi(e,t){return zt(e)?e.parentNode(t):t.parentNode}function yi(e,t,n){return bi(e,t,n)}var bi=function(e,t,n){return 40&e.type?Ut(e,n):null};function wi(e,t,n,r){var i=fi(e,r,t),o=t[11],a=yi(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)mi(o,i,n[s],a,!1);else mi(o,i,n,a,!1)}function xi(e,t){if(null!==t){var n=t.type;if(3&n)return Ut(t,e);if(4&n)return _i(-1,e[t.index]);if(8&n){var r=t.child;if(null!==r)return xi(e,r);var i=e[t.index];return _t(i)?_i(-1,i):Lt(i)}if(32&n)return ti(t,e)()||Lt(e[t.index]);var o=ki(e,t);return null!==o?Array.isArray(o)?o[0]:xi(ni(e[16]),o):xi(e,t.next)}return null}function ki(e,t){return null!==t?e[16][6].projection[t.projection]:null}function _i(e,t){var n=xt+e+1;if(n<t.length){var r=t[n],i=r[1].firstChild;if(null!==i)return xi(r,i)}return t[7]}function Si(e,t,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===t&&(s&&Wr(Lt(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)Si(e,t,n.child,r,i,o,!1),ai(t,e,i,s,o);else if(32&u){for(var c=ti(n,r),l=void 0;l=c();)ai(t,e,i,l,o);ai(t,e,i,s,o)}else 16&u?Ti(e,t,r,n,i,o):ai(t,e,i,s,o);n=a?n.projectionNext:n.next}}function Ii(e,t,n,r,i,o){Si(n,r,e.firstChild,t,i,o,!1)}function Ci(e,t,n){Ti(t[11],0,t,n,fi(e,n,t),yi(n.parent||t[6],n,t))}function Ti(e,t,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)ai(t,e,i,s[u],o);else Si(e,t,s,a[3],i,o,!0)}function Ai(e,t,n){zt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Ei(e,t,n){zt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Oi(e,t,n){for(var r=e.length;;){var i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){var o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Mi="ng-template";function Pi(e,t,n){for(var r=0;r<e.length;){var i=e[r++];if(n&&"class"===i){if(-1!==Oi((i=e[r]).toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Di(e){return 4===e.type&&e.value!==Mi}function Ri(e,t,n){return t===(4!==e.type||n?e.value:Mi)}function Ni(e,t,n){for(var r=4,i=e.attrs||[],o=function(e){for(var t=0;t<e.length;t++)if(zn(e[t]))return t;return e.length}(i),a=!1,s=0;s<t.length;s++){var u=t[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Ri(e,u,n)||""===u&&1===t.length){if(Vi(r))return!1;a=!0}}else{var c=8&r?u:t[++s];if(8&r&&null!==e.attrs){if(!Pi(e.attrs,c,n)){if(Vi(r))return!1;a=!0}continue}var l=zi(8&r?"class":u,i,Di(e),n);if(-1===l){if(Vi(r))return!1;a=!0;continue}if(""!==c){var d;d=l>o?"":i[l+1].toLowerCase();var h=8&r?d:null;if(h&&-1!==Oi(h,c,0)||2&r&&c!==d){if(Vi(r))return!1;a=!0}}}}else{if(!a&&!Vi(r)&&!Vi(u))return!1;if(a&&Vi(u))continue;a=!1,r=u|1&r}}return Vi(r)||a}function Vi(e){return 0==(1&e)}function zi(e,t,n,r){if(null===t)return-1;var i=0;if(r||!n){for(var o=!1;i<t.length;){var a=t[i];if(a===e)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=t[++i];"string"==typeof s;)s=t[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ji(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<t.length;r++)if(Ni(e,t[r],n))return!0;return!1}function Li(e,t){e:for(var n=0;n<t.length;n++){var r=t[n];if(e.length===r.length){for(var i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Fi(e,t){return e?":not("+t.trim()+")":t}function Ui(e){for(var t=e[0],n=1,r=2,i="",o=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&r){var s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Vi(a)||(t+=Fi(o,i),i=""),r=a,o=o||!Vi(r);n++}return""!==i&&(t+=Fi(o,i)),t}var Bi={};function $i(e){Hi(Jt(),Yt(),In()+e,sn())}function Hi(e,t,n,r){if(!r)if(3==(3&t[2])){var i=e.preOrderCheckHooks;null!==i&&En(t,i,n)}else{var o=e.preOrderHooks;null!==o&&On(t,o,0,n)}Cn(n)}function qi(e,t){return e<<17|t<<2}function Wi(e){return e>>17&32767}function Gi(e){return 2|e}function Xi(e){return(131068&e)>>2}function Zi(e,t){return-131069&e|t<<2}function Qi(e){return 1|e}function Ki(e,t){var n=e.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r+1];if(-1!==i){var o=e.data[i];vn(n[r]),o.contentQueries(2,t[i],i)}}}function Yi(e,t,n,r,i,o,a,s,u,c){var l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Xt(l),l[3]=l[15]=e,l[8]=n,l[10]=a||e&&e[10],l[11]=s||e&&e[11],l[12]=u||e&&e[12]||null,l[9]=c||e&&e[9]||null,l[6]=o,l[16]=2==t.type?e[16]:l,l}function Ji(e,t,n,r,i){var o,a,s=e.data[t];if(null===s)s=function(e,t,n,r,i){var o=nn(),a=on(),s=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(e,t,n,r,i),Qt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;var u=(a=(o=Qt.lFrame).currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return rn(s,!0),s}function eo(e,t,n,r){if(0===n)return-1;for(var i=t.length,o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function to(e,t,n){yn(t);try{var r=e.viewQuery;null!==r&&Po(1,r,n);var i=e.template;null!==i&&io(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ki(e,t),e.staticViewQueries&&Po(2,e.viewQuery,n);var o=e.components;null!==o&&function(e,t){for(var n=0;n<t.length;n++)To(e,t[n])}(t,o)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,_n()}}function no(e,t,n,r){var i=t[2];if(256!=(256&i)){yn(t);var o=sn();try{Xt(t),Qt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&io(e,t,n,2,r);var a=3==(3&i);if(!o)if(a){var s=e.preOrderCheckHooks;null!==s&&En(t,s,null)}else{var u=e.preOrderHooks;null!==u&&On(t,u,0,null),Mn(t,0)}if(function(e){for(var t=ri(e);null!==t;t=ii(t))if(t[2])for(var n=t[9],r=0;r<n.length;r++){var i=n[r];0==(1024&i[2])&&Zt(i[3],1),i[2]|=1024}}(t),function(e){for(var t=ri(e);null!==t;t=ii(t))for(var n=xt;n<t.length;n++){var r=t[n],i=r[1];Wt(r)&&no(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Ki(e,t),!o)if(a){var c=e.contentCheckHooks;null!==c&&En(t,c)}else{var l=e.contentHooks;null!==l&&On(t,l,1),Mn(t,1)}!function(e,t){var n,r,i=e.hostBindingOpCodes;if(null!==i)try{for(var o=0;o<i.length;o++){var a=i[o];if(a<0)Cn(~a);else{var s=a,u=i[++o],c=i[++o];n=s,r=void 0,(r=Qt.lFrame).bindingIndex=r.bindingRootIndex=u,fn(n),c(2,t[s])}}}finally{Cn(-1)}}(e,t);var d=e.components;null!==d&&function(e,t){for(var n=0;n<t.length;n++)Io(e,t[n])}(t,d);var h=e.viewQuery;if(null!==h&&Po(2,h,r),!o)if(a){var f=e.viewCheckHooks;null!==f&&En(t,f)}else{var p=e.viewHooks;null!==p&&On(t,p,2),Mn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Zt(t[3],-1))}finally{_n()}}}function ro(e,t,n,r){var i=t[10],o=!sn(),a=qt(t);try{o&&!a&&i.begin&&i.begin(),a&&to(e,t,r),no(e,t,n,r)}finally{o&&!a&&i.end&&i.end()}}function io(e,t,n,r,i){var o=In(),a=2&r;try{Cn(-1),a&&t.length>wt&&Hi(e,t,wt,sn()),n(r,i)}finally{Cn(o)}}function oo(e,t,n){if(St(t))for(var r=t.directiveEnd,i=t.directiveStart;i<r;i++){var o=e.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function ao(e,t,n){Kt()&&(function(e,t,n,r){var i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Gn(n,t),Wr(r,t);for(var a=n.initialInputs,s=i;s<o;s++){var u=e.data[s],c=Tt(u);c&&xo(t,n,u);var l=or(t,e,s,n);Wr(l,t),null!==a&&ko(0,s-i,l,u,0,a),c&&(Ht(n.index,t)[8]=l)}}(e,t,n,Ut(n,t)),128==(128&n.flags)&&function(e,t,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Qt.lFrame.currentDirectiveIndex;try{Cn(o);for(var s=r;s<i;s++){var u=e.data[s],c=t[s];fn(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||mo(u,c)}}finally{Cn(-1),fn(a)}}(e,t,n))}function so(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut,r=t.localNames;if(null!==r)for(var i=t.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(t,e):e[a];e[i++]=s}}function uo(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=co(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function co(e,t,n,r,i,o,a,s,u,c){var l=wt+r,d=l+i,h=function(e,t){for(var n=[],r=0;r<t;r++)n.push(r<e?null:Bi);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:e,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:t,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function lo(e,t,n,r){var i=Ro(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&No(e).push(r,i.length-1))}function ho(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function fo(e,t,n,r,i,o,a,s){var u,c,l=Ut(t,n),d=t.inputs;!s&&null!=d&&(u=d[r])?(zo(e,n,u,r,i),It(t)&&function(e,t){var n=Ht(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,t.value||"",r):i,zt(o)?o.setProperty(l,r,i):jn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function po(e,t,n,r){var i=!1;if(Kt()){var o=function(e,t,n){var r=e.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ji(n,a.selectors,!1)&&(i||(i=[]),Kn(Gn(n,t),e,a.type),Tt(a)?(go(e,n),i.unshift(a)):i.push(a))}return i}(e,t,n),a=null===r?null:{"":-1};if(null!==o){i=!0,bo(n,e.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,d=eo(e,t,o.length,null),h=0;h<o.length;h++){var f=o[h];n.mergedAttrs=Ln(n.mergedAttrs,f.hostAttrs),wo(e,n,t,d,f),yo(d,f,a),null!==f.contentQueries&&(n.flags|=8),null===f.hostBindings&&null===f.hostAttrs&&0===f.hostVars||(n.flags|=128);var p=f.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),d++}!function(e,t){for(var n=t.directiveEnd,r=e.data,i=t.attrs,o=[],a=null,s=null,u=t.directiveStart;u<n;u++){var c=r[u],l=c.inputs,d=null===i||Di(t)?null:_o(l,i);o.push(d),a=ho(l,u,a),s=ho(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=s}(e,n)}a&&function(e,t,n){if(t)for(var r=e.localNames=[],i=0;i<t.length;i+=2){var o=n[t[i+1]];if(null==o)throw new Ae("301","Export of name '".concat(t[i+1],"' not found!"));r.push(t[i],o)}}(n,r,a)}return n.mergedAttrs=Ln(n.mergedAttrs,n.attrs),i}function vo(e,t,n,r,i,o){var a=o.hostBindings;if(a){var s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);var u=~t.index;(function(e){for(var t=e.length;t>0;){var n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function mo(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function go(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function yo(e,t,n){if(n){if(t.exportAs)for(var r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Tt(t)&&(n[""]=e)}}function bo(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function wo(e,t,n,r,i){e.data[r]=i;var o=i.factory||(i.factory=At(i.type)),a=new Nn(o,Tt(i),null);e.blueprint[r]=a,n[r]=a,vo(e,t,0,r,eo(e,n,i.hostVars,Bi),i)}function xo(e,t,n){var r=Ut(t,e),i=uo(n),o=e[10],a=Ao(e,Yi(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=a}function ko(e,t,n,r,i,o){var a=o[t];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],d=a[u++];null!==s?r.setInput(n,d,c,l):n[l]=d}}function _o(e,t){for(var n=null,r=0;r<t.length;){var i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function So(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Io(e,t){var n=Ht(t,e);if(Wt(n)){var r=n[1];80&n[2]?no(r,n,r.template,n[8]):n[5]>0&&Co(n)}}function Co(e){for(var t=ri(e);null!==t;t=ii(t))for(var n=xt;n<t.length;n++){var r=t[n];if(1024&r[2]){var i=r[1];no(i,r,i.template,r[8])}else r[5]>0&&Co(r)}var o=e[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=Ht(o[a],e);Wt(s)&&s[5]>0&&Co(s)}}function To(e,t){var n=Ht(t,e),r=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),to(r,n,n[8])}function Ao(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Eo(e){for(;e;){e[2]|=64;var t=ni(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Oo(e,t,n){var r=t[10];r.begin&&r.begin();try{no(e,t,e.template,n)}catch(i){throw Vo(t,i),i}finally{r.end&&r.end()}}function Mo(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],r=Gr(n),i=r[1];ro(i,r,i.template,n)}}(e[8])}function Po(e,t,n){vn(0),t(e,n)}var Do=function(){return Promise.resolve(null)}();function Ro(e){return e[7]||(e[7]=[])}function No(e){return e.cleanup||(e.cleanup=[])}function Vo(e,t){var n=e[9],r=n?n.get(Kr,null):null;r&&r.handleError(t)}function zo(e,t,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=t[a],c=e.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function jo(e,t,n){var r=Ft(t,e);!function(e,t,n){zt(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}function Lo(e,t,n){var r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(var a=0;a<t.length;a++){var s=t[a];"number"==typeof s?o=s:1==o?i=_e(i,s):2==o&&(r=_e(r,s+": "+t[++a]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Fo=new vr("INJECTOR",-1),Uo=function(){function e(){s(this,e)}return a(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr;if(t===Cr){var n=new Error("NullInjectorError: No provider for ".concat(ke(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),Bo=new vr("Set Injector scope."),$o={},Ho={},qo=void 0;function Wo(){return void 0===qo&&(qo=new Uo),qo}function Go(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Xo(e,n,t||Wo(),r)}var Xo=function(){function e(t,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;s(this,e),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&br(n,function(e){return i.processProvider(e,t,n)}),br([t],function(e){return i.processInjectorType(e,[],a)}),this.records.set(Fo,Ko(void 0,this));var u=this.records.get(Bo);this.scope=null!=u?u.value:null,this.source=o||("object"==typeof t?null:ke(t))}return a(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(e){return e.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cr,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Be.Default;this.assertNotDestroyed();var r=Mr(this);try{if(!(n&Be.SkipSelf)){var i=this.records.get(e);if(void 0===i){var o=ea(e)&&Re(e);i=o&&this.injectableDefInScope(o)?Ko(Zo(e),$o):null,this.records.set(e,i)}if(null!=i)return this.hydrate(e,i)}var a=n&Be.Self?Wo():this.parent;return a.get(e,t=n&Be.Optional&&t===Cr?null:t)}catch(u){if("NullInjectorError"===u.name){var s=u.ngTempTokenPath=u.ngTempTokenPath||[];if(s.unshift(ke(e)),r)throw u;return Vr(u,e,"R3InjectorError",this.source)}throw u}finally{Mr(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach(function(t){return e.get(t)})}},{key:"toString",value:function(){var e=[];return this.records.forEach(function(t,n){return e.push(ke(n))}),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var r=this;if(!(e=Ce(e)))return!1;var i=Ve(e),o=null==i&&e.ngModule||void 0,a=void 0===o?e:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=Ve(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{br(i.imports,function(e){r.processInjectorType(e,t,n)&&(void 0===u&&(u=[]),u.push(e))})}finally{}if(void 0!==u)for(var c=function(e){var t=u[e],n=t.ngModule,i=t.providers;br(i,function(e){return r.processProvider(e,n,i||tt)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var d=At(a)||function(){return new a};this.records.set(a,Ko(d,$o));var h=i.providers;if(null!=h&&!s){var f=e;br(h,function(e){return r.processProvider(e,f,h)})}return void 0!==o&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var r=Jo(e=Ce(e))?e:Ce(e&&e.provide),i=function(e,t,n){return Yo(e)?Ko(void 0,e.useValue):Ko(Qo(e),$o)}(e);if(Jo(e)||!0!==e.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Ko(void 0,$o,!0)).factory=function(){return Rr(o.multi)},this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,i)}},{key:"hydrate",value:function(e,t){var n;return t.value===$o&&(t.value=Ho,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){if(!e.providedIn)return!1;var t=Ce(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}]),e}();function Zo(e){var t=Re(e),n=null!==t?t.factory:At(e);if(null!==n)return n;if(e instanceof vr)throw new Error("Token ".concat(ke(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=kr(t,"?");throw new Error("Can't resolve all parameters for ".concat(ke(e),": (").concat(n.join(", "),")."))}var r=function(e){var t=e&&(e[je]||e[Fe]);if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(n,'" class.')),t}return null}(e);return null!==r?function(){return r.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function Qo(e,t,n){var r,i=void 0;if(Jo(e)){var o=Ce(e);return At(o)||Zo(o)}if(Yo(e))i=function(){return Ce(e.useValue)};else if((r=e)&&r.useFactory)i=function(){return e.useFactory.apply(e,w(Rr(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))i=function(){return Dr(Ce(e.useExisting))};else{var a=Ce(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return At(a)||Zo(a);i=function(){return x(a,w(Rr(e.deps)))}}return i}function Ko(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function Yo(e){return null!==e&&"object"==typeof e&&Er in e}function Jo(e){return"function"==typeof e}function ea(e){return"function"==typeof e||"object"==typeof e&&e instanceof vr}var ta=function(e,t,n){return function(e){var t=Go(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return t._resolveInjectorDefTypes(),t}({name:n},t,e,n)},na=function(){var e=function(){function e(){s(this,e)}return a(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?ta(e,t,""):ta(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Cr,e.NULL=new Uo,e.\u0275prov=Pe({token:e,providedIn:"any",factory:function(){return Dr(Fo)}}),e.__NG_ELEMENT_ID__=-1,e}();function ra(e,t){An(Gr(e)[1],tn())}function ia(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,r=[e];t;){var i=void 0;if(Tt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);var o=e;o.inputs=oa(e.inputs),o.declaredInputs=oa(e.declaredInputs),o.outputs=oa(e.outputs);var a=i.hostBindings;a&&ua(e,a);var s=i.viewQuery,u=i.contentQueries;if(s&&aa(e,s),u&&sa(e,u),xe(e.inputs,i.inputs),xe(e.declaredInputs,i.declaredInputs),xe(e.outputs,i.outputs),Tt(i)&&i.data.animation){var c=e.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var d=0;d<l.length;d++){var h=l[d];h&&h.ngInherit&&h(e),h===ia&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,r=e.length-1;r>=0;r--){var i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ln(i.hostAttrs,n=Ln(n,i.hostAttrs))}}(r)}function oa(e){return e===et?{}:e===tt?[]:e}function aa(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,r){t(e,r),n(e,r)}:t}function sa(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,r,i){t(e,r,i),n(e,r,i)}:t}function ua(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,r){t(e,r),n(e,r)}:t}var ca=null;function la(){if(!ca){var e=Je.Symbol;if(e&&e.iterator)ca=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ca=r)}}return ca}var da=function(){function e(t){s(this,e),this.wrapped=t}return a(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function ha(e){return!!fa(e)&&(Array.isArray(e)||!(e instanceof Map)&&la()in e)}function fa(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function pa(e,t,n){return e[t]=n}function va(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ma(e,t,n,r){var i=va(e,t,n);return va(e,t+1,r)||i}function ga(e,t,n,r){var i=Yt();return va(i,dn(),t)&&(Jt(),function(e,t,n,r,i,o){var a=Ut(e,t);!function(e,t,n,r,i,o,a){if(null==o)zt(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{var s=null==a?Ee(o):a(o,r||"",i);zt(e)?e.setAttribute(t,i,s,n):n?t.setAttributeNS(n,i,s):t.setAttribute(i,s)}}(t[11],a,o,e.value,n,r,i)}(Tn(),i,e,t,n,r)),ga}function ya(e,t,n,r){return va(e,dn(),n)?t+Ee(n)+r:Bi}function ba(e,t,n,r,i,o,a,s){var u=Yt(),c=Jt(),l=e+wt,d=c.firstCreatePass?function(e,t,n,r,i,o,a,s,u){var c=t.consts,l=Ji(t,e,4,a||null,Gt(c,s));po(t,n,l,Gt(c,u)),An(t,l);var d=l.tViews=co(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}(l,c,u,t,n,r,i,o,a):c.data[l];rn(d,!1);var h=u[11].createComment("");wi(c,u,h,d),Wr(h,u),Ao(u,u[l]=So(h,u,h,d)),Ct(d)&&ao(c,u,d),null!=a&&so(u,d,s)}function wa(e){return $t(Qt.lFrame.contextLView,wt+e)}function xa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Be.Default,n=Yt();if(null===n)return Dr(e,t);var r=tn();return er(r,n,Ce(e),t)}function ka(e,t,n){var r=Yt();return va(r,dn(),t)&&fo(Jt(),Tn(),r,e,t,r[11],n,!1),ka}function _a(e,t,n,r,i){var o=i?"class":"style";zo(e,n,t.inputs[o],o,r)}function Sa(e,t,n,r){var i=Yt(),o=Jt(),a=wt+e,s=i[11],u=i[a]=ui(s,t,Qt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,r,i,o,a){var s=t.consts,u=Ji(t,e,2,i,Gt(s,o));return po(t,n,u,Gt(s,a)),null!==u.attrs&&Lo(u,u.attrs,!1),null!==u.mergedAttrs&&Lo(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(a,o,i,0,t,n,r):o.data[a];rn(c,!0);var l=c.mergedAttrs;null!==l&&Vn(s,u,l);var d=c.classes;null!==d&&Ei(s,u,d);var h=c.styles;null!==h&&Ai(s,u,h),64!=(64&c.flags)&&wi(o,i,u,c),0===Qt.lFrame.elementDepthCount&&Wr(u,i),Qt.lFrame.elementDepthCount++,Ct(c)&&(ao(o,i,c),oo(o,c,i)),null!==r&&so(i,c)}function Ia(){var e=tn();on()?an():rn(e=e.parent,!1);var t=e;Qt.lFrame.elementDepthCount--;var n=Jt();n.firstCreatePass&&(An(n,e),St(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&_a(n,t,Yt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&_a(n,t,Yt(),t.stylesWithoutHost,!1)}function Ca(e,t,n,r){Sa(e,t,n,r),Ia()}function Ta(){return Yt()}function Aa(e){return!!e&&"function"==typeof e.then}function Ea(e){return!!e&&"function"==typeof e.subscribe}var Oa=Ea;function Ma(e,t,n,r){var i=Yt(),o=Jt(),a=tn();return function(e,t,n,r,i,o,a,s){var u=Ct(r),c=e.firstCreatePass&&No(e),l=Ro(t),d=!0;if(3&r.type||s){var h=Ut(r,t),f=s?s(h):h,p=l.length,v=s?function(e){return s(Lt(e[r.index]))}:r.index;if(zt(n)){var m=null;if(!s&&u&&(m=function(e,t,n,r){var i=e.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=t[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(e,t,i,r.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,d=!1;else{o=Da(r,t,0,o,!1);var g=n.listen(f,i,o);l.push(o,g),c&&c.push(i,v,p,p+1)}}else o=Da(r,t,0,o,!0),f.addEventListener(i,o,a),l.push(o),c&&c.push(i,v,p,a)}else o=Da(r,t,0,o,!1);var y,b=r.outputs;if(d&&null!==b&&(y=b[i])){var w=y.length;if(w)for(var x=0;x<w;x+=2){var k=t[y[x]][y[x+1]].subscribe(o),_=l.length;l.push(o,k),c&&c.push(i,r.index,_,-(_+1))}}}(o,i,i[11],a,e,t,!!n,r),Ma}function Pa(e,t,n,r){try{return!1!==n(r)}catch(i){return Vo(e,i),!1}}function Da(e,t,n,r,i){return function n(o){if(o===Function)return r;var a=2&e.flags?Ht(e.index,t):t;0==(32&t[2])&&Eo(a);for(var s=Pa(t,0,r,o),u=n.__ngNextListenerFn__;u;)s=Pa(t,0,u,o)&&s,u=u.__ngNextListenerFn__;return i&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function Ra(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Sn(e)}function Na(e,t){for(var n=null,r=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),i=0;i<t.length;i++){var o=t[i];if("*"!==o){if(null===r?ji(e,o,!0):Li(r,o))return i}else n=i}return n}function Va(e){var t=Yt()[16][6];if(!t.projection)for(var n=t.projection=kr(e?e.length:1,null),r=n.slice(),i=t.child;null!==i;){var o=e?Na(i,e):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function za(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Yt(),i=Jt(),o=Ji(i,wt+e,16,null,n||null);null===o.projection&&(o.projection=t),an(),64!=(64&o.flags)&&Ci(i,r,o)}function ja(e,t,n){return La(e,"",t,"",n),ja}function La(e,t,n,r,i){var o=Yt(),a=ya(o,t,n,r);return a!==Bi&&fo(Jt(),Tn(),o,e,a,o[11],i,!1),La}function Fa(e,t,n,r,i){for(var o=e[n+1],a=null===t,s=r?Wi(o):Xi(o),u=!1;0!==s&&(!1===u||a);){var c=e[s+1];Ua(e[s],t)&&(u=!0,e[s+1]=r?Qi(c):Gi(c)),s=r?Wi(c):Xi(c)}u&&(e[n+1]=r?Gi(o):Qi(o))}function Ua(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ir(e,t)>=0}var Ba={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $a(e){return e.substring(Ba.key,Ba.keyEnd)}function Ha(e,t){var n=Ba.textEnd;return n===t?-1:(t=Ba.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Ba.key=t,n),qa(e,t,n))}function qa(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Wa(e,t,n){return Za(e,t,n,!1),Wa}function Ga(e,t){return Za(e,t,null,!0),Ga}function Xa(e,t){for(var n=function(e){return function(e){Ba.key=0,Ba.keyEnd=0,Ba.value=0,Ba.valueEnd=0,Ba.textEnd=e.length}(e),Ha(e,qa(e,0,Ba.textEnd))}(t);n>=0;n=Ha(t,n))_r(e,$a(t),!0)}function Za(e,t,n,r){var i=Yt(),o=Jt(),a=hn(2);o.firstUpdatePass&&Ka(o,e,a,r),t!==Bi&&va(i,a,t)&&es(o,o.data[In()],i,i[11],e,i[a+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ke(Ur(e)))),e}(t,n),r,a)}function Qa(e,t){return t>=e.expandoStartIndex}function Ka(e,t,n,r){var i=e.data;if(null===i[n+1]){var o=i[In()],a=Qa(e,n);rs(o,r)&&null===t&&!a&&(t=!1),t=function(e,t,n,r){var i=function(e){var t=Qt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ja(n=Ya(null,e,t,n,r),t.attrs,r),o=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==i)if(n=Ya(i,e,t,n,r),null===o){var s=function(e,t,n){var r=n?t.classBindings:t.styleBindings;if(0!==Xi(r))return e[Wi(r)]}(e,t,r);void 0!==s&&Array.isArray(s)&&function(e,t,n,r){e[Wi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,s=Ja(s=Ya(null,e,t,s[1],r),t.attrs,r))}else o=function(e,t,n){for(var r=void 0,i=t.directiveEnd,o=1+t.directiveStylingLast;o<i;o++)r=Ja(r,e[o].hostAttrs,n);return Ja(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){var a=o?t.classBindings:t.styleBindings,s=Wi(a),u=Xi(a);e[r]=n;var c,l=!1;if(Array.isArray(n)?(null===(c=n[1])||Ir(n,c)>0)&&(l=!0):c=n,i)if(0!==u){var d=Wi(e[s+1]);e[r+1]=qi(d,s),0!==d&&(e[d+1]=Zi(e[d+1],r)),e[s+1]=131071&e[s+1]|r<<17}else e[r+1]=qi(s,0),0!==s&&(e[s+1]=Zi(e[s+1],r)),s=r;else e[r+1]=qi(u,0),0===s?s=r:e[u+1]=Zi(e[u+1],r),u=r;l&&(e[r+1]=Gi(e[r+1])),Fa(e,c,r,!0),Fa(e,c,r,!1),function(e,t,n,r,i){var o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Ir(o,t)>=0&&(n[r+1]=Qi(n[r+1]))}(t,c,e,r,o),a=qi(s,u),o?t.classBindings=a:t.styleBindings=a}(i,o,t,n,a,r)}}function Ya(e,t,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Ja(r,(o=t[s]).hostAttrs,i),o!==e);)s++;return null!==e&&(n.directiveStylingLast=s),r}function Ja(e,t,n){var r=n?1:2,i=-1;if(null!==t)for(var o=0;o<t.length;o++){var a=t[o];"number"==typeof a?i=a:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),_r(e,a,!!n||t[++o]))}return void 0===e?null:e}function es(e,t,n,r,i,o,a,s){if(3&t.type){var u=e.data,c=u[s+1];ns(1==(1&c)?ts(u,t,n,i,Xi(c),a):void 0)||(ns(o)||2==(2&c)&&(o=ts(u,null,n,i,s,a)),function(e,t,n,r,i){var o=zt(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:ei.DashCase;if(null==i)o?e.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=ei.Important),o?e.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,Ft(In(),n),i,o))}}function ts(e,t,n,r,i,o){for(var a=null===t,s=void 0;i>0;){var u=e[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l,h=n[i+1];h===Bi&&(h=d?tt:void 0);var f=d?Sr(h,r):l===r?h:void 0;if(c&&!ns(f)&&(f=Sr(u,r)),ns(f)&&(s=f,a))return s;var p=e[i+1];i=a?Wi(p):Xi(p)}if(null!==t){var v=o?t.residualClasses:t.residualStyles;null!=v&&(s=Sr(v,r))}return s}function ns(e){return void 0!==e}function rs(e,t){return 0!=(e.flags&(t?16:32))}function is(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Yt(),r=Jt(),i=e+wt,o=r.firstCreatePass?Ji(r,i,1,t,null):r.data[i],a=n[i]=si(n[11],t);wi(r,n,a,o),rn(o,!1)}function os(e){return as("",e,""),os}function as(e,t,n){var r=Yt(),i=ya(r,e,t,n);return i!==Bi&&jo(r,In(),i),as}function ss(e,t,n,r,i){var o=Yt(),a=function(e,t,n,r,i,o){var a=ma(e,ln(),n,i);return hn(2),a?t+Ee(n)+r+Ee(i)+o:Bi}(o,e,t,n,r,i);return a!==Bi&&jo(o,In(),a),ss}function us(e,t,n){!function(e,t,n,r){var i=Jt(),o=hn(2);i.firstUpdatePass&&Ka(i,null,o,r);var a=Yt();if(n!==Bi&&va(a,o,n)){var s=i.data[In()];if(rs(s,r)&&!Qa(i,o)){var u=s.classesWithoutHost;null!==u&&(n=_e(u,n||"")),_a(i,s,a,n,r)}else!function(e,t,n,r,i,o,a,s){i===Bi&&(i=tt);for(var u=0,c=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;null!==l||null!==d;){var h=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,v=void 0;l===d?(u+=2,c+=2,h!==f&&(p=d,v=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,v=f),null!==p&&es(e,t,n,r,p,v,true,s),l=u<i.length?i[u]:null,d=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(e,t,n){if(null==n||""===n)return tt;var r=[],i=Ur(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&e(r,a,i[a]);else"string"==typeof i&&t(r,i);return r}(e,t,n),0,o)}}(_r,Xa,ya(Yt(),e,t,n),!0)}function cs(e,t,n){var r=Yt();return va(r,dn(),t)&&fo(Jt(),Tn(),r,e,t,r[11],n,!0),cs}var ls=void 0,ds=["en",[["a","p"],["AM","PM"],ls],[["AM","PM"],ls,ls],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ls,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ls,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ls,"{1} 'at' {0}",ls],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],hs={};function fs(e){return e in hs||(hs[e]=Je.ng&&Je.ng.common&&Je.ng.common.locales&&Je.ng.common.locales[e]),hs[e]}var ps=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({}),vs="en-US";function ms(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error("ASSERTION ERROR: ".concat(e)+" [Expected=> ".concat(null," ").concat("!="," ").concat(t," <=Actual]"))}(n,t),"string"==typeof e&&e.toLowerCase().replace(/_/g,"-")}function gs(e,t,n){var r=Jt();if(r.firstCreatePass){var i=Tt(e);ys(n,r.data,r.blueprint,i,!0),ys(t,r.data,r.blueprint,i,!1)}}function ys(e,t,n,r,i){if(e=Ce(e),Array.isArray(e))for(var o=0;o<e.length;o++)ys(e[o],t,n,r,i);else{var a=Jt(),s=Yt(),u=Jo(e)?e:Ce(e.provide),c=Qo(e),l=tn(),d=1048575&l.providerIndexes,h=l.directiveStart,f=l.providerIndexes>>20;if(Jo(e)||!e.multi){var p=new Nn(c,i,xa),v=xs(u,t,i?d:d+f,h);-1===v?(Kn(Gn(l,s),a,u),bs(a,e,t.length),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var m=xs(u,t,d+f,h),g=xs(u,t,d,d+f),y=g>=0&&n[g];if(i&&!y||!i&&!(m>=0&&n[m])){Kn(Gn(l,s),a,u);var b=function(e,t,n,r,i){var o=new Nn(e,n,xa);return o.multi=[],o.index=t,o.componentProviders=0,ws(o,i,r&&!n),o}(i?_s:ks,n.length,i,r,c);!i&&y&&(n[g].providerFactory=b),bs(a,e,t.length,0),t.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(b),s.push(b)}else bs(a,e,m>-1?m:g,ws(n[i?g:m],c,!i&&r));!i&&r&&y&&n[g].componentProviders++}}}function bs(e,t,n,r){var i=Jo(t);if(i||t.useClass){var o=(t.useClass||t).prototype.ngOnDestroy;if(o){var a=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function ws(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function xs(e,t,n,r){for(var i=n;i<r;i++)if(t[i]===e)return i;return-1}function ks(e,t,n,r){return Ss(this.multi,[])}function _s(e,t,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=or(n,n[1],this.providerFactory.index,r);Ss(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Ss(o,i=[]);return i}function Ss(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function Is(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return gs(n,r?r(e):e,t)}}}var Cs=function e(){s(this,e)},Ts=function e(){s(this,e)},As=function(){function e(){s(this,e)}return a(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(ke(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),Es=function(){var e=function e(){s(this,e)};return e.NULL=new As,e}();function Os(){}function Ms(e,t){return new Ds(Ut(e,t))}var Ps=function(){return Ms(tn(),Yt())},Ds=function(){var e=function e(t){s(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=Ps,e}();function Rs(e){return e instanceof Ds?e.nativeElement:e}var Ns=function e(){s(this,e)},Vs=function(){var e=function e(){s(this,e)};return e.__NG_ELEMENT_ID__=function(){return zs()},e}(),zs=function(){var e=Yt(),t=Ht(tn().index,e);return function(e){return e[11]}(kt(t)?t:e)},js=function(){var e=function e(){s(this,e)};return e.\u0275prov=Pe({token:e,providedIn:"root",factory:function(){return null}}),e}(),Ls=new function e(t){s(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("12.0.3"),Fs=function(){function e(){s(this,e)}return a(e,[{key:"supports",value:function(e){return ha(e)}},{key:"create",value:function(e){return new Bs(e)}}]),e}(),Us=function(e,t){return t},Bs=function(){function e(t){s(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Us}return a(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var o=!n||t&&t.currentIndex<Ws(n,r,i)?t:n,a=Ws(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var d=l<i.length?i[l]:i[l]=0,h=d+l;c<=h&&h<u&&(i[l]=d+1)}i[o.previousIndex]=c-u}}a!==s&&e(o,a,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!ha(e))throw new Error("Error trying to diff '".concat(ke(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=e[s]),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[la()]();!(r=i.next()).done;)t(r.value)}(e,function(e){i=t._trackByFn(n,e),null!==o&&Object.is(o.trackById,i)?(a&&(o=t._verifyReinsertion(o,e,i,n)),Object.is(o.item,e)||t._addIdentityChange(o,e)):(o=t._mismatch(o,e,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new $s(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new qs),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),$s=function e(t,n){s(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Hs=function(){function e(){s(this,e),this._head=null,this._tail=null}return a(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),qs=function(){function e(){s(this,e),this.map=new Map}return a(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Hs,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function Ws(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Gs=function(){function e(){s(this,e)}return a(e,[{key:"supports",value:function(e){return e instanceof Map||fa(e)}},{key:"create",value:function(){return new Xs}}]),e}(),Xs=function(){function e(){s(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return a(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||fa(e)))throw new Error("Error trying to diff '".concat(ke(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Zs(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})}}]),e}(),Zs=function e(t){s(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Qs(){return new Ks([new Fs])}var Ks=function(){var e=function(){function e(t){s(this,e),this.factories=t}return a(e,[{key:"find",value:function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Qs())},deps:[[e,new Lr,new jr]]}}}]),e}();return e.\u0275prov=Pe({token:e,providedIn:"root",factory:Qs}),e}();function Ys(){return new Js([new Gs])}var Js=function(){var e=function(){function e(t){s(this,e),this.factories=t}return a(e,[{key:"find",value:function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){return e.create(t,n||Ys())},deps:[[e,new Lr,new jr]]}}}]),e}();return e.\u0275prov=Pe({token:e,providedIn:"root",factory:Ys}),e}();function eu(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=t[n.index];if(null!==o&&r.push(Lt(o)),_t(o))for(var a=xt;a<o.length;a++){var s=o[a],u=s[1].firstChild;null!==u&&eu(s[1],s,u,r)}var c=n.type;if(8&c)eu(e,t,n.child,r);else if(32&c)for(var l=ti(n,t),d=void 0;d=l();)r.push(d);else if(16&c){var h=ki(t,n);if(Array.isArray(h))r.push.apply(r,w(h));else{var f=ni(t[16]);eu(f[1],f,h,r,!0)}}n=i?n.projectionNext:n.next}return r}var tu=function(){function e(t,n){s(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return a(e,[{key:"rootNodes",get:function(){var e=this._lView,t=e[1];return eu(t,e,t.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(e){this._lView[8]=e}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var e=this._lView[3];if(_t(e)){var t=e[8],n=t?t.indexOf(this):-1;n>-1&&(li(e,n),xr(t,n))}this._attachedToViewContainer=!1}di(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){lo(this._lView[1],this._lView,null,e)}},{key:"markForCheck",value:function(){Eo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){Oo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){un(!0);try{Oo(e,t,n)}finally{un(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Ii(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),nu=function(e){c(n,e);var t=p(n);function n(e){var r;return s(this,n),(r=t.call(this,e))._view=e,r}return a(n,[{key:"detectChanges",value:function(){Mo(this._view)}},{key:"checkNoChanges",value:function(){!function(e){un(!0);try{Mo(e)}finally{un(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(tu),ru=function(e){return function(e,t,n){if(It(e)&&!n){var r=Ht(e.index,t);return new tu(r,r)}return 47&e.type?new tu(t[16],t):null}(tn(),Yt(),16==(16&e))},iu=function(){var e=function e(){s(this,e)};return e.__NG_ELEMENT_ID__=ru,e}(),ou=[new Gs],au=new Ks([new Fs]),su=new Js(ou),uu=function(){return du(tn(),Yt())},cu=function(){var e=function e(){s(this,e)};return e.__NG_ELEMENT_ID__=uu,e}(),lu=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this))._declarationLView=e,o._declarationTContainer=r,o.elementRef=i,o}return a(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Yi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),to(t,n,e),new tu(n)}}]),n}(cu);function du(e,t){return 4&e.type?new lu(t,e,Ms(e,t)):null}var hu=function e(){s(this,e)},fu=function e(){s(this,e)},pu=function(){return bu(tn(),Yt())},vu=function(){var e=function e(){s(this,e)};return e.__NG_ELEMENT_ID__=pu,e}(),mu=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this))._lContainer=e,o._hostTNode=r,o._hostLView=i,o}return a(n,[{key:"element",get:function(){return Ms(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new cr(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var e=Qn(this._hostTNode,this._hostLView);if(Un(e)){var t=$n(e,this._hostLView),n=Bn(e);return new cr(t[1].data[n+8],t)}return new cr(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){var t=gu(this._lContainer);return null!==t&&t[e]||null}},{key:"length",get:function(){return this._lContainer.length-xt}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){var a=o.get(hu,null);a&&(i=a)}var s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}},{key:"insert",value:function(e,t){var n=e._lView,r=n[1];if(_t(n[3])){var i=this.indexOf(e);if(-1!==i)this.detach(i);else{var o=n[3],a=new mu(o,o[6],o[3]);a.detach(a.indexOf(e))}}var s=this._adjustIndex(t),u=this._lContainer;!function(e,t,n,r){var i=xt+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-xt?(t[4]=n[i],wr(n,xt+r,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var s=t[19];null!==s&&s.insertView(e),t[2]|=128}(r,n,u,s);var c=_i(s,u),l=n[11],d=gi(l,u[7]);return null!==d&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,Ii(e,r,n,1,i,o)}(r,u[6],l,n,d,c),e.attachToViewContainerRef(),wr(yu(u),s,e),e}},{key:"move",value:function(e,t){return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=gu(this._lContainer);return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){var t=this._adjustIndex(e,-1),n=li(this._lContainer,t);n&&(xr(yu(this._lContainer),t),di(n[1],n))}},{key:"detach",value:function(e){var t=this._adjustIndex(e,-1),n=li(this._lContainer,t);return n&&null!=xr(yu(this._lContainer),t)?new tu(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}}]),n}(vu);function gu(e){return e[8]}function yu(e){return e[8]||(e[8]=[])}function bu(e,t){var n,r=t[e.index];if(_t(r))n=r;else{var i;if(8&e.type)i=Lt(r);else{var o=t[11];i=o.createComment("");var a=Ut(e,t);pi(o,gi(o,a),i,function(e,t){return zt(e)?e.nextSibling(t):t.nextSibling}(o,a),!1)}t[e.index]=n=So(r,t,i,e),Ao(t,n)}return new mu(n,e,t)}var wu={},xu=function(e){c(n,e);var t=p(n);function n(e){var r;return s(this,n),(r=t.call(this)).ngModule=e,r}return a(n,[{key:"resolveComponentFactory",value:function(e){var t=yt(e);return new Su(t,this.ngModule)}}]),n}(Es);function ku(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var _u=new vr("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Yr}}),Su=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this)).componentDef=e,i.ngModule=r,i.componentType=e.type,i.selector=e.selectors.map(Ui).join(","),i.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],i.isBoundToModule=!!r,i}return a(n,[{key:"inputs",get:function(){return ku(this.componentDef.inputs)}},{key:"outputs",get:function(){return ku(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,r){var i,o,a=(r=r||this.ngModule)?function(e,t){return{get:function(n,r,i){var o=e.get(n,wu,i);return o!==wu||r===wu?o:t.get(n,r,i)}}}(e,r.injector):e,s=a.get(Ns,jt),u=a.get(js,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=n?function(e,t,n){if(zt(e))return e.selectRootElement(t,n===Xe.ShadowDom);var r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(c,n,this.componentDef.encapsulation):ui(s.createRenderer(null,this.componentDef),l,function(e){var t=e.toLowerCase();return"svg"===t?Nt:"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,f={components:[],scheduler:Yr,clean:Do,playerHandler:null,flags:0},p=co(0,null,null,1,0,null,null,null,null,null),v=Yi(null,p,f,h,null,null,s,c,u,a);yn(v);try{var m=function(e,t,n,r,i,o){var a=n[1];n[20]=e;var s=Ji(a,20,2,"#host",null),u=s.mergedAttrs=t.hostAttrs;null!==u&&(Lo(s,u,!0),null!==e&&(Vn(i,e,u),null!==s.classes&&Ei(i,e,s.classes),null!==s.styles&&Ai(i,e,s.styles)));var c=r.createRenderer(e,t),l=Yi(n,uo(t),null,t.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(Kn(Gn(s,n),a,t.type),go(a,s),bo(s,n.length,1)),Ao(n,l),n[20]=l}(d,this.componentDef,v,s,c);if(d)if(n)Vn(c,d,["ng-version",Ls.full]);else{var g=function(e){for(var t=[],n=[],r=1,i=2;r<e.length;){var o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Vi(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),y=g.attrs,b=g.classes;y&&Vn(c,d,y),b&&b.length>0&&Ei(c,d,b.join(" "))}if(o=Bt(p,wt),void 0!==t)for(var w=o.projection=[],x=0;x<this.ngContentSelectors.length;x++){var k=t[x];w.push(null!=k?Array.from(k):null)}i=function(e,t,n,r,i){var o=n[1],a=function(e,t,n){var r=tn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),wo(e,r,t,eo(e,t,1,null),n));var i=or(t,e,r.directiveStart,r);Wr(i,t);var o=Ut(r,t);return o&&Wr(o,t),i}(o,n,t);if(r.components.push(a),e[8]=a,i&&i.forEach(function(e){return e(a,t)}),t.contentQueries){var s=tn();t.contentQueries(1,a,s.directiveStart)}var u=tn();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Cn(u.index),vo(n[1],u,0,u.directiveStart,u.directiveEnd,t),mo(t,a)),a}(m,this.componentDef,v,f,[ra]),to(p,v,null)}finally{_n()}return new Iu(this.componentType,i,Ms(o,v),v,o)}}]),n}(Ts),Iu=function(e){c(n,e);var t=p(n);function n(e,r,i,o,a){var u;return s(this,n),(u=t.call(this)).location=i,u._rootLView=o,u._tNode=a,u.instance=r,u.hostView=u.changeDetectorRef=new nu(o),u.componentType=e,u}return a(n,[{key:"injector",get:function(){return new cr(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(e){this.hostView.onDestroy(e)}}]),n}(Cs),Cu=new Map,Tu=function(e){c(n,e);var t=p(n);function n(e,r){var i;s(this,n),(i=t.call(this))._parent=r,i._bootstrapComponents=[],i.injector=h(i),i.destroyCbs=[],i.componentFactoryResolver=new xu(h(i));var o=bt(e),a=e[at]||null;return a&&ms(a),i._bootstrapComponents=Jr(o.bootstrap),i._r3Injector=Go(e,r,[{provide:hu,useValue:h(i)},{provide:Es,useValue:i.componentFactoryResolver}],ke(e)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(e),i}return a(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:na.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Be.Default;return e===na||e===hu||e===Fo?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(function(e){return e()}),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(hu),Au=function(e){c(n,e);var t=p(n);function n(e){var r,i,o;return s(this,n),(r=t.call(this)).moduleType=e,null!==bt(e)&&(i=e,o=new Set,function e(t){var n=bt(t,!0),r=n.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(ke(t)," vs ").concat(ke(t.name)))}(r,Cu.get(r),t),Cu.set(r,t));var i,a=g(Jr(n.imports));try{for(a.s();!(i=a.n()).done;){var s=i.value;o.has(s)||(o.add(s),e(s))}}catch(u){a.e(u)}finally{a.f()}}(i)),r}return a(n,[{key:"create",value:function(e){return new Tu(this.moduleType,e)}}]),n}(fu);function Eu(e,t,n,r){return Mu(Yt(),cn(),e,t,n,r)}function Ou(e,t){var n=e[t];return n===Bi?void 0:n}function Mu(e,t,n,r,i,o){var a=t+n;return va(e,a,i)?pa(e,a+1,o?r.call(o,i):r(i)):Ou(e,a+1)}function Pu(e,t){var n,r=Jt(),i=e+wt;r.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var r=t[n];if(e===r.name)return r}throw new Ae("302","The pipe '".concat(e,"' could not be found!"))}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=At(n.type)),a=He(xa);try{var s=qn(!1),u=o();return qn(s),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(r,Yt(),i,u),u}finally{He(a)}}function Du(e,t,n){var r=e+wt,i=Yt(),o=$t(i,r);return function(e,t){return da.isWrapped(t)&&(t=da.unwrap(t),e[ln()]=Bi),t}(i,function(e,t){return e[1].data[t].pure}(i,r)?Mu(i,cn(),t,o.transform,n,o):o.transform(n))}function Ru(e){return function(t){setTimeout(e,void 0,t)}}var Nu=function(e){c(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s(this,n),(e=t.call(this)).__isAsync=r,e}return a(n,[{key:"emit",value:function(e){i(r(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,o){var a,s,u,c=e,l=t||function(){return null},d=o;if(e&&"object"==typeof e){var h=e;c=null===(a=h.next)||void 0===a?void 0:a.bind(h),l=null===(s=h.error)||void 0===s?void 0:s.bind(h),d=null===(u=h.complete)||void 0===u?void 0:u.bind(h)}this.__isAsync&&(l=Ru(l),c&&(c=Ru(c)),d&&(d=Ru(d)));var f=i(r(n.prototype),"subscribe",this).call(this,{next:c,error:l,complete:d});return e instanceof T&&e.add(f),f}}]),n}(H);function Vu(){return this._results[la()]()}var zu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];s(this,e),this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=la(),r=e.prototype;r[n]||(r[n]=Vu)}return a(e,[{key:"changes",get:function(){return this._changes||(this._changes=new Nu)}},{key:"get",value:function(e){return this._results[e]}},{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e,t){var n=this;n.dirty=!1;var r=yr(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),ju=function(){function e(t){s(this,e),this.queryList=t,this.matches=null}return a(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Lu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];s(this,e),this.queries=t}return a(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new e(i)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Yu(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Fu=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;s(this,e),this.predicate=t,this.flags=n,this.read=r},Uu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];s(this,e),this.queries=t}return a(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),Bu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;s(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return a(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(e,t,$u(t,i)),this.matchTNodeWithReadOption(e,t,ir(t,e,i,!1,!1))}else n===cu?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ir(t,e,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Ds||r===vu||r===cu&&4&t.type)this.addMatch(t.index,-2);else{var i=ir(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function $u(e,t){var n=e.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Hu(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Ms(e,t):4&e.type?du(e,t):null}(t,e):-2===n?function(e,t,n){return n===Ds?Ms(t,e):n===cu?du(t,e):n===vu?bu(t,e):void 0}(e,t,r):or(e,e[1],n,t)}function qu(e,t,n,r){var i=t[19].queries[r];if(null===i.matches){for(var o=e.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Hu(t,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Wu(e,t,n,r){var i=e.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=qu(e,t,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=t[-u],d=xt;d<l.length;d++){var h=l[d];h[17]===h[3]&&Wu(h[1],h,c,r)}if(null!==l[9])for(var f=l[9],p=0;p<f.length;p++){var v=f[p];Wu(v[1],v,c,r)}}}return r}function Gu(e){var t=Yt(),n=Jt(),r=pn();vn(r+1);var i=Yu(n,r);if(e.dirty&&qt(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{var o=i.crossesNgTemplate?Wu(n,t,r,[]):qu(n,t,i,r);e.reset(o,Rs),e.notifyOnChanges()}return!0}return!1}function Xu(e,t,n,r){var i=Jt();if(i.firstCreatePass){var o=tn();Ku(i,new Fu(t,n,r),o.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Qu(i,Yt(),n)}function Zu(){return e=Yt(),t=pn(),e[19].queries[t].queryList;var e,t}function Qu(e,t,n){var r=new zu(4==(4&n));lo(e,t,r,r.destroy),null===t[19]&&(t[19]=new Lu),t[19].queries.push(new ju(r))}function Ku(e,t,n){null===e.queries&&(e.queries=new Uu),e.queries.track(new Bu(t,n))}function Yu(e,t){return e.queries.getByIndex(t)}function Ju(e,t){return du(e,t)}var ec=new vr("Application Initializer"),tc=function(){var e=function(){function e(t){var n=this;s(this,e),this.appInits=t,this.resolve=Os,this.reject=Os,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,t){n.resolve=e,n.reject=t})}return a(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=function(n){var r=e.appInits[n]();if(Aa(r))t.push(r);else if(Oa(r)){var i=new Promise(function(e,t){r.subscribe({complete:e,error:t})});t.push(i)}},i=0;i<this.appInits.length;i++)r(i);Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(ec,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),nc=new vr("AppId"),rc={provide:nc,useFactory:function(){return"".concat(ic()).concat(ic()).concat(ic())},deps:[]};function ic(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var oc=new vr("Platform Initializer"),ac=new vr("Platform ID"),sc=new vr("appBootstrapListener"),uc=function(){var e=function(){function e(){s(this,e)}return a(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),cc=new vr("LocaleId"),lc=new vr("DefaultCurrencyCode"),dc=function e(t,n){s(this,e),this.ngModuleFactory=t,this.componentFactories=n},hc=function(e){return new Au(e)},fc=hc,pc=function(e){return Promise.resolve(hc(e))},vc=function(e){var t=hc(e),n=Jr(bt(e).declarations).reduce(function(e,t){var n=yt(t);return n&&e.push(new Su(n)),e},[]);return new dc(t,n)},mc=vc,gc=function(e){return Promise.resolve(vc(e))},yc=function(){var e=function(){function e(){s(this,e),this.compileModuleSync=fc,this.compileModuleAsync=pc,this.compileModuleAndAllComponentsSync=mc,this.compileModuleAndAllComponentsAsync=gc}return a(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),bc=function(){return Promise.resolve(0)}();function wc(e){"undefined"==typeof Zone?bc.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var xc=function(){function e(t){var n=t.enableLongStackTrace,r=void 0!==n&&n,i=t.shouldCoalesceEventChangeDetection,o=void 0!==i&&i,a=t.shouldCoalesceRunChangeDetection,u=void 0!==a&&a;if(s(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nu(!1),this.onMicrotaskEmpty=new Nu(!1),this.onStable=new Nu(!1),this.onError=new Nu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var c,l,d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&o,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){var e=Je.requestAnimationFrame,t=Je.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,l=function(){!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Je,function(){e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){e.lastRequestAnimationFrameId=-1,Sc(e),e.isCheckStableRunning=!0,_c(e),e.isCheckStableRunning=!1},void 0,function(){},function(){})),e.fakeTopEventTask.invoke()}),Sc(e))}(c)},(c=d)._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,n,r,i,o){try{return Ic(c),e.invokeTask(n,r,i,o)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||c.shouldCoalesceRunChangeDetection)&&l(),Cc(c)}},onInvoke:function(e,t,n,r,i,o,a){try{return Ic(c),e.invoke(n,r,i,o,a)}finally{c.shouldCoalesceRunChangeDetection&&l(),Cc(c)}},onHasTask:function(e,t,n,r){e.hasTask(n,r),t===n&&("microTask"==r.change?(c._hasPendingMicrotasks=r.microTask,Sc(c),_c(c)):"macroTask"==r.change&&(c.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,n,r){return e.handleError(n,r),c.runOutsideAngular(function(){return c.onError.emit(r)}),!1}})}return a(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,kc,Os,Os);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}(),kc={};function _c(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function Sc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Ic(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Cc(e){e._nesting--,_c(e)}var Tc,Ac=function(){function e(){s(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nu,this.onMicrotaskEmpty=new Nu,this.onStable=new Nu,this.onError=new Nu}return a(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,r){return e.apply(t,n)}}]),e}(),Ec=function(){var e=function(){function e(t){var n=this;s(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return a(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){xc.assertNotInAngularZone(),wc(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())wc(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}}):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(e){return e.timeoutId!==i}),e(r._didWork,r.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(xc))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),Oc=function(){var e=function(){function e(){s(this,e),this._applications=new Map,Mc.addToWindow(this)}return a(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Mc.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),Mc=new(function(){function e(){s(this,e)}return a(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Pc=!0,Dc=!1,Rc=function(e,t,n){var r=new Au(n);return Promise.resolve(r)},Nc=new vr("AllowMultipleToken"),Vc=function e(t,n){s(this,e),this.name=t,this.token=n};function zc(e){if(Tc&&!Tc.destroyed&&!Tc.injector.get(Nc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tc=e.get(Uc);var t=e.get(oc,null);return t&&t.forEach(function(e){return e()}),Tc}function jc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(t),i=new vr(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Fc();if(!o||o.injector.get(Nc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var a=n.concat(t).concat({provide:i,useValue:!0},{provide:Bo,useValue:"platform"});zc(na.create({providers:a,name:r}))}return Lc(i)}}function Lc(e){var t=Fc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}function Fc(){return Tc&&!Tc.destroyed?Tc:null}var Uc=function(){var e=function(){function e(t){s(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return a(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r,i=this,o=(r={ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1},"noop"===(n=t?t.ngZone:void 0)?new Ac:("zone.js"===n?void 0:n)||new xc({enableLongStackTrace:(Dc=!0,Pc),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:xc,useValue:o}];return o.run(function(){var t=na.create({providers:a,parent:i.injector,name:e.moduleType.name}),n=e.create(t),r=n.injector.get(Kr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var e=o.onError.subscribe({next:function(e){r.handleError(e)}});n.onDestroy(function(){Hc(i._modules,n),e.unsubscribe()})}),function(e,t,r){try{var o=((a=n.injector.get(tc)).runInitializers(),a.donePromise.then(function(){return ms(n.injector.get(cc,vs)||vs),i._moduleDoBootstrap(n),n}));return Aa(o)?o.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):o}catch(s){throw t.runOutsideAngular(function(){return e.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Bc({},n);return Rc(0,0,e).then(function(e){return t.bootstrapModuleFactory(e,r)})}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get($c);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(ke(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(na))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}();function Bc(e,t){return Array.isArray(t)?t.reduce(Bc,e):Object.assign(Object.assign({},e),t)}var $c=function(){var e=function(){function e(t,n,r,i,o){var a=this;s(this,e),this._zone=t,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var u=new L(function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){e.next(a._stable),e.complete()})}),c=new L(function(e){var t;a._zone.runOutsideAngular(function(){t=a._zone.onStable.subscribe(function(){xc.assertNotInAngularZone(),wc(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){xc.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=he(u,c.pipe(function(e){return fe()((t=be,function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,ge);return r.source=e,r.subjectFactory=n,r})(e));var t}))}return a(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Ts?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(hu),o=n.create(na.NULL,[],t||n.selector,i),a=o.location.nativeElement,s=o.injector.get(Ec,null),u=s&&o.injector.get(Oc);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Hc(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=g(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return e._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Hc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(sc,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(e){return e.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(xc),Dr(na),Dr(Kr),Dr(Es),Dr(tc))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}();function Hc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var qc=function e(){s(this,e)},Wc=function e(){s(this,e)},Gc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Xc=function(){var e=function(){function e(t,n){s(this,e),this._compiler=t,this._config=n||Gc}return a(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=y(e.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n(98255)(i).then(function(e){return e[o]}).then(function(e){return Zc(e,i,o)}).then(function(e){return t._compiler.compileModuleAsync(e)})}},{key:"loadFactory",value:function(e){var t=y(e.split("#"),2),r=t[0],i=t[1],o="NgFactory";return void 0===i&&(i="default",o=""),n(98255)(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(e){return e[i+o]}).then(function(e){return Zc(e,r,i)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(yc),Dr(Wc,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}();function Zc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Qc=jc(null,"core",[{provide:ac,useValue:"unknown"},{provide:Uc,deps:[na]},{provide:Oc,deps:[]},{provide:uc,deps:[]}]),Kc=[{provide:$c,useClass:$c,deps:[xc,na,Kr,Es,tc]},{provide:_u,deps:[xc],useFactory:function(e){var t=[];return e.onStable.subscribe(function(){for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:tc,useClass:tc,deps:[[new jr,ec]]},{provide:yc,useClass:yc,deps:[]},rc,{provide:Ks,useFactory:function(){return au},deps:[]},{provide:Js,useFactory:function(){return su},deps:[]},{provide:cc,useFactory:function(e){return ms(e=e||"undefined"!=typeof $localize&&$localize.locale||vs),e},deps:[[new zr(cc),new jr,new Lr]]},{provide:lc,useValue:"USD"}],Yc=function(){var e=function e(t){s(this,e)};return e.\u0275fac=function(t){return new(t||e)(Dr($c))},e.\u0275mod=pt({type:e}),e.\u0275inj=De({providers:Kc}),e}(),Jc=null;function el(){return Jc}var tl=function e(){s(this,e)},nl=new vr("DocumentToken"),rl=function(){var e=function(){function e(){s(this,e)}return a(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe({factory:il,token:e,providedIn:"platform"}),e}();function il(){return Dr(al)}var ol=new vr("Location Initialized"),al=function(){var e=function(e){c(n,e);var t=p(n);function n(e){var r;return s(this,n),(r=t.call(this))._doc=e,r._init(),r}return a(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return el().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){var t=el().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),function(){return t.removeEventListener("popstate",e)}}},{key:"onHashChange",value:function(e){var t=el().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),function(){return t.removeEventListener("hashchange",e)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){sl()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){sl()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(e)}},{key:"getState",value:function(){return this._history.state}}]),n}(rl);return e.\u0275fac=function(t){return new(t||e)(Dr(nl))},e.\u0275prov=Pe({factory:ul,token:e,providedIn:"platform"}),e}();function sl(){return!!window.history.pushState}function ul(){return new al(Dr(nl))}function cl(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function ll(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function dl(e){return e&&"?"!==e[0]?"?"+e:e}var hl=function(){var e=function(){function e(){s(this,e)}return a(e,[{key:"historyGo",value:function(e){throw new Error("Not implemented")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe({factory:fl,token:e,providedIn:"root"}),e}();function fl(e){var t=Dr(nl).location;return new vl(Dr(rl),t&&t.origin||"")}var pl=new vr("appBaseHref"),vl=function(){var e=function(e){c(n,e);var t=p(n);function n(e,r){var i;if(s(this,n),(i=t.call(this))._platformLocation=e,i._removeListenerFns=[],null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,i}return a(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return cl(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+dl(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+dl(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+dl(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(hl);return e.\u0275fac=function(t){return new(t||e)(Dr(rl),Dr(pl,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),ml=function(){var e=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",i._removeListenerFns=[],null!=r&&(i._baseHref=r),i}return a(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=cl(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+dl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+dl(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformLocation).historyGo)||void 0===t||t.call(e,n)}}]),n}(hl);return e.\u0275fac=function(t){return new(t||e)(Dr(rl),Dr(pl,8))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),gl=function(){var e=function(){function e(t,n){var r=this;s(this,e),this._subject=new Nu,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=ll(bl(i)),this._platformStrategy.onPopState(function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})})}return a(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+dl(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,bl(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+dl(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+dl(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(t=(e=this._platformStrategy).historyGo)||void 0===t||t.call(e,n)}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(e,t)})}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(hl),Dr(rl))},e.normalizeQueryParams=dl,e.joinWithSlash=cl,e.stripTrailingSlash=ll,e.\u0275prov=Pe({factory:yl,token:e,providedIn:"root"}),e}();function yl(){return new gl(Dr(hl),Dr(rl))}function bl(e){return e.replace(/\/index.html$/,"")}var wl=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),xl=function e(){s(this,e)},kl=function(){var e=function(e){c(n,e);var t=p(n);function n(e){var r;return s(this,n),(r=t.call(this)).locale=e,r}return a(n,[{key:"getPluralCategory",value:function(e,t){switch(function(e){return function(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=fs(t);if(n)return n;var r=t.split("-")[0];if(n=fs(r))return n;if("en"===r)return ds;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}(e)[ps.PluralCase]}(t||this.locale)(e)){case wl.Zero:return"zero";case wl.One:return"one";case wl.Two:return"two";case wl.Few:return"few";case wl.Many:return"many";default:return"other"}}}]),n}(xl);return e.\u0275fac=function(t){return new(t||e)(Dr(cc))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}();function _l(e,t){t=encodeURIComponent(t);var n,r=g(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=y(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[1];if(a[0].trim()===t)return decodeURIComponent(s)}}catch(u){r.e(u)}finally{r.f()}return null}var Sl=function(){var e=function(){function e(t,n,r,i){s(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return a(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(ha(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachChangedItem(function(e){return t._toggleClass(e.key,e.currentValue)}),e.forEachRemovedItem(function(e){e.previousValue&&t._toggleClass(e.key,!1)})}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem(function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(ke(e.item)));t._toggleClass(e.item,!0)}),e.forEachRemovedItem(function(e){return t._toggleClass(e.item,!1)})}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!0)}):Object.keys(e).forEach(function(n){return t._toggleClass(n,!!e[n])}))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach(function(e){return t._toggleClass(e,!1)}):Object.keys(e).forEach(function(e){return t._toggleClass(e,!1)}))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach(function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(Ks),xa(Js),xa(Ds),xa(Vs))},e.\u0275dir=mt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e}(),Il=function(){function e(t,n,r,i){s(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return a(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),Cl=function(){var e=function(){function e(t,n,r){s(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return a(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation(function(e,r,i){if(null==e.previousIndex){var o=t._viewContainer.createEmbeddedView(t._template,new Il(null,t._ngForOf,-1,-1),null===i?void 0:i),a=new Tl(e,o);n.push(a)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var u=new Tl(e,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange(function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item})}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(vu),xa(cu),xa(Ks))},e.\u0275dir=mt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e}(),Tl=function e(t,n){s(this,e),this.record=t,this.view=n},Al=function(){var e=function(){function e(t,n){s(this,e),this._viewContainer=t,this._context=new El,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return a(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){Ol("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){Ol("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(vu),xa(cu))},e.\u0275dir=mt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e}(),El=function e(){s(this,e),this.$implicit=null,this.ngIf=null};function Ol(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(ke(t),"'."))}var Ml=function(){var e=function(){function e(t){s(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return a(e,[{key:"ngOnChanges",value:function(e){if(e.ngTemplateOutlet){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(vu))},e.\u0275dir=mt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Ot]}),e}(),Pl=function(){function e(){s(this,e)}return a(e,[{key:"createSubscription",value:function(e,t){return e.subscribe({next:t,error:function(e){throw e}})}},{key:"dispose",value:function(e){e.unsubscribe()}},{key:"onDestroy",value:function(e){e.unsubscribe()}}]),e}(),Dl=new(function(){function e(){s(this,e)}return a(e,[{key:"createSubscription",value:function(e,t){return e.then(t,function(e){throw e})}},{key:"dispose",value:function(e){}},{key:"onDestroy",value:function(e){}}]),e}()),Rl=new Pl,Nl=function(){var e=function(){function e(t){s(this,e),this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return a(e,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}},{key:"_subscribe",value:function(e){var t=this;this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,function(n){return t._updateLatestValue(e,n)})}},{key:"_selectStrategy",value:function(t){if(Aa(t))return Dl;if(Ea(t))return Rl;throw n=e,Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(ke(n),"'"));var n}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(iu,16))},e.\u0275pipe=gt({name:"async",type:e,pure:!1}),e}(),Vl=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=De({providers:[{provide:xl,useClass:kl}]}),e}(),zl=function(){var e=function e(){s(this,e)};return e.\u0275prov=Pe({token:e,providedIn:"root",factory:function(){return new jl(Dr(nl),window)}}),e}(),jl=function(){function e(t,n){s(this,e),this.document=t,this.window=n,this.offset=function(){return[0,0]}}return a(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportsScrolling()){var t=function(e,t){var n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow))for(var r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;i;){var o=i.shadowRoot;if(o){var a=o.getElementById(t)||o.querySelector('[name="'.concat(t,'"]'));if(a)return a}i=r.nextNode()}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(e){return e.focus(),this.document.activeElement===e}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var e=Ll(this.window.history)||Ll(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}]),e}();function Ll(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}var Fl,Ul=function e(){s(this,e)},Bl=function(e){c(n,e);var t=p(n);function n(){return s(this,n),t.apply(this,arguments)}return a(n,[{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){e.parentNode&&e.parentNode.removeChild(e)}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getBaseHref",value:function(e){var t=($l=$l||document.querySelector("base"))?$l.getAttribute("href"):null;return null==t?null:function(e){(Fl=Fl||document.createElement("a")).setAttribute("href",e);var t=Fl.pathname;return"/"===t.charAt(0)?t:"/".concat(t)}(t)}},{key:"resetBaseElement",value:function(){$l=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(e){return _l(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,Jc||(Jc=e)}}]),n}(function(e){c(n,e);var t=p(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).supportsDOMEvents=!0,e}return n}(tl)),$l=null,Hl=new vr("TRANSITION_ID"),ql=[{provide:ec,useFactory:function(e,t,n){return function(){n.get(tc).donePromise.then(function(){var n=el();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(function(t){return t.getAttribute("ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[Hl,nl,na],multi:!0}],Wl=function(){function e(){s(this,e)}return a(e,[{key:"addToWindow",value:function(e){Je.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},Je.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Je.getAllAngularRootElements=function(){return e.getAllRootElements()},Je.frameworkStabilizers||(Je.frameworkStabilizers=[]),Je.frameworkStabilizers.push(function(e){var t=Je.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach(function(e){e.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?el().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){var t;t=new e,Mc=t}}]),e}(),Gl=function(){var e=function(){function e(){s(this,e)}return a(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),Xl=new vr("EventManagerPlugins"),Zl=function(){var e=function(){function e(t,n){var r=this;s(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach(function(e){return e.manager=r}),this._plugins=t.slice().reverse()}return a(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event ".concat(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(Xl),Dr(xc))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),Ql=function(){function e(t){s(this,e),this._doc=t}return a(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=el().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Kl=function(){var e=function(){function e(){s(this,e),this._stylesSet=new Set}return a(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),Yl=function(){var e=function(e){c(n,e);var t=p(n);function n(e){var r;return s(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Map,r._hostNodes.set(e.head,[]),r}return a(n,[{key:"_addStylesToHost",value:function(e,t,n){var r=this;e.forEach(function(e){var i=r._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}},{key:"addHost",value:function(e){var t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}},{key:"removeHost",value:function(e){var t=this._hostNodes.get(e);t&&t.forEach(Jl),this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach(function(n,r){t._addStylesToHost(e,r,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(e){return e.forEach(Jl)})}}]),n}(Kl);return e.\u0275fac=function(t){return new(t||e)(Dr(nl))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}();function Jl(e){el().remove(e)}var ed={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},td=/%COMP%/g,nd="%COMP%",rd="_nghost-".concat(nd),id="_ngcontent-".concat(nd);function od(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?od(e,i,n):(i=i.replace(td,e),n.push(i))}return n}function ad(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var sd=function(){var e=function(){function e(t,n,r){s(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ud(t)}return a(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Xe.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new cd(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case 1:case Xe.ShadowDom:return new ld(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=od(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(Zl),Dr(Yl),Dr(nc))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),ud=function(){function e(t){s(this,e),this.eventManager=t,this.data=Object.create(null)}return a(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(ed[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=ed[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=ed[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&(ei.DashCase|ei.Important)?e.style.setProperty(t,n,r&ei.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&ei.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ad(n)):this.eventManager.addEventListener(e,t,ad(n))}}]),e}(),cd=function(e){c(n,e);var t=p(n);function n(e,r,i,o){var a;s(this,n),(a=t.call(this,e)).component=i;var u=od(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr=id.replace(td,o+"-"+i.id),a.hostAttr=rd.replace(td,o+"-"+i.id),a}return a(n,[{key:"applyToHost",value:function(e){i(r(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var o=i(r(n.prototype),"createElement",this).call(this,e,t);return i(r(n.prototype),"setAttribute",this).call(this,o,this.contentAttr,""),o}}]),n}(ud),ld=function(e){c(n,e);var t=p(n);function n(e,r,i,o){var a;s(this,n),(a=t.call(this,e)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var u=od(o.id,o.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],a.shadowRoot.appendChild(l)}return a}return a(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return i(r(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,o){return i(r(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,o)}},{key:"removeChild",value:function(e,t){return i(r(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(i(r(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(ud),dd=function(){var e=function(e){c(n,e);var t=p(n);function n(e){return s(this,n),t.call(this,e)}return a(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this;return e.addEventListener(t,n,!1),function(){return r.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Ql);return e.\u0275fac=function(t){return new(t||e)(Dr(nl))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),hd=["alt","control","meta","shift"],fd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vd={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},md=function(){var e=function(e){c(n,e);var t=p(n);function n(e){return s(this,n),t.call(this,e)}return a(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return el().onAndCancel(e,i.domEventName,o)})}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),o="";if(hd.forEach(function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),o+=e+".")}),o+=i,0!=t.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&pd.hasOwnProperty(t)&&(t=pd[t]))}return fd[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),hd.forEach(function(r){r!=n&&(0,vd[r])(e)&&(t+=r+".")}),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded(function(){return t(i)})}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Ql);return e.\u0275fac=function(t){return new(t||e)(Dr(nl))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),gd=jc(Qc,"browser",[{provide:ac,useValue:"browser"},{provide:oc,useValue:function(){Bl.makeCurrent(),Wl.init()},multi:!0},{provide:nl,useFactory:function(){return function(e){Vt=e}(document),document},deps:[]}]),yd=[[],{provide:Bo,useValue:"root"},{provide:Kr,useFactory:function(){return new Kr},deps:[]},{provide:Xl,useClass:dd,multi:!0,deps:[nl,xc,ac]},{provide:Xl,useClass:md,multi:!0,deps:[nl]},[],{provide:sd,useClass:sd,deps:[Zl,Yl,nc]},{provide:Ns,useExisting:sd},{provide:Kl,useExisting:Yl},{provide:Yl,useClass:Yl,deps:[nl]},{provide:Ec,useClass:Ec,deps:[xc]},{provide:Zl,useClass:Zl,deps:[Xl,xc]},{provide:Ul,useClass:Gl,deps:[]},[]],bd=function(){var e=function(){function e(t){if(s(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return a(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:nc,useValue:t.appId},{provide:Hl,useExisting:nc},ql]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(e,12))},e.\u0275mod=pt({type:e}),e.\u0275inj=De({providers:yd,imports:[Vl,Yc]}),e}();function wd(e,t){return new L(function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=re(e[s]),c=!1;n.add(u.subscribe({next:function(e){c||(c=!0,a++),i[s]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&c||(a===r&&n.next(t?t.reduce(function(e,t,n){return e[t]=i[n],e},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}"undefined"!=typeof window&&window;var xd=function(){var e=function(){function e(t,n){s(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return a(e,[{key:"setProperty",value:function(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"setDisabledState",value:function(e){this.setProperty("disabled",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(Vs),xa(Ds))},e.\u0275dir=mt({type:e}),e}(),kd=function(){var e=function(e){c(n,e);var t=p(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(xd);return e.\u0275fac=function(){var t;return function(n){return(t||(t=lr(e)))(n||e)}}(),e.\u0275dir=mt({type:e,features:[ia]}),e}(),_d=new vr("NgValueAccessor"),Sd={provide:_d,useExisting:Ie(function(){return Id}),multi:!0},Id=function(){var e=function(e){c(n,e);var t=p(n);function n(){return s(this,n),t.apply(this,arguments)}return a(n,[{key:"writeValue",value:function(e){this.setProperty("checked",e)}}]),n}(kd);return e.\u0275fac=function(){var t;return function(n){return(t||(t=lr(e)))(n||e)}}(),e.\u0275dir=mt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Ma("change",function(e){return t.onChange(e.target.checked)})("blur",function(){return t.onTouched()})},features:[Is([Sd]),ia]}),e}(),Cd={provide:_d,useExisting:Ie(function(){return Ad}),multi:!0},Td=new vr("CompositionEventMode"),Ad=function(){var e=function(e){c(n,e);var t=p(n);function n(e,r,i){var o,a;return s(this,n),(o=t.call(this,e,r))._compositionMode=i,o._composing=!1,null==o._compositionMode&&(o._compositionMode=(a=el()?el().getUserAgent():"",!/android (\d+)/.test(a.toLowerCase()))),o}return a(n,[{key:"writeValue",value:function(e){this.setProperty("value",null==e?"":e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),n}(xd);return e.\u0275fac=function(t){return new(t||e)(xa(Vs),xa(Ds),xa(Td,8))},e.\u0275dir=mt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Ma("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[Is([Cd]),ia]}),e}(),Ed=new vr("NgValidators"),Od=new vr("NgAsyncValidators");function Md(e){return null!=e}function Pd(e){var t=Aa(e)?re(e):e;return Oa(t),t}function Dd(e){var t={};return e.forEach(function(e){t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Rd(e,t){return t.map(function(t){return t(e)})}function Nd(e){return e.map(function(e){return function(e){return!e.validate}(e)?e:function(t){return e.validate(t)}})}function Vd(e){return null!=e?function(e){if(!e)return null;var t=e.filter(Md);return 0==t.length?null:function(e){return Dd(Rd(e,t))}}(Nd(e)):null}function zd(e){return null!=e?function(e){if(!e)return null;var t=e.filter(Md);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var r=t[0];if(_(r))return wd(r,null);if(S(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return wd(i.map(function(e){return r[e]}),i)}}if("function"==typeof t[t.length-1]){var o=t.pop();return wd(t=1===t.length&&_(t[0])?t[0]:t,null).pipe(G(function(e){return o.apply(void 0,w(e))}))}return wd(t,null)}(Rd(e,t).map(Pd)).pipe(G(Dd))}}(Nd(e)):null}function jd(e,t){return null===e?[t]:Array.isArray(e)?[].concat(w(e),[t]):[e,t]}var Ld=function(){var e=function(){function e(){s(this,e),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return a(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(e){this._rawValidators=e||[],this._composedValidatorFn=Vd(this._rawValidators)}},{key:"_setAsyncValidators",value:function(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zd(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(e){this._onDestroyCallbacks.push(e)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(e){return e()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=mt({type:e}),e}(),Fd=function(){var e=function(e){c(n,e);var t=p(n);function n(){return s(this,n),t.apply(this,arguments)}return a(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Ld);return e.\u0275fac=function(){var t;return function(n){return(t||(t=lr(e)))(n||e)}}(),e.\u0275dir=mt({type:e,features:[ia]}),e}(),Ud=function(e){c(n,e);var t=p(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e}return n}(Ld),Bd=function(){function e(t){s(this,e),this._cd=t}return a(e,[{key:"is",value:function(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}]),e}(),$d=function(){var e=function(e){c(n,e);var t=p(n);function n(e){return s(this,n),t.call(this,e)}return n}(Bd);return e.\u0275fac=function(t){return new(t||e)(xa(Ud,2))},e.\u0275dir=mt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Ga("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[ia]}),e}();function Hd(e,t){e.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function qd(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Wd(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Gd="VALID",Xd="INVALID",Zd="PENDING",Qd="DISABLED";function Kd(e){return(th(e)?e.validators:e)||null}function Yd(e){return Array.isArray(e)?Vd(e):e||null}function Jd(e,t){return(th(t)?t.asyncValidators:e)||null}function eh(e){return Array.isArray(e)?zd(e):e||null}function th(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var nh=function(){function e(t,n){s(this,e),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=n,this._composedValidatorFn=Yd(this._rawValidators),this._composedAsyncValidatorFn=eh(this._rawAsyncValidators)}return a(e,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(e){this._rawValidators=this._composedValidatorFn=e}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===Gd}},{key:"invalid",get:function(){return this.status===Xd}},{key:"pending",get:function(){return this.status==Zd}},{key:"disabled",get:function(){return this.status===Qd}},{key:"enabled",get:function(){return this.status!==Qd}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this._rawValidators=e,this._composedValidatorFn=Yd(e)}},{key:"setAsyncValidators",value:function(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=eh(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(e){return e.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=Zd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=Qd,this.errors=null,this._forEachChild(function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!0)})}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status=Gd,this._forEachChild(function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(function(e){return e(!1)})}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Gd&&this.status!==Zd||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?Qd:Gd}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status=Zd,this._hasOwnPendingAsyncValidator=!0;var n=Pd(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){t._hasOwnPendingAsyncValidator=!1,t.setErrors(n,{emitEvent:e})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var r=e;return t.forEach(function(e){r=r instanceof ih?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof oh&&r.at(e)||null}),r}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new Nu,this.statusChanges=new Nu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?Qd:this.errors?Xd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zd)?Zd:this._anyControlsHaveStatus(Xd)?Xd:Gd}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls(function(t){return t.status===e})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(e){return e.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(e){return e.touched})}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){th(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),e}(),rh=function(e){c(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return s(this,n),(e=t.call(this,Kd(i),Jd(o,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e._initObservables(),e.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),e}return a(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(e){return e(t.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_unregisterOnChange",value:function(e){Wd(this._onChange,e)}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_unregisterOnDisabledChange",value:function(e){Wd(this._onDisabledChange,e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(nh),ih=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,Kd(r),Jd(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return a(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach(function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(Object.keys(e).forEach(function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof rh?t.value:t.getRawValue(),e})}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach(function(n){var r=t.controls[n];r&&e(r,n)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){for(var t=0,n=Object.keys(this.controls);t<n.length;t++){var r=n[t],i=this.controls[r];if(this.contains(r)&&e(i))return!0}return!1}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t})}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild(function(e,r){n=t(n,e,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++)if(this.controls[t[e]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(nh),oh=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,Kd(r),Jd(i,r))).controls=e,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return a(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}},{key:"setControl",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach(function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=e&&(e.forEach(function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map(function(e){return e instanceof rh?e.value:e.getRawValue()})}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(e){return e._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index ".concat(e))}},{key:"_forEachChild",value:function(e){this.controls.forEach(function(t,n){e(t,n)})}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})}},{key:"_anyControls",value:function(e){return this.controls.some(function(t){return t.enabled&&e(t)})}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var e,t=g(this.controls);try{for(t.s();!(e=t.n()).done;)if(e.value.enabled)return!1}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(nh),ah={provide:Ud,useExisting:Ie(function(){return uh})},sh=function(){return Promise.resolve(null)}(),uh=function(){var e=function(e){c(n,e);var t=p(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this)).control=new rh,a._registered=!1,a.update=new Nu,a._parent=e,a._setValidators(r),a._setAsyncValidators(i),a.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t);var n=void 0,r=void 0,i=void 0;return t.forEach(function(e){e.constructor===Ad?n=e:Object.getPrototypeOf(e.constructor)===kd?r=e:i=e}),i||r||n||null}(h(a),o),a}return a(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?(e=this.name,[].concat(w(this._parent.path),[e])):[this.name];var e}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){var e,t;(function(e,t){var n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(jd(n,t.validator)):"function"==typeof n&&e.setValidators([n]);var r=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(jd(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);var i=function(){return e.updateValueAndValidity()};Hd(t._rawValidators,i),Hd(t._rawAsyncValidators,i)})(e=this.control,t=this),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&qd(e,t)})}(e,t),function(e,t){var n=function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(function(){e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&qd(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){var n=function(e){t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(function(){e._unregisterOnDisabledChange(n)})}}(e,t),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(e){var t=this;sh.then(function(){t.control.setValue(e,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,r=""===n||n&&"false"!==n;sh.then(function(){r&&!t.control.disabled?t.control.disable():!r&&t.control.disabled&&t.control.enable()})}}]),n}(Ud);return e.\u0275fac=function(t){return new(t||e)(xa(Fd,9),xa(Ed,10),xa(Od,10),xa(_d,10))},e.\u0275dir=mt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Is([ah]),ia,Ot]}),e}(),ch={provide:_d,useExisting:Ie(function(){return lh}),multi:!0},lh=function(){var e=function(e){c(n,e);var t=p(n);function n(){return s(this,n),t.apply(this,arguments)}return a(n,[{key:"writeValue",value:function(e){this.setProperty("value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}}]),n}(kd);return e.\u0275fac=function(){var t;return function(n){return(t||(t=lr(e)))(n||e)}}(),e.\u0275dir=mt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Ma("input",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},features:[Is([ch]),ia]}),e}(),dh={provide:_d,useExisting:Ie(function(){return ph}),multi:!0},hh=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=De({}),e}(),fh=function(){var e=function(){function e(){s(this,e),this._accessors=[]}return a(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe({factory:function(){return new e},token:e,providedIn:hh}),e}(),ph=function(){var e=function(e){c(n,e);var t=p(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e,r))._registry=i,a._injector=o,a.onChange=function(){},a}return a(n,[{key:"ngOnInit",value:function(){this._control=this._injector.get(Ud),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this.setProperty("checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),n}(kd);return e.\u0275fac=function(t){return new(t||e)(xa(Vs),xa(Ds),xa(fh),xa(na))},e.\u0275dir=mt({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Ma("change",function(){return t.onChange()})("blur",function(){return t.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Is([dh]),ia]}),e}(),vh=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=De({imports:[[hh]]}),e}(),mh=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=De({imports:[vh]}),e}();function gh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return W(r)?(t.pop(),ne(t,r)):de(t)}function yh(e,t){return se(e,t,1)}function bh(e,t){return function(n){return n.lift(new wh(e,t))}}var wh=function(){function e(t,n){s(this,e),this.predicate=t,this.thisArg=n}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new xh(e,this.predicate,this.thisArg))}}]),e}(),xh=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.count=0,o}return a(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(R),kh=function e(){s(this,e)},_h=function e(){s(this,e)},Sh=function(){function e(t){var n=this;s(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach(function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),o=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(t).forEach(function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))})}:this.headers=new Map}return a(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,w(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var o=this.headers.get(t);if(!o)return;0===(o=o.filter(function(e){return-1===i.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})}}]),e}(),Ih=function(){function e(){s(this,e)}return a(e,[{key:"encodeKey",value:function(e){return Th(e)}},{key:"encodeValue",value:function(e){return Th(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function Ch(e,t){var n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(function(e){var r=e.indexOf("="),i=y(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)}),n}function Th(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Ah(e){return"".concat(e)}var Eh=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(s(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new Ih,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Ch(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}return a(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"appendAll",value:function(e){var t=[];return Object.keys(e).forEach(function(n){var r=e[n];Array.isArray(r)?r.forEach(function(e){t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).filter(function(e){return""!==e}).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(Ah(t.value)),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(Ah(t.value));-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}}),this.cloneFrom=this.updates=null)}}]),e}(),Oh=function(){function e(){s(this,e),this.map=new Map}return a(e,[{key:"set",value:function(e,t){return this.map.set(e,t),this}},{key:"get",value:function(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}},{key:"delete",value:function(e){return this.map.delete(e),this}},{key:"keys",value:function(){return this.map.keys()}}]),e}();function Mh(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Ph(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Dh(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Rh=function(){function e(t,n,r,i){var o;if(s(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Sh),this.context||(this.context=new Oh),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var u=n.indexOf("?");this.urlWithParams=n+(-1===u?"?":u<n.length-1?"&":"")+a}}else this.params=new Eh,this.urlWithParams=n}return a(e,[{key:"serializeBody",value:function(){return null===this.body?null:Mh(this.body)||Ph(this.body)||Dh(this.body)||"string"==typeof this.body?this.body:this.body instanceof Eh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Dh(this.body)?null:Ph(this.body)?this.body.type||null:Mh(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Eh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.method||this.method,i=n.url||this.url,o=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,u=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,c=n.headers||this.headers,l=n.params||this.params,d=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce(function(e,t){return e.set(t,n.setHeaders[t])},c)),n.setParams&&(l=Object.keys(n.setParams).reduce(function(e,t){return e.set(t,n.setParams[t])},l)),new e(r,i,a,{params:l,headers:c,context:d,reportProgress:u,responseType:o,withCredentials:s})}}]),e}(),Nh=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),Vh=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";s(this,e),this.headers=t.headers||new Sh,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},zh=function(e){c(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(this,n),(e=t.call(this,r)).type=Nh.ResponseHeader,e}return a(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Vh),jh=function(e){c(n,e);var t=p(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(this,n),(e=t.call(this,r)).type=Nh.Response,e.body=void 0!==r.body?r.body:null,e}return a(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(Vh),Lh=function(e){c(n,e);var t=p(n);function n(e){var r;return s(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(Vh);function Fh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var Uh=function(){var e=function(){function e(t){s(this,e),this.handler=t}return a(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Rh)n=e;else{var o=void 0;o=i.headers instanceof Sh?i.headers:new Sh(i.headers);var a=void 0;i.params&&(a=i.params instanceof Eh?i.params:new Eh({fromObject:i.params})),n=new Rh(e,t,void 0!==i.body?i.body:null,{headers:o,context:i.context,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=gh(n).pipe(yh(function(e){return r.handler.handle(e)}));if(e instanceof Rh||"events"===i.observe)return s;var u=s.pipe(bh(function(e){return e instanceof jh}));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(G(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return u.pipe(G(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return u.pipe(G(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return u.pipe(G(function(e){return e.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Eh).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,Fh(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,Fh(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,Fh(n,t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(kh))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),Bh=function(){function e(t,n){s(this,e),this.next=t,this.interceptor=n}return a(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),$h=new vr("HTTP_INTERCEPTORS"),Hh=function(){var e=function(){function e(){s(this,e)}return a(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),qh=/^\)\]\}',?\n/,Wh=function(){var e=function(){function e(t){s(this,e),this.xhrFactory=t}return a(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new L(function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach(function(e,t){return r.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var o=e.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=e.serializeBody(),s=null,u=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Sh(r.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new zh({headers:i,status:t,statusText:n,url:o})},c=function(){var t=u(),i=t.headers,o=t.status,a=t.statusText,s=t.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof c){var d=c;c=c.replace(qh,"");try{c=""!==c?JSON.parse(c):null}catch(h){c=d,l&&(l=!1,c={error:h,text:c})}}l?(n.next(new jh({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new Lh({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(e){var t=u(),i=new Lh({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t.url||void 0});n.error(i)},d=!1,h=function(t){d||(n.next(u()),d=!0);var i={type:Nh.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},f=function(e){var t={type:Nh.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),e.reportProgress&&(r.addEventListener("progress",h),null!==a&&r.upload&&r.upload.addEventListener("progress",f)),r.send(a),n.next({type:Nh.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),e.reportProgress&&(r.removeEventListener("progress",h),null!==a&&r.upload&&r.upload.removeEventListener("progress",f)),r.readyState!==r.DONE&&r.abort()}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(Ul))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),Gh=new vr("XSRF_COOKIE_NAME"),Xh=new vr("XSRF_HEADER_NAME"),Zh=function e(){s(this,e)},Qh=function(){var e=function(){function e(t,n,r){s(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return a(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=_l(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(nl),Dr(ac),Dr(Gh))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),Kh=function(){var e=function(){function e(t,n){s(this,e),this.tokenService=t,this.headerName=n}return a(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(Zh),Dr(Xh))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),Yh=function(){var e=function(){function e(t,n){s(this,e),this.backend=t,this.injector=n,this.chain=null}return a(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get($h,[]);this.chain=t.reduceRight(function(e,t){return new Bh(e,t)},this.backend)}return this.chain.handle(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(_h),Dr(na))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),Jh=function(){var e=function(){function e(){s(this,e)}return a(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:Kh,useClass:Hh}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:Gh,useValue:t.cookieName}:[],t.headerName?{provide:Xh,useValue:t.headerName}:[]]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=De({providers:[Kh,{provide:$h,useExisting:Kh,multi:!0},{provide:Zh,useClass:Qh},{provide:Gh,useValue:"XSRF-TOKEN"},{provide:Xh,useValue:"X-XSRF-TOKEN"}]}),e}(),ef=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=De({providers:[Uh,{provide:kh,useClass:Yh},Wh,{provide:_h,useExisting:Wh}],imports:[[Jh.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e}();function tf(e,t){if(1&e){var n=Ta();Sa(0,"span",7),Ma("click",function(e){en(n);var t=Ra().$implicit,r=Ra();return e.preventDefault(),r.removeTab(t)}),is(1," \u274c"),Ia()}}var nf=function(e){return["nav-item",e]};function rf(e,t){if(1&e){var n=Ta();Sa(0,"li",3),Ma("keydown",function(e){var t=en(n).index;return Ra().keyNavActions(e,t)}),Sa(1,"a",4),Ma("click",function(){return t.$implicit.active=!0}),Sa(2,"span",5),is(3),Ia(),ba(4,tf,2,0,"span",6),Ia(),Ia()}if(2&e){var r=t.$implicit;Ga("active",r.active)("disabled",r.disabled),ka("ngClass",Eu(15,nf,r.customClass||"")),$i(1),Ga("active",r.active)("disabled",r.disabled),ga("aria-controls",r.id?r.id:"")("aria-selected",!!r.active)("id",r.id?r.id+"-link":""),$i(1),ka("ngTransclude",r.headingRef),$i(1),os(r.heading),$i(1),ka("ngIf",r.removable)}}var of=["*"],af=function(){var e=function(){function e(t){s(this,e),this.viewRef=t}return a(e,[{key:"ngTransclude",get:function(){return this._ngTransclude},set:function(e){this._ngTransclude=e,e&&this.viewRef.createEmbeddedView(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(vu))},e.\u0275dir=mt({type:e,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),e}(),sf=function(){var e=function e(){s(this,e),this.type="tabs",this.ariaLabel="Tabs"};return e.\u0275prov=Pe({token:e,factory:e.\u0275fac=function(t){return new(t||e)}}),e}(),uf=function(){var e=function(){function e(t,n,r){s(this,e),this.renderer=n,this.elementRef=r,this.clazz=!0,this.tabs=[],this.classMap={},Object.assign(this,t)}return a(e,[{key:"vertical",get:function(){return this._vertical},set:function(e){this._vertical=e,this.setClassMap()}},{key:"justified",get:function(){return this._justified},set:function(e){this._justified=e,this.setClassMap()}},{key:"type",get:function(){return this._type},set:function(e){this._type=e,this.setClassMap()}},{key:"ngOnDestroy",value:function(){this.isDestroyed=!0}},{key:"addTab",value:function(e){this.tabs.push(e),e.active=1===this.tabs.length&&void 0===e.active}},{key:"removeTab",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{reselect:!0,emit:!0},n=this.tabs.indexOf(e);if(-1!==n&&!this.isDestroyed){if(t.reselect&&e.active&&this.hasAvailableTabs(n)){var r=this.getClosestTabIndex(n);this.tabs[r].active=!0}t.emit&&e.removed.emit(e),this.tabs.splice(n,1),e.elementRef.nativeElement.parentNode&&this.renderer.removeChild(e.elementRef.nativeElement.parentNode,e.elementRef.nativeElement)}}},{key:"keyNavActions",value:function(e,t){var n=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===e.keyCode||"Enter"===e.key||32===e.keyCode||"Space"===e.key)return e.preventDefault(),void n[t%n.length].click();if(39!==e.keyCode&&"RightArrow"!==e.key)if(37!==e.keyCode&&"LeftArrow"!==e.key)if(36!==e.keyCode&&"Home"!==e.key)if(35!==e.keyCode&&"End"!==e.key){if((46===e.keyCode||"Delete"===e.key)&&this.tabs[t].removable){if(this.removeTab(this.tabs[t]),n[t+1])return void n[(t+1)%n.length].focus();n[n.length-1]&&n[0].focus()}}else{var r;e.preventDefault();var i=1,o=t;do{o-i<0?(r=n[o=n.length-1],i=0):r=n[o-i],i++}while(r.classList.contains("disabled"));r.focus()}else{var a;e.preventDefault();var s=0;do{a=n[s%n.length],s++}while(a.classList.contains("disabled"));a.focus()}else{var u,c=1,l=t;do{l-c<0?(u=n[l=n.length-1],c=0):u=n[l-c],c++}while(u.classList.contains("disabled"));u.focus()}else{var d,h=1;do{d=n[(t+h)%n.length],h++}while(d.classList.contains("disabled"));d.focus()}}},{key:"getClosestTabIndex",value:function(e){var t=this.tabs.length;if(!t)return-1;for(var n=1;n<=t;n+=1){var r=e-n,i=e+n;if(this.tabs[r]&&!this.tabs[r].disabled)return r;if(this.tabs[i]&&!this.tabs[i].disabled)return i}return-1}},{key:"hasAvailableTabs",value:function(e){var t=this.tabs.length;if(!t)return!1;for(var n=0;n<t;n+=1)if(!this.tabs[n].disabled&&n!==e)return!0;return!1}},{key:"setClassMap",value:function(){this.classMap=b({"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified},"nav-".concat(this.type),!0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(sf),xa(Vs),xa(Ds))},e.\u0275cmp=lt({type:e,selectors:[["tabset"]],hostVars:2,hostBindings:function(e,t){2&e&&Ga("tab-container",t.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:of,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(e,t){1&e&&(Va(),Sa(0,"ul",0),Ma("click",function(e){return e.preventDefault()}),ba(1,rf,5,17,"li",1),Ia(),Sa(2,"div",2),za(3),Ia()),2&e&&(ka("ngClass",t.classMap),ga("aria-label",t.ariaLabel),$i(1),ka("ngForOf",t.tabs))},directives:[Sl,Cl,af,Al],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),e}(),cf=function(){var e=function(){function e(t,n,r){s(this,e),this.elementRef=n,this.renderer=r,this.selectTab=new Nu,this.deselect=new Nu,this.removed=new Nu,this.addClass=!0,this.role="tabpanel",this.tabset=t,this.tabset.addTab(this)}return a(e,[{key:"customClass",get:function(){return this._customClass},set:function(e){var t=this;this.customClass&&this.customClass.split(" ").forEach(function(e){t.renderer.removeClass(t.elementRef.nativeElement,e)}),this._customClass=e?e.trim():null,this.customClass&&this.customClass.split(" ").forEach(function(e){t.renderer.addClass(t.elementRef.nativeElement,e)})}},{key:"active",get:function(){return this._active},set:function(e){var t=this;this._active!==e&&(this.disabled&&e||!e?this._active&&!e&&(this.deselect.emit(this),this._active=e):(this._active=e,this.selectTab.emit(this),this.tabset.tabs.forEach(function(e){e!==t&&(e.active=!1)})))}},{key:"ariaLabelledby",get:function(){return this.id?"".concat(this.id,"-link"):""}},{key:"ngOnInit",value:function(){this.removable=this.removable}},{key:"ngOnDestroy",value:function(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(uf),xa(Ds),xa(Vs))},e.\u0275dir=mt({type:e,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(e,t){2&e&&(ga("role",t.role)("aria-labelledby",t.ariaLabelledby)("id",t.id),Ga("tab-pane",t.addClass)("active",t.active))},inputs:{customClass:"customClass",active:"active",removable:"removable",heading:"heading",id:"id",disabled:"disabled"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"}}),e}(),lf=function(){var e=function(){function e(){s(this,e)}return a(e,null,[{key:"forRoot",value:function(){return{ngModule:e,providers:[sf]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=De({imports:[[Vl]]}),e}(),df=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=De({providers:[],imports:[[Vl]]}),e}(),hf=function(e,t){return(hf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function ff(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}hf(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var pf=function(){return(pf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function vf(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mf(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function gf(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var yf,bf,wf=function(){function e(e,t){this.id=0,void 0!==e&&(this.value=e,this.initialValue=e),this.options=t||{},this.subscriptions=new Map}return e.prototype.set=function(e){var t,n;if(this.value!==e||this.options.emitEqual){this.value=e;try{for(var r=vf(this.subscriptions),i=r.next();!i.done&&(mf(i.value,2)[1].emit(e),this.value===e);i=r.next());}catch(o){t={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.get=function(){return this.value},e.prototype.on=function(e){var t=this,n=this.id++,r={emit:e,off:function(){r.emit=function(){return null},t.subscriptions.delete(n)}};return this.subscriptions.set(n,r),this.options.emitOnSubscribe&&r.emit(this.value),function(){return r.off()}},e.prototype.once=function(e){var t=this.on(function(n){t(),e(n)});return t},e.prototype.reset=function(){this.set(this.initialValue)},e.prototype.dispose=function(){this.subscriptions.forEach(function(e){return e.off()})},e}();!function(e){e.id="id",e.mock="mock",e.augmented="augmented",e.version="version",e.init="init",e.init$="init$",e.packageInfo="packageInfo",e.itemsCount="itemsCount",e.bufferInfo="bufferInfo",e.isLoading="isLoading",e.isLoading$="isLoading$",e.loopPending="loopPending",e.loopPending$="loopPending$",e.firstVisible="firstVisible",e.firstVisible$="firstVisible$",e.lastVisible="lastVisible",e.lastVisible$="lastVisible$",e.bof="bof",e.bof$="bof$",e.eof="eof",e.eof$="eof$",e.reset="reset",e.reload="reload",e.append="append",e.prepend="prepend",e.check="check",e.remove="remove",e.clip="clip",e.insert="insert",e.replace="replace",e.update="update",e.fix="fix",e.relax="relax",e.showLog="showLog"}(yf||(yf={})),function(e){e[e.Scalar=0]="Scalar",e[e.Reactive=1]="Reactive",e[e.WorkflowRunner=2]="WorkflowRunner",e[e.Function=3]="Function"}(bf||(bf={}));var xf,kf,_f,Sf=yf,If=bf,Cf=function(){return null},Tf={immediate:!0,success:!0,details:"Adapter is not initialized"},Af=function(){return Promise.resolve(Tf)},Ef={core:{name:"",version:""},consumer:{name:"",version:""}},Of={firstIndex:NaN,lastIndex:NaN,minIndex:NaN,maxIndex:NaN,absMinIndex:-1/0,absMaxIndex:1/0,defaultSize:NaN},Mf={data:{},element:{}},Pf=function(){return[{type:If.Scalar,name:Sf.id,value:0,permanent:!0},{type:If.Scalar,name:Sf.mock,value:!0,permanent:!0},{type:If.Scalar,name:Sf.augmented,value:!1,permanent:!0},{type:If.Scalar,name:Sf.version,value:"",permanent:!0},{type:If.Scalar,name:Sf.init,value:!1,reactive:Sf.init$},{type:If.Scalar,name:Sf.packageInfo,value:Ef,onDemand:!0},{type:If.Scalar,name:Sf.itemsCount,value:0,onDemand:!0},{type:If.Scalar,name:Sf.bufferInfo,value:Of,onDemand:!0},{type:If.Scalar,name:Sf.isLoading,value:!1,reactive:Sf.isLoading$},{type:If.Scalar,name:Sf.loopPending,value:!1,reactive:Sf.loopPending$},{type:If.Scalar,name:Sf.firstVisible,value:Mf,reactive:Sf.firstVisible$,wanted:!0},{type:If.Scalar,name:Sf.lastVisible,value:Mf,reactive:Sf.lastVisible$,wanted:!0},{type:If.Scalar,name:Sf.bof,value:!1,reactive:Sf.bof$},{type:If.Scalar,name:Sf.eof,value:!1,reactive:Sf.eof$},{type:If.WorkflowRunner,name:Sf.reset,value:Af},{type:If.WorkflowRunner,name:Sf.reload,value:Af},{type:If.WorkflowRunner,name:Sf.append,value:Af},{type:If.WorkflowRunner,name:Sf.prepend,value:Af},{type:If.WorkflowRunner,name:Sf.check,value:Af},{type:If.WorkflowRunner,name:Sf.remove,value:Af},{type:If.WorkflowRunner,name:Sf.clip,value:Af},{type:If.WorkflowRunner,name:Sf.insert,value:Af},{type:If.WorkflowRunner,name:Sf.replace,value:Af},{type:If.WorkflowRunner,name:Sf.update,value:Af},{type:If.WorkflowRunner,name:Sf.fix,value:Af},{type:If.Function,name:Sf.relax,value:Cf},{type:If.Function,name:Sf.showLog,value:Cf},{type:If.Reactive,name:Sf.init$,value:new wf},{type:If.Reactive,name:Sf.isLoading$,value:new wf},{type:If.Reactive,name:Sf.loopPending$,value:new wf},{type:If.Reactive,name:Sf.firstVisible$,value:new wf(Mf,{emitOnSubscribe:!0})},{type:If.Reactive,name:Sf.lastVisible$,value:new wf(Mf,{emitOnSubscribe:!0})},{type:If.Reactive,name:Sf.bof$,value:new wf},{type:If.Reactive,name:Sf.eof$,value:new wf}]},Df=new Map,Rf={name:"vscroll",version:"1.3.2"},Nf=0,Vf=function(e){var t=this,n=e.mock,r=e.reactive,i=++Nf,o={configurable:!0},a={};Object.defineProperty(this,yf.id,pf({get:function(){return i}},o)),Object.defineProperty(this,yf.mock,pf({get:function(){return n}},o)),Object.defineProperty(this,yf.augmented,pf({get:function(){return!1}},o)),Object.defineProperty(this,yf.version,pf({get:function(){return Rf.version}},o)),Pf().filter(function(e){return!e.permanent}).forEach(function(e){var n=e.name,i=e.value;if(r&&e.type===bf.Reactive){var s=r[n];s&&(a[n]=pf(pf({},s),{default:i}),i=s.source)}Object.defineProperty(t,n,pf({get:function(){return i}},o))}),r&&Df.set(i,a)},zf=function(){function e(e,t){this.get=e.get,e.settings&&(this.settings=e.settings),e.devSettings&&(this.devSettings=e.devSettings);var n=new Vf(t||{mock:!1});this.adapter=n}return e.prototype.dispose=function(){Df.delete(this.adapter.id)},e}(),jf=function(e){return function(t){function n(n){var r="function"==typeof e?e():void 0;return t.call(this,n,r)||this}return ff(n,t),n}(zf)},Lf=jf();!function(e){e.forward="forward",e.backward="backward"}(xf||(xf={})),function(e){e.Average="average",e.Constant="constant",e.Frequent="frequent"}(kf||(kf={})),function(e){e.number="must be a number",e.integer="must be an integer",e.integerUnlimited="must be an integer or infinity",e.moreOrEqual="must be a number greater than (or equal to) {arg1}",e.itemList="must be an array of items {arg1}",e.boolean="must be a boolean",e.object="must be an object",e.element="must be an html element",e.function="must be a function",e.funcOfxArguments="must have {arg1} argument(s)",e.funcOfxAndMoreArguments="must have at least {arg1} argument(s)",e.funcOfXToYArguments="must have {arg1} to {arg2} arguments",e.oneOfCan="can be present as only one item of {arg1} list",e.oneOfMust="must be present as only one item of {arg1} list",e.or="must satisfy at least 1 validator from {arg1} list",e.enum="must belong to {arg1} list"}(_f||(_f={}));var Ff,Uf,Bf=function(e,t){return(t||[""]).reduce(function(e,t,n){return e.replace("{arg"+(n+1)+"}",t)},e)},$f=function(e){return"number"==typeof e||"string"==typeof e&&""!==e?Number(e):NaN},Hf=function(e){var t=$f(e),n=[];return Number.isNaN(t)&&n.push(_f.number),{value:t,isSet:!0,isValid:!n.length,errors:n}},qf=function(e,t){return function(n){var r=Hf(n);if(!r.isValid)return r;var i=r.value,o=[];return i<e&&(t?i=e:o.push(Bf(_f.moreOrEqual,[String(e)]))),{value:i,isSet:!0,isValid:!o.length,errors:o}}},Wf=function(e){var t=[];return"function"!=typeof e&&t.push(_f.function),{value:e,isSet:!0,isValid:!t.length,errors:t}},Gf=function(e,t){return function(n){var r=Wf(n);if(!r.isValid)return r;var i=[];return((n=r.value).length<e||n.length>t)&&i.push(Bf(_f.funcOfXToYArguments,[String(e),String(t)])),{value:n,isSet:!0,isValid:!i.length,errors:i}}},Xf=function(e,t){return function(n,r){var i=[],o=void 0!==n,a=!o,s=t?_f.oneOfMust:_f.oneOfCan;if(Array.isArray(e)&&e.length){for(var u=e.length-1;u>=0;u--){var c=e[u];if("string"!=typeof c){i.push(Bf(s,[e.join('", "')])+" (non-string token)");break}var l=r&&Object.prototype.hasOwnProperty.call(r,c);if(o&&l){i.push(Bf(s,[e.join('", "')])+" ("+c+" is present)");break}a&&l&&(a=!1)}t&&a&&i.push(Bf(s,[e.join('", "')]))}else i.push(Bf(s,["undefined"]));return{value:n,isSet:o,isValid:!i.length,errors:i}}},Zf=function(e){return function(t){var n=[],r=Object.keys(e).filter(function(e){return isNaN(Number(e))}).map(function(t){return e[t]});return r.some(function(e){return e===t})||n.push(Bf(_f.enum,["["+r.join(",")+"]"])),{value:t,isSet:!0,isValid:!n.length,errors:n}}},Qf={NUMBER:{type:_f.number,method:Hf},INTEGER:{type:_f.integer,method:function(e){var t=[];e=$f(e);var n=parseInt(String(e),10);return e!==n&&t.push(_f.integer),{value:n,isSet:!0,isValid:!t.length,errors:t}}},INTEGER_UNLIMITED:{type:_f.integerUnlimited,method:function(e){var t,n=[];return(e=$f(e))!==(t=Number.isFinite(e)?parseInt(String(e),10):e)&&n.push(_f.integerUnlimited),{value:t,isSet:!0,isValid:!n.length,errors:n}}},MORE_OR_EQUAL:function(e,t){return{type:_f.moreOrEqual,method:qf(e,t)}},BOOLEAN:{type:_f.boolean,method:function(e){var t=[],n=e;return"true"===e?n=!0:"false"===e&&(n=!1),"boolean"!=typeof n&&t.push(_f.boolean),{value:n,isSet:!0,isValid:!t.length,errors:t}}},OBJECT:{type:_f.object,method:function(e){var t=[];return"[object Object]"!==Object.prototype.toString.call(e)&&t.push(_f.object),{value:e,isSet:!0,isValid:!t.length,errors:t}}},ITEM_LIST:{type:_f.itemList,method:function(e){var t=e,n=[];if(Array.isArray(e))if(e.length){if(e.length>1){var r=typeof e[0];e.some(function(e){return typeof e!==r})&&n.push(Bf(_f.itemList,["of items of the same type"]))}}else n.push(Bf(_f.itemList,["with at least 1 item"]));else n.push(_f.itemList),t=[];return{value:t,isSet:!0,isValid:!n.length,errors:n}}},ELEMENT:{type:_f.element,method:function(e){var t=[];return e instanceof Element||e instanceof HTMLDocument||t.push(_f.element),{value:e,isSet:!0,isValid:!t.length,errors:t}}},FUNC:{type:_f.function,method:Wf},FUNC_WITH_X_ARGUMENTS:function(e){return{type:_f.funcOfxArguments,method:(t=e,function(e){var n=Wf(e);if(!n.isValid)return n;var r=[];return(e=n.value).length!==t&&r.push(Bf(_f.funcOfxArguments,[String(t)])),{value:e,isSet:!0,isValid:!r.length,errors:r}})};var t},FUNC_WITH_X_AND_MORE_ARGUMENTS:function(e){return{type:_f.funcOfxAndMoreArguments,method:(t=e,function(e){var n=Wf(e);if(!n.isValid)return n;var r=[];return(e=n.value).length<t&&r.push(Bf(_f.funcOfxArguments,[String(t)])),{value:e,isSet:!0,isValid:!r.length,errors:r}})};var t},FUNC_WITH_X_TO_Y_ARGUMENTS:function(e,t){return{type:_f.funcOfXToYArguments,method:Gf(e,t)}},ONE_OF_CAN:function(e){return{type:_f.oneOfCan,method:Xf(e,!1)}},ONE_OF_MUST:function(e){return{type:_f.oneOfMust,method:Xf(e,!0)}},OR:function(e){return{type:_f.or,method:(t=e,function(e){var n=[];return t.every(function(t){return!t.method(e).isValid})&&n.push(t.map(function(e){return e.type}).join(" OR ")),{value:e,isSet:!0,isValid:!n.length,errors:n}})};var t},ENUM:function(e){return{type:_f.enum,method:Zf(e)}}},Kf=function(){function e(e){this.params={},this.contextErrors=[],this.errors=[],this.isValid=!0,this.setContext(e)}return e.prototype.setContext=function(e){e&&"[object Object]"===Object.prototype.toString.call(e)?this.isValidContext=!0:(this.setCommonError("context is not an object"),this.isValidContext=!1),this.context=e},e.prototype.setValidity=function(){var e=this;this.errors=Object.keys(this.params).reduce(function(t,n){return gf(gf([],mf(t)),mf(e.params[n].errors))},[]),this.isValid=!this.errors.length},e.prototype.setCommonError=function(e){this.contextErrors.push(e),this.errors.push(e),this.isValid=!1},e.prototype.setParam=function(e,t){t.isValid||(t.errors=t.isSet?t.errors.map(function(t){return'"'+e+'" '+t}):['"'+e+'" must be set']),this.params[e]=t,this.setValidity()},e.prototype.showErrors=function(){return this.errors.length?"validation failed: "+this.errors.join(", "):""},e}(),Yf=function(e,t,n){var r=e.errors,i=t.method(e.value,n),o=gf(gf([],mf(r)),mf(i.errors));return{value:i.value,isSet:i.isSet,isValid:!o.length,errors:o}},Jf=function(e,t){var n=void 0===e,r=!t.mandatory&&void 0!==t.defaultValue;return{value:n?r?t.defaultValue:void 0:e,isSet:!n||r,isValid:!n||!t.mandatory,errors:[]}},ep=function(e,t,n){var r,i,o=Jf(e[t],n);if(o.isSet)try{for(var a=vf(Object.values(n.validators)),s=a.next();!s.done;s=a.next()){var u=Yf(o,s.value,e);if(!u.isValid&&void 0!==n.defaultValue)return{value:n.defaultValue,isSet:!0,isValid:!0,errors:[]};Object.assign(o,u)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}else{var c=n.validators.find(function(e){return e.type===_f.oneOfMust});if(c)return Yf(o,c,e)}return o},tp=function(e,t){var n=new Kf(e);return Object.entries(t).forEach(function(e){var t=mf(e,2),r=t[0],i=t[1];return n.setParam(r,n.isValidContext?ep(n.context,r,i):Jf(void 0,i))}),n},np=Qf.OBJECT,rp=Qf.FUNC_WITH_X_AND_MORE_ARGUMENTS;!function(e){e.get="get",e.settings="settings",e.devSettings="devSettings"}(Uf||(Uf={}));var ip,op,ap,sp,up,cp=((Ff={})[Uf.get]={validators:[rp(2)],mandatory:!0},Ff[Uf.settings]={validators:[np]},Ff[Uf.devSettings]={validators:[np]},Ff),lp=Qf.NUMBER,dp=Qf.INTEGER,hp=Qf.INTEGER_UNLIMITED,fp=Qf.MORE_OR_EQUAL,pp=Qf.BOOLEAN,vp=Qf.ELEMENT,mp=Qf.FUNC,gp=Qf.OR,yp=Qf.ENUM;!function(e){e.adapter="adapter",e.startIndex="startIndex",e.minIndex="minIndex",e.maxIndex="maxIndex",e.itemSize="itemSize",e.bufferSize="bufferSize",e.padding="padding",e.infinite="infinite",e.horizontal="horizontal",e.windowViewport="windowViewport",e.viewportElement="viewportElement",e.inverse="inverse",e.onBeforeClip="onBeforeClip",e.sizeStrategy="sizeStrategy"}(sp||(sp={})),function(e){e.debug="debug",e.immediateLog="immediateLog",e.logProcessRun="logProcessRun",e.logTime="logTime",e.throttle="throttle",e.initDelay="initDelay",e.initWindowDelay="initWindowDelay",e.cacheData="cacheData",e.cacheOnReload="cacheOnReload",e.dismissOverflowAnchor="dismissOverflowAnchor",e.directionPriority="directionPriority"}(up||(up={}));var bp,wp,xp,kp,_p,Sp,Ip,Cp,Tp,Ap,Ep,Op,Mp,Pp,Dp,Rp=((ip={})[sp.itemSize]=1,ip[sp.bufferSize]=1,ip[sp.padding]=.01,ip[up.throttle]=0,ip[up.initDelay]=0,ip[up.initWindowDelay]=0,ip),Np=((op={})[sp.adapter]={validators:[pp],defaultValue:!1},op[sp.startIndex]={validators:[dp],defaultValue:1},op[sp.minIndex]={validators:[hp],defaultValue:-1/0},op[sp.maxIndex]={validators:[hp],defaultValue:1/0},op[sp.itemSize]={validators:[dp,fp(Rp[sp.itemSize],!0)],defaultValue:NaN},op[sp.bufferSize]={validators:[dp,fp(Rp[sp.bufferSize],!0)],defaultValue:5},op[sp.padding]={validators:[lp,fp(Rp[sp.padding],!0)],defaultValue:.5},op[sp.infinite]={validators:[pp],defaultValue:!1},op[sp.horizontal]={validators:[pp],defaultValue:!1},op[sp.windowViewport]={validators:[pp],defaultValue:!1},op[sp.viewportElement]={validators:[gp([vp,mp])],defaultValue:null},op[sp.inverse]={validators:[pp],defaultValue:!1},op[sp.onBeforeClip]={validators:[mp],defaultValue:null},op[sp.sizeStrategy]={validators:[yp(kf)],defaultValue:kf.Average},op),Vp=((ap={})[up.debug]={validators:[pp],defaultValue:!1},ap[up.immediateLog]={validators:[pp],defaultValue:!0},ap[up.logProcessRun]={validators:[pp],defaultValue:!1},ap[up.logTime]={validators:[pp],defaultValue:!1},ap[up.throttle]={validators:[dp,fp(Rp[up.throttle],!0)],defaultValue:40},ap[up.initDelay]={validators:[dp,fp(Rp[up.initDelay],!0)],defaultValue:1},ap[up.initWindowDelay]={validators:[dp,fp(Rp[up.initWindowDelay],!0)],defaultValue:40},ap[up.cacheData]={validators:[pp],defaultValue:!1},ap[up.cacheOnReload]={validators:[pp],defaultValue:!1},ap[up.dismissOverflowAnchor]={validators:[pp],defaultValue:!0},ap[up.directionPriority]={validators:[yp(xf)],defaultValue:xf.backward},ap);!function(e){e.init="init",e.scroll="scroll",e.start="start",e.preFetch="preFetch",e.fetch="fetch",e.postFetch="postFetch",e.render="render",e.preClip="preClip",e.clip="clip",e.adjust="adjust",e.end="end"}(bp||(bp={})),function(e){e.reset="adapter.reset",e.reload="adapter.reload",e.append="adapter.append",e.prepend="adapter.prepend",e.check="adapter.check",e.remove="adapter.remove",e.replace="adapter.replace",e.update="adapter.update",e.clip="adapter.clip",e.insert="adapter.insert",e.fix="adapter.fix"}(wp||(wp={})),function(e){e.start="start",e.next="next",e.done="done",e.error="error"}(xp||(xp={}));var zp,jp=Qf.INTEGER,Lp=Qf.INTEGER_UNLIMITED,Fp=Qf.BOOLEAN,Up=Qf.OBJECT,Bp=Qf.ITEM_LIST,$p=Qf.FUNC_WITH_X_ARGUMENTS,Hp=Qf.FUNC_WITH_X_TO_Y_ARGUMENTS,qp=Qf.ONE_OF_MUST,Wp=Qf.ONE_OF_CAN,Gp=Qf.OR;zp||(zp={});var Xp,Zp=((kp={})[Uf.get]={validators:[(0,Qf.FUNC_WITH_X_AND_MORE_ARGUMENTS)(2)]},kp[Uf.settings]={validators:[Up]},kp[Uf.devSettings]={validators:[Up]},kp);!function(e){e.reloadIndex="reloadIndex"}(Xp||(Xp={}));var Qp,Kp=((_p={})[Xp.reloadIndex]={validators:[jp]},_p);!function(e){e.items="items",e.bof="bof",e.increase="increase"}(Qp||(Qp={}));var Yp,Jp=((Sp={})[Qp.items]={validators:[Bp],mandatory:!0},Sp[Qp.bof]={validators:[Fp],defaultValue:!1},Sp[Qp.increase]={validators:[Fp],defaultValue:!1},Sp);!function(e){e.items="items",e.eof="eof",e.decrease="decrease"}(Yp||(Yp={}));var ev,tv=((Ip={})[Yp.items]={validators:[Bp],mandatory:!0},Ip[Yp.eof]={validators:[Fp],defaultValue:!1},Ip[Yp.decrease]={validators:[Fp],defaultValue:!1},Ip);!function(e){e.predicate="predicate",e.indexes="indexes",e.increase="increase"}(ev||(ev={}));var nv,rv=((Cp={})[ev.predicate]={validators:[$p(1),qp([ev.indexes])]},Cp[ev.indexes]={validators:[Bp,qp([ev.predicate])]},Cp[ev.increase]={validators:[Fp],defaultValue:!1},Cp);!function(e){e.backwardOnly="backwardOnly",e.forwardOnly="forwardOnly"}(nv||(nv={}));var iv,ov=((Tp={})[nv.backwardOnly]={validators:[Fp,Wp([nv.forwardOnly])],defaultValue:!1},Tp[nv.forwardOnly]={validators:[Fp,Wp([nv.backwardOnly])],defaultValue:!1},Tp);!function(e){e.items="items",e.before="before",e.after="after",e.decrease="decrease"}(iv||(iv={}));var av,sv=((Ap={})[iv.items]={validators:[Bp],mandatory:!0},Ap[iv.before]={validators:[$p(1),qp([iv.after])]},Ap[iv.after]={validators:[$p(1),qp([iv.before])]},Ap[iv.decrease]={validators:[Fp],defaultValue:!1},Ap);!function(e){e.items="items",e.predicate="predicate",e.fixRight="fixRight"}(av||(av={}));var uv,cv=((Ep={})[iv.items]={validators:[Bp],mandatory:!0},Ep[av.predicate]={validators:[$p(1)],mandatory:!0},Ep[av.fixRight]={validators:[Fp],defaultValue:!1},Ep);!function(e){e.predicate="predicate",e.fixRight="fixRight"}(uv||(uv={}));var lv,dv=((Op={})[uv.predicate]={validators:[$p(1)],mandatory:!0},Op[uv.fixRight]={validators:[Fp],defaultValue:!1},Op);!function(e){e.scrollPosition="scrollPosition",e.minIndex="minIndex",e.maxIndex="maxIndex",e.updater="updater",e.scrollToItem="scrollToItem",e.scrollToItemOpt="scrollToItemOpt"}(lv||(lv={}));var hv=((Mp={})[lv.scrollPosition]={validators:[Lp]},Mp[lv.minIndex]={validators:[Lp]},Mp[lv.maxIndex]={validators:[Lp]},Mp[lv.updater]={validators:[Hp(1,2)]},Mp[lv.scrollToItem]={validators:[$p(1)]},Mp[lv.scrollToItemOpt]={validators:[Gp([Fp,Up])]},Mp),fv=((Pp={})[wp.reset]=Uf,Pp[wp.reload]=Xp,Pp[wp.prepend]=Qp,Pp[wp.append]=Yp,Pp[wp.check]=zp,Pp[wp.remove]=ev,Pp[wp.clip]=nv,Pp[wp.insert]=iv,Pp[wp.replace]=av,Pp[wp.update]=uv,Pp[wp.fix]=lv,Pp),pv=((Dp={})[wp.reset]=Zp,Dp[wp.reload]=Kp,Dp[wp.prepend]=Jp,Dp[wp.append]=tv,Dp[wp.check]={},Dp[wp.remove]=rv,Dp[wp.clip]=ov,Dp[wp.insert]=sv,Dp[wp.replace]=cv,Dp[wp.update]=dv,Dp[wp.fix]=hv,Dp),vv=function(){function e(e,t,n){this.parseInput(e,Np),this.parseInput(t,Vp),this.instanceIndex=n,this.initializeDelay=this.getInitializeDelay(),this.viewport=this.getViewport()}return e.prototype.parseInput=function(e,t){var n=this,r=tp(e,t);if(!r.isValid)throw new Error("Invalid settings");Object.entries(r.params).forEach(function(e){var t,r=mf(e,2);return Object.assign(n,((t={})[r[0]]=r[1].value,t))})},e.prototype.getInitializeDelay=function(){var e=0;return this.windowViewport&&this.initWindowDelay&&!("scrollRestoration"in history)&&(e=this.initWindowDelay),this.initDelay>0&&(e=Math.max(e,this.initDelay)),e},e.prototype.getViewport=function(){if("function"!=typeof this.viewportElement)return this.viewportElement;var e=this.viewportElement(),t=ep({value:e},"value",{validators:[Qf.ELEMENT]});return t.isValid?t.value:null},e}(),mv=function(e){var t;return(t=function(){}).process=e,t},gv=function(e){var t;return(t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return ff(n,t),n.parseInput=function(t,n,r,i){void 0===r&&(r=!1);var o={data:tp(n,pv[i||e])};return o.data.isValid?o.params=Object.entries(o.data.params).reduce(function(e,t){var n,r=mf(t,2),i=r[0],o=r[1].value;return pf(pf({},e),((n={})[i]=o,n))},{}):(t.logger.log(function(){return o.data.showErrors()}),r||t.workflow.call({process:e,status:xp.error,payload:{error:'Wrong argument of the "'+e+'" method call'}})),o},n}(mv(e))).process=e,t},yv=[bp.init,wp.reset,wp.reload],bv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e,n){var r=e.state.cycle,i=e.workflow,o=yv.includes(n);e.logger.logCycle(!0),r.start(o,n),i.call({process:t.process,status:xp.next})},t}(mv(bp.init)),wv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e,n){var r=e.workflow,i=e.viewport.scrollPosition;t.onSynthetic(e,i)||t.onThrottle(e,i,function(){return t.onScroll(e,r)})},t.onSynthetic=function(e,t){var n=e.state.scrollState,r=n.syntheticPosition;if(null!==r){if(n.syntheticFulfill&&(n.syntheticPosition=null),!n.syntheticFulfill||r===t)return e.logger.log(function(){return["skipping scroll",t,"["+(n.syntheticFulfill?"":"pre-")+"synthetic]"]}),!0;e.logger.log(function(){return["synthetic scroll has been fulfilled:",t,t<r?"<":">",r]})}return!1},t.onThrottle=function(e,n,r){var i=e.state.scrollState,o=e.settings.throttle,a=e.logger;i.current=t.getScrollEvent(n,i.previous);var s=i.current,u=s.direction,c=s.time,l=i.previous?c-i.previous.time:1/0,d=o-l,h=isFinite(d)&&d>0,f=!!i.scrollTimer;if(a.log(function(){return[u===xf.backward?"\u2934":"\u2935",n,h?l+"ms":"0ms",h?f?"delayed":"/ "+d+"ms delay":""]}),!h)return i.scrollTimer&&(clearTimeout(i.scrollTimer),i.scrollTimer=null),void r();f||(i.scrollTimer=setTimeout(function(){a.log(function(){var r=t.getScrollEvent(e.viewport.scrollPosition,i.current);return[r.direction===xf.backward?"\u2934":"\u2935",r.position,r.time-c+"ms","triggered by timer set on",n]}),i.scrollTimer=null,r()},d))},t.getScrollEvent=function(e,t){var n=Number(new Date),r=xf.forward;return t&&(e===t.position?r=t.direction:e<t.position&&(r=xf.backward)),{position:e,direction:r,time:n}},t.onScroll=function(e,n){var r=e.state,i=r.scrollState,o=r.cycle;i.previous=pf({},i.current),i.current=null,o.busy.get()?e.logger.log(function(){return["skipping scroll",i.previous.position,"[pending]"]}):n.call({process:t.process,status:xp.next})},t}(mv(bp.scroll)),xv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e,n){var r=e.datasource,i=e.buffer,o=e.viewport.paddings,a=e.state.cycle;if(n){var s=t.parseInput(e,n).data;if(!s.isValid)return;var u=n instanceof Lf;Object.keys(Uf).forEach(function(e){var t=s.params[e];(t.isSet||u&&r[e])&&(r[e]=t.value)})}i.reset(!0),o.backward.reset(),o.forward.reset();var c={datasource:r};a.busy.get()&&(c.finalize=!0,a.interrupter=t.process),e.workflow.call({process:t.process,status:xp.next,payload:c})},t}(gv(wp.reset)),kv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e,n){var r=e.viewport,i=e.state,o=e.buffer,a=t.parseInput(e,{reloadIndex:n},!0).params;o.reset(!1,a?a.reloadIndex:void 0),r.reset(o.startIndex);var s={};i.cycle.busy.get()&&(i.scrollState.cleanupTimers(),s.finalize=!0,i.cycle.interrupter=t.process),e.workflow.call({process:t.process,status:xp.next,payload:s})},t}(gv(wp.reload)),_v=function(){function e(e,t,n){this.container={$index:e,data:t},this.nodeId=String(e),this.routines=n,this.invisible=!0,this.toRemove=!1,this.toInsert=!1}return Object.defineProperty(e.prototype,"$index",{get:function(){return this.container.$index},set:function(e){this.container.$index=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.container.data},set:function(e){this.container.data=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.container.element},set:function(e){this.container.element=e},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){delete this.container.element},e.prototype.setSize=function(e){void 0===e&&(e=0),this.preSize=e,this.element&&(this.size=this.routines.getSize(this.element))},e.prototype.hide=function(){this.element&&this.routines.hideElement(this.element)},e.prototype.scrollTo=function(e){this.element&&this.routines.scrollTo(this.element,e)},e.prototype.updateIndex=function(e){this.$index=e,this.nodeId=String(e)},e.prototype.get=function(){return this.container},e}(),Sv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e,n){var r=t.parseInput(e,n).params;if(r){var i=t.doUpdate(e,r);e.workflow.call({process:t.process,status:i?xp.next:xp.done})}},t.doUpdate=function(e,t){var n=e.buffer,r=e.viewport,i=e.state.fetch,o=e.routines,a=e.logger;if(!n.items)return a.log(function(){return"no items in Buffer"}),!1;var s=r.getEdgeVisibleItem(n.items,xf.backward),u=s.item,c=s.diff,l=n.updateItems(t.predicate,function(e,t){return new _v(e,t,o)},s.index,!!t.fixRight),d=l.trackedIndex,h=l.toRemove,f=0,p=n.get(d);u&&u===p&&(f=-n.getSizeByIndex(d)+c),h.forEach(function(e){return e.hide()}),a.log(function(){return h.length?"items to remove: ["+h.map(function(e){return e.$index}).join(",")+"]":"no items to remove"}),h.length&&n.checkDefaultSize();var v=n.items.filter(function(e){return e.toInsert});return a.log(function(){return v.length?"items to render: ["+v.map(function(e){return e.$index}).join(",")+"]":"no items to render"}),i.update(d,f,v,h),!!h.length||!!v.length},t}(gv(wp.update)),Iv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e,n){var r=n.process,i=t.parseInput(e,n.options,!1,r).params;if(i){var o=e.buffer,a=i.items,s=i.eof,u=r!==wp.append,c=u&&!i.increase||!u&&!!i.decrease,l=!1;u&&i.bof&&!o.bof.get()||!u&&s&&!o.eof.get()?t.doVirtual(e,a,u,c):l=o.size?t.doRegular(e,a,u,c):t.doEmpty(e,a,u,c),e.workflow.call({process:t.process,status:l?xp.next:xp.done})}},t.doVirtual=function(e,t,n,r){var i=e.buffer,o=e.viewport.paddings,a=r?"absMinIndex":"absMaxIndex";if(isFinite(i[a])){var s=t.length*i.defaultSize;(n?o.backward:o.forward).size+=s,n?(i.prepend(t.length,r),e.viewport.scrollPosition+=s):i.append(t.length,r),e.logger.log(function(){return"buffer."+[a]+" value is set to "+i[a]}),e.logger.stat("after virtual "+(n?"prepend":"append"))}},t.doEmpty=function(e,t,n,r){var i=e.buffer,o=e.state.fetch,a=r?"absMinIndex":"absMaxIndex",s=n&&!r?t.length-1:!n&&r?1-t.length:0,u=i[a]+(r?-1:1)*(t.length-1),c=[],l=e.buffer[n?"minIndex":"maxIndex"],d=l;return t.forEach(function(t){var r=new _v(d+s,t,e.routines);Array.prototype[n?"unshift":"push"].call(c,r),d+=n?-1:1}),u!==i[a]&&(i[a]=u,e.logger.log(function(){return"buffer."+a+" value is set to "+i[a]})),(n?o.prepend:o.append).call(o,c),i.setItems(c),o.first.indexBuffer=isNaN(i.firstIndex)?d:i.firstIndex,o.last.indexBuffer=isNaN(i.lastIndex)?d:i.lastIndex,o.firstVisible.index=l,!0},t.doRegular=function(e,t,n,r){var i=e.buffer[n?"firstIndex":"lastIndex"];return Sv.doUpdate(e,{predicate:function(e){var r=e.data;return e.$index!==i||(n?gf(gf([],mf(t.reverse())),[r]):gf([r],mf(t)))},fixRight:r})},t}(gv(wp.append)),Cv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e){var n=e.workflow,r=e.buffer,i=e.state.fetch,o=e.viewport,a=1/0,s=-1/0;if(r.items.forEach(function(e){var t=e.size;e.setSize(),e.size!==t&&(r.cacheItem(e),a=Math.min(a,e.$index),s=Math.max(s,e.$index))}),Number.isFinite(a)){i.first.indexBuffer=r.firstIndex,i.last.indexBuffer=r.lastIndex;var u=o.getEdgeVisibleItem(r.items,xf.backward),c=u.index,l=u.diff;i.firstVisible.index=c,isNaN(c)||(i.firstVisible.delta=-r.getSizeByIndex(c)+l),i.check(r.items.filter(function(e){return e.$index>=a&&e.$index<=s}))}e.logger.stat("check"),n.call({process:t.process,status:Number.isFinite(a)?xp.next:xp.done})},t}(gv(wp.check)),Tv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e,n){var r=t.parseInput(e,n).params;if(r){var i=t.doRemove(e,r);e.workflow.call({process:t.process,status:i?xp.next:xp.done})}},t.doRemove=function(e,n,r){void 0===r&&(r=!1);var i=e.state.fetch;i.firstVisible.index=NaN;var o=t.removeBufferedItems(e,n);n.indexes&&n.indexes.length&&(n.indexes=n.indexes.filter(function(e){return!o.includes(e)}));var a=o.length>0,s=t.removeVirtualItems(e,n,r);return!(!a&&!s||(isNaN(i.firstVisible.index)||i.remove(),e.logger.stat("after remove"),0))},t.removeBufferedItems=function(e,n){var r=n.predicate,i=n.indexes;return r||i?t.runPredicateOverBuffer(e,function(e){return r&&r(e)||!!i&&i.includes(e.$index)},!!n.increase):[]},t.runPredicateOverBuffer=function(e,n,r){for(var i=e.viewport,o=e.buffer,a=e.buffer.items,s=e.state.fetch.firstVisible,u=[],c=0;c<a.length;c++){var l=a[c];if(n(l.get()))u.push(l),l.toRemove=!0;else if(u.length)break}if(!u.length)return[];var d=u[0].$index,h=u[u.length-1].$index,f=i.getEdgeVisibleItem(o.items,xf.backward),p=f.index,v=f.diff;(p<d||p>h)&&(s.index=p,isNaN(p)||(s.delta=-o.getSizeByIndex(p)+v)),isNaN(s.index)&&h<o.finiteAbsMaxIndex&&(s.index=h+1),isNaN(s.index)&&d>o.finiteAbsMinIndex&&(s.index=d-1),isNaN(s.index)&&(s.index=o.finiteAbsMinIndex);var m=u.map(function(e){return e.$index});return e.logger.log(function(){return"going to remove "+u.length+" item(s) from Buffer: ["+m.join(",")+"]"}),o.removeItems(m,r,!1),o.checkDefaultSize(),t.shiftFirstVisibleIndex(e,m,r),u.forEach(function(e){return e.hide()}),m},t.removeVirtualItems=function(e,n,r){var i=n.indexes,o=n.increase;if(!i||!i.length)return!1;for(var a=e.buffer,s=e.viewport,u=e.state.fetch,c=a.finiteAbsMinIndex,l=a.firstIndex,d=a.finiteAbsMaxIndex,h=a.lastIndex,f=[],p=NaN,v=0,m=i.length;v<m;v++){if((g=i[v])>=c&&!isNaN(l)&&g<l)f.push(g);else{if(!(g<=d&&!isNaN(h)&&g>h))continue;f.push(g)}if(r&&!isNaN(p)&&Math.abs(p-g)>1)break;p=g}if(!f.length)return!1;if(isNaN(u.firstVisible.index)){var g,y=s.getEdgeVisibleItem(a.items,xf.backward),b=y.diff;u.firstVisible.index=g=y.index,isNaN(g)||(u.firstVisible.delta=-a.getSizeByIndex(g)+b)}return e.logger.log(function(){return"going to remove "+f.length+" item(s) virtually"}),a.removeItems(f,!!o,!0),a.checkDefaultSize(),t.shiftFirstVisibleIndex(e,f,!!o),!0},t.shiftFirstVisibleIndex=function(e,t,n){var r=e.state.fetch.firstVisible;if(!isNaN(r.index)){var i=t.reduce(function(e,t){return e+(n&&t>r.index||!n&&t<r.index?1:0)},0);r.index=r.index+(n?i:-i)}},t}(gv(wp.remove)),Av=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e,n){var r=t.parseInput(e,n).params;e.state.clip.forceForward=!(r&&r.backwardOnly),e.state.clip.forceBackward=!(r&&r.forwardOnly),e.workflow.call({process:t.process,status:xp.next})},t}(gv(wp.clip)),Ev=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e,n){var r=t.parseInput(e,n).params;if(r){var i=t.doInsert(e,r);e.workflow.call({process:t.process,status:i?xp.next:xp.done})}},t.doInsert=function(e,t){var n=t.before,r=t.items,i=t.decrease,o=n||t.after,a=e.buffer.items.find(function(e){return o(e.get())});if(!a)return e.logger.log("no item to insert found"),!1;var s=a.$index;return Sv.doUpdate(e,{predicate:function(e){var t=e.data;return s!==e.$index||(n?gf(gf([],mf(r)),[t]):gf([t],mf(r)))},fixRight:i})},t}(gv(wp.insert)),Ov=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e,n){var r=t.parseInput(e,n).params;if(r){var i=t.doReplace(e,r);e.workflow.call({process:t.process,status:i?xp.next:xp.done})}},t.doReplace=function(e,t){var n=e.buffer.items.filter(function(e){return t.predicate(e)}).map(function(e){return e.$index});if(!n.length)return e.logger.log("no items to be replaced"),!1;var r=!1;return Sv.doUpdate(e,{predicate:function(e){return!n.includes(e.$index)||!r&&(r=!0,t.items)},fixRight:t.fixRight})},t}(gv(wp.replace)),Mv=fv[wp.fix],Pv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e,n){var r=e.workflow,i=t.parseInput(e,n),o=i.data;i.params&&(Object.entries(o.params).forEach(function(n){var r=mf(n,2),i=r[1];i.isSet&&i.isValid&&t.runByType(e,r[0],i.value,o)}),r.call({process:t.process,status:xp.done}))},t.runByType=function(e,n,r,i){switch(n){case Mv.scrollPosition:return t.setScrollPosition(e,r);case Mv.minIndex:return t.setMinIndex(e,r);case Mv.maxIndex:return t.setMaxIndex(e,r);case Mv.updater:return t.updateItems(e,r);case Mv.scrollToItem:if(i.params){var o=i.params[Mv.scrollToItemOpt];return t.scrollToItem(e,r,o?o.value:void 0)}return;case Mv.scrollToItemOpt:return}},t.setScrollPosition=function(e,t){var n=e.viewport,r=t;t===-1/0?r=0:t===1/0&&(r=n.getScrollableSize()),n.setPosition(r)},t.setMinIndex=function(e,t){var n=e.buffer;e.settings.minIndex=t,n.absMinIndex=t},t.setMaxIndex=function(e,t){var n=e.buffer;e.settings.maxIndex=t,n.absMaxIndex=t},t.updateItems=function(e,t){var n=e.buffer,r=e.logger,i=!1,o=function(){return i=!0};n.items.forEach(function(e){return t(e.get(),o)}),i&&(r.log(function(){return"update Buffer.items reference"}),n.items=gf([],mf(n.items)))},t.scrollToItem=function(e,t,n){var r=e.buffer.items.find(function(e){return t(e.get())});r?r.scrollTo(n):e.logger.log(function(){return"scrollToItem cancelled, item not found"})},t}(gv(wp.fix)),Dv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e){var n=e.state.startInnerLoop();e.workflow.call({process:t.process,status:xp.next,payload:n})},t}(mv(bp.start)),Rv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e){var n=e.workflow,r=e.state,i=r.cycle;r.fetch.minIndex=e.buffer.minIndex,t.setPositionsAndIndexes(e),t.skipBufferedItems(e),e.settings.infinite&&t.checkBufferGaps(e),t.checkFetchPackSize(e),t.setFetchDirection(e),n.call({process:t.process,status:t.getStatus(e),payload:{process:i.initiator}})},t.setPositionsAndIndexes=function(e){t.setPositions(e),t.setFirstIndex(e),t.setLastIndex(e),e.logger.fetch()},t.setPositions=function(e){var n=e.state.fetch.positions,r=e.viewport,i=r.getBufferPadding();n.before=r.scrollPosition,n.startDelta=t.getStartDelta(e),n.relative=n.before-n.startDelta,n.start=n.relative-i,n.end=n.relative+r.getSize()+i},t.getStartDelta=function(e){var t=e.buffer,n=e.viewport.offset,r=0;if(n&&(r+=n),!t.defaultSize)return r;for(var i=t.finiteAbsMinIndex;i<t.startIndex;i++)r+=t.getSizeByIndex(i);return e.logger.log(function(){return gf(["start delta is "+r],mf(n?[" (+"+n+" offset)"]:[]))}),r},t.setFirstIndex=function(e){var t=e.state,n=e.buffer,r=t.fetch,i=r.positions.start,o=r.first,a=n.startIndex,s=0;if(t.cycle.innerLoop.isInitial)e.logger.log("skipping fetch backward direction [initial loop]");else if(n.defaultSize)for(var u=s,c=a;;){if(i>=0){var l=n.getSizeByIndex(c);if(u+l-i>0){a=c,s=u;break}if(u+=l,++c<n.absMinIndex)break}if(i<0){if(--c<n.absMinIndex)break;if(a=c,s=u-=n.getSizeByIndex(c),u-i<=0)break}}else e.logger.log("skipping fetch backward direction [no item size]");o.index=o.indexBuffer=Math.max(a,n.absMinIndex),o.position=s},t.setLastIndex=function(e){var t,n=e.state,r=n.fetch,i=n.cycle,o=e.buffer,a=e.settings,s=r.firstVisible,u=r.positions,c=u.relative,l=u.end,d=r.first,h=r.last;if(o.defaultSize){var f=d.indexBuffer,p=d.position;for(t=f;;){t=f;var v=o.getSizeByIndex(f);if(p+=v,isNaN(s.index)&&p>c&&(s.index=f,i.innerLoop.isInitial||(s.delta=p-v-c)),p>=l)break;if(f++>o.absMaxIndex)break}}else t=o.startIndex+a.bufferSize-1,e.logger.log("forcing fetch forward direction [no item size]");h.index=h.indexBuffer=Math.min(t,o.absMaxIndex)},t.skipBufferedItems=function(e){var t=e.buffer;if(t.size){for(var n=e.state.fetch,r=n.first.index,i=n.last.index,o=[[]],a=0,s=r;s<=i;s++)t.get(s)?o[a].length&&(o[++a]=[]):o[a].push(s);var u=o[0];o[0].length&&o[1]&&o[1].length&&(n.hasAnotherPack=!0,o[1].length>=o[0].length&&(u=o[1])),n.first.index=Math.max(u[0],t.absMinIndex),n.last.index=Math.min(u[u.length-1],t.absMaxIndex),n.first.index===r&&n.last.index===i||e.logger.fetch("after Buffer flushing")}},t.checkBufferGaps=function(e){var t=e.buffer,n=e.state.fetch;if(t.size){var r=n.first.index,i=t.lastIndex;r>i&&(n.first.index=n.first.indexBuffer=i+1);var o=t.firstIndex,a=n.last.index;a<o&&(n.last.index=n.last.indexBuffer=o-1),n.first.index===r&&n.last.index===a||e.logger.fetch("after Buffer filling (no clip case)")}},t.checkFetchPackSize=function(e){var n=e.buffer,r=e.state.fetch;if(r.shouldFetch){var i=r.first.index,o=r.last.index,a=e.settings.bufferSize-(o-i+1);if(!(a<=0)){if(!n.size||o>n.items[0].$index){var s=Math.min(o+a,n.absMaxIndex);s>o&&(r.last.index=r.last.indexBuffer=s)}else{var u=Math.max(i-a,n.absMinIndex);u<i&&(r.first.index=r.first.indexBuffer=u)}r.first.index===i&&r.last.index===o||(e.logger.fetch("after bufferSize adjustment"),t.skipBufferedItems(e))}}},t.setFetchDirection=function(e){var t=e.buffer,n=e.state.fetch;if(n.last.index){var r=xf.forward;t.size&&(r=n.last.index<t.items[0].$index?xf.backward:xf.forward),n.direction=r,e.logger.log(function(){return'fetch direction is "'+r+'"'})}},t.getStatus=function(e){var t=e.state,n=t.fetch;return t.cycle.initiator===wp.clip?(e.logger.log(function(){return'going to skip fetch due to "'+wp.clip+'" process'}),xp.next):n.shouldFetch?(e.logger.log(function(){return"going to fetch "+n.count+" items started from index "+n.index}),xp.next):xp.done},t}(mv(bp.preFetch)),Nv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e){var n=e.workflow,r={success:function(r){e.logger.log(function(){return"resolved "+r.length+" items (index = "+e.state.fetch.index+", count = "+e.state.fetch.count+")"}),e.state.fetch.newItemsData=r,n.call({process:t.process,status:xp.next})},fail:function(e){return n.call({process:t.process,status:xp.error,payload:{error:e}})}},i=t.get(e);t.complete(e,r,i)},t.complete=function(e,t,n){if(Object.prototype.hasOwnProperty.call(n,"data")){var r=n.data;n.isError?t.fail(n.error):t.success(r||[])}else{var i=e.state,o=i.scrollState,a=i.fetch;null===o.positionBeforeAsync&&(o.positionBeforeAsync=e.viewport.scrollPosition),a.cancel=function(){t.success=function(){return null},t.fail=function(){return null}},n.then(function(e){return t.success(e)},function(e){return t.fail(e)})}},t.get=function(e){var t,n,r,i,o=e.state.fetch,a=function(e){r?r(e):t=e||null},s=function(e){i?i(e):n=e||null},u=(0,e.datasource.get)(o.index,o.count,a,s);if(u&&"object"==typeof u&&null!==u){if("function"==typeof u.then)return u;if("function"==typeof u.subscribe)var c=u.subscribe(a,s,function(){c&&"object"==typeof c&&"function"==typeof c.unsubscribe&&c.unsubscribe()})}return t||n?{data:n?null:t||[],error:n,isError:!!n}:new Promise(function(e,t){r=e,i=t})},t}(mv(bp.fetch)),Vv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e){var n=e.workflow;t.setItems(e)?(t.setBufferLimits(e),n.call({process:t.process,status:e.state.fetch.hasNewItems?xp.next:xp.done})):n.call({process:t.process,status:xp.error,payload:{error:"Can't set buffer items"}})},t.setBufferLimits=function(e){var t=e.buffer,n=e.state,r=n.fetch,i=n.cycle.innerLoop,o=r.items,a=r.first.index,s=r.last.index;if(o.length){var u=o.length-1;a<o[0].$index&&(t.absMinIndex=o[0].$index),s>o[u].$index&&(t.absMaxIndex=o[u].$index)}else(s<t.minIndex||i.isInitial)&&(t.absMinIndex=t.minIndex),(a>t.maxIndex||i.isInitial)&&(t.absMaxIndex=t.maxIndex)},t.setItems=function(e){var t=e.buffer,n=e.state,r=n.fetch,i=r.newItemsData;if(!i||!i.length)return!0;var o=r.index;return i.length<r.count&&(n.cycle.innerLoop.isInitial?o=t.startIndex:r.first.index<t.minIndex&&(o=t.minIndex-i.length)),r.items=i.map(function(t,n){return new _v(o+n,t,e.routines)}),r.isPrepend=!!t.items.length&&t.items[0].$index>r.items[r.items.length-1].$index,t.setItems(r.items)},t}(mv(bp.postFetch)),zv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e){var n=e.workflow,r=e.state,i=r.cycle,o=r.render,a=r.scrollState,s=e.viewport;e.logger.stat("before new items render"),null===a.positionBeforeAsync&&(a.positionBeforeAsync=s.scrollPosition),o.renderTimer=setTimeout(function(){o.renderTimer=null,t.doRender(e)?n.call({process:t.process,status:o.noSize?xp.done:xp.next,payload:{process:i.initiator}}):n.call({process:t.process,status:xp.error,payload:{error:"Can't associate item with element"}})},0)},t.doRender=function(e){var n=e.state,r=n.fetch,i=n.render,o=e.viewport,a=e.buffer,s=e.logger;return i.positionBefore=o.scrollPosition,!(!r.isCheck&&(i.sizeBefore=o.getScrollableSize(),!r.items.every(function(n){return t.processElement(e,n)}))||(a.checkDefaultSize(),i.sizeAfter=o.getScrollableSize(),s.stat("after new items render"),s.log(function(){return i.noSize?"viewport size has not been changed":void 0}),0))},t.processElement=function(e,t){var n=e.buffer,r=e.viewport.element.querySelector('[data-sid="'+t.nodeId+'"]');return!!r&&(t.element=r,t.element.style.left="",t.element.style.top="",t.element.style.position="",t.invisible=!1,t.setSize(n.getSizeByIndex(t.$index)),n.cacheItem(t),!0)},t}(mv(bp.render)),jv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e){var n=e.workflow,r=e.viewport,i=e.state.scrollState;i.positionBeforeAdjust=r.scrollPosition,t.setPaddings(e),i.positionAfterAdjust=r.scrollPosition;var o=t.calculatePosition(e);t.setPosition(e,o,function(){return n.call({process:t.process,status:xp.done})})},t.setPaddings=function(e){var t,n,r=e.viewport,i=e.buffer,o=e.settings.inverse,a=e.state.fetch,s=i.getFirstVisibleItem(),u=i.getLastVisibleItem();s&&u?(t=s.$index,n=u.$index):n=(t=isNaN(a.firstVisible.index)?i.startIndex:a.firstVisible.index)-1;var c,l=r.paddings,d=l.forward,h=l.backward,f=0,p=0;for(c=i.finiteAbsMinIndex;c<t;c++)f+=i.getSizeByIndex(c);for(c=n+1;c<=i.finiteAbsMaxIndex;c++)p+=i.getSizeByIndex(c);var v=r.getScrollableSize()-d.size-h.size,m=r.getSize()-(f+v+p);m>0&&(o?f+=m:p+=m,e.logger.log(function(){return o?"backward":"forward padding will be increased by "+m+" to fill the viewport"})),h.size=f,d.size=p,e.logger.stat("after paddings adjustments")},t.calculatePosition=function(e){var t=e.viewport,n=e.buffer,r=e.state,i=r.fetch,o=r.render,a=r.scrollState,s=t.paddings.backward.size;if(!isNaN(i.firstVisible.index)&&!isNaN(n.firstIndex)){e.logger.log("first index = "+i.firstVisible.index+", delta = "+i.firstVisible.delta);var u=i.shouldCheckPreSizeExpectation(n.lastIndex);n.items.forEach(function(e){e.$index<i.firstVisible.index?s+=e.size:(e.$index===i.firstVisible.index&&i.firstVisible.delta&&(s-=i.firstVisible.delta),u&&e.preSize&&i.items.includes(e)&&(s+=e.size-e.preSize))})}if(null!==a.positionBeforeAsync){var c=o.positionBefore-a.positionBeforeAsync;0!==c&&(e.logger.log("shift position due to fetch-render difference ("+c+")"),s+=c)}return t.offset>0&&(s||i.positions.before)&&(s+=t.offset),Math.round(s)},t.setPosition=function(e,t,n){var r=e.state.scrollState,i=e.viewport;if(!r.hasPositionChanged(t))return n();r.syntheticPosition=t,r.syntheticFulfill=!1,r.animationFrameId=requestAnimationFrame(function(){var o=r.positionAfterAdjust-i.scrollPosition,a="";o>0&&(r.syntheticPosition=t-=o,a=" (-"+o+")"),r.syntheticFulfill=!0,i.scrollPosition=t,e.logger.stat("after scroll adjustment"+a),n()})},t}(mv(bp.adjust)),Lv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e){t.prepareClip(e),e.workflow.call({process:t.process,status:xp.next,payload:{doClip:e.state.clip.doClip}})},t.prepareClip=function(e){var n=e.state,r=n.fetch,i=n.clip;if(!t.shouldNotClip(e)){var o=r.first.indexBuffer,a=r.last.indexBuffer;e.logger.log(function(){return"looking for "+(r.direction?"anti-"+r.direction+" ":"")+"items that are out of ["+o+".."+a+"] range"}),t.isBackward(e,o)&&t.prepareClipByDirection(e,xf.backward,o),t.isForward(e,a)&&t.prepareClipByDirection(e,xf.forward,a),i.doClip||e.logger.log("skipping clip [no items to clip]")}},t.shouldNotClip=function(e){var t=e.buffer,n=e.state;return e.settings.infinite&&!n.clip.force?(e.logger.log("skipping clip [infinite mode]"),!0):t.size?!!n.cycle.isInitial&&(e.logger.log("skipping clip [initial cycle]"),!0):(e.logger.log("skipping clip [empty buffer]"),!0)},t.isBackward=function(e,t){var n=e.state,r=n.clip;return r.force?r.forceBackward:n.fetch.direction!==xf.backward&&t-1>=e.buffer.absMinIndex},t.isForward=function(e,t){var n=e.state,r=n.clip;return r.force?r.forceForward:n.fetch.direction!==xf.forward&&t+1<=e.buffer.absMaxIndex},t.prepareClipByDirection=function(e,t,n){var r=t===xf.forward;e.buffer.items.forEach(function(i){(!r&&i.$index<n||r&&i.$index>n)&&(i.toRemove=!0,i.removeDirection=t,e.state.clip.doClip=!0)})},t}(mv(bp.preClip)),Fv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e){var n=e.workflow;t.doClip(e),n.call({process:t.process,status:xp.next})},t.doClip=function(e){var t,n=e.buffer,r=e.viewport.paddings,i=e.state.clip,o=e.logger,a=((t={})[xf.backward]=0,t[xf.forward]=0,t);o.stat("before clip ("+ ++i.callCount+")");var s=n.items.filter(function(e){return!!e.toRemove&&(e.hide(),a[e.removeDirection]+=e.size,!0)});s.length&&(a[xf.backward]&&(r.byDirection(xf.backward).size+=a[xf.backward]),a[xf.forward]&&(r.byDirection(xf.forward).size+=a[xf.forward]),e.settings.onBeforeClip&&e.settings.onBeforeClip(s.map(function(e){return e.get()}))),n.clip(),o.log(function(){var e=s.map(function(e){return e.$index});return e.length?["clipped "+e.length+" item(s) from Buffer"+(a.backward?", +"+a.backward+" fwd px":"")+(a.forward?", +"+a.forward+" bwd px":"")+", range: ["+e[0]+".."+e[e.length-1]+"]"]:"clipped 0 items from Buffer"}),o.stat("after clip")},t}(mv(bp.clip)),Uv=function(e){return!!e.call.interrupted},Bv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ff(t,e),t.run=function(e,n){var r=(void 0===n?{}:n).error,i=e.workflow,o=e.state.cycle.interrupter;if(r||o||t.calculateParams(e,i),Uv(i))i.call({process:t.process,status:xp.done});else{var a=t.finalizeInnerLoop(e,r);i.call({process:t.process,status:a?xp.next:xp.done,payload:pf({},o?{process:o}:{})})}},t.calculateParams=function(e,t){var n,r=e.adapter,i=e.viewport,o=e.buffer.items;r.wanted.firstVisible&&((n=i.getEdgeVisibleItem(o,xf.backward).item)&&n.element===r.firstVisible.element||(r.firstVisible=n?n.get():Mf)),r.wanted.lastVisible&&!Uv(t)&&((n=i.getEdgeVisibleItem(o,xf.forward).item)&&n.element===r.lastVisible.element||(r.lastVisible=n?n.get():Mf))},t.finalizeInnerLoop=function(e,n){var r=e.state,i=e.state,o=i.cycle,a=i.clip,s=i.fetch,u=!!o.interrupter||!n&&t.getNext(e);return o.innerLoop.isInitial=!1,s.stopSimulate(),a.reset(!0),r.endInnerLoop(),u},t.getNext=function(e){var t=e.state,n=t.fetch,r=t.render;return!(!n.simulate||!n.isCheck||r.noSize)||!(!n.simulate||!n.doRemove)||!(n.simulate||!(n.hasNewItems&&!r.noSize||n.hasAnotherPack))},t}(mv(bp.end)),$v=function(){function e(e,t,n){var r=this;this.logs=[],this.logAdapterMethod=function(e,t,n){if(r.debug){var i=(void 0===t?[]:Array.isArray(t)?t:[t]).map(function(e){return"function"==typeof e?"func":"object"==typeof e&&e?Array.isArray(e)?"[of "+e.length+"]":"{ "+Object.keys(e).join(", ")+" }":e}).join(", ");r.log("adapter: "+e+"("+(i||"")+")"+(n||""))}};var i=e.settings;this.debug=i.debug,this.immediateLog=i.immediateLog,this.logTime=i.logTime,this.getTime=function(){return e.state&&" // time: "+e.state.time},this.getStat=function(){var t=e.buffer,n=e.viewport,r=t.getFirstVisibleItem(),i=t.getLastVisibleItem();return"pos: "+n.scrollPosition+", size: "+n.getScrollableSize()+", bwd_p: "+n.paddings.backward.size+", fwd_p: "+n.paddings.forward.size+", default: "+(t.defaultSize||"no")+", items: "+t.getVisibleItemsCount()+", range: "+(r&&i?"["+r.$index+".."+i.$index+"]":"no")},this.getFetchRange=function(){var t=e.state.fetch,n=t.first.index,r=t.last.index;return Number.isNaN(n)||Number.isNaN(r)?"no":"["+n+".."+r+"]"},this.getLoopId=function(){return e.state.cycle.loopId},this.getLoopIdNext=function(){return e.state.cycle.loopIdNext},this.getWorkflowCycleData=function(){return i.instanceIndex+"-"+e.state.cycle.count},this.getScrollPosition=function(t){return e.routines.getScrollPosition(t)},this.log(function(){return"vscroll Workflow has been started, core: "+t.core.name+" v"+t.core.version+", consumer: "+t.consumer.name+" v"+t.consumer.version+", workflow instance: "+i.instanceIndex+", adapter "+(n?"instance: "+n.id:"is not instantiated")})}return e.prototype.object=function(e,t,n){this.log(function(){return[e,n?JSON.stringify(t,function(e,t){return Number.isNaN(t)?"NaN":t===1/0?"Infinity":t===-1/0?"-Infinity":t instanceof Element?"HTMLElement":t instanceof HTMLDocument?"HTMLDocument":"function"==typeof t?"Function":t}).replace(/"/g,"").replace(/(\{|:|,)/g,"$1 ").replace(/(\})/g," $1"):t]})},e.prototype.stat=function(e){var t=this;if(this.debug){var n=["color: #888; border: dashed #888 0; border-bottom-width: 0px","color: #000; border-width: 0"];this.log(function(){return gf(["%cstat"+(e?" "+e:"")+",%c "+t.getStat()],mf(n))})}},e.prototype.fetch=function(e){var t=this;if(this.debug){var n="fetch interval"+(e?" "+e:""),r=["color: #888","color: #000"];this.log(function(){return gf(["%c"+n+": %c"+t.getFetchRange()],mf(r))})}},e.prototype.prepareForLog=function(e){return e instanceof Event&&e.target?this.getScrollPosition(e.target):e},e.prototype.logProcess=function(e){if(this.debug){var t=e.process,n=e.status,r=e.payload,i=[];if(t===bp.init&&n===xp.next)i.push("%c---=== loop "+this.getLoopIdNext()+" start");else if(t===bp.end){i.push("%c---=== loop "+this.getLoopId()+" done");var o=r&&r.process;n===xp.next&&o!==wp.reset&&o!==wp.reload&&(i[0]+=", loop "+this.getLoopIdNext()+" start")}i.length&&this.log(function(){return gf(gf([],mf(i)),["color: #006600;"])})}},e.prototype.logCycle=function(e){void 0===e&&(e=!0);var t=this.getWorkflowCycleData(),n="color: #0000aa; border: solid #555 1px; border-width: "+(e?"1px 0 0 1px":"0 0 1px 1px")+"; margin-left: -2px";this.log(function(){return["%c   ~~~ WF Cycle "+t+" "+(e?"STARTED":"FINALIZED")+" ~~~  ",n]})},e.prototype.logError=function(e){var t=this;if(this.debug){var n=["color: #a00;","color: #000"];this.log(function(){return gf(["error:%c"+(e?" "+e:"")+"%c (loop "+t.getLoopIdNext()+")"],mf(n))})}},e.prototype.log=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(this.debug){if("function"==typeof t[0]&&(t=t[0](),Array.isArray(t)||(t=[t])),t.every(function(e){return void 0===e}))return;this.logTime&&(t=gf(gf([],mf(t)),[this.getTime()])),t=t.map(function(t){return e.prepareForLog(t)}),this.immediateLog?console.log.apply(this,t):this.logs.push(t)}},e.prototype.logForce=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.debug&&(!this.immediateLog&&this.logs.length&&(this.logs.forEach(function(t){return console.log.apply(e,t)}),this.logs=[]),t.length&&console.log.apply(this,t))},e}(),Hv=function(){function e(e){this.horizontal=e.horizontal,this.window=e.windowViewport}return e.prototype.checkElement=function(e){if(!e)throw new Error("HTML element is not defined")},e.prototype.getScrollPosition=function(e){return this.window?window.pageYOffset:(this.checkElement(e),e[this.horizontal?"scrollLeft":"scrollTop"])},e.prototype.setScrollPosition=function(e,t){t=Math.max(0,t),this.window?this.horizontal?window.scrollTo(t,window.scrollY):window.scrollTo(window.scrollX,t):(this.checkElement(e),e[this.horizontal?"scrollLeft":"scrollTop"]=t)},e.prototype.getParams=function(e,t){return this.checkElement(e),this.window&&t?{height:e.clientHeight,width:e.clientWidth,top:e.clientTop,bottom:e.clientTop+e.clientHeight,left:e.clientLeft,right:e.clientLeft+e.clientWidth}:e.getBoundingClientRect()},e.prototype.getSize=function(e,t){return this.getParams(e,t)[this.horizontal?"width":"height"]},e.prototype.getSizeStyle=function(e){return this.checkElement(e),parseFloat(e.style[this.horizontal?"width":"height"])||0},e.prototype.setSizeStyle=function(e,t){this.checkElement(e),t=Math.max(0,Math.round(t)),e.style[this.horizontal?"width":"height"]=t+"px"},e.prototype.getEdge=function(e,t,n){return this.getParams(e,n)[t===xf.forward?this.horizontal?"right":"bottom":this.horizontal?"left":"top"]},e.prototype.getEdge2=function(e,t,n,r){return e.offsetTop-(n?n.scrollTop:0)+(t===(r?xf.backward:xf.forward)?this.getSize(e):0)},e.prototype.hideElement=function(e){this.checkElement(e),e.style.display="none"},e.prototype.getOffset=function(e){return this.checkElement(e),(this.horizontal?e.offsetLeft:e.offsetTop)||0},e.prototype.scrollTo=function(e,t){this.checkElement(e),e.scrollIntoView(t)},e}(),qv=function(){function e(e,t,n){this.element=e.querySelector("[data-padding-"+t+"]"),this.direction=t,this.routines=n}return e.prototype.reset=function(e){this.size=e||0},Object.defineProperty(e.prototype,"size",{get:function(){return this.routines.getSizeStyle(this.element)},set:function(e){this.routines.setSizeStyle(this.element,e)},enumerable:!1,configurable:!0}),e}(),Wv=function(){function e(e,t,n){this.settings=n,this.forward=new qv(e,xf.forward,t),this.backward=new qv(e,xf.backward,t)}return e.prototype.byDirection=function(e,t){return e===xf.backward?t?this.forward:this.backward:t?this.backward:this.forward},e.prototype.reset=function(e,t,n){var r,i=this.getPositiveSize(t,e,n),o=this.getNegativeSize(t);this.settings.inverse?(this.forward.reset(o),this.backward.reset(i),(r=e-this.backward.size-n)>0&&(this.backward.size+=r,this.forward.size-=r)):(this.forward.reset(i),this.backward.reset(o),(r=e-this.forward.size-n)>0&&(this.backward.size-=r,this.forward.size+=r))},e.prototype.getPositiveSize=function(e,t,n){var r=this.settings,i=t;return isFinite(r.maxIndex)&&(i=(r.maxIndex-e+1)*r.itemSize),n&&(i=Math.max(i-n,0)),i},e.prototype.getNegativeSize=function(e){var t=this.settings,n=0;return isFinite(t.minIndex)&&(n=(e-t.minIndex)*t.itemSize),n},e}(),Gv=function(){function e(e,t,n,r,i){this.element=e,this.settings=t,this.routines=n,this.state=r,this.logger=i,this.disabled=!1,t.windowViewport?(this.hostElement=document.documentElement,this.scrollEventReceiver=window):(this.hostElement=t.viewport||this.element.parentElement,this.scrollEventReceiver=this.hostElement),this.paddings=new Wv(this.element,this.routines,t),t.windowViewport&&"scrollRestoration"in history&&(history.scrollRestoration="manual"),t.dismissOverflowAnchor&&(this.hostElement.style.overflowAnchor="none")}return e.prototype.reset=function(e){this.setOffset(),this.paddings.reset(this.getSize(),e,this.offset),this.scrollPosition=this.paddings.backward.size||0,this.state.scrollState.reset()},e.prototype.setPosition=function(e){if(this.scrollPosition===e)return this.logger.log(function(){return["setting scroll position at",e,"[cancelled]"]}),e;this.routines.setScrollPosition(this.hostElement,e);var t=this.scrollPosition;return this.logger.log(function(){return gf(["setting scroll position at",t],mf(t!==e?["("+e+")"]:[]))}),t},Object.defineProperty(e.prototype,"scrollPosition",{get:function(){return this.routines.getScrollPosition(this.hostElement)},set:function(e){this.setPosition(e)},enumerable:!1,configurable:!0}),e.prototype.disableScrollForOneLoop=function(){var e=this;if(!this.disabled){var t=this.hostElement.style;if("hidden"!==t.overflowY){this.disabled=!0;var n=t.overflowY;setTimeout(function(){e.disabled=!1,t.overflowY=n}),t.overflowY="hidden"}}},e.prototype.getSize=function(){return this.routines.getSize(this.hostElement,!0)},e.prototype.getScrollableSize=function(){return this.routines.getSize(this.element)},e.prototype.getBufferPadding=function(){return this.getSize()*this.settings.padding},e.prototype.getEdge=function(e){return this.routines.getEdge(this.hostElement,e,!0)},e.prototype.setOffset=function(){this.offset=this.routines.getOffset(this.element),this.settings.windowViewport||(this.offset-=this.routines.getOffset(this.hostElement))},e.prototype.getEdgeVisibleItem=function(e,t){for(var n,r=t===xf.backward,i=r?xf.forward:xf.backward,o=this.getEdge(t),a=0,s=r?0:e.length-1;r?s<=e.length-1:s>=0;s+=r?1:-1)if(a=this.routines.getEdge(e[s].element,i)-o,r&&a>0||!r&&a<0){n=e[s];break}return{item:n,index:n?n.$index:NaN,diff:a}},e}(),Xv=function(){function e(){this.reset()}return e.prototype.reset=function(){this.newItems=[],this.oldItems=[],this.removed=[]},e}(),Zv=function(){function e(e,t){this.itemSize=e,this.sizeStrategy=t,this.sizeMap=new Map,this.recalculation=new Xv}return e.prototype.reset=function(e){e&&(this.constantSize=this.itemSize,this.frequentSize=this.itemSize,this.averageSize=this.itemSize,this.averageSizeFloat=this.itemSize,this.sizeMap.clear()),this.recalculation.reset()},e.prototype.get=function(){switch(this.sizeStrategy){case kf.Average:return this.averageSize;case kf.Frequent:return this.frequentSize;default:return this.constantSize}},e.prototype.recalculateAverageSize=function(e){var t=this.recalculation,n=t.oldItems,r=t.newItems,i=t.removed;if(n.length){var o=n.reduce(function(e,t){return e+t.size},0),a=n.reduce(function(e,t){return e+t.newSize},0);this.averageSizeFloat=(this.averageSizeFloat||0)-(o-a)/(e-r.length)}if(r.length&&(a=r.reduce(function(e,t){return e+t.size},0),this.averageSizeFloat=((e-r.length)*(this.averageSizeFloat||0)+a)/e),i.length){var s=i.reduce(function(e,t){return e+t.size},0);this.averageSizeFloat=((e+i.length)*(this.averageSizeFloat||0)-s)/e}this.averageSize=Math.round(this.averageSizeFloat)},e.prototype.recalculateFrequentSize=function(){var e=this,t=this.recalculation,n=t.oldItems,r=t.newItems,i=t.removed,o=this.sizeMap.get(this.frequentSize);r.length&&r.forEach(function(t){var n=t.size;return e.sizeMap.set(n,(e.sizeMap.get(n)||0)+1)}),n.length&&(n.forEach(function(t){var n=t.size;return e.sizeMap.set(n,Math.max((e.sizeMap.get(n)||0)-1,0))}),n.forEach(function(t){var n=t.newSize;return e.sizeMap.set(n,(e.sizeMap.get(n)||0)+1)})),i.length&&i.forEach(function(t){var n=t.size;return e.sizeMap.set(n,Math.max((e.sizeMap.get(n)||0)-1,0))});var a=gf([],mf(this.sizeMap.entries())).sort(function(e,t){return t[1]-e[1]}),s=a[0][1],u=a.filter(function(e){return e[1]===s});u.length>1&&u.find(function(e){return e[0]===o})||(this.frequentSize=a[0][0])},e.prototype.recalculate=function(e){if(this.sizeStrategy===kf.Constant)return!1;var t=this.recalculation;if(!t.oldItems.length&&!t.newItems.length&&!t.removed.length)return!1;var n=this.get();return e?(this.sizeStrategy===kf.Average?this.recalculateAverageSize(e):this.recalculateFrequentSize(),this.recalculation.reset()):this.reset(!0),this.get()!==n},e.prototype.setExisted=function(e,t){this.sizeStrategy!==kf.Constant&&this.recalculation.oldItems.push({size:e.size,newSize:t.size})},e.prototype.setNew=function(e){this.sizeStrategy!==kf.Constant?this.recalculation.newItems.push({size:e.size}):this.constantSize||(this.constantSize=e.size)},e.prototype.setRemoved=function(e){this.sizeStrategy!==kf.Constant&&this.recalculation.removed.push({size:e.size})},e}(),Qv=function(){function e(e,t){this.$index=e.$index,this.nodeId=e.nodeId,this.data=t?e.data:null,this.size=e.size}return e.prototype.changeIndex=function(e){this.$index=e,this.nodeId=String(e)},e}(),Kv=function(){function e(e,t){var n=e.itemSize,r=e.cacheData,i=e.cacheOnReload,o=e.sizeStrategy;this.itemSize=n,this.saveData=r,this.cacheOnReload=i,this.sizeStrategy=o,this.logger=t,this.items=new Map,this.defaultSize=new Zv(n,o),this.reset(!0)}return e.prototype.reset=function(e){(e=e||!this.cacheOnReload)&&(this.minIndex=1/0,this.maxIndex=-1/0,this.items.clear()),this.defaultSize.reset(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this.items.size},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this.items.get(e)},e.prototype.getSizeByIndex=function(e){var t=this.get(e);return t?t.size:this.defaultSize.get()},e.prototype.getDefaultSize=function(){return this.defaultSize.get()},e.prototype.recalculateDefaultSize=function(){var e=this;return!!this.defaultSize.recalculate(this.size)&&(this.logger.log(function(){return"default size has been updated: "+e.defaultSize.get()}),!0)},e.prototype.add=function(e){var t=this.get(e.$index);return t?(this.saveData&&(t.data=e.data),t.size!==e.size&&(void 0!==t.size?this.defaultSize.setExisted(t,e):this.defaultSize.setNew(e),t.size=e.size)):(t=new Qv(e,this.saveData),this.items.set(e.$index,t),this.defaultSize.setNew(t)),e.$index<this.minIndex&&(this.minIndex=e.$index),e.$index>this.maxIndex&&(this.maxIndex=e.$index),t},e.prototype.removeItems=function(e,t){var n=this,r=new Map,i=1/0,o=-1/0;this.items.forEach(function(a){if(e.some(function(e){return e===a.$index}))void 0!==a.size&&n.defaultSize.setRemoved(a);else{var s=e.reduce(t?function(e,t){return e+(a.$index<t?1:0)}:function(e,t){return e-(a.$index>t?1:0)},0);a.changeIndex(a.$index+s),r.set(a.$index,a),i=a.$index<i?a.$index:i,o=a.$index>o?a.$index:o}}),this.items=r,this.minIndex=i,this.maxIndex=o},e.prototype.updateSubset=function(e,t,n){var r=this;if(this.size&&e.length){var i,o,a=e[0].$index,s=e[e.length-1].$index;t.length?(i=t[0].$index-a,o=t[t.length-1].$index-s):(i=n?s-a+1:0,o=n?0:a-s-1);var u=new Map;this.items.forEach(function(e){return e.$index<a?(e.changeIndex(e.$index+i),void u.set(e.$index,e)):e.$index>s?(e.changeIndex(e.$index+o),void u.set(e.$index,e)):void 0}),t.forEach(function(e){return u.set(e.$index,new Qv(e,r.saveData))}),e.filter(function(e){return e.toRemove}).forEach(function(e){return r.defaultSize.setRemoved(e)}),this.minIndex+=i,this.maxIndex+=o,this.items=u}},e.prototype.shiftIndexes=function(e){var t=new Map,n=1/0,r=-1/0;this.items.forEach(function(i){i.changeIndex(i.$index+e),t.set(i.$index,i),n=i.$index<n?i.$index:n,r=i.$index>r?i.$index:r}),this.items=t,this.minIndex=n,this.maxIndex=r},e}(),Yv=function(){function e(e,t,n){this._items=[],this.logger=n,this.changeItems=t,this.bof=new wf(!1),this.eof=new wf(!1),this.cache=new Kv(e,n),this.startIndexUser=e.startIndex,this.minIndexUser=e.minIndex,this.maxIndexUser=e.maxIndex,this.reset(!0)}return e.prototype.dispose=function(){this.bof.dispose(),this.eof.dispose(),this._items.forEach(function(e){return e.dispose()}),this._items=[]},e.prototype.reset=function(e,t){this.items.forEach(function(e){return e.hide()}),this.pristine=!0,this.items=[],this.cache.reset(e),this.absMinIndex=this.minIndexUser,this.absMaxIndex=this.maxIndexUser,this.setCurrentStartIndex(t),this.bof.set(!1),this.eof.set(!1),this.pristine=!1},e.prototype.setCurrentStartIndex=function(e){var t=this.minIndexUser,n=this.maxIndexUser,r=this.startIndexUser,i=Number(e);Number.isNaN(i)&&(this.logger.log(function(){return"fallback startIndex to settings.startIndex ("+r+")"}),i=r),i<t&&(this.logger.log(function(){return"setting startIndex to settings.minIndex ("+t+") because "+i+" < "+t}),i=t),i>n&&(this.logger.log(function(){return"setting startIndex to settings.maxIndex ("+n+") because "+i+" > "+n}),i=n),this.startIndex=i},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(e){this._items=e,this.changeItems(e),this.pristine||(this.checkBOF(),this.checkEOF())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absMinIndex",{get:function(){return this._absMinIndex},set:function(e){this._absMinIndex!==e&&(this._absMinIndex=Number.isFinite(this._absMaxIndex)&&e>this._absMaxIndex?this._absMaxIndex:e),this.pristine||this.checkBOF()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absMaxIndex",{get:function(){return this._absMaxIndex},set:function(e){this._absMaxIndex!==e&&(this._absMaxIndex=Number.isFinite(this._absMinIndex)&&e<this._absMinIndex?this._absMinIndex:e),this.pristine||this.checkEOF()},enumerable:!1,configurable:!0}),e.prototype.checkBOF=function(){var e=this.items.length?this.items[0].$index===this.absMinIndex:isFinite(this.absMinIndex);this.bof.set(e)},e.prototype.checkEOF=function(){var e=this.items.length?this.items[this.items.length-1].$index===this.absMaxIndex:isFinite(this.absMaxIndex);this.eof.set(e)},Object.defineProperty(e.prototype,"size",{get:function(){return this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cacheSize",{get:function(){return this.cache.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultSize",{get:function(){return this.cache.getDefaultSize()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minIndex",{get:function(){return isFinite(this.cache.minIndex)?this.cache.minIndex:this.startIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxIndex",{get:function(){return isFinite(this.cache.maxIndex)?this.cache.maxIndex:this.startIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"firstIndex",{get:function(){return this.items.length?this.items[0].$index:NaN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastIndex",{get:function(){return this.items.length?this.items[this.items.length-1].$index:NaN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finiteAbsMinIndex",{get:function(){return isFinite(this.absMinIndex)?this.absMinIndex:this.minIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finiteAbsMaxIndex",{get:function(){return isFinite(this.absMaxIndex)?this.absMaxIndex:this.maxIndex},enumerable:!1,configurable:!0}),e.prototype.get=function(e){return this.items.find(function(t){return t.$index===e})},e.prototype.setItems=function(e){if(this.items.length)if(this.items[0].$index>e[e.length-1].$index)this.items=gf(gf([],mf(e)),mf(this.items));else{if(!(e[0].$index>this.items[this.items.length-1].$index))return!1;this.items=gf(gf([],mf(this.items)),mf(e))}else this.items=gf([],mf(e));return!0},e.prototype.clip=function(){this.items=this.items.filter(function(e){return!e.toRemove})},e.prototype.shiftExtremum=function(e,t){t?(this.absMinIndex-=e,this.startIndex-=e):this.absMaxIndex+=e,this.startIndex>this.absMaxIndex?this.startIndex=this.absMaxIndex:this.startIndex<this.absMinIndex&&(this.startIndex=this.absMinIndex)},e.prototype.append=function(e,t){t&&(this.items.forEach(function(t){return t.updateIndex(t.$index-e)}),this.cache.shiftIndexes(-e),this.items=gf([],mf(this.items))),this.shiftExtremum(e,t)},e.prototype.prepend=function(e,t){t||(this.items.forEach(function(t){return t.updateIndex(t.$index+e)}),this.cache.shiftIndexes(e),this.items=gf([],mf(this.items))),this.shiftExtremum(e,t)},e.prototype.removeItems=function(e,t,n){void 0===n&&(n=!1);for(var r=[],i=n?e:[],o=this.items.length,a=!1,s=function(o){var s=u.items[o];if(!n&&e.indexOf(s.$index)>=0)return i.push(s.$index),"continue";var c=i.reduce(function(e,n){return e+(t?s.$index<n?1:0:s.$index>n?-1:0)},0);a=a||!!c,s.updateIndex(s.$index+c),n||(t?r.unshift(s):r.push(s))},u=this,c=t?o-1:0;t?c>=0:c<o;t?c--:c++)s(c);this.shiftExtremum(-i.length,t),n?a&&(this.items=gf([],mf(this.items))):this.items=r,this.cache.removeItems(i,t)},e.prototype.updateItems=function(e,t,n,r){if(!this.size||Number.isNaN(this.firstIndex))return{trackedIndex:NaN,toRemove:[]};for(var i=n,o=r?this.lastIndex:this.firstIndex,a=[],s=r?-1:1,u=this.size-1,c=new Map,l=Array.prototype[r?"unshift":"push"],d=function(u){var d=h.items[u];c.set(d.$index,d);var f=e(d);if(!f||Array.isArray(f)&&!f.length)return d.toRemove=!0,i+=d.$index>=n?r?1:0:r?0:-1,h.shiftExtremum(-1,r),"continue";if(!Array.isArray(f))return d.updateIndex(o),l.call(a,d),o+=s,"continue";d.$index<n?i+=r?0:f.length-1:d.$index>n&&(i+=r?1-f.length:0);var p=!0,v=[];(r?gf([],mf(f)).reverse():f).forEach(function(e,r){var a;d.data===e?(n===d.$index&&(i=o+r*s),d.updateIndex(o+r*s),a=d,p=!1):(a=t(o+r*s,e)).toInsert=!0,l.call(v,a)}),d.toRemove=p,l.call.apply(l,gf([a],mf(v))),o+=s*f.length,f.length>1&&h.shiftExtremum(f.length-1,r)},h=this,f=r?u:0;r?f>=0:f<=u;f+=s)d(f);var p=this.items.filter(function(e){return e.toRemove}),v=Array.from(c).map(function(e){var t=mf(e,2),n=t[1];return{$index:t[0],size:n.size,toRemove:n.toRemove}}).sort(function(e,t){return e.$index-t.$index});return this.items=a,this.cache.updateSubset(v,a,r),this.finiteAbsMinIndex===this.finiteAbsMaxIndex?i=NaN:i>this.finiteAbsMaxIndex?i=this.finiteAbsMaxIndex:i<this.finiteAbsMinIndex&&(i=this.finiteAbsMinIndex),{trackedIndex:i,toRemove:p}},e.prototype.cacheItem=function(e){this.cache.add(e)},e.prototype.getFirstVisibleItemIndex=function(){for(var e=this.items.length,t=0;t<e;t++)if(!this.items[t].invisible)return t;return-1},e.prototype.getLastVisibleItemIndex=function(){for(var e=this.items.length-1;e>=0;e--)if(!this.items[e].invisible)return e;return-1},e.prototype.getFirstVisibleItem=function(){var e=this.getFirstVisibleItemIndex();if(e>=0)return this.items[e]},e.prototype.getLastVisibleItem=function(){var e=this.getLastVisibleItemIndex();if(e>=0)return this.items[e]},e.prototype.getEdgeVisibleItem=function(e,t){return e===(t?xf.backward:xf.forward)?this.getLastVisibleItem():this.getFirstVisibleItem()},e.prototype.getVisibleItemsCount=function(){return this.items.reduce(function(e,t){return e+(t.invisible?0:1)},0)},e.prototype.getSizeByIndex=function(e){return this.cache.getSizeByIndex(e)},e.prototype.checkDefaultSize=function(){return this.cache.recalculateDefaultSize()},e}(),Jv=function(){function e(e){this.total=e,this.isInitial=!1,this.busy=new wf(!1)}return Object.defineProperty(e.prototype,"first",{get:function(){return 0===this.count},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.count++,this.total++,this.busy.set(!1)},e.prototype.start=function(){this.busy.set(!0)},e.prototype.dispose=function(){this.busy.dispose()},e}(),em=function(){function e(e,t){var n=t?t.count:1,r=t?t.innerLoop.count:0;this.instanceIndex=e,this.innerLoop=new Jv(r),this.interrupter=null,this.busy=new wf(!1),this.done(n)}return Object.defineProperty(e.prototype,"loopId",{get:function(){return this.instanceIndex+"-"+this.count+"-"+this.innerLoop.total},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopIdNext",{get:function(){return this.instanceIndex+"-"+this.count+"-"+(this.innerLoop.total+1)},enumerable:!1,configurable:!0}),e.prototype.done=function(e){this.count=e,this.isInitial=!1,this.busy.set(!1)},e.prototype.start=function(e,t){this.isInitial=e,this.initiator=t,this.innerLoop.isInitial=e,this.innerLoop.count=0,this.interrupter=null,this.busy.set(!0)},e.prototype.dispose=function(e){e&&this.busy.dispose(),this.innerLoop.dispose()},e}(),tm=function(){function e(){this.reset()}return e.prototype.reset=function(){this.startDelta=0,this.before=0},e}(),nm=function(){function e(){this.reset()}return e.prototype.reset=function(){this.index=NaN,this.indexBuffer=NaN,this.position=NaN},e}(),rm=function(){function e(){this.reset()}return e.prototype.reset=function(){this.index=NaN,this.indexBuffer=NaN},e}(),im=function(){function e(){this.reset()}return e.prototype.reset=function(){this.index=NaN,this.delta=0},e}(),om=function(){function e(e){this.directionPriority=e,this.callCount=0,this.positions=new tm,this.first=new nm,this.last=new rm,this.firstVisible=new im,this.reset()}return e.prototype.reset=function(){this._newItemsData=null,this.items=[],this.positions.reset(),this.first.reset(),this.last.reset(),this.firstVisible.reset(),this.hasAnotherPack=!1,this.direction=null,this.cancel=null,this.simulate=!1,this.isPrepend=!1,this.isCheck=!1,this.doRemove=!1},Object.defineProperty(e.prototype,"newItemsData",{get:function(){return this._newItemsData},set:function(e){this._newItemsData=e,e&&e.length&&this.callCount++},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shouldFetch",{get:function(){return!!this.count},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNewItems",{get:function(){return!(!this._newItemsData||!this._newItemsData.length)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.first.index},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return isNaN(this.first.index)||isNaN(this.last.index)?0:this.last.index-this.first.index+1},enumerable:!1,configurable:!0}),e.prototype.shouldCheckPreSizeExpectation=function(e){if(this.directionPriority===xf.backward)return!1;var t=this.items[this.items.length-1];return t&&t.$index<e},e.prototype.startSimulate=function(e){this.simulate=!0,this._newItemsData=e.map(function(e){return e.data}),this.items=e,this.hasAnotherPack=!1},e.prototype.stopSimulate=function(){this.simulate=!1,this.isPrepend=!1,this.isCheck=!1,this.doRemove=!1},e.prototype.append=function(e){this.startSimulate(e),this.last.index=e[e.length-1].$index,this.first.index=e[0].$index,this.direction=xf.forward},e.prototype.prepend=function(e){this.startSimulate(e),this.last.index=e[0].$index,this.first.index=e[e.length-1].$index,this.direction=xf.backward,this.isPrepend=!0},e.prototype.check=function(e){this.startSimulate(e),this.last.index=e[0].$index,this.first.index=e[e.length-1].$index,this.isCheck=!0},e.prototype.remove=function(){this.startSimulate([]),this.doRemove=!0},e.prototype.update=function(e,t,n,r){this.startSimulate(n),this.firstVisible.index=e,this.firstVisible.delta=t,this.doRemove=r.length>0},e}(),am=function(){function e(){this.callCount=0,this.reset()}return Object.defineProperty(e.prototype,"force",{get:function(){return this.forceForward||this.forceBackward},enumerable:!1,configurable:!0}),e.prototype.reset=function(e){this.doClip=!1,e||(this.forceForward=!1,this.forceBackward=!1)},e}(),sm=function(){function e(){this.reset()}return Object.defineProperty(e.prototype,"noSize",{get:function(){return this.sizeBefore===this.sizeAfter},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.sizeBefore=0,this.sizeAfter=0,this.positionBefore=0,this.renderTimer=null},e}(),um=function(){function e(){this.reset()}return e.prototype.reset=function(){this.previous=null,this.current=null,this.syntheticPosition=null,this.syntheticFulfill=!1,this.positionBeforeAsync=null,this.positionBeforeAdjust=null,this.positionAfterAdjust=null,this.cleanupTimers()},e.prototype.cleanupTimers=function(){this.scrollTimer&&(clearTimeout(this.scrollTimer),this.scrollTimer=null),this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0)},e.prototype.hasPositionChanged=function(e){var t=this.positionBeforeAdjust,n=this.positionAfterAdjust;return null===t||t!==e||null===n||n!==e},e}(),cm=function(){function e(e,t,n){this.packageInfo=e,this.settings=t,this.initTime=Number(new Date),this.cycle=new em(this.settings.instanceIndex,n?n.cycle:void 0),this.fetch=new om(t.directionPriority),this.clip=new am,this.render=new sm,this.scrollState=new um}return Object.defineProperty(e.prototype,"time",{get:function(){return Number(new Date)-this.initTime},enumerable:!1,configurable:!0}),e.prototype.endInnerLoop=function(){var e=this,t=e.fetch,n=e.render,r=e.cycle;t.cancel&&(t.cancel(),t.cancel=null),n.renderTimer&&(clearTimeout(n.renderTimer),n.renderTimer=null),r.innerLoop.done()},e.prototype.startInnerLoop=function(){var e=this,t=e.cycle,n=e.scrollState,r=e.fetch,i=e.render,o=e.clip;return t.innerLoop.start(),n.positionBeforeAsync=null,r.simulate||r.reset(),o.reset(o.force),i.reset(),pf({},t.innerLoop.first?{process:t.initiator,doRender:r.simulate&&r.items.length>0}:{})},e.prototype.dispose=function(){this.cycle.dispose(),this.endInnerLoop(),this.scrollState.cleanupTimers()},e}(),lm=Pf(),dm=function(e,t){return"object"==typeof e&&null!==e&&Object.prototype.hasOwnProperty.call(e,t)},hm=function(e,t,n){var r=t;if(!dm(t,"items")){var i=Array.isArray(t)?t:[t];r=e?{items:i,bof:n}:{items:i,eof:n}}return r},fm=function(){function e(e,t,n){var r=this;this.source={},this.box={},this.demand={},this.wanted={},this.getWorkflow=t,this.logger=n,this.relax$=null,this.relaxRun=null,this.reloadCounter=0;var i=e&&Df.get(e.id)||{},o=e?lm.map(function(t){var n=e[t.name];if(e.augmented){var r=i[t.name];r&&(n=r.default)}return pf(pf({},t),{value:n})}):Pf();Object.entries(i).forEach(function(e){var t=mf(e,2),n=t[0],r=t[1],i=o.find(function(e){return e.name===n});i&&r&&(i.value=r.default)}),o.filter(function(e){return e.type===bf.Scalar&&e.permanent}).forEach(function(e){var t=e.value;return Object.defineProperty(r,e.name,{configurable:!0,get:function(){return t}})}),o.filter(function(e){return e.type===bf.Reactive}).forEach(function(e){var t=e.name;r.source[t]=e.value,Object.defineProperty(r,t,{configurable:!0,get:function(){var e=lm.find(function(e){return e.wanted&&e.reactive===t});return e&&(r.wanted[e.name]=!0),r.source[t]}})}),o.filter(function(e){return e.type===bf.Scalar&&!!e.reactive}).forEach(function(e){var t=e.name,n=e.value,o=e.reactive,a=e.wanted;a&&(r.wanted[t]=!1),r.box[t]=n,Object.defineProperty(r,t,{configurable:!0,set:function(e){if(e!==r.box[t]){r.box[t]=e,r.source[o].set(e);var n=i[o];n&&n.emit(n.source,e)}},get:function(){return a&&(r.wanted[t]=!0),r.box[t]}})}),o.filter(function(e){return e.type===bf.Scalar&&e.onDemand}).forEach(function(e){var t=e.name;r.demand[t]=e.value,Object.defineProperty(r,t,{configurable:!0,get:function(){return r.demand[t]}})}),e&&(o.forEach(function(t){var n=t.name,o=t.type,a=t.value,s=t.permanent,u=r[n];o===bf.Function?u=u.bind(r):o===bf.WorkflowRunner?u=r.getPromisifiedMethod(u,a):o===bf.Reactive&&i[n]?u=e[n]:n===yf.augmented&&(u=!0),Object.defineProperty(e,n,{configurable:!0,get:function(){return s||o!==bf.Scalar?u:r[n]}})}),this.externalContext=e)}return Object.defineProperty(e.prototype,"workflow",{get:function(){return this.getWorkflow()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reloadCount",{get:function(){return this.reloadCounter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reloadId",{get:function(){return this.id+"."+this.reloadCounter},enumerable:!1,configurable:!0}),e.prototype.getPromisifiedMethod=function(e,t){var n=this;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return n.relax$?new Promise(function(t){n.relax$&&n.relax$.once(function(e){return t(e)}),e.apply(n,r)}):t.apply(n,r)}},e.prototype.initialize=function(e,t,n,r){var i=this;if(Object.defineProperty(this.demand,yf.itemsCount,{get:function(){return e.getVisibleItemsCount()}}),Object.defineProperty(this.demand,yf.bufferInfo,{get:function(){return{firstIndex:e.firstIndex,lastIndex:e.lastIndex,minIndex:e.minIndex,maxIndex:e.maxIndex,absMinIndex:e.absMinIndex,absMaxIndex:e.absMaxIndex,defaultSize:e.defaultSize}}}),this.bof=e.bof.get(),e.bof.on(function(e){return i.bof=e}),this.eof=e.eof.get(),e.eof.on(function(e){return i.eof=e}),Object.defineProperty(this.demand,yf.packageInfo,{get:function(){return t.packageInfo}}),this.loopPending=t.cycle.innerLoop.busy.get(),t.cycle.innerLoop.busy.on(function(e){return i.loopPending=e}),this.isLoading=t.cycle.busy.get(),t.cycle.busy.on(function(e){return i.isLoading=e}),this.logger=n,r){this.relax$||(this.relax$=new wf);var o=this.relax$;r.on(function(e){var t=e.status,n=e.payload,r=function(){};t===xp.start?r=i.isLoading$.on(function(e){e||(r(),o.set({success:!0,immediate:!1,details:null}))}):t!==xp.done&&t!==xp.error||(r(),o.set({success:t!==xp.error,immediate:!0,details:t===xp.error&&n?String(n.error):null}))})}this.init=!0},e.prototype.dispose=function(){var e=this;this.relax$&&this.relax$.dispose(),this.externalContext&&this.resetContext(),Object.getOwnPropertyNames(this).forEach(function(t){delete e[t]})},e.prototype.resetContext=function(){var e=this,t=Df.get(this.externalContext.id);lm.forEach(function(n){var r=n.type,i=n.name,o=n.value;if(r===bf.Reactive||n.permanent||Object.defineProperty(e.externalContext,i,{configurable:!0,get:function(){return o}}),r===bf.Reactive&&t){var a=t[i];a&&(a.default.reset(),a.emit(a.source,a.default.get()))}})},e.prototype.reset=function(e){this.reloadCounter++,this.logger.logAdapterMethod("reset",e," of "+this.reloadId),this.workflow.call({process:wp.reset,status:xp.start,payload:{options:e}})},e.prototype.reload=function(e){this.reloadCounter++,this.logger.logAdapterMethod("reload",e," of "+this.reloadId),this.workflow.call({process:wp.reload,status:xp.start,payload:{options:e}})},e.prototype.append=function(e,t){var n=hm(!1,e,t);this.logger.logAdapterMethod("append",[n.items,n.eof]),this.workflow.call({process:wp.append,status:xp.start,payload:{options:n}})},e.prototype.prepend=function(e,t){var n=hm(!0,e,t);this.logger.logAdapterMethod("prepend",[n.items,n.bof]),this.workflow.call({process:wp.prepend,status:xp.start,payload:{options:n}})},e.prototype.check=function(){this.logger.logAdapterMethod("check"),this.workflow.call({process:wp.check,status:xp.start})},e.prototype.remove=function(e){e=function(e){return dm(e,"predicate")||dm(e,"indexes")||(e={predicate:e}),e}(e),this.logger.logAdapterMethod("remove",e),this.workflow.call({process:wp.remove,status:xp.start,payload:{options:e}})},e.prototype.clip=function(e){this.logger.logAdapterMethod("clip",e),this.workflow.call({process:wp.clip,status:xp.start,payload:{options:e}})},e.prototype.insert=function(e){this.logger.logAdapterMethod("insert",e),this.workflow.call({process:wp.insert,status:xp.start,payload:{options:e}})},e.prototype.replace=function(e){this.logger.logAdapterMethod("replace",e),this.workflow.call({process:wp.replace,status:xp.start,payload:{options:e}})},e.prototype.update=function(e){this.logger.logAdapterMethod("update",e),this.workflow.call({process:wp.update,status:xp.start,payload:{options:e}})},e.prototype.fix=function(e){this.logger.logAdapterMethod("fix",e),this.workflow.call({process:wp.fix,status:xp.start,payload:{options:e}})},e.prototype.relaxUnchained=function(e,t){var n=this,r=function(){return"function"==typeof e&&t===n.reloadId&&e()};return this.isLoading||r(),new Promise(function(e){n.isLoading?n.isLoading$.once(function(){r(),e(!1)}):e(!0)}).then(function(e){var r=t===n.reloadId;return n.logger.log(function(){return r?void 0:"relax promise cancelled due to "+t+" != "+n.reloadId}),{immediate:e,success:r,details:r?null:"Interrupted by reload or reset"}})},e.prototype.relax=function(e){var t=this,n=this.reloadId;return this.logger.logAdapterMethod("relax",e," of "+n),this.init?this.relaxRun=this.relaxRun?this.relaxRun.then(function(){return t.relaxUnchained(e,n)}):this.relaxUnchained(e,n).then(function(e){return t.relaxRun=null,e}):Promise.resolve(Tf)},e.prototype.showLog=function(){this.logger.logAdapterMethod("showLog"),this.logger.logForce()},e}(),pm=0,vm=function(){function e(e){var t=e.datasource,n=e.consumer,r=e.element,i=e.workflow,o=e.scroller,a=tp(t,cp).params.get;if(!a.isValid)throw new Error("Invalid datasource: "+a.errors[0]);var s=o?o.state.packageInfo:{consumer:n,core:Rf};r=o?o.viewport.element:r,this.workflow=i=o?o.workflow:i,this.settings=new vv(t.settings,t.devSettings,++pm),this.logger=new $v(this,s,t.adapter),this.routines=new Hv(this.settings),this.state=new cm(s,this.settings,o?o.state:void 0),this.buffer=new Yv(this.settings,i.onDataChanged,this.logger),this.viewport=new Gv(r,this.settings,this.routines,this.state,this.logger),this.logger.object("vscroll settings object",this.settings,!0),this.initDatasource(t,o)}return e.prototype.initDatasource=function(e,t){var n=this;if(t)return this.datasource=e,void(this.adapter=t.adapter);var r=e instanceof zf,i=!r&&!this.settings.adapter;if(r)this.datasource=e;else{var o=jf(function(){return{mock:i}});this.datasource=new o(e),this.settings.adapter&&(e.adapter=this.datasource.adapter)}this.adapter=new fm(i?null:this.datasource.adapter,function(){return n.workflow},this.logger)},e.prototype.init=function(e){this.viewport.reset(this.buffer.startIndex),this.logger.stat("initialization"),this.adapter.initialize(this.buffer,this.state,this.logger,e)},e.prototype.dispose=function(e){e&&this.adapter.dispose(),this.buffer.dispose(),this.state.dispose()},e.prototype.finalize=function(){},e}(),mm=function(){function e(e){var t=this,n=e.element,r=e.datasource,i=e.consumer,o=e.run;this.isInitialized=!1,this.initTimer=null,this.adapterRun$=new wf,this.cyclesDone=0,this.interruptionCount=0,this.errors=[],this.disposeScrollEventHandler=function(){return null},this.propagateChanges=o,this.stateMachineMethods={run:this.runProcess(),interrupt:this.interrupt.bind(this),done:this.done.bind(this),onError:this.onError.bind(this)},this.scroller=new vm({element:n,datasource:r,consumer:i,workflow:this.getUpdater()}),this.scroller.settings.initializeDelay?this.initTimer=setTimeout(function(){t.initTimer=null,t.init()},this.scroller.settings.initializeDelay):this.init()}return e.prototype.init=function(){var e=this;this.scroller.init(this.adapterRun$),this.isInitialized=!0,this.callWorkflow({process:bp.init,status:xp.start});var t=this.scroller.viewport.scrollEventReceiver,n=function(t){return e.callWorkflow({process:bp.scroll,status:xp.start,payload:{event:t}})};t.addEventListener("scroll",n),this.disposeScrollEventHandler=function(){return t.removeEventListener("scroll",n)}},e.prototype.changeItems=function(e){this.propagateChanges(e)},e.prototype.callWorkflow=function(e){if(this.isInitialized){var t=e.process,n=e.status;t&&t.startsWith("adapter")&&n!==xp.next&&this.adapterRun$.set(e),this.process(e)}},e.prototype.getUpdater=function(){return{call:this.callWorkflow.bind(this),onDataChanged:this.changeItems.bind(this)}},e.prototype.process=function(e){var t=e.status,n=e.process,r=e.payload;this.scroller.settings.logProcessRun&&this.scroller.logger.log(function(){return gf(gf(gf(["%cfire%c"],["color: #cc7777;","color: #000000;"]),[n,'"'+t+'"']),mf(void 0!==r?[r]:[]))}),this.scroller.logger.logProcess(e),n===bp.end&&this.scroller.finalize(),function(e){var t=e.input,n=t.process,r=t.status,i=t.payload,o=void 0===i?{}:i,a=e.methods,s=a.run,u=a.interrupt,c=a.done;if(r===xp.error)return(0,a.onError)(n,o),void(n.startsWith("adapter")||s(Bv)(o));var l=o.options;switch(n){case bp.init:r===xp.start&&s(bv)(n),r===xp.next&&s(Dv)();break;case bp.scroll:r===xp.start&&s(wv)(o),r===xp.next&&s(bv)(n);break;case wp.reset:case wp.reload:r===xp.start&&(n===wp.reset?s(xv)(l):s(kv)(l)),r===xp.next&&(u(pf({process:n},o)),o.finalize?s(Bv)():s(bv)(n));break;case wp.append:case wp.prepend:r===xp.start&&s(Iv)({process:n,options:l}),r===xp.next&&s(bv)(n);break;case wp.check:r===xp.start&&s(Cv)(),r===xp.next&&s(bv)(n);break;case wp.remove:r===xp.start&&s(Tv)(l),r===xp.next&&s(bv)(n);break;case wp.clip:r===xp.start&&s(Av)(l),r===xp.next&&s(bv)(n);break;case wp.insert:r===xp.start&&s(Ev)(l),r===xp.next&&s(bv)(n);break;case wp.replace:r===xp.start&&s(Ov)(l),r===xp.next&&s(bv)(n);break;case wp.update:r===xp.start&&s(Sv)(l),r===xp.next&&s(bv)(n);break;case wp.fix:r===xp.start&&s(Pv)(l),r===xp.next&&s(bv)(n);break;case bp.start:switch(o.process){case wp.append:case wp.check:case wp.insert:s(zv)();break;case wp.remove:s(jv)();break;case wp.replace:case wp.update:o.doRender?s(zv)():s(jv)();break;default:s(Rv)()}break;case bp.preFetch:if(r===xp.next)switch(o.process){case wp.clip:s(Lv)();break;default:s(Nv)()}r===xp.done&&s(Bv)();break;case bp.fetch:s(Vv)();break;case bp.postFetch:r===xp.next&&s(zv)(),r===xp.done&&s(Bv)();break;case bp.render:if(r===xp.next)switch(o.process){case wp.append:case wp.check:case wp.insert:case wp.replace:case wp.update:s(jv)();break;default:s(Lv)()}r===xp.done&&s(Bv)();break;case bp.preClip:o.doClip?s(Fv)():s(jv)();break;case bp.clip:s(jv)();break;case bp.adjust:s(Bv)();break;case bp.end:if(r===xp.next)switch(o.process){case wp.reset:case wp.reload:c(),s(bv)(o.process);break;default:s(Dv)()}r===xp.done&&c()}}({input:e,methods:this.stateMachineMethods})},e.prototype.runProcess=function(){var e=this;return function(t){var n=t.run,r=t.process,i=t.name;return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];e.scroller.settings.logProcessRun&&e.scroller.logger.log(function(){return gf(gf(gf(["%crun%c"],["color: #333399;","color: #000000;"]),[r||i]),mf(t))}),n.apply(void 0,gf([e.scroller],mf(t)))}}},e.prototype.onError=function(e,t){var n=t&&String(t.error)||"",r=this.scroller.state;this.errors.push({process:e,message:n,time:r.time,loop:r.cycle.loopIdNext}),this.scroller.logger.logError(n)},e.prototype.interrupt=function(e){var t=this,n=e.process,r=e.datasource;if(e.finalize){var i=this.scroller,o=i.workflow,a=i.logger;o.call=function(e){return a.log("[skip wf call]")},o.call.interrupted=!0,this.scroller.workflow=this.getUpdater(),this.interruptionCount++,a.log(function(){return"workflow had been interrupted by the "+n+" process ("+t.interruptionCount+")"})}r&&this.scroller.adapter.relax(function(){t.scroller.logger.log("new Scroller instantiation");var e=new vm({datasource:r,scroller:t.scroller});t.scroller.dispose(),t.scroller=e,t.scroller.init()})},e.prototype.done=function(){var e=this.scroller,t=e.state,n=e.logger;this.cyclesDone++,n.logCycle(!1),t.cycle.done(this.cyclesDone+1),this.finalize()},e.prototype.dispose=function(){var e=this;this.initTimer&&clearTimeout(this.initTimer),this.disposeScrollEventHandler(),this.adapterRun$.dispose(),this.scroller.dispose(!0),Object.getOwnPropertyNames(this).forEach(function(t){delete e[t]})},e.prototype.finalize=function(){},e}(),gm={name:"ngx-ui-scroll",version:"2.2.2"},ym=["ui-scroll",""];function bm(e,t){}var wm=function(e,t,n,r){return{$implicit:e,index:t,odd:n,even:r}};function xm(e,t){if(1&e&&(Sa(0,"div"),ba(1,bm,0,0,"ng-template",3),Ia()),2&e){var n=t.$implicit,r=Ra();Wa("position",n.invisible?"fixed":null)("left",n.invisible?"-99999px":null),ga("data-sid",n.$index),$i(1),ka("ngTemplateOutlet",r.template)("ngTemplateOutletContext",(i=7,o=wm,a=n.data,s=n.$index,u=n.$index%2,c=!(n.$index%2),function(e,t,n,r,i,o,a,s,u){var c=t+n;return function(e,t,n,r,i,o){var a=ma(e,t,n,r);return ma(e,t+2,i,o)||a}(e,c,i,o,a,s)?pa(e,c+4,u?r.call(u,i,o,a,s):r(i,o,a,s)):Ou(e,c+4)}(Yt(),cn(),i,o,a,s,u,c,l)))}var i,o,a,s,u,c,l}var km=function(){function e(e,t){this.changeDetector=e,this.elementRef=t,this.items=[]}return e.prototype.ngOnInit=function(){var e=this;this.workflow=new mm({consumer:gm,element:this.elementRef.nativeElement,datasource:this.datasource,run:function(t){(t.length||e.items.length)&&(e.items=t,e.changeDetector.detectChanges())}})},e.prototype.ngOnDestroy=function(){this.workflow.dispose()},e.\u0275fac=function(t){return new(t||e)(xa(iu),xa(Ds))},e.\u0275cmp=lt({type:e,selectors:[["","ui-scroll",""]],attrs:ym,decls:3,vars:1,consts:[["data-padding-backward",""],[3,"position","left",4,"ngFor","ngForOf"],["data-padding-forward",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ca(0,"div",0),ba(1,xm,2,12,"div",1),Ca(2,"div",2)),2&e&&($i(1),ka("ngForOf",t.items))},directives:[Cl,Ml],encapsulation:2,changeDetection:0}),e}(),_m=function(){function e(e,t,n){this.templateRef=e,this.viewContainer=t,this.resolver=n}return Object.defineProperty(e.prototype,"uiScrollOf",{set:function(e){this.datasource=e},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this.resolver.resolveComponentFactory(km),t=this.viewContainer.createComponent(e,void 0,this.viewContainer.injector);t.instance.datasource=this.datasource,t.instance.template=this.templateRef},e.\u0275fac=function(t){return new(t||e)(xa(cu),xa(vu),xa(Es))},e.\u0275dir=mt({type:e,selectors:[["","uiScroll","","uiScrollOf",""]],inputs:{uiScrollOf:"uiScrollOf"}}),e}(),Sm=function(e){c(n,e);var t=p(n);function n(e){var r;return s(this,n),(r=t.call(this))._value=e,r}return a(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=i(r(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new U;return this._value}},{key:"next",value:function(e){i(r(n.prototype),"next",this).call(this,this._value=e)}}]),n}(H),Im=function(){return{source:new H,emit:function(e,t){return e.next(t)}}},Cm=function(){return{source:new Sm(Mf),emit:function(e,t){return e.next(t)}}},Tm=jf(function(){var e;return{mock:!1,reactive:(e={},e[yf.init$]=Im(),e[yf.isLoading$]=Im(),e[yf.loopPending$]=Im(),e[yf.firstVisible$]=Cm(),e[yf.lastVisible$]=Cm(),e[yf.bof$]=Im(),e[yf.eof$]=Im(),e)}}),Am=function(e){c(n,e);var t=p(n);function n(){return s(this,n),t.apply(this,arguments)}return a(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(R),Em=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this)).parent=e,o.outerValue=r,o.outerIndex=i,o.index=0,o}return a(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(R);function Om(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Em(e,n,r);if(!i.closed)return t instanceof L?t.subscribe(i):te(t)(i)}var Mm={};function Pm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=void 0,i=void 0;return W(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&_(t[0])&&(t=t[0]),de(t,i).lift(new Dm(r))}var Dm=function(){function e(t){s(this,e),this.resultSelector=t}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new Rm(e,this.resultSelector))}}]),e}(),Rm=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return a(n,[{key:"_next",value:function(e){this.values.push(Mm),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++)this.add(Om(this,e[n],void 0,n))}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n){var r=this.values,i=this.toRespond?r[n]===Mm?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(Am),Nm=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}();function Vm(){return le(1)}function zm(){return Vm()(gh.apply(void 0,arguments))}var jm=new L(function(e){return e.complete()});function Lm(e){return e?function(e){return new L(function(t){return e.schedule(function(){return t.complete()})})}(e):jm}function Fm(e){return new L(function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?re(n):Lm()).subscribe(t)})}function Um(e,t){return"function"==typeof t?function(n){return n.pipe(Um(function(n,r){return re(e(n,r)).pipe(G(function(e,i){return t(n,e,r,i)}))}))}:function(t){return t.lift(new Bm(e))}}var Bm=function(){function e(t){s(this,e),this.project=t}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new $m(e,this.project))}}]),e}(),$m=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return a(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}},{key:"_innerSub",value:function(e){var t=this.innerSubscription;t&&t.unsubscribe();var n=new ie(this),r=this.destination;r.add(n),this.innerSubscription=ae(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||i(r(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&i(r(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e){this.destination.next(e)}}]),n}(oe),Hm=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function qm(e){return function(t){return 0===e?Lm():t.lift(new Wm(e))}}var Wm=function(){function e(t){if(s(this,e),this.total=t,this.total<0)throw new Hm}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new Gm(e,this.total))}}]),e}(),Gm=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return a(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(R);function Xm(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Zm(e,t,n))}}var Zm=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new Qm(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Qm=function(e){c(n,e);var t=p(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return a(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}}]),n}(R);function Km(e){return function(t){var n=new Ym(e),r=t.lift(n);return n.caught=r}}var Ym=function(){function e(t){s(this,e),this.selector=t}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new Jm(e,this.selector,this.caught))}}]),e}(),Jm=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e)).selector=r,o.caught=i,o}return a(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(s){return void i(r(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var o=new ie(this);this.add(o);var a=ae(t,o);a!==o&&this.add(a)}}}]),n}(oe);function eg(e){return function(t){return 0===e?Lm():t.lift(new tg(e))}}var tg=function(){function e(t){if(s(this,e),this.total=t,this.total<0)throw new Hm}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new ng(e,this.total))}}]),e}(),ng=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return a(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()}}]),n}(R);function rg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ag;return function(t){return t.lift(new ig(e))}}var ig=function(){function e(t){s(this,e),this.errorFactory=t}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new og(e,this.errorFactory))}}]),e}(),og=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).errorFactory=r,i.hasValue=!1,i}return a(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(R);function ag(){return new Nm}function sg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new ug(e))}}var ug=function(){function e(t){s(this,e),this.defaultValue=t}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new cg(e,this.defaultValue))}}]),e}(),cg=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return a(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(R);function lg(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?bh(function(t,n){return e(t,n,r)}):z,qm(1),n?sg(t):rg(function(){return new Nm}))}}function dg(){}function hg(e,t,n){return function(r){return r.lift(new fg(e,t,n))}}var fg=function(){function e(t,n,r){s(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new pg(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),pg=function(e){c(n,e);var t=p(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e))._tapNext=dg,a._tapError=dg,a._tapComplete=dg,a._tapError=i||dg,a._tapComplete=o||dg,I(r)?(a._context=h(a),a._tapNext=r):r&&(a._context=r,a._tapNext=r.next||dg,a._tapError=r.error||dg,a._tapComplete=r.complete||dg),a}return a(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(R),vg=function(){function e(t){s(this,e),this.callback=t}return a(e,[{key:"call",value:function(e,t){return t.subscribe(new mg(e,this.callback))}}]),e}(),mg=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).add(new T(r)),i}return n}(R),gg=function e(t,n){s(this,e),this.id=t,this.url=n},yg=function(e){c(n,e);var t=p(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return s(this,n),(i=t.call(this,e,r)).navigationTrigger=o,i.restoredState=a,i}return a(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(gg),bg=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o}return a(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(gg),wg=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e,r)).reason=i,o}return a(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(gg),xg=function(e){c(n,e);var t=p(n);function n(e,r,i){var o;return s(this,n),(o=t.call(this,e,r)).error=i,o}return a(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(gg),kg=function(e){c(n,e);var t=p(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return a(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(gg),_g=function(e){c(n,e);var t=p(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return a(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(gg),Sg=function(e){c(n,e);var t=p(n);function n(e,r,i,o,a){var u;return s(this,n),(u=t.call(this,e,r)).urlAfterRedirects=i,u.state=o,u.shouldActivate=a,u}return a(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(gg),Ig=function(e){c(n,e);var t=p(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return a(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(gg),Cg=function(e){c(n,e);var t=p(n);function n(e,r,i,o){var a;return s(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a.state=o,a}return a(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(gg),Tg=function(){function e(t){s(this,e),this.route=t}return a(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Ag=function(){function e(t){s(this,e),this.route=t}return a(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Eg=function(){function e(t){s(this,e),this.snapshot=t}return a(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Og=function(){function e(t){s(this,e),this.snapshot=t}return a(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Mg=function(){function e(t){s(this,e),this.snapshot=t}return a(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Pg=function(){function e(t){s(this,e),this.snapshot=t}return a(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Dg=function(){function e(t,n,r){s(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return a(e,[{key:"toString",value:function(){var e=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(e,"')")}}]),e}(),Rg="primary",Ng=function(){function e(t){s(this,e),this.params=t||{}}return a(e,[{key:"has",value:function(e){return Object.prototype.hasOwnProperty.call(this.params,e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Vg(e){return new Ng(e)}function zg(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function jg(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=e[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Lg(e,t){var n,r=e?Object.keys(e):void 0,i=t?Object.keys(t):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Fg(e[n=r[o]],t[n]))return!1;return!0}function Fg(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;var n=w(e).sort(),r=w(t).sort();return n.every(function(e,t){return r[t]===e})}return e===t}function Ug(e){return Array.prototype.concat.apply([],e)}function Bg(e){return e.length>0?e[e.length-1]:null}function $g(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Hg(e){return Oa(e)?e:Aa(e)?re(Promise.resolve(e)):gh(e)}var qg={exact:function e(t,n,r){if(!ey(t.segments,n.segments))return!1;if(!Qg(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:Xg},Wg={exact:function(e,t){return Lg(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return Fg(e[n],t[n])})},ignored:function(){return!0}};function Gg(e,t,n){return qg[n.paths](e.root,t.root,n.matrixParams)&&Wg[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Xg(e,t,n){return Zg(e,t,t.segments,n)}function Zg(e,t,n,r){if(e.segments.length>n.length){var i=e.segments.slice(0,n.length);return!!ey(i,n)&&!t.hasChildren()&&!!Qg(i,n,r)}if(e.segments.length===n.length){if(!ey(e.segments,n))return!1;if(!Qg(e.segments,n,r))return!1;for(var o in t.children){if(!e.children[o])return!1;if(!Xg(e.children[o],t.children[o],r))return!1}return!0}var a=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!ey(e.segments,a)&&!!Qg(e.segments,a,r)&&!!e.children.primary&&Zg(e.children.primary,t,s,r)}function Qg(e,t,n){return t.every(function(t,r){return Wg[n](e[r].parameters,t.parameters)})}var Kg=function(){function e(t,n,r){s(this,e),this.root=t,this.queryParams=n,this.fragment=r}return a(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Vg(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return ry.serialize(this)}}]),e}(),Yg=function(){function e(t,n){var r=this;s(this,e),this.segments=t,this.children=n,this.parent=null,$g(n,function(e,t){return e.parent=r})}return a(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return iy(this)}}]),e}(),Jg=function(){function e(t,n){s(this,e),this.path=t,this.parameters=n}return a(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Vg(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return dy(this)}}]),e}();function ey(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}var ty=function e(){s(this,e)},ny=function(){function e(){s(this,e)}return a(e,[{key:"parse",value:function(e){var t=new my(e);return new Kg(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){var t,n,r="/".concat(oy(e.root,!0)),i=(t=e.queryParams,(n=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return"".concat(sy(e),"=").concat(sy(t))}).join("&"):"".concat(sy(e),"=").concat(sy(n))})).length?"?".concat(n.join("&")):""),o="string"==typeof e.fragment?"#".concat(encodeURI(e.fragment)):"";return"".concat(r).concat(i).concat(o)}}]),e}(),ry=new ny;function iy(e){return e.segments.map(function(e){return dy(e)}).join("/")}function oy(e,t){if(!e.hasChildren())return iy(e);if(t){var n=e.children.primary?oy(e.children.primary,!1):"",r=[];return $g(e.children,function(e,t){t!==Rg&&r.push("".concat(t,":").concat(oy(e,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(e,t){var n=[];return $g(e.children,function(e,r){r===Rg&&(n=n.concat(t(e,r)))}),$g(e.children,function(e,r){r!==Rg&&(n=n.concat(t(e,r)))}),n}(e,function(t,n){return n===Rg?[oy(e.children.primary,!1)]:["".concat(n,":").concat(oy(t,!1))]});return 1===Object.keys(e.children).length&&null!=e.children.primary?"".concat(iy(e),"/").concat(i[0]):"".concat(iy(e),"/(").concat(i.join("//"),")")}function ay(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sy(e){return ay(e).replace(/%3B/gi,";")}function uy(e){return ay(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cy(e){return decodeURIComponent(e)}function ly(e){return cy(e.replace(/\+/g,"%20"))}function dy(e){return"".concat(uy(e.path)).concat((t=e.parameters,Object.keys(t).map(function(e){return";".concat(uy(e),"=").concat(uy(t[e]))}).join("")));var t}var hy=/^[^\/()?;=#]+/;function fy(e){var t=e.match(hy);return t?t[0]:""}var py=/^[^=?&#]+/,vy=/^[^?&#]+/,my=function(){function e(t){s(this,e),this.url=t,this.remaining=t}return a(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yg([],{}):new Yg([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Yg(e,t)),n}},{key:"parseSegment",value:function(){var e=fy(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Jg(cy(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=fy(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=fy(this.remaining);r&&this.capture(n=r)}e[cy(t)]=cy(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(py);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(vy);return t?t[0]:""}(this.remaining);r&&this.capture(n=r)}var i=ly(t),o=ly(n);if(e.hasOwnProperty(i)){var a=e[i];Array.isArray(a)||(e[i]=a=[a]),a.push(o)}else e[i]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=fy(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Rg);var o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Yg([],o),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),gy=function(){function e(t){s(this,e),this._root=t}return a(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=yy(e,this._root);return t?t.children.map(function(e){return e.value}):[]}},{key:"firstChild",value:function(e){var t=yy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=by(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})}},{key:"pathFromRoot",value:function(e){return by(e,this._root).map(function(e){return e.value})}}]),e}();function yy(e,t){if(e===t.value)return t;var n,r=g(t.children);try{for(r.s();!(n=r.n()).done;){var i=yy(e,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function by(e,t){if(e===t.value)return[t];var n,r=g(t.children);try{for(r.s();!(n=r.n()).done;){var i=by(e,n.value);if(i.length)return i.unshift(t),i}}catch(o){r.e(o)}finally{r.f()}return[]}var wy=function(){function e(t,n){s(this,e),this.value=t,this.children=n}return a(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function xy(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var ky=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).snapshot=r,Ey(h(i),e),i}return a(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(gy);function _y(e,t){var n=function(e,t){var n=new Ty([],{},{},"",{},Rg,t,null,e.root,-1,{});return new Ay("",new wy(n,[]))}(e,t),r=new Sm([new Jg("",{})]),i=new Sm({}),o=new Sm({}),a=new Sm({}),s=new Sm(""),u=new Sy(r,i,a,s,o,Rg,t,n.root);return u.snapshot=n.root,new ky(new wy(u,[]),n)}var Sy=function(){function e(t,n,r,i,o,a,u,c){s(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=u,this._futureSnapshot=c}return a(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(G(function(e){return Vg(e)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(G(function(e){return Vg(e)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function Iy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return Cy(n.slice(r))}function Cy(e){return e.reduce(function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}},{params:{},data:{},resolve:{}})}var Ty=function(){function e(t,n,r,i,o,a,u,c,l,d,h){s(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=u,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=d,this._resolve=h}return a(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Vg(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Vg(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){var e=this.url.map(function(e){return e.toString()}).join("/"),t=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(e,"', path:'").concat(t,"')")}}]),e}(),Ay=function(e){c(n,e);var t=p(n);function n(e,r){var i;return s(this,n),(i=t.call(this,r)).url=e,Ey(h(i),r),i}return a(n,[{key:"toString",value:function(){return Oy(this._root)}}]),n}(gy);function Ey(e,t){t.value._routerState=e,t.children.forEach(function(t){return Ey(e,t)})}function Oy(e){var t=e.children.length>0?" { ".concat(e.children.map(Oy).join(", ")," } "):"";return"".concat(e.value).concat(t)}function My(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Lg(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Lg(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Lg(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Lg(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Py(e,t){var n,r;return Lg(e.params,t.params)&&ey(n=e.url,r=t.url)&&n.every(function(e,t){return Lg(e.parameters,r[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||Py(e.parent,t.parent))}function Dy(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=t.value;var i=function(e,t,n){return t.children.map(function(t){var r,i=g(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(e.shouldReuseRoute(t.value,o.value.snapshot))return Dy(e,t,o)}}catch(a){i.e(a)}finally{i.f()}return Dy(e,t)})}(e,t,n);return new wy(r,i)}if(e.shouldAttach(t.value)){var o=e.retrieve(t.value);if(null!==o){var a=o.route;return Ry(t,a),a}}var s,u=new Sy(new Sm((s=t.value).url),new Sm(s.params),new Sm(s.queryParams),new Sm(s.fragment),new Sm(s.data),s.outlet,s.component,s),c=t.children.map(function(t){return Dy(e,t)});return new wy(u,c)}function Ry(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)Ry(e.children[n],t.children[n])}function Ny(e,t,n,r,i){if(0===n.length)return jy(t.root,t.root,t,r,i);var o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Fy(!0,0,e);var t=0,n=!1,r=e.reduce(function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return $g(r.outlets,function(e,t){o[t]="string"==typeof e?e.split("/"):e}),[].concat(w(e),[{outlets:o}])}if(r.segmentPath)return[].concat(w(e),[r.segmentPath])}return"string"!=typeof r?[].concat(w(e),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[].concat(w(e),[r])},[]);return new Fy(n,t,r)}(n);if(o.toRoot())return jy(t.root,new Yg([],{}),t,r,i);var a=function(e,t,n){if(e.isAbsolute)return new Uy(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Uy(r,r===t.root,0)}var i=Vy(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Uy(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),s=a.processChildren?$y(a.segmentGroup,a.index,o.commands):By(a.segmentGroup,a.index,o.commands);return jy(a.segmentGroup,s,t,r,i)}function Vy(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function zy(e){return"object"==typeof e&&null!=e&&e.outlets}function jy(e,t,n,r,i){var o={};return r&&$g(r,function(e,t){o[t]=Array.isArray(e)?e.map(function(e){return"".concat(e)}):"".concat(e)}),new Kg(n.root===e?t:Ly(n.root,e,t),o,i)}function Ly(e,t,n){var r={};return $g(e.children,function(e,i){r[i]=e===t?n:Ly(e,t,n)}),new Yg(e.segments,r)}var Fy=function(){function e(t,n,r){if(s(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Vy(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(zy);if(i&&i!==Bg(r))throw new Error("{outlets:{}} has to be the last command")}return a(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Uy=function e(t,n,r){s(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function By(e,t,n){if(e||(e=new Yg([],{})),0===e.segments.length&&e.hasChildren())return $y(e,t,n);var r=function(e,t,n){for(var r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return o;var a=e.segments[i],s=n[r];if(zy(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Gy(u,c,a))return o;r+=2}else{if(!Gy(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var o=new Yg(e.segments.slice(0,r.pathIndex),{});return o.children.primary=new Yg(e.segments.slice(r.pathIndex),e.children),$y(o,0,i)}return r.match&&0===i.length?new Yg(e.segments,{}):r.match&&!e.hasChildren()?Hy(e,t,n):r.match?$y(e,0,i):Hy(e,t,n)}function $y(e,t,n){if(0===n.length)return new Yg(e.segments,{});var r=function(e){return zy(e[0])?e[0].outlets:b({},Rg,e)}(n),i={};return $g(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=By(e.children[r],t,n))}),$g(e.children,function(e,t){void 0===r[t]&&(i[t]=e)}),new Yg(e.segments,i)}function Hy(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){var o=n[i];if(zy(o)){var a=qy(o.outlets);return new Yg(r,a)}if(0===i&&Vy(n[0]))r.push(new Jg(e.segments[t].path,Wy(n[0]))),i++;else{var s=zy(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&Vy(u)?(r.push(new Jg(s,Wy(u))),i+=2):(r.push(new Jg(s,{})),i++)}}return new Yg(r,{})}function qy(e){var t={};return $g(e,function(e,n){"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Hy(new Yg([],{}),0,e))}),t}function Wy(e){var t={};return $g(e,function(e,n){return t[n]="".concat(e)}),t}function Gy(e,t,n){return e==n.path&&Lg(t,n.parameters)}var Xy=function(){function e(t,n,r,i){s(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return a(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),My(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=xy(t);e.children.forEach(function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]}),$g(i,function(e,t){r.deactivateRouteAndItsChildren(e,n)})}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){for(var n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=xy(e),o=0,a=Object.keys(i);o<a.length;o++)this.deactivateRouteAndItsChildren(i[a[o]],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=xy(t);e.children.forEach(function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Pg(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Og(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(My(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Zy(s.route)}else{var u=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Zy(e){My(e.value),e.children.forEach(Zy)}var Qy=function e(t,n){s(this,e),this.routes=t,this.module=n};function Ky(e){return"function"==typeof e}function Yy(e){return e instanceof Kg}var Jy=Symbol("INITIAL_VALUE");function eb(){return Um(function(e){return Pm(e.map(function(e){return e.pipe(qm(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];return W(r)?(t.pop(),function(e){return zm(t,e,r)}):function(e){return zm(t,e)}}(Jy))})).pipe(Xm(function(e,t){var n=!1;return t.reduce(function(e,r,i){if(e!==Jy)return e;if(r===Jy&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Yy(r))return r}return e},e)},Jy),bh(function(e){return e!==Jy}),G(function(e){return Yy(e)?e:!0===e}),qm(1))})}var tb=function(){var e=function e(){s(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Ca(0,"router-outlet")},directives:function(){return[iw]},encapsulation:2}),e}();function nb(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n],i=ib(t,r);rb(r,i)}}function rb(e,t){e.children&&nb(e.children,t)}function ib(e,t){return t?e||t.path?e&&!t.path?"".concat(e,"/"):!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function ob(e){var t=e.children&&e.children.map(ob),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Rg&&(n.component=tb),n}function ab(e){return e.outlet||Rg}function sb(e,t){var n=e.filter(function(e){return ab(e)===t});return n.push.apply(n,w(e.filter(function(e){return ab(e)!==t}))),n}var ub={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function cb(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},ub):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(t.matcher||jg)(n,e,t);if(!i)return Object.assign({},ub);var o={};$g(i.posParams,function(e,t){o[t]=e.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function lb(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&fb(e,n,r)){var o=new Yg(t,hb(e,t,r,new Yg(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&pb(e,n,r)){var a=new Yg(e.segments,db(e,t,n,r,e.children,i));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var s=new Yg(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function db(e,t,n,r,i,o){var a,s={},u=g(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(vb(e,n,c)&&!i[ab(c)]){var l=new Yg([],{});l._sourceSegment=e,l._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[ab(c)]=l}}}catch(d){u.e(d)}finally{u.f()}return Object.assign(Object.assign({},i),s)}function hb(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var o,a=g(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&ab(s)!==Rg){var u=new Yg([],{});u._sourceSegment=e,u._segmentIndexShift=t.length,i[ab(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}function fb(e,t,n){return n.some(function(n){return vb(e,t,n)&&ab(n)!==Rg})}function pb(e,t,n){return n.some(function(n){return vb(e,t,n)})}function vb(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function mb(e,t,n,r){return!!(ab(e)===r||r!==Rg&&vb(t,n,e))&&("**"===e.path||cb(t,e,n).matched)}function gb(e,t,n){return 0===t.length&&!e.children[n]}var yb=function e(t){s(this,e),this.segmentGroup=t||null},bb=function e(t){s(this,e),this.urlTree=t};function wb(e){return new L(function(t){return t.error(new yb(e))})}function xb(e){return new L(function(t){return t.error(new bb(e))})}function kb(e){return new L(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))})}var _b=function(){function e(t,n,r,i,o){s(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(hu)}return a(e,[{key:"apply",value:function(){var e=this,t=lb(this.urlTree.root,[],[],this.config).segmentGroup,n=new Yg(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,n,Rg).pipe(G(function(t){return e.createUrlTree(Sb(t),e.urlTree.queryParams,e.urlTree.fragment)})).pipe(Km(function(t){if(t instanceof bb)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof yb)throw e.noMatchError(t);throw t}))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,Rg).pipe(G(function(n){return t.createUrlTree(Sb(n),e.queryParams,e.fragment)})).pipe(Km(function(e){if(e instanceof yb)throw t.noMatchError(e);throw e}))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Yg([],b({},Rg,e)):e;return new Kg(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(G(function(e){return new Yg([],e)})):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return re(i).pipe(yh(function(i){var o=n.children[i],a=sb(t,i);return r.expandSegmentGroup(e,a,o,i).pipe(G(function(e){return{segment:e,outlet:i}}))}),Xm(function(e,t){return e[t.outlet]=t.segment,e},{}),function(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?bh(function(t,n){return e(t,n,r)}):z,eg(1),n?sg(t):rg(function(){return new Nm}))}}())}},{key:"expandSegment",value:function(e,t,n,r,i,o){var a=this;return re(n).pipe(yh(function(s){return a.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Km(function(e){if(e instanceof yb)return gh(null);throw e}))}),lg(function(e){return!!e}),Km(function(e,n){if(e instanceof Nm||"EmptyError"===e.name){if(gb(t,r,i))return gh(new Yg([],{}));throw new yb(t)}throw e}))}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,o,a){return mb(r,t,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):wb(t):wb(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?xb(o):this.lineralizeSegments(n,o).pipe(se(function(n){var o=new Yg(n,{});return i.expandSegment(e,o,t,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,o){var a=this,s=cb(t,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return wb(t);var d=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?xb(d):this.lineralizeSegments(r,d).pipe(se(function(r){return a.expandSegment(e,t,n,r.concat(i.slice(c)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?gh(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe(G(function(e){return n._loadedConfig=e,new Yg(r,{})})):gh(new Yg(r,{}));var a=cb(t,n,r),s=a.consumedSegments,u=a.lastChild;if(!a.matched)return wb(t);var c=r.slice(u);return this.getChildConfig(e,n,r).pipe(se(function(e){var r=e.module,a=e.routes,u=lb(t,s,c,a),l=u.segmentGroup,d=u.slicedSegments,h=new Yg(l.segments,l.children);if(0===d.length&&h.hasChildren())return o.expandChildren(r,a,h).pipe(G(function(e){return new Yg(s,e)}));if(0===a.length&&0===d.length)return gh(new Yg(s,{}));var f=ab(n)===i;return o.expandSegment(r,h,a,d,f?Rg:i,!0).pipe(G(function(e){return new Yg(s.concat(e.segments),e.children)}))}))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?gh(new Qy(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?gh(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe(se(function(n){return n?r.configLoader.load(e.injector,t).pipe(G(function(e){return t._loadedConfig=e,e})):function(e){return new L(function(t){return t.error(zg("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))})}(t)})):gh(new Qy([],e))}},{key:"runCanLoadGuards",value:function(e,t,n){var r=this,i=t.canLoad;return i&&0!==i.length?gh(i.map(function(r){var i,o=e.get(r);if(function(e){return e&&Ky(e.canLoad)}(o))i=o.canLoad(t,n);else{if(!Ky(o))throw new Error("Invalid CanLoad guard");i=o(t,n)}return Hg(i)})).pipe(eb(),hg(function(e){if(Yy(e)){var t=zg('Redirecting to "'.concat(r.urlSerializer.serialize(e),'"'));throw t.url=e,t}}),G(function(e){return!0===e})):gh(!0)}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return gh(n);if(r.numberOfChildren>1||!r.children.primary)return kb(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new Kg(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return $g(e,function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,o=this.createSegments(e,t.segments,n,r),a={};return $g(t.children,function(t,o){a[o]=i.createSegmentGroup(e,t,n,r)}),new Yg(o,a)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map(function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)})}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=g(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===e.path)return t.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return e}}]),e}();function Sb(e){for(var t={},n=0,r=Object.keys(e.children);n<r.length;n++){var i=r[n],o=Sb(e.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Yg(e.segments.concat(t.segments),t.children)}return e}(new Yg(e.segments,t))}var Ib=function e(t){s(this,e),this.path=t,this.route=this.path[this.path.length-1]},Cb=function e(t,n){s(this,e),this.component=t,this.route=n};function Tb(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function Ab(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=xy(t);return e.children.forEach(function(e){Eb(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),$g(o,function(e,t){return Mb(e,n.getContext(t),i)}),i}function Eb(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=Ob(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ib(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Ab(e,t,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Cb(s.outlet.component,a))}else a&&Mb(t,s,i),i.canActivateChecks.push(new Ib(r)),Ab(e,null,o.component?s?s.children:null:n,r,i);return i}function Ob(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ey(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ey(e.url,t.url)||!Lg(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Py(e,t)||!Lg(e.queryParams,t.queryParams);case"paramsChange":default:return!Py(e,t)}}function Mb(e,t,n){var r=xy(e),i=e.value;$g(r,function(e,r){Mb(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new Cb(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var Pb=function e(){s(this,e)};function Db(e){return new L(function(t){return t.error(e)})}var Rb=function(){function e(t,n,r,i,o,a){s(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return a(e,[{key:"recognize",value:function(){var e=lb(this.urlTree.root,[],[],this.config.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Rg);if(null===t)return null;var n=new Ty([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rg,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wy(n,t),i=new Ay(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Iy(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){for(var n=[],r=0,i=Object.keys(t.children);r<i.length;r++){var o=i[r],a=t.children[o],s=sb(e,o),u=this.processSegmentGroup(s,a,o);if(null===u)return null;n.push.apply(n,w(u))}var c=Nb(n);return c.sort(function(e,t){return e.value.outlet===Rg?-1:t.value.outlet===Rg?1:e.value.outlet.localeCompare(t.value.outlet)}),c}},{key:"processSegment",value:function(e,t,n,r){var i,o=g(e);try{for(o.s();!(i=o.n()).done;){var a=this.processSegmentAgainstRoute(i.value,t,n,r);if(null!==a)return a}}catch(s){o.e(s)}finally{o.f()}return gb(t,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo||!mb(e,t,n,r))return null;var i,o=[],a=[];if("**"===e.path){var s=n.length>0?Bg(n).parameters:{};i=new Ty(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jb(e),ab(e),e.component,e,Vb(t),zb(t)+n.length,Lb(e))}else{var u=cb(t,e,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new Ty(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jb(e),ab(e),e.component,e,Vb(t),zb(t)+o.length,Lb(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),l=lb(t,o,a,c.filter(function(e){return void 0===e.redirectTo}),this.relativeLinkResolution),d=l.segmentGroup,h=l.slicedSegments;if(0===h.length&&d.hasChildren()){var f=this.processChildren(c,d);return null===f?null:[new wy(i,f)]}if(0===c.length&&0===h.length)return[new wy(i,[])];var p=ab(e)===r,v=this.processSegment(c,d,h,p?Rg:r);return null===v?null:[new wy(i,v)]}}]),e}();function Nb(e){var t,n=[],r=new Set,i=g(e);try{var o=function(){var e=t.value;if(!function(e){var t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}(e))return n.push(e),"continue";var i,o=n.find(function(t){return e.value.routeConfig===t.value.routeConfig});void 0!==o?((i=o.children).push.apply(i,w(e.children)),r.add(o)):n.push(e)};for(i.s();!(t=i.n()).done;)o()}catch(l){i.e(l)}finally{i.f()}var a,s=g(r);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=Nb(u.children);n.push(new wy(u.value,c))}}catch(l){s.e(l)}finally{s.f()}return n.filter(function(e){return!r.has(e)})}function Vb(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function zb(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function jb(e){return e.data||{}}function Lb(e){return e.resolve||{}}function Fb(e){return Um(function(t){var n=e(t);return n?re(n).pipe(G(function(){return t})):gh(t)})}var Ub=function(e){c(n,e);var t=p(n);function n(){return s(this,n),t.apply(this,arguments)}return n}(function(){function e(){s(this,e)}return a(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}()),Bb=new vr("ROUTES"),$b=function(){function e(t,n,r,i){s(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return a(e,[{key:"load",value:function(e,t){var n=this;if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);var r=this.loadModuleFactory(t.loadChildren).pipe(G(function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new Qy(Ug(i.injector.get(Bb,void 0,Be.Self|Be.Optional)).map(ob),i)}),Km(function(e){throw t._loader$=void 0,e}));return t._loader$=new me(r,function(){return new H}).pipe(fe()),t._loader$}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?re(this.loader.load(e)):Hg(e()).pipe(se(function(e){return e instanceof fu?gh(e):re(t.compiler.compileModuleAsync(e))}))}}]),e}(),Hb=function e(){s(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new qb,this.attachRef=null},qb=function(){function e(){s(this,e),this.contexts=new Map}return a(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Hb,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Wb=function(){function e(){s(this,e)}return a(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Gb(e){throw e}function Xb(e,t,n){return t.parse("/")}function Zb(e,t){return gh(null)}var Qb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Kb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Yb=function(){var e=function(){function e(t,n,r,i,o,a,u,c){var l=this;s(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new H,this.errorHandler=Gb,this.malformedUriErrorHandler=Xb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zb,afterPreactivation:Zb},this.urlHandlingStrategy=new Wb,this.routeReuseStrategy=new Ub,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(hu),this.console=o.get(uc);var d=o.get(xc);this.isNgZoneEnabled=d instanceof xc&&xc.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Kg(new Yg([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $b(a,u,function(e){return l.triggerEvent(new Tg(e))},function(e){return l.triggerEvent(new Ag(e))}),this.routerState=_y(this.currentUrlTree,this.rootComponentType),this.transitions=new Sm({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return a(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(bh(function(e){return 0!==e.id}),G(function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})}),Um(function(e){var r,i,o,a,s=!1,u=!1;return gh(e).pipe(hg(function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Um(function(e){var r=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||r)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return gh(e).pipe(Um(function(e){var r=t.transitions.getValue();return n.next(new yg(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?jm:Promise.resolve(e)}),function(e,t,n,r){return Um(function(i){return function(e,t,n,r,i){return new _b(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(G(function(e){return Object.assign(Object.assign({},i),{urlAfterRedirects:e})}))})}(t.ngModule.injector,t.configLoader,t.urlSerializer,t.config),hg(function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,n,r,i,o){return se(function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new Rb(e,t,n,r,i,o).recognize();return null===a?Db(new Pb):gh(a)}catch(s){return Db(s)}}(e,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,t.serializeUrl(a)),i,o).pipe(G(function(e){return Object.assign(Object.assign({},r),{targetSnapshot:e})}));var a})}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),hg(function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects);var r=new kg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)}));if(r&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var i=e.extractedUrl,o=e.source,a=e.restoredState,s=e.extras,u=new yg(e.id,t.serializeUrl(i),o,a);n.next(u);var c=_y(i,t.rootComponentType).snapshot;return gh(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:i,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),jm}),Fb(function(e){var n=e.extras;return t.hooks.beforePreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),hg(function(e){var n=new _g(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),G(function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,o=n._root,Ab(o,r?r._root:null,i,[o.value]))});var n,r,i,o}),function(e,t){return se(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?gh(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return re(e).pipe(se(function(e){return function(e,t,n,r,i){var o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?gh(o.map(function(o){var a,s=Tb(o,t,i);if(function(e){return e&&Ky(e.canDeactivate)}(s))a=Hg(s.canDeactivate(e,t,n,r));else{if(!Ky(s))throw new Error("Invalid CanDeactivate guard");a=Hg(s(e,t,n,r))}return a.pipe(lg())})).pipe(eb()):gh(!0)}(e.component,e.route,n,t,r)}),lg(function(e){return!0!==e},!0))}(s,r,i,e).pipe(se(function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return re(t).pipe(yh(function(t){return zm(function(e,t){return null!==e&&t&&t(new Eg(e)),gh(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new Mg(e)),gh(!0)}(t.route,r),function(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)}).filter(function(e){return null!==e}).map(function(t){return Fm(function(){return gh(t.guards.map(function(i){var o,a=Tb(i,t.node,n);if(function(e){return e&&Ky(e.canActivateChild)}(a))o=Hg(a.canActivateChild(r,e));else{if(!Ky(a))throw new Error("Invalid CanActivateChild guard");o=Hg(a(r,e))}return o.pipe(lg())})).pipe(eb())})});return gh(i).pipe(eb())}(e,t.path,n),function(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?gh(r.map(function(r){return Fm(function(){var i,o=Tb(r,t,n);if(function(e){return e&&Ky(e.canActivate)}(o))i=Hg(o.canActivate(t,e));else{if(!Ky(o))throw new Error("Invalid CanActivate guard");i=Hg(o(t,e))}return i.pipe(lg())})})).pipe(eb()):gh(!0)}(e,t.route,n))}),lg(function(e){return!0!==e},!0))}(r,a,e,t):gh(n)}),G(function(e){return Object.assign(Object.assign({},n),{guardsResult:e})}))})}(t.ngModule.injector,function(e){return t.triggerEvent(e)}),hg(function(e){if(Yy(e.guardsResult)){var n=zg('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}var r=new Sg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(r)}),bh(function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new wg(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0}),Fb(function(e){if(e.guards.canActivateChecks.length)return gh(e).pipe(hg(function(e){var n=new Ig(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}),Um(function(e){var r,i,o=!1;return gh(e).pipe((r=t.paramsInheritanceStrategy,i=t.ngModule.injector,se(function(e){var t=e.targetSnapshot,n=e.guards.canActivateChecks;if(!n.length)return gh(e);var o=0;return re(n).pipe(yh(function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return gh({});var o={};return re(i).pipe(se(function(i){return function(e,t,n,r){var i=Tb(e,t,r);return Hg(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe(hg(function(e){o[i]=e}))}),eg(1),se(function(){return Object.keys(o).length===i.length?gh(o):jm}))}(e._resolve,e,t,r).pipe(G(function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),Iy(e,n).resolve),null}))}(e.route,t,r,i)}),hg(function(){return o++}),eg(1),se(function(t){return o===n.length?gh(e):jm}))})),hg({next:function(){return o=!0},complete:function(){if(!o){var r=new wg(e.id,t.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),e.resolve(!1)}}}))}),hg(function(e){var n=new Cg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)}))}),Fb(function(e){var n=e.extras;return t.hooks.afterPreactivation(e.targetSnapshot,{navigationId:e.id,appliedUrlTree:e.extractedUrl,rawUrlTree:e.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),G(function(e){var n,r,i,o=(i=Dy(t.routeReuseStrategy,(n=e.targetSnapshot)._root,(r=e.currentRouterState)?r._root:void 0),new ky(i,n));return Object.assign(Object.assign({},e),{targetRouterState:o})}),hg(function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)}),(i=t.rootContexts,o=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},G(function(e){return new Xy(o,e.targetRouterState,e.currentRouterState,a).activate(i),e})),hg({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){t.resetUrlToCurrentUrlTree();var r=new wg(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new vg(r))}),Km(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Yy(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var o=new wg(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=t.urlHandlingStrategy.merge(r.url,t.rawUrlTree);t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new xg(e.id,t.serializeUrl(e.extractedUrl),r);n.next(a);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var s;return jm}))}))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.extractLocationChangeInfoFromEvent(t);e.shouldScheduleNavigation(e.lastLocationChangeInfo,n)&&setTimeout(function(){var t=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}e.scheduleNavigation(i,t,r,o)},0),e.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(e,t){if(!e)return!0;var n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){nb(e),this.config=e.map(ob),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,o=t.queryParamsHandling,a=t.preserveFragment,s=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i,c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),Ny(s,this.currentUrlTree,e,c,null!=u?u:null)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Yy(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return Jb(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){var n;if(n=!0===t?Object.assign({},Qb):!1===t?Object.assign({},Kb):t,Yy(e))return Gg(this.currentUrlTree,e,n);var r=this.parseUrl(e);return Gg(this.currentUrlTree,r,n)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce(function(t,n){var r=e[n];return null!=r&&(t[n]=r),t},{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe(function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new bg(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,t.resolve(!0)},function(t){e.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(e,t,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==t&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(e,t){o=e,a=t});var d=++this.navigationId;return this.setTransition({id:d,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(e){return Promise.reject(e)})}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(gr),Dr(ty),Dr(qb),Dr(gl),Dr(na),Dr(qc),Dr(yc),Dr(void 0))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}();function Jb(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}var ew=function(){var e=function(){function e(t,n,r,i,o){s(this,e),this.router=t,this.route=n,this.commands=[],this.onChanges=new H,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return a(e,[{key:"ngOnChanges",value:function(e){this.onChanges.next(this)}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"onClick",value:function(){var e={skipLocationChange:nw(this.skipLocationChange),replaceUrl:nw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nw(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(Yb),xa(Sy),hr("tabindex"),xa(Vs),xa(Ds))},e.\u0275dir=mt({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Ma("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Ot]}),e}(),tw=function(){var e=function(){function e(t,n,r){var i=this;s(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new H,this.subscription=t.events.subscribe(function(e){e instanceof bg&&i.updateTargetUrlAndHref()})}return a(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:nw(this.skipLocationChange),replaceUrl:nw(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:nw(this.preserveFragment)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(Yb),xa(Sy),xa(hl))},e.\u0275dir=mt({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Ma("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(cs("href",t.href,qr),ga("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[Ot]}),e}();function nw(e){return""===e||!!e}var rw=function(){var e=function(){function e(t,n,r,i,o,a){var u=this;s(this,e),this.router=t,this.element=n,this.renderer=r,this.cdr=i,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(function(e){e instanceof bg&&u.update()})}return a(e,[{key:"ngAfterContentInit",value:function(){var e=this;gh(this.links.changes,this.linksWithHrefs.changes,gh(null)).pipe(le()).subscribe(function(t){e.update(),e.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var e,t=this;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();var n=[].concat(w(this.links.toArray()),w(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(e){return!!e}).map(function(e){return e.onChanges});this.linkInputChangesSubscription=re(n).pipe(le()).subscribe(function(e){t.isActive!==t.isLinkActive(t.router)(e)&&t.update()})}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(function(e){return!!e})}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.cdr.markForCheck(),e.classes.forEach(function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(e){var t="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return function(n){return e.isActive(n.urlTree,t)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(Yb),xa(Ds),xa(Vs),xa(iu),xa(ew,8),xa(tw,8))},e.\u0275dir=mt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var r;1&e&&(Xu(n,ew,5),Xu(n,tw,5)),2&e&&(Gu(r=Zu())&&(t.links=r),Gu(r=Zu())&&(t.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Ot]}),e}(),iw=function(){var e=function(){function e(t,n,r,i,o){s(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Nu,this.deactivateEvents=new Nu,this.name=i||Rg,t.onChildOutletCreated(this.name,this)}return a(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ow(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(xa(qb),xa(vu),xa(Es),hr("name"),xa(iu))},e.\u0275dir=mt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e}(),ow=function(){function e(t,n,r){s(this,e),this.route=t,this.childContexts=n,this.parent=r}return a(e,[{key:"get",value:function(e,t){return e===Sy?this.route:e===qb?this.childContexts:this.parent.get(e,t)}}]),e}(),aw=function e(){s(this,e)},sw=function(){function e(){s(this,e)}return a(e,[{key:"preload",value:function(e,t){return t().pipe(Km(function(){return gh(null)}))}}]),e}(),uw=function(){function e(){s(this,e)}return a(e,[{key:"preload",value:function(e,t){return gh(null)}}]),e}(),cw=function(){var e=function(){function e(t,n,r,i,o){s(this,e),this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new $b(n,r,function(e){return t.triggerEvent(new Tg(e))},function(e){return t.triggerEvent(new Ag(e))})}return a(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(bh(function(e){return e instanceof bg}),yh(function(){return e.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var e=this.injector.get(hu);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=g(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children))}}catch(s){i.e(s)}finally{i.f()}return re(r).pipe(le(),G(function(e){}))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return(t._loadedConfig?gh(t._loadedConfig):n.loader.load(e.injector,t)).pipe(se(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(Yb),Dr(qc),Dr(yc),Dr(na),Dr(aw))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),lw=function(){var e=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return a(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof yg?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bg&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe(function(t){t instanceof Dg&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Dg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(Yb),Dr(zl),Dr(void 0))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}(),dw=new vr("ROUTER_CONFIGURATION"),hw=new vr("ROUTER_FORROOT_GUARD"),fw=[gl,{provide:ty,useClass:ny},{provide:Yb,useFactory:function(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,l=new Yb(null,e,t,n,r,i,o,Ug(a));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),ww(s,l),s.enableTracing&&l.events.subscribe(function(e){var t,n;null===(t=console.group)||void 0===t||t.call(console,"Router Event: ".concat(e.constructor.name)),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[ty,qb,gl,na,qc,yc,Bb,dw,[function e(){s(this,e)},new jr],[function e(){s(this,e)},new jr]]},qb,{provide:Sy,useFactory:function(e){return e.routerState.root},deps:[Yb]},{provide:qc,useClass:Xc},cw,uw,sw,{provide:dw,useValue:{enableTracing:!1}}];function pw(){return new Vc("Router",Yb)}var vw=function(){var e=function(){function e(t,n){s(this,e)}return a(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[fw,bw(t),{provide:hw,useFactory:yw,deps:[[Yb,new jr,new Lr]]},{provide:dw,useValue:n||{}},{provide:hl,useFactory:gw,deps:[rl,[new zr(pl),new jr],dw]},{provide:lw,useFactory:mw,deps:[Yb,zl,dw]},{provide:aw,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:uw},{provide:Vc,multi:!0,useFactory:pw},[xw,{provide:ec,multi:!0,useFactory:kw,deps:[xw]},{provide:Sw,useFactory:_w,deps:[xw]},{provide:sc,multi:!0,useExisting:Sw}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[bw(t)]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(hw,8),Dr(Yb,8))},e.\u0275mod=pt({type:e}),e.\u0275inj=De({}),e}();function mw(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new lw(e,t,n)}function gw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new ml(e,t):new vl(e,t)}function yw(e){return"guarded"}function bw(e){return[{provide:mr,multi:!0,useValue:e},{provide:Bb,multi:!0,useValue:e}]}function ww(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}var xw=function(){var e=function(){function e(t){s(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new H}return a(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(ol,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),r=e.injector.get(Yb),i=e.injector.get(dw);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),t(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return e.initNavigation?gh(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()):t(!0),n})}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(dw),n=this.injector.get(cw),r=this.injector.get(lw),i=this.injector.get(Yb),o=this.injector.get($c);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Dr(na))},e.\u0275prov=Pe({token:e,factory:e.\u0275fac}),e}();function kw(e){return e.appInitializer.bind(e)}function _w(e){return e.bootstrapListener.bind(e)}var Sw=new vr("Router Initializer"),Iw=function(){return(Iw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},Cw={datasource:{id:"datasource",name:"Datasource"},settings:{id:"settings",name:"Settings"},adapter:{id:"adapter",name:"Adapter"},adapterProps:{id:"adapter",name:"Adapter props"},adapterMethods:{id:"adapter",name:"Adapter methods"},experimental:{id:"experimental",name:"Experimental"}},Tw={datasourceGetSignatures:{id:"datasource-get-signatures",name:"Get-method signatures",scope:Cw.datasource.id},unlimitedBidirectional:{id:"unlimited-bidirectional",name:"Unlimited bidirectional",scope:Cw.datasource.id},limited:{id:"limited",name:"Limited",scope:Cw.datasource.id},positiveLimitedIndexes:{id:"positive-limited-indexes",name:"Positive limited",scope:Cw.datasource.id},remote:{id:"remote",name:"Remote",scope:Cw.datasource.id},invertedIndexes:{id:"inverted-indexes",name:"Inverted",scope:Cw.datasource.id},pages:{id:"pages",name:"Pages",scope:Cw.datasource.id}},Aw={noSettings:{id:"no-settings",name:"No settings",scope:Cw.settings.id},bufferSize:{id:"buffer-size",name:"bufferSize",scope:Cw.settings.id},padding:{id:"padding",name:"padding",scope:Cw.settings.id},itemSize:{id:"item-size",name:"itemSize",scope:Cw.settings.id},startIndex:{id:"start-index",name:"startIndex",scope:Cw.settings.id},minMaxIndexes:{id:"min-max-indexes",name:"minIndex / maxIndex",scope:Cw.settings.id},infiniteMode:{id:"infinite-mode",name:"Infinite mode",scope:Cw.settings.id},horizontalMode:{id:"horizontal-mode",name:"Horizontal mode",scope:Cw.settings.id},differentItemHeights:{id:"different-item-heights",name:"Different item heights",scope:Cw.settings.id},windowViewport:{id:"window-viewport",name:"Entire window scrollable",scope:Cw.settings.id}},Ew={init:{id:"init",name:"Initialization",scope:Cw.adapterProps.id},packageInfo:{id:"package-info",name:"Package info",scope:Cw.adapterProps.id},isLoading:{id:"is-loading",name:"Is loading?",scope:Cw.adapterProps.id},isLoadingAdvanced:{id:"is-loading-advanced",name:"Is loading, advanced",scope:Cw.adapterProps.id},itemsCount:{id:"items-count",name:"Buffer items counter",scope:Cw.adapterProps.id},bufferInfo:{id:"buffer-info",name:"Buffer info",scope:Cw.adapterProps.id},bofEof:{id:"bof-eof",name:"Begin/end of file",scope:Cw.adapterProps.id},firstLastVisible:{id:"first-last-visible-items",name:"First and last visible items",scope:Cw.adapterProps.id}},Ow={returnValue:{id:"return-value",name:"Return value",scope:Cw.adapter.id},relax:{id:"relax",name:"Relax",scope:Cw.adapter.id},reload:{id:"reload",name:"Reload",scope:Cw.adapter.id},reset:{id:"reset",name:"Reset",scope:Cw.adapter.id},check:{id:"check-size",name:"Check size",scope:Cw.adapterMethods.id},clip:{id:"clip",name:"Clip",scope:Cw.adapterMethods.id},appendPrepend:{id:"append-prepend",name:"Append / prepend",scope:Cw.adapterMethods.id},appendPrependSync:{id:"append-prepend-sync",name:"Append / prepend sync",scope:Cw.adapterMethods.id},remove:{id:"remove",name:"Remove",scope:Cw.adapterMethods.id},insert:{id:"insert",name:"Insert",scope:Cw.adapterMethods.id},replace:{id:"replace",name:"Replace",scope:Cw.adapterMethods.id},update:{id:"update",name:"Update",scope:Cw.adapterMethods.id}},Mw={viewportElementSetting:{id:"viewportElement-setting",name:"viewportElement setting",scope:Cw.experimental.id},inverseSetting:{id:"inverse-setting",name:"inverse setting",scope:Cw.experimental.id},adapterFixPosition:{id:"adapter-fix-position",name:"Adapter fix-position method",scope:Cw.experimental.id},adapterFixUpdater:{id:"adapter-fix-updater",name:"Adapter fix-updater method",scope:Cw.experimental.id},adapterFixScrollToItem:{id:"adapter-fix-scrollToItem",name:"Adapter fix-scrollToItem method",scope:Cw.experimental.id},onBeforeClipSetting:{id:"onBeforeClip-setting",name:"onBeforeClip setting",scope:Cw.experimental.id}},Pw={datasource:Iw(Iw({},Cw.datasource),{map:Tw}),settings:Iw(Iw({},Cw.settings),{map:Aw}),adapter:Iw(Iw({},Cw.adapter),{map:[]}),adapterProps:Iw(Iw({},Cw.adapterProps),{map:Ew}),adapterMethods:Iw(Iw({},Cw.adapterMethods),{map:Ow}),experimental:Iw(Iw({},Cw.experimental),{map:Mw})},Dw=Object.values(Pw).map(function(e){return Iw(Iw({},e),{map:Object.values(e.map).map(function(e){return e})})}),Rw=function(){return{exact:!0}},Nw=function(e){return[e]},Vw=function(){function e(){this.demos=Pw}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-nav"]],decls:34,vars:14,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container"],["href","https://github.com/dhilt/ngx-ui-scroll","aria-label","View source on Github",1,"github-corner"],["width","80","height","80","viewBox","0 0 250 250","aria-hidden","true",2,"fill","#fff","color","#343a40","position","absolute","top","0","border","0","left","auto","right","0"],["d","M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"],["d","M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2","fill","currentColor",1,"octo-arm",2,"transform-origin","130px 106px"],["d","M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z","fill","currentColor",1,"octo-body"],[1,"main-menu"],["href","https://github.com/dhilt/ngx-ui-scroll",1,"navbar-brand"],["routerLink","/","routerLinkActive","active",1,"navbar-link",3,"routerLinkActiveOptions"],["routerLinkActive","active",1,"navbar-link",3,"routerLink"],["routerLink","/adapter","routerLinkActive","active",1,"navbar-link"],[1,"copyrights"],["href","https://github.com/dhilt"],["href","http://www.hill30.com/"],["href","https://github.com/dhilt/ngx-ui-scroll?sponsor=1","role","link","target","_blank","rel","noopener noreferrer",1,"support"],[1,"support_icon"]],template:function(e,t){var n,r,i;1&e&&(Sa(0,"nav",0),Sa(1,"div",1),Sa(2,"a",2),Qt.lFrame.currentNamespace=Nt,Sa(3,"svg",3),Ca(4,"path",4),Ca(5,"path",5),Ca(6,"path",6),Ia(),Ia(),Qt.lFrame.currentNamespace=null,Sa(7,"div",7),Sa(8,"a",8),is(9,"ngx-ui-scroll"),Ia(),Sa(10,"a",9),is(11,"Home"),Ia(),Sa(12,"a",10),is(13),Ia(),Sa(14,"a",10),is(15),Ia(),Sa(16,"a",11),is(17,"Adapter"),Ia(),Sa(18,"a",10),is(19),Ia(),Ia(),Ca(20,"br"),Sa(21,"span",12),is(22," 2021\xa0\xa9\xa0"),Sa(23,"a",13),is(24,"dhilt"),Ia(),is(25,", "),Sa(26,"a",14),is(27,"Hill30\xa0Inc"),Ia(),Ca(28,"br"),Sa(29,"a",15),Sa(30,"span",16),is(31,"\ud83d\udc49"),Ia(),is(32,"\xa0\xa0Support\xa0Project "),Ia(),Ia(),Ca(33,"br"),Ia(),Ia()),2&e&&($i(10),ka("routerLinkActiveOptions",(7,n=Rw,r=cn()+7,(i=Yt())[r]===Bi?pa(i,r,n()):function(e,t){return e[t]}(i,r))),$i(2),ka("routerLink",Eu(8,Nw,t.demos.datasource.id)),$i(1),os(t.demos.datasource.name),$i(1),ka("routerLink",Eu(10,Nw,t.demos.settings.id)),$i(1),os(t.demos.settings.name),$i(3),ka("routerLink",Eu(12,Nw,t.demos.experimental.id)),$i(1),os(t.demos.experimental.name))},directives:[tw,rw],styles:[".github-corner[_ngcontent-%COMP%]:hover   .octo-arm[_ngcontent-%COMP%] {\n      animation: octocat-wave 560ms ease-in-out\n    }\n\n    @keyframes octocat-wave {\n      0%, 100% {\n        transform: rotate(0)\n      }\n      20%, 60% {\n        transform: rotate(-25deg)\n      }\n      40%, 80% {\n        transform: rotate(10deg)\n      }\n    }\n\n    @media (max-width: 500px) {\n      .github-corner[_ngcontent-%COMP%]:hover   .octo-arm[_ngcontent-%COMP%] {\n        animation: none\n      }\n\n      .github-corner[_ngcontent-%COMP%]   .octo-arm[_ngcontent-%COMP%] {\n        animation: octocat-wave 560ms ease-in-out\n      }\n    }"]}),e}();function zw(e,t){1&e&&(Sa(0,"div"),Ca(1,"app-nav"),Sa(2,"div",2),Ca(3,"router-outlet"),Ia(),Ia())}function jw(e,t){1&e&&(Sa(0,"div",3),Ca(1,"router-outlet"),Ia())}var Lw=function(){function e(e,t){var n=this;this.route=e,this.router=t,this.hasLayout=!0,this.subscriptions=[],this.subscriptions.push(t.events.pipe(bh(function(e){return e instanceof yg})).subscribe(function(e){var t=e.url;n.hasLayout=!("/window"===t||"/test"===t),"/window"===t?document.body.classList.add("entire-window"):document.body.classList.remove("entire-window"),t.includes("#")||window.scrollTo(0,0)})),"scrollRestoration"in history&&(history.scrollRestoration="manual")}return e.prototype.ngAfterViewInit=function(){this.subscriptions.push(this.route.fragment.subscribe(function(e){e?setTimeout(function(){var t=document.getElementById(e);t&&t.scrollIntoView()}):window.scrollTo(0,0)}))},e.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})},e.\u0275fac=function(t){return new(t||e)(xa(Sy),xa(Yb))},e.\u0275cmp=lt({type:e,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","no-layout",4,"ngIf"],[1,"container","mb-5"],[1,"no-layout"]],template:function(e,t){1&e&&(ba(0,zw,4,0,"div",0),ba(1,jw,2,0,"div",1)),2&e&&(ka("ngIf",t.hasLayout),$i(1),ka("ngIf",!t.hasLayout))},directives:[Al,Vw,iw],encapsulation:2}),e}(),Fw=function(e){return e.Component="Component",e.Template="Template",e.Styles="CSS",e.Datasource="Datasource",e.Server="Server",e}({}),Uw=function(e){return["../",e]},Bw=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-title"]],inputs:{config:"config"},decls:4,vars:6,consts:[[3,"id"],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"h3",0),is(1),Sa(2,"a",1),is(3,"#"),Ia(),Ia()),2&e&&(ja("id",t.config.id),$i(1),as(" ",t.config.name," "),$i(1),ja("fragment",t.config.id),ka("routerLink",Eu(4,Uw,t.config.scope)))},directives:[tw],encapsulation:2}),e}();function $w(e,t){if(1&e&&(Sa(0,"tab",5),Sa(1,"pre",6),is(2),Ia(),Ia()),2&e){var n=t.index,r=Ra(3);ja("heading",r.sources[n].name),ka("active",r.sources[n].active),$i(2),os(r.sources[n].text)}}function Hw(e,t){if(1&e&&(Sa(0,"tabset"),ba(1,$w,3,3,"tab",4),Ia()),2&e){var n=Ra(2);$i(1),ka("ngForOf",n.sources)}}function qw(e,t){if(1&e&&(Sa(0,"pre",6),is(1),Ia()),2&e){var n=Ra(2);$i(1),os(n.sources[0].text)}}function Ww(e,t){if(1&e&&(Sa(0,"div",1),ba(1,Hw,2,1,"tabset",2),ba(2,qw,2,1,"pre",3),Ia()),2&e){var n=Ra();$i(1),ka("ngIf",n.sources.length>1),$i(1),ka("ngIf",1===n.sources.length)}}var Gw=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-sources"]],inputs:{sources:"sources"},decls:1,vars:1,consts:[["class","sources",4,"ngIf"],[1,"sources"],[4,"ngIf"],["class","prettyprint",4,"ngIf"],[3,"heading","active",4,"ngFor","ngForOf"],[3,"heading","active"],[1,"prettyprint"]],template:function(e,t){1&e&&ba(0,Ww,3,2,"div",0),2&e&&ka("ngIf",t.sources&&t.sources.length)},directives:[Al,uf,Cl,cf],encapsulation:2}),e}();function Xw(e,t){1&e&&is(0),2&e&&os(t.item.text)}function Zw(e,t){}var Qw=function(e,t){return{item:e,index:t}};function Kw(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div"),ba(2,Zw,0,0,"ng-template",13),Ia(),Ia()),2&e){var n=t.$implicit,r=t.index,i=Ra(2),o=wa(1);$i(1),us("item ",i.context.addClass||"",""),Wa("height",n.hasOwnProperty("size")?n.size+"px":null),$i(1),ka("ngTemplateOutlet",i.itemTemplate||o)("ngTemplateOutletContext",(a=7,s=Qw,u=n,c=r,function(e,t,n,r,i,o,a){var s=t+n;return ma(e,s,i,o)?pa(e,s+2,a?r.call(a,i,o):r(i,o)):Ou(e,s+2)}(Yt(),cn(),a,s,u,c,l)))}var a,s,u,c,l}function Yw(e,t){var n,r,i,o;1&e&&(function(e,t,n){var r=Yt(),i=Jt(),o=e+wt,a=i.firstCreatePass?function(e,t,n,r,i){var o=t.consts,a=Gt(o,r),s=Ji(t,e,8,"ng-container",a);return null!==a&&Lo(s,a,!0),po(t,n,s,Gt(o,i)),null!==t.queries&&t.queries.elementStart(t,s),s}(o,i,r,t,n):i.data[o];rn(a,!0);var s=r[o]=r[11].createComment("");wi(i,r,s,a),Wr(s,r),Ct(a)&&(ao(i,r,a),oo(i,a,r)),null!=n&&so(r,a)}(0,n,r),i=tn(),o=Jt(),on()?an():rn(i=i.parent,!1),o.firstCreatePass&&(An(o,i),St(i)&&o.queries.elementEnd(i)))}function Jw(e,t){if(1&e&&(Sa(0,"div"),is(1," Viewport scrollable size: "),Sa(2,"span"),is(3),Ia(),Ia(),Sa(4,"div"),is(5," DOM elements count: "),Sa(6,"span"),is(7),Ia(),Ia(),Sa(8,"div"),is(9," Datasource.get log "),Sa(10,"div",18),Sa(11,"pre"),is(12),Ia(),Ia(),Ia()),2&e){var n=Ra(3);us("elements ",n.context.addClass||"",""),$i(3),os(n.viewport(n.context.viewportId)),$i(1),us("elements ",n.context.addClass||"",""),$i(3),os(n.elements(n.context.viewportId)),$i(1),us("datasource ",n.context.addClass||"",""),$i(4),os(n.context.log)}}function ex(e,t){if(1&e&&(Sa(0,"div"),is(1," Datasource.get log "),Sa(2,"div",18),Sa(3,"pre"),is(4),Ia(),Ia(),Ia()),2&e){var n=Ra(3);us("datasource ",n.context.addClass||"",""),$i(4),os(n.context.log)}}function tx(e,t){if(1&e&&(Sa(0,"div",14),ba(1,Yw,1,0,"ng-container",15),ba(2,Jw,13,12,"ng-template",null,16,Ju),ba(4,ex,5,4,"ng-template",null,17,Ju),Ia()),2&e){var n=wa(3),r=wa(5),i=Ra(2);$i(1),ka("ngIf",!i.context.logViewOnly)("ngIfThen",n)("ngIfElse",r)}}function nx(e,t){if(1&e&&(Sa(0,"div",7),Sa(1,"div",8),Sa(2,"div",9),ba(3,Kw,3,10,"div",10),Ia(),Ia(),ba(4,tx,6,3,"div",11),Ca(5,"div",12),Ia()),2&e){var n=Ra();$i(2),us("viewport ",n.context.addClass||"",""),ja("id",n.context.viewportId||n.context.config.id),$i(1),ka("uiScrollOf",n.datasource),$i(1),ka("ngIf",n.init&&!n.context.noInfo)}}var rx=[[["","actions",""]],[["","description",""]]],ix=["[actions]","[description]"],ox=function(){function e(){this.init=!1}return e.prototype.viewport=function(e){var t=document.getElementById(e);return t?t[this.datasource.settings&&this.datasource.settings.horizontal?"scrollWidth":"scrollHeight"].toString():""},e.prototype.elements=function(e){var t=document.getElementById(e);return t?((t.children[0].childElementCount||0)-2).toString(10):""},e.prototype.ngOnInit=function(){var e=this;setTimeout(function(){e.sources.every(function(e){return!e.active})&&(e.sources[0].active=!0),e.init=!0})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo"]],inputs:{datasource:"datasource",context:"context",sources:"sources",itemTemplate:"itemTemplate"},ngContentSelectors:ix,decls:10,vars:3,consts:[["defaultItemTemplate",""],[1,"demo"],[3,"config"],[1,"actions"],["class","work",4,"ngIf"],[3,"sources"],[1,"description"],[1,"work"],[1,"viewport-wrapper"],[3,"id"],[4,"uiScroll","uiScrollOf"],["class","log",4,"ngIf"],[1,"clearfix","mb-3"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"log"],[4,"ngIf","ngIfThen","ngIfElse"],["allView",""],["logView",""],[1,"pre-wrapper"]],template:function(e,t){1&e&&(Va(rx),ba(0,Xw,1,1,"ng-template",null,0,Ju),Sa(2,"div",1),Ca(3,"app-demo-title",2),Sa(4,"div",3),za(5),Ia(),ba(6,nx,6,6,"div",4),Ca(7,"app-demo-sources",5),Sa(8,"div",6),za(9,1),Ia(),Ia()),2&e&&($i(3),ka("config",t.context.config),$i(3),ka("ngIf",!t.context.noWorkView),$i(1),ka("sources",t.sources))},directives:[Bw,Al,Gw,_m,Ml],encapsulation:2}),e}(),ax=function(){function e(e){this.http=e}return e.prototype.getData=function(e,t){return this.http.get("/api/data?index="+e+"&count="+t)},e.\u0275prov=Pe({token:e,factory:e.\u0275fac=function(t){return new(t||e)(Dr(Uh))}}),e}(),sx=function(){function e(e){var t=this;this.remoteDataService=e,this.demoContext={config:Pw.datasource.map.remote,logViewOnly:!0,log:"",count:0},this.datasource={get:function(e,n){return t.demoContext.log=++t.demoContext.count+") get items ["+e+".."+(e+n-1)+"]\n"+t.demoContext.log,t.remoteDataService.getData(e,n)}},this.sources=[{name:"Service/Component",text:"@Injectable()\nexport class RemoteDataService {\n\n  constructor(private http: HttpClient) {\n  }\n\n  getData(index: number, count: number): Observable<any> {\n    return this.http.get(\n      `/api/data?index=${index}&count=${count}`\n    );\n  }\n}\n\n@Component(...)\nexport class DemoRemoteDatasourceComponent {\n\n  datasource: IDatasource = {\n    get: (index, count) =>\n      this.remoteDataService.getData(index, count)\n  };\n\n  constructor(private remoteDataService: RemoteDataService) {\n  }\n}"},{name:Fw.Server,text:"const MIN = -99;\nconst MAX = 900;\n\napp.get('/api/data', (req, res) => {\n  const index = parseInt(req.query.index, 10);\n  const count = parseInt(req.query.count, 10);\n  if (isNaN(index) || isNaN(count)) {\n    return res.send([]);\n  }\n  const start = Math.max(MIN, index);\n  const end = Math.min(index + count - 1, MAX);\n  if (start > end) {\n    return res.send([]);\n  }\n  const result = [];\n  for (let i = start; i <= end; i++) {\n    result.push({ id: i, text: 'item #' + i });\n  }\n  res.send(result);\n});"}]}return e.\u0275fac=function(t){return new(t||e)(xa(ax))},e.\u0275cmp=lt({type:e,selectors:[["app-remote-datasource"]],decls:16,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," In case the data is accessible via some remote API, the "),Sa(4,"em"),is(5,"Datasource.get"),Ia(),is(6," could be implemented using Observable signature. In this demo we have a nodejs application with "),Sa(7,"em"),is(8,"/api/data"),Ia(),is(9,' GET request handler ("Server" tab), which emulates a remote limited Datasource implementation. The Component just provides '),Sa(10,"em"),is(11,"/api/data"),Ia(),is(12," GET method call inside "),Sa(13,"em"),is(14,"Datasource.get"),Ia(),is(15," body. And again, the only requirement is that the API handler on server must return an array of index-count items or empty array if we are out of range. "),Ia(),Ia(),Ia()),2&e&&ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}();function ux(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div",21),is(2),Ia(),Ia()),2&e){var n=t.$implicit,r=t.even;$i(1),Ga("even",r),$i(1),as(" ",n.text," ")}}function cx(e,t){if(1&e&&(Sa(0,"span"),Sa(1,"a",22),is(2),Ia(),Ca(3,"br"),Ia()),2&e){var n=t.$implicit,r=Ra().$implicit;$i(1),ja("routerLink",r.id),ja("fragment",n.id),$i(1),as(" ",n.name," ")}}function lx(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"h5"),is(2),Ia(),ba(3,cx,4,3,"span",20),Ia()),2&e){var n=t.$implicit;$i(2),os(n.name),$i(1),ka("ngForOf",n.map)}}var dx=function(){function e(){var e=this;this.reloadIndex=999,this.delay=0,this.datasource=new Tm({get:function(t,n,r){for(var i=[],o=t;o<=t+n-1;o++)i.push({id:o,text:"item #"+o});e.delay?setTimeout(function(){return r(i)},e.delay):r(i)},settings:{padding:.5,bufferSize:15,itemSize:25,startIndex:1},devSettings:{debug:!1}}),this.sources=[{name:Fw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource; let even = even">\n    <div class="item" [class.even]="even">\n      {{item.text}}\n    </div>\n  </div>\n</div>'},{name:Fw.Component,text:"delay = 25;\nreloadIndex = 999;\n\ndatasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    if (this.delay) {\n      setTimeout(() => success(data), this.delay);\n    } else {\n      success(data);\n    }\n  }\n});\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}"},{name:"Adapter",text:'Version:\n{{datasource.adapter.packageInfo.consumer.version}}\n\nCore:\n{{datasource.adapter.packageInfo.core.name}}\nv{{datasource.adapter.packageInfo.core.version}}\n\nFirst visible:\n#{{datasource.adapter.firstVisible.$index}}\n\nLast visible:\n#{{(datasource.adapter.lastVisible$ | async)?.$index}}\n\nItems in DOM:\n{{datasource.adapter.itemsCount}}\n\nIs loading:\n{{datasource.adapter.isLoading}}\n\nDatasource delay (ms):\n<input [(ngModel)]="delay" type="number">\n\nIndex to reload:\n<input [(ngModel)]="reloadIndex" type="number">\n<button (click)="doReload()">Reload</button>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.item.even {\n  background-color: #f2f2f2;\n}"}],this.scopes=Cw,this.demos=Dw,this.demosNotEmpty=Dw.filter(function(e){return e.map.length})}return e.prototype.doReload=function(){this.datasource.adapter.reload(this.reloadIndex)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-home"]],decls:76,vars:29,consts:[["href","https://github.com/dhilt/ngx-ui-scroll"],[1,"demo"],[1,"work"],[1,"viewport-wrapper"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"log"],[2,"line-height","25px","margin-bottom","2px"],[2,"display","flex","align-items","center","margin-bottom","2px"],["type","number",2,"width","84px",3,"ngModel","ngModelChange"],[2,"display","flex","align-items","center"],["type","number",2,"width","60px",3,"ngModel","ngModelChange"],[2,"width","60px",3,"click"],[1,"clearfix","mb-3"],[1,"sources"],[3,"heading"],[1,"prettyprint","lang-html"],[1,"prettyprint"],[3,"routerLink"],[1,"demo-examples",2,"display","flex"],[4,"ngFor","ngForOf"],[1,"item"],[3,"routerLink","fragment"]],template:function(e,t){var n;1&e&&(Sa(0,"h1"),is(1,"Angular UI Scroll Demo App"),Ia(),Sa(2,"p"),Sa(3,"em"),is(4,"ngx-ui-scroll"),Ia(),is(5," is the Angular library for large datasets virtualization. More information regarding motivation, infrastructure, features, developing can be found on "),Sa(6,"a",0),is(7,"GitHub"),Ia(),is(8,". This site is dedicated to practical examples of "),Sa(9,"em"),is(10,"ngx-ui-scroll"),Ia(),is(11," usage.\n"),Ia(),Sa(12,"div",1),Sa(13,"h3"),is(14,"Common demo"),Ia(),Sa(15,"div",2),Sa(16,"div",3),Sa(17,"div",4),ba(18,ux,3,3,"div",5),Ia(),Ia(),Sa(19,"div",6),Sa(20,"div",7),is(21),Ca(22,"br"),is(23),Ca(24,"br"),is(25),Ca(26,"br"),is(27),Pu(28,"async"),Ca(29,"br"),is(30),Ca(31,"br"),is(32),Ca(33,"br"),Ia(),Sa(34,"div",8),is(35," Datasource delay (ms):\xa0 "),Sa(36,"input",9),Ma("ngModelChange",function(e){return t.delay=e}),Ia(),Ia(),Sa(37,"div",10),is(38," Index to reload:\xa0 "),Sa(39,"input",11),Ma("ngModelChange",function(e){return t.reloadIndex=e}),Ia(),is(40,"\xa0 "),Sa(41,"button",12),Ma("click",function(){return t.doReload()}),is(42,"Reload"),Ia(),Ia(),Ia(),Ca(43,"div",13),Ia(),Sa(44,"div",14),Sa(45,"tabset"),Sa(46,"tab",15),Sa(47,"pre",16),is(48),Ia(),Ia(),Sa(49,"tab",15),Sa(50,"pre",17),is(51),Ia(),Ia(),Sa(52,"tab",15),Sa(53,"pre",16),is(54),Ia(),Ia(),Sa(55,"tab",15),Sa(56,"pre",17),is(57),Ia(),Ia(),Ia(),Ia(),Ia(),Sa(58,"p"),is(59," This particular demo includes simplest virtual list template (tab 1), simplest Datasource implementation with no any settings provided (tab 2), some of the Adapter read-only properties output (tab 3), simplest styling (tab 4). Many other samples with all necessary details and explanations can be found at "),Sa(60,"a",18),is(61),Ia(),is(62,", "),Sa(63,"a",18),is(64),Ia(),is(65,", "),Sa(66,"a",18),is(67),Ia(),is(68," and "),Sa(69,"a",18),is(70),Ia(),is(71," sections. Below is the list of all examples available in these sections.\n"),Ia(),Sa(72,"h3"),is(73," Example list\n"),Ia(),Sa(74,"div",19),ba(75,lx,4,2,"div",20),Ia()),2&e&&($i(18),ka("uiScrollOf",t.datasource),$i(3),as(" Version: ",t.datasource.adapter.packageInfo.consumer.version," "),$i(2),ss(" Core: ",t.datasource.adapter.packageInfo.core.name," v",t.datasource.adapter.packageInfo.core.version," "),$i(2),as(" First visible: #",t.datasource.adapter.firstVisible.$index," "),$i(2),as(" Last visible: #",null==(n=Du(28,27,t.datasource.adapter.lastVisible$))?null:n.$index," "),$i(3),as(" Items in DOM: ",t.datasource.adapter.itemsCount," "),$i(2),as(" Is loading: ",t.datasource.adapter.isLoading," "),$i(4),ka("ngModel",t.delay),$i(3),ka("ngModel",t.reloadIndex),$i(7),ja("heading",t.sources[0].name),$i(2),os(t.sources[0].text),$i(1),ja("heading",t.sources[1].name),$i(2),os(t.sources[1].text),$i(1),ja("heading",t.sources[2].name),$i(2),os(t.sources[2].text),$i(1),ja("heading",t.sources[3].name),$i(2),os(t.sources[3].text),$i(3),ja("routerLink",t.scopes.datasource.id),$i(1),os(t.scopes.datasource.name),$i(2),ja("routerLink",t.scopes.settings.id),$i(1),os(t.scopes.settings.name),$i(2),ja("routerLink",t.scopes.adapter.id),$i(1),os(t.scopes.adapter.name),$i(2),ja("routerLink",t.scopes.experimental.id),$i(1),os(t.scopes.experimental.name),$i(5),ka("ngForOf",t.demosNotEmpty))},directives:[_m,lh,Ad,$d,uh,uf,cf,tw,Cl],pipes:[Nl],encapsulation:2}),e}(),hx=function(e,t,n,r){e.count=e.count||0,e.log=++e.count+") got "+r+" items ["+t+".."+(t+n-1)+"]\n"+e.log},fx=function(e,t){return function(n,r,i){return function(e,t,n){isNaN(Number(n))?t(e):setTimeout(function(){return t(e)},Number(n))}(function(e,t,n){for(var r=[],i=t;i<=t+n-1;i++)r.push({id:i,text:"item #"+i});return hx(e,t,n,r.length),r}(e,n,r),i,t)}},px=function(){function e(){this.demoContext={config:Pw.settings.map.noSettings,viewportId:"no-settings-viewport",count:0,log:""},this.datasource={get:fx(this.demoContext)},this.sources=[{name:Fw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n}"},{name:Fw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-basic"]],decls:31,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," Speaking of what impact could "),Sa(4,"em"),is(5,"Settings"),Ia(),is(6," have on the Scroller behavior, we need to get an idea of its behavior before any settings applied. This demo is the very basic example with no "),Sa(7,"em"),is(8,"Settings"),Ia(),is(9," provided. "),Ia(),Sa(10,"p"),is(11," Let's first investigate the demo's log. The visible part of the viewport contains 10 items in accordance with CSS: 10 items of 25px each are equal to 250px of the viewport height. "),Sa(12,"em"),is(13,"Datasource.get"),Ia(),is(14," log shows that there were 3 requests of 5, 10 and 5 items on the initial load (before any scrolling). So we have 20 DOM elements initially: 15 downward items with positive indexes and 5 upward negative items. 20 items result in 500px and this is the initial viewport scrollable size. "),Ia(),Sa(15,"p"),is(16," The viewport scrollable size value can increase only; as we scroll more and more, items flow through the "),Sa(17,"em"),is(18,"Datasource.get"),Ia(),is(19,". In this demo the "),Sa(20,"em"),is(21,"Datasource"),Ia(),is(22," is unlimited, it produces items with indexes from -Infinity to +Infinity. The number of DOM elements in the viewport is not constant, but it fluctuates around the initial value during scrolling (20-31). The core concept of the virtualization is to keep as small number of real items as needed while the scrollable size of the viewport can be very big. "),Ia(),Sa(23,"p"),is(24," Why do we have 3 requests initially, why the first one is about only 5 items, why at least 10 items are invisible? This is how the "),Sa(25,"em"),is(26,"*uiScroll"),Ia(),is(27," works and further reading should shed light on the details. But we need to know that the default behavior could be changed via "),Sa(28,"em"),is(29,"Settings"),Ia(),is(30," object. "),Ia(),Ia(),Ia()),2&e&&ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}(),vx=function(){function e(){this.demoContext={config:Pw.settings.map.bufferSize,viewportId:"buffer-size-viewport",count:0,log:""},this.datasource={get:fx(this.demoContext),settings:{bufferSize:15}},this.sources=[{name:Fw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 15\n  }\n}"},{name:Fw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-buffer-size"]],decls:41,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," The "),Sa(4,"em"),is(5,"bufferSize"),Ia(),is(6," property defines minimal number of items that the Scroller may retrieve via "),Sa(7,"em"),is(8,"Datasource.get"),Ia(),is(9," method in a single request. In this demo we see that the initial load consists of 2 requests of 15 items (from 1 to 15 and from -14 to 0). Initially the Scroller starts fill the viewport downward from zero scroll position. If the first fetch is enough, the second one will be in the backward direction. The size of these fetches is determined by the "),Sa(10,"em"),is(11,"bufferSize"),Ia(),is(12," setting. The next fetches (during scrolling) could ask for more than "),Sa(13,"em"),is(14,"bufferSize"),Ia(),is(15," items, but never less than "),Sa(16,"em"),is(17,"bufferSize"),Ia(),is(18,". "),Ia(),Sa(19,"p"),is(20," The bigger the "),Sa(21,"em"),is(22,"bufferSize"),Ia(),is(23," value is, the less requests generally are needed to fill out the viewport. For example, scrolling from 1 to 100 item when the "),Sa(24,"em"),is(25,"bufferSize"),Ia(),is(26," is 1, we may see about 40 "),Sa(27,"em"),is(28,"Datasource.get"),Ia(),is(29," calls (depends on the environment). But in this demo (where the "),Sa(30,"em"),is(31,"bufferSize"),Ia(),is(32," is 15) we may reach the 100th item in about 10 "),Sa(33,"em"),is(34,"Datasource.get"),Ia(),is(35," calls. "),Ia(),Sa(36,"p"),is(37," The default value of "),Sa(38,"em"),is(39,"bufferSize"),Ia(),is(40," property is 5. It has to be a positive integer. The minimum value is 1. "),Ia(),Ia(),Ia()),2&e&&ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}(),mx=function(){function e(){this.demoContext={config:Pw.settings.map.padding,viewportId:"padding-viewport",count:0,log:""},this.datasource={get:fx(this.demoContext),settings:{bufferSize:7,padding:1.46}},this.sources=[{name:Fw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 7,\n    padding: 1.46\n  }\n}"},{name:Fw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-padding"]],decls:47,vars:3,consts:[[3,"datasource","context","sources"],["description",""],["href","https://github.com/dhilt/vscroll/wiki/Viewport"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," The "),Sa(4,"em"),is(5,"padding"),Ia(),is(6," setting defines an extra space out of the visible part of the viewport that should be filled with items. This provides outlets that determine when the items are to be created/destroyed. See also the "),Sa(7,"a",2),is(8,"Viewport doc"),Ia(),is(9," for details. "),Ia(),Sa(10,"p"),is(11," The value is relative to the visible size of the viewport. So "),Sa(12,"em"),is(13,"1.46"),Ia(),is(14," means that the Scroller would request new items until the areas of 146% of the viewport size in both forward and backward directions are filled with rendered items: 100% + 146% downward and 146% upward. In this demo we have 3 requests on the initial load, let's see what happened: "),Ia(),Sa(15,"ol"),Sa(16,"li"),is(17,"250px + 1.46 * 250px = 615px \u2014 total size of area that needs to be filled in downward (positive) direction, where 250px is the size of the visible viewport (per CSS) "),Ia(),Sa(18,"li"),is(19,"7 items * 25px = 175px \u2014 the result size of the first downward fetch, where "),Sa(20,"em"),is(21,"bufferSize"),Ia(),is(22," is 7 and 25px is the item's size (per CSS) "),Ia(),Sa(23,"li"),is(24,"615px - 175px = 440px \u2014 downward space which has to be filled during the second downward fetch "),Ia(),Sa(25,"li"),is(26,"ceil(440px / 25px) = 18 \u2014 the number of items that should fill 440px area during the second downward fetch "),Ia(),Ia(),Sa(27,"p"),is(28," So we have 2 "),Sa(29,"em"),is(30,"Datasource.get"),Ia(),is(31," downward requests for 7 and 18 items. And this is an explanation of the last (initial backward) fetch: "),Ia(),Sa(32,"ol"),Sa(33,"li"),is(34,"1.46 * 250px = 360px \u2014 upward space that has to be filled in backward (negative) direction "),Ia(),Sa(35,"li"),is(36,"ceil(360px / 25px) = 15 \u2014 the number of items that should fill 360px during backward fetch "),Ia(),Ia(),Sa(37,"p"),is(38," This way we got 40 DOM elements (7 + 18 + 15 = 40). The bigger "),Sa(39,"em"),is(40,"padding"),Ia(),is(41," value is, the more DOM elements should be present in the viewport. "),Ia(),Sa(42,"p"),is(43," The default value of "),Sa(44,"em"),is(45,"padding"),Ia(),is(46," property is 0.5. It is a floating point number. The minimum value is 0.01. "),Ia(),Ia(),Ia()),2&e&&ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}(),gx=function(){function e(){this.demoContext={config:Pw.settings.map.itemSize,viewportId:"item-size-viewport",count:0,log:""},this.datasource={get:fx(this.demoContext),settings:{itemSize:25}},this.sources=[{name:Fw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    itemSize: 25\n  }\n}"},{name:Fw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-item-size"]],decls:36,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," Another setting which has an impact on the viewport filling procedure is "),Sa(4,"em"),is(5,"itemSize"),Ia(),is(6,". After the first fetch is done, the Scroller gets knowledge on average item's size and can make further requests precisely. The "),Sa(7,"em"),is(8,"itemSize"),Ia(),is(9," property tells the Scroller that the initial average item's size is determined and could be used right on the first cycle. That's why we have only 2 initial "),Sa(10,"em"),is(11,"Datasource.get"),Ia(),is(12," calls in this demo: "),Ia(),Sa(13,"ol"),Sa(14,"li"),is(15,"250px + 0.5 * 250px = 375px \u2014 downward (positive) size"),Ia(),Sa(16,"li"),is(17,"ceil(375px / 25px) = 15 \u2014 items number to fill the area of 375px"),Ia(),Sa(18,"li"),is(19,"0.5 * 250px = 125px \u2014 upward (negative) size"),Ia(),Sa(20,"li"),is(21,"ceil(125px / 25px) = 5 \u2014 items number to fill the area of 125px"),Ia(),Ia(),Sa(22,"p"),Sa(23,"em"),is(24,"itemSize"),Ia(),is(25," don't fix item's size on the template layer, it is just an expectation of average item's size. If we set it to, say, 10, then the first "),Sa(26,"em"),is(27,"Datasource.get"),Ia(),is(28," call will result in ceil(375 / 10) = 38 items which will occupy 38 * 25 = 950px downward area. The second fetch will be the same as above, because the Scroller will recalculate average item's size after the first fetch is done. Setting "),Sa(29,"em"),is(30,"itemSize"),Ia(),is(31," to, say, 9999 will give us good old 3 fetches: 5 (not 1, because 1 < bufferSize that is 5 by default) and 10 items on forward direction and 5 items on backward direction. "),Ia(),Sa(32,"p"),Sa(33,"em"),is(34,"itemSize"),Ia(),is(35," has no default value. If set, it has to be a positive integer. The minimum value is 1. "),Ia(),Ia(),Ia()),2&e&&ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}(),yx=function(){function e(){this.demoContext={config:Pw.settings.map.startIndex,viewportId:"start-index-viewport",count:0,log:""},this.datasource={get:fx(this.demoContext),settings:{startIndex:137}},this.sources=[{name:Fw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 137\n  }\n}"},{name:Fw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-start-index"]],decls:18,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," What if we want to start the Scroller from some specific position? The "),Sa(4,"em"),is(5,"startIndex"),Ia(),is(6," setting determines what index the Scroller will use to start the load process when "),Sa(7,"em"),is(8,"Datasource.get"),Ia(),is(9," method is called for the first time. "),Ia(),Sa(10,"p"),is(11," The default "),Sa(12,"em"),is(13,"startIndex"),Ia(),is(14," value is 1. It has to be an integer with no range limitations. But real datasource boundaries (in case the "),Sa(15,"em"),is(16,"Datasource"),Ia(),is(17," is limited) should be taken into the account. "),Ia(),Ia(),Ia()),2&e&&ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}(),bx=function(e){return["/",e]},wx=function(){function e(){this.demoContext={config:Pw.settings.map.minMaxIndexes,viewportId:"min-max-indexes-viewport",count:0,log:""},this.datasourceLimitedDemoConfig=Pw.datasource.map.limited,this.datasourcePositiveLimitedDemoConfig=Pw.datasource.map.positiveLimitedIndexes,this.datasource={get:fx(this.demoContext),settings:{minIndex:1,maxIndex:1e3}},this.sources=[{name:Fw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    minIndex: 1,\n    maxIndex: 1000\n  }\n}"},{name:Fw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-min-max-indexes"]],decls:84,vars:11,consts:[[3,"datasource","context","sources"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," If the boundaries of the dataset are known, we may virtualize all the data items right on the Scroller initialization, in other words the Scroller will maintain forward and backward padding elements of the viewport in assumption that the dataset consists of ("),Sa(4,"em"),is(5,"maxIndex"),Ia(),is(6," - "),Sa(7,"em"),is(8,"minIndex"),Ia(),is(9,") items. So it will be possible to jump to any position immediately. "),Ia(),Sa(10,"p"),is(11," In this demo we tell the Scroller to work with indexes in-between [1..1000] range only. 1000 items of 25px amount 25000px, this is the end viewport scrollable size which will not be changed. "),Ia(),Sa(12,"p"),is(13," An important note is that "),Sa(14,"em"),is(15,"minIndex"),Ia(),is(16," and "),Sa(17,"em"),is(18,"maxIndex"),Ia(),is(19," should stay within the real datasource boundaries. All the demos we discussed before have unlimited datasources, so "),Sa(20,"em"),is(21,"minIndex"),Ia(),is(22," and "),Sa(23,"em"),is(24,"maxIndex"),Ia(),is(25," could accept any values. But in case the datasource is limited, say, by [MIN..MAX] range, then "),Sa(26,"em"),is(27,"minIndex"),Ia(),is(28," should be >= "),Sa(29,"em"),is(30,"MIN"),Ia(),is(31," and "),Sa(32,"em"),is(33,"maxIndex"),Ia(),is(34," should be <= "),Sa(35,"em"),is(36,"MAX"),Ia(),is(37,". An example of limited "),Sa(38,"em"),is(39,"Datasource.get"),Ia(),is(40," implementation can be found "),Sa(41,"a",2),is(42,"here"),Ia(),is(43,". "),Ia(),Sa(44,"p"),is(45," The Scroller can accept only one of min/max indexes settings. For example, if we know that our datasource have no negative values, then we may define "),Sa(46,"em"),is(47,"minIndex"),Ia(),is(48," as 1 (or 0) and not define "),Sa(49,"em"),is(50,"maxIndex"),Ia(),is(51,". It also seems right idea to set "),Sa(52,"em"),is(53,"startIndex"),Ia(),is(54," value to 0 in case "),Sa(55,"em"),is(56,"minIndex"),Ia(),is(57," value had been set to 0. An example of positive-limited "),Sa(58,"em"),is(59,"Datasource.get"),Ia(),is(60," implementation can be found "),Sa(61,"a",2),is(62,"here"),Ia(),is(63,". "),Ia(),Sa(64,"p"),is(65," Both of "),Sa(66,"em"),is(67,"minIndex"),Ia(),is(68," and "),Sa(69,"em"),is(70,"maxIndex"),Ia(),is(71," values should be integer. The default "),Sa(72,"em"),is(73,"minIndex"),Ia(),is(74," value is "),Sa(75,"em"),is(76,"-Infinity"),Ia(),is(77,". The default "),Sa(78,"em"),is(79,"maxIndex"),Ia(),is(80," value is "),Sa(81,"em"),is(82,"+Infinity"),Ia(),is(83,". "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(41),ja("fragment",t.datasourceLimitedDemoConfig.id),ka("routerLink",Eu(7,bx,t.datasourceLimitedDemoConfig.scope)),$i(20),ja("fragment",t.datasourcePositiveLimitedDemoConfig.id),ka("routerLink",Eu(9,bx,t.datasourcePositiveLimitedDemoConfig.scope)))},directives:[ox,tw],encapsulation:2}),e}(),xx=function(){function e(){this.demoContext={config:Pw.settings.map.infiniteMode,viewportId:"infinite-viewport",count:0,log:""},this.datasource={get:fx(this.demoContext),settings:{infinite:!0}},this.sources=[{name:Fw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n}"},{name:Fw.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 175px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-infinite"]],decls:13,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3,' The Scroller might work in "infinite" mode, when items are never removed. This mode can be turned on via '),Sa(4,"em"),is(5,"infinite"),Ia(),is(6," property of the "),Sa(7,"em"),is(8,"settings"),Ia(),is(9," object. Setting "),Sa(10,"em"),is(11,"infinite"),Ia(),is(12," to true, we ask the Scroller not to remove items that are getting out of the visible part of the viewport. That's why the DOM elements counter value increases per each edge-scroll event and never decreased. "),Ia(),Ia(),Ia()),2&e&&ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}(),kx=function(){function e(){this.demoContext={config:Pw.settings.map.horizontalMode,viewportId:"horizontal-viewport",addClass:"horizontal",count:0,log:""},this.datasource={get:fx(this.demoContext),settings:{horizontal:!0}},this.sources=[{name:Fw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    horizontal: true\n  }\n}"},{name:Fw.Template,text:'<div class="viewport horizontal">\n  <div *uiScroll="let item of datasource">\n    <div class="item horizontal">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport.horizontal {\n  width: 250px;\n  height: 100px;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  white-space: nowrap;\n}\n.viewport.horizontal div {\n  display: inline-block;\n}\n.item.horizontal {\n  border: 1px solid #aaa;\n  height: 100px;\n  padding: 0 5px;\n  font-weight: bolder;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-horizontal"]],decls:10,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," Horizontal scrolling could be enabled via "),Sa(4,"em"),is(5,"horizontal"),Ia(),is(6," setting. The styles also need to be fixed in accordance with horizontal scrolling. Currently we have some limitations at the template layer but "),Sa(7,"em"),is(8,"display: inline-block;"),Ia(),is(9," rule applied to all nested containers makes the horizontal mode work. "),Ia(),Ia(),Ia()),2&e&&ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}();function _x(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div",16),is(2),Ia(),Ia()),2&e){var n=t.$implicit;$i(1),Wa("height",n.size,"px"),$i(1),as(" ",n.text," ")}}function Sx(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div",16),is(2),Ia(),Ia()),2&e){var n=t.$implicit;$i(1),Wa("height",n.size,"px"),$i(1),as(" ",n.text," ")}}function Ix(e,t){if(1&e&&(Sa(0,"pre"),is(1),Ia()),2&e){var n=Ra();$i(1),os(n.averageLog)}}function Cx(e,t){if(1&e&&(Sa(0,"pre"),is(1),Ia()),2&e){var n=Ra();$i(1),os(n.frequentLog)}}var Tx=function(e){return["/",e]},Ax=function(){function e(){var e=this;this.settingsScope=Pw.settings.map,this.demoConfig=Pw.settings.map.differentItemHeights,this.viewportId="different-heights-viewport",this.MIN=0,this.MAX=99,this.SIZE=20,this.averageLog="",this.frequentLog="",this.log="average",this.datasourceAverage=new Tm({get:function(t,n,r){return r(e.getData(t,n,!1))},settings:{startIndex:this.MIN,minIndex:this.MIN,maxIndex:this.MAX,sizeStrategy:kf.Average}}),this.datasourceFrequent=new Tm({get:function(t,n,r){return r(e.getData(t,n,!0))},settings:{startIndex:this.MIN,minIndex:this.MIN,maxIndex:this.MAX,sizeStrategy:kf.Frequent}}),this.sources=[{name:Fw.Component,text:"MIN = 0;\nMAX = 99;\nSIZE = 20;\n\ndatasourceAverage = new Datasource<MyItem>({\n  get: (index, count, success) =>\n    success(this.getData(index, count, false)),\n  settings: {\n    startIndex: this.MIN,\n    minIndex: this.MIN,\n    maxIndex: this.MAX,\n    sizeStrategy: SizeStrategy.Average\n  }\n});\n\ndatasourceFrequent = new Datasource<MyItem>({\n  get: (index, count, success) =>\n    success(this.getData(index, count, true)),\n  settings: {\n    startIndex: this.MIN,\n    minIndex: this.MIN,\n    maxIndex: this.MAX,\n    sizeStrategy: SizeStrategy.Frequent\n  }\n});\n\ngetData(index: number, count: number, isFrequent: boolean): MyItem[] {\n  const data = [];\n  const start = Math.max(this.MIN, index);\n  const end = Math.min(index + count - 1, this.MAX);\n  for (let i = start; i <= end; i++) {\n    const size = isFrequent\n      ? this.SIZE * (i % 10 === 0 ? 2 : 1)\n      : this.SIZE + i;\n    data.push({ text: 'item #' + i, size });\n  }\n  return data;\n}"},{name:Fw.Template,active:!0,text:'<em>average</em>\n<div class="viewport">\n  <div *uiScroll="let item of datasourceAverage">\n     <div class="item" [style.height.px]="item.size">\n      {{item.text}}\n     </div>\n  </div>\n</div>\n\n<em>frequent</em>\n<div class="viewport">\n  <div *uiScroll="let item of datasourceFrequent">\n    <div class="item" [style.height.px]="item.size">\n      {{item.text}}\n     </div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n}"}],this.averageSample="Array.from({length: 100}).reduce((a, i, j) => a + j + 20 , 0) / 100; // 69.5px",he(this.datasourceAverage.adapter.init$,this.datasourceFrequent.adapter.init$).pipe(qm(1)).subscribe(function(){return e.setupLog()})}return e.prototype.setupLog=function(){var e=this,t=this.datasourceAverage.adapter,n=this.datasourceFrequent.adapter,r=document.getElementById(this.viewportId).getElementsByClassName("viewport"),i=r[0],o=r[1];t.loopPending$.subscribe(function(n){n||(e.averageLog="default: "+t.bufferInfo.defaultSize+"px, total: "+i.scrollHeight+"px\n"+e.averageLog)}),n.loopPending$.subscribe(function(t){t||(e.frequentLog="default: "+n.bufferInfo.defaultSize+"px, total: "+o.scrollHeight+"px\n"+e.frequentLog)})},e.prototype.getData=function(e,t,n){for(var r=[],i=Math.max(this.MIN,e),o=Math.min(e+t-1,this.MAX),a=i;a<=o;a++)r.push({text:"item #"+a,size:n?this.SIZE*(a%10==0?2:1):this.SIZE+a});return r},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-different-heights"]],decls:75,vars:18,consts:[[1,"demo"],[3,"config"],[1,"work",3,"id"],[1,"viewport-wrapper"],[1,"viewport-label"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"datasource"],["name","log","value","average","type","radio",3,"ngModel","ngModelChange"],["name","log","value","frequent","type","radio",3,"ngModel","ngModelChange"],[1,"pre-wrapper"],[4,"ngIf"],[1,"clearfix","mb-3"],[3,"sources"],[1,"description"],[3,"routerLink","fragment"],[1,"item"]],template:function(e,t){1&e&&(Sa(0,"div",0),Ca(1,"app-demo-title",1),Sa(2,"div",2),Sa(3,"div",3),Sa(4,"div",4),is(5,"average"),Ia(),Sa(6,"div",5),ba(7,_x,3,3,"div",6),Ia(),Ia(),Sa(8,"div",3),Sa(9,"div",4),is(10,"frequent"),Ia(),Sa(11,"div",5),ba(12,Sx,3,3,"div",6),Ia(),Ia(),Sa(13,"div",7),Sa(14,"div"),Sa(15,"input",8),Ma("ngModelChange",function(e){return t.log=e}),Ia(),is(16," average log \xa0 "),Sa(17,"input",9),Ma("ngModelChange",function(e){return t.log=e}),Ia(),is(18," frequent log "),Ia(),Sa(19,"div",10),ba(20,Ix,2,1,"pre",11),ba(21,Cx,2,1,"pre",11),Ia(),Ia(),Ca(22,"div",12),Ia(),Ca(23,"app-demo-sources",13),Sa(24,"div",14),Sa(25,"p"),is(26," Scroller works fine with non-constant item heights. The "),Sa(27,"em"),is(28,"sizeStrategy"),Ia(),is(29," setting defines the default item size. Scroller uses this default value when it needs to fetch new items and some or all of these new items had never been fetched before, so their sizes are unknown. (See "),Sa(30,"a",15),is(31,"padding setting"),Ia(),is(32," to get more details on fetching.) The following values are available "),Ia(),Sa(33,"ul"),Sa(34,"li"),Sa(35,"em"),is(36,"SizeStrategy.Average"),Ia(),is(37,' ("average"), the average size is calculated for each new item render and is considered the default '),Ia(),Sa(38,"li"),Sa(39,"em"),is(40,"SizeStrategy.Frequent"),Ia(),is(41,' ("frequent"), the most frequent size across all renders is considered the default '),Ia(),Sa(42,"li"),Sa(43,"em"),is(44,"SizeStrategy.Constant"),Ia(),is(45,' ("constant"), the default item size value is taken from the '),Sa(46,"a",15),is(47,"itemSize setting"),Ia(),is(48," and never changes. If the "),Sa(49,"em"),is(50,"itemSize"),Ia(),is(51," setting is not defined, the size of the first rendered item will be used as the default. "),Ia(),Ia(),Sa(52,"p"),is(53,' In this sample we have two Scrollers demonstrating "average" and "frequent" strategies. The log section helps to understand behavior and catch the difference between strategies. The "average" datasource provides incrementally growing items, and we see how the '),Sa(54,"em"),is(55,"default"),Ia(),is(56," size increases per each scroll down. Having 100 items with height of (20 + i)px, we'll get 70px as the average value in the end: "),Ia(),Sa(57,"pre"),is(58),Ia(),Sa(59,"p"),is(60," The "),Sa(61,"em"),is(62,"total"),Ia(),is(63,' size in the log section is an expectation of scrollable area for 100 items, it consists of two parts: 1) cumulative height of the items that have been rendered at least once, and 2) anticipated height of unknown items based on the "default" size. This second part increases per each '),Sa(64,"em"),is(65,"default"),Ia(),is(66,' size increase in the "average" sample. '),Ia(),Sa(67,"p"),is(68,' The "frequent" datasource provides the size of each 10th item = 40px, the rest = 20px. In this case it seems reasonable to use '),Sa(69,"em"),is(70,"SizeStrategy.Frequent"),Ia(),is(71,' strategy, though there is no strict conditions defining which strategy should be used in the end App. If accuracy is not a concern, the "constant" strategy can be enabled by using the '),Sa(72,"em"),is(73,"SizeStrategy.Constant"),Ia(),is(74," value as it results in less calculations on the Scroller's end. However, it is recommended to make additional research on the impact on performance for each specific case. "),Ia(),Ia(),Ia()),2&e&&($i(1),ka("config",t.demoConfig),$i(1),ka("id",t.viewportId),$i(5),ka("uiScrollOf",t.datasourceAverage),$i(5),ka("uiScrollOf",t.datasourceFrequent),$i(3),ka("ngModel",t.log),$i(2),ka("ngModel",t.log),$i(3),ka("ngIf","average"===t.log),$i(1),ka("ngIf","frequent"===t.log),$i(2),ka("sources",t.sources),$i(7),ja("fragment",t.settingsScope.padding.id),ka("routerLink",Eu(14,Tx,t.settingsScope.padding.scope)),$i(16),ja("fragment",t.settingsScope.itemSize.id),ka("routerLink",Eu(16,Tx,t.settingsScope.itemSize.scope)),$i(12),as("      ",t.averageSample,"\n    "))},directives:[Bw,_m,ph,Ad,$d,uh,Al,Gw,tw],encapsulation:2}),e}(),Ex=function(){function e(){this.demoContext={config:Pw.settings.map.windowViewport,viewportId:"window-viewport-viewport",noWorkView:!0,count:0,log:""},this.sources=[{name:Fw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    windowViewport: true\n  }\n}"},{name:Fw.Template,text:'<div *uiScroll="let item of datasource">\n  <div class="item">{{item.text}}</div>\n</div>'},{name:Fw.Styles,text:".item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-window-viewport"]],decls:13,vars:2,consts:[[3,"context","sources"],["actions",""],["routerLink","/window"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," Follow "),Sa(4,"a",2),is(5,"this link"),Ia(),is(6," to open the Entire Window scrollable demo. "),Ia(),Ia(),Sa(7,"div",3),Sa(8,"p"),is(9," The entire window might work as the viewport if "),Sa(10,"em"),is(11,"windowViewport"),Ia(),is(12,' setting is set to true. Previous versions of the library (prior to 1.6.4) required the "overflow-anchor" css property to be disabled at the top level of the DOM tree (body or html tag). Today it is not necessary. '),Ia(),Ia(),Ia()),2&e&&ka("context",t.demoContext)("sources",t.sources)},directives:[ox,tw],encapsulation:2}),e}(),Ox=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-samples-settings"]],decls:28,vars:0,template:function(e,t){1&e&&(Sa(0,"h1"),is(1,"Angular UI Scroll Settings Demos"),Ia(),Sa(2,"p"),Sa(3,"em"),is(4,"Settings"),Ia(),is(5," object is\xa0a\xa0part of\xa0"),Sa(6,"em"),is(7,"Datasource"),Ia(),is(8," implementation. It allows to configure the\xa0Scroller during its initialization. Each sample on this page deals with a\xa0single setting and includes:\n"),Ia(),Sa(9,"ul"),Sa(10,"li"),is(11,"working viewport with scrollable area;"),Ia(),Sa(12,"li"),is(13,"log section where we\xa0may see current size of\xa0the viewport, how many real items (DOM elements) the viewport has in\xa0the\xa0moment and how many items have been retrieved via Datasource.get; "),Ia(),Sa(14,"li"),is(15,"code listing which contains Datasource typescript code, Template html code and CSS;"),Ia(),Sa(16,"li"),is(17,"description and explanations."),Ia(),Ia(),Ca(18,"app-demo-basic"),Ca(19,"app-demo-buffer-size"),Ca(20,"app-demo-padding"),Ca(21,"app-demo-item-size"),Ca(22,"app-demo-start-index"),Ca(23,"app-demo-min-max-indexes"),Ca(24,"app-demo-infinite"),Ca(25,"app-demo-horizontal"),Ca(26,"app-demo-different-heights"),Ca(27,"app-demo-window-viewport"))},directives:[px,vx,mx,gx,yx,wx,xx,kx,Ax,Ex],encapsulation:2}),e}(),Mx=function(){function e(e){var t=this;this.changeDetector=e,this.demoContext={config:Pw.adapterProps.map.init,viewportId:"init-viewport",noInfo:!0,count:0,log:""},this.version="...",this.datasource=new Tm({get:fx(this.demoContext)}),this.sources=[{active:!0,name:Fw.Component,text:"version = '...';\n\ndatasource = new Datasource ({\n  get: (index, length, success) =>\n    success(Array.from({ length }).map((i, j) =>\n      ({ id: index + j, text: 'item #' + (index + j) })\n    ))\n});\n\nconstructor() {\n  const { adapter } = this.datasource;\n  adapter.init$.pipe(take(1)).subscribe(() =>\n    this.version = adapter.packageInfo.consumer.version\n  );\n}"},{name:Fw.Component+" (OnPush)",text:"@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  ...\n})\n\n...\n\nversion = '...';\n\ndatasource = new Datasource ({\n  get: (index, length, success) =>\n    success(Array.from({ length }).map((i, j) =>\n      ({ id: index + j, text: 'item #' + (index + j) })\n    ))\n});\n\nconstructor(public changeDetector: ChangeDetectorRef) {\n  const { adapter } = this.datasource;\n  adapter.init$.pipe(take(1)).subscribe(() => {\n    this.version = adapter.packageInfo.consumer.version;\n    this.changeDetector.detectChanges();\n  });\n}"},{name:Fw.Template,text:'ngx-ui-scroll version is {{version}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}];var n=this.datasource.adapter;n.init$.pipe(qm(1)).subscribe(function(){t.version=n.packageInfo.consumer.version,t.changeDetector.detectChanges()})}return e.\u0275fac=function(t){return new(t||e)(xa(iu))},e.\u0275cmp=lt({type:e,selectors:[["app-demo-init"]],decls:42,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),is(2),Ia(),Sa(3,"div",2),Sa(4,"p"),Sa(5,"em"),is(6,"Adapter.init$"),Ia(),is(7," is a Subject-boolean property that fires once after the "),Sa(8,"em"),is(9,"Adapter"),Ia(),is(10," is initialized and the Scroller is ready to run. There is also "),Sa(11,"em"),is(12,"Adapter.init"),Ia(),is(13," read-only boolean property. An important point is that there is a time gap between the Datasource/Adapter instantiation and the Scroller/Adapter initialization. In other words, we may instantiate the Datasource long before the Scroller's viewport is rendered and it starts working. "),Ia(),Sa(14,"p"),is(15," This demo displays "),Sa(16,"em"),is(17,"ngx-ui-scroll"),Ia(),is(18," version taken from the "),Sa(19,"em"),is(20,"Adapter"),Ia(),is(21,". The "),Sa(22,"em"),is(23,"Adapter.init$"),Ia(),is(24," subscription is used to set "),Sa(25,"em"),is(26,"version"),Ia(),is(27," property exactly when the "),Sa(28,"em"),is(29,"Adapter"),Ia(),is(30," initializes and receives all data. "),Ia(),Sa(31,"p"),is(32," The second tab (OnPush) implements "),Sa(33,"em"),is(34,"OnPush"),Ia(),is(35," strategy with an additional "),Sa(36,"em"),is(37,"changeDetector"),Ia(),is(38," call, whish is required to update the view, because initialization is an asynchronous process. If we remove "),Sa(39,"em"),is(40,"changeDetector"),Ia(),is(41," call, we see 3 dots, the initial value. "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(2),as(" ngx-ui-scroll version is ",t.version," "))},directives:[ox],encapsulation:2,changeDetection:0}),e}(),Px=function(){function e(){this.demoContext={config:Pw.adapterProps.map.packageInfo,viewportId:"package-info-viewport",count:0,log:""},this.datasource=new Tm({get:fx(this.demoContext)}),this.sources=[{name:Fw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:Fw.Template,text:'Consumer: {{datasource.adapter.packageInfo.consumer.name}}\nv{{datasource.adapter.packageInfo.consumer.version}}\n<br>\nCore: {{datasource.adapter.packageInfo.core.name}}\nv{{datasource.adapter.packageInfo.core.version}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-package-info"]],decls:10,vars:7,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),is(2),Ca(3,"br"),is(4),Ia(),Sa(5,"div",2),Sa(6,"p"),Sa(7,"em"),is(8,"Adapter.packageInfo"),Ia(),is(9,' represents a read-only object which contains information about versions of ngx-ui-scroll and its external core. Prior to ngx-ui-scroll v2, this core was a physical part of the ngx-ui-scroll codebase. Now it is a separate npm package "vscroll" that "ngx-ui-scroll" depends on. '),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(2),ss(" Consumer: ",t.datasource.adapter.packageInfo.consumer.name," v",t.datasource.adapter.packageInfo.consumer.version," "),$i(2),ss(" Core: ",t.datasource.adapter.packageInfo.core.name," v",t.datasource.adapter.packageInfo.core.version," "))},directives:[ox],encapsulation:2}),e}(),Dx=function(){function e(){var e=this;this.demoContext={config:Pw.adapterProps.map.isLoading,viewportId:"is-loading-viewport",count:0,log:""},this.datasource=new Tm({get:fx(this.demoContext,225)}),this.sources=[{name:Fw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 225);\n  }\n});\n\nisLoadingCounter = 0;\n\nconstructor() {\n  this.datasource.adapter.isLoading$\n    .subscribe(isLoading =>\n      this.isLoadingCounter += !isLoading ? 1 : 0\n    );\n}\n"},{active:!0,name:Fw.Template,text:'The uiScroll is\n{{datasource.adapter.isLoading ? \'loading\': \'relaxing\'}}.\n\n<br>\n\nThe value of isLoading counter has been changed\nfor {{isLoadingCounter}} times.\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.isLoadingCounter=0,this.datasource.adapter.isLoading$.subscribe(function(t){return e.isLoadingCounter+=t?0:1})}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-is-loading"]],decls:36,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),is(2),Ca(3,"br"),is(4),Ia(),Sa(5,"div",2),Sa(6,"p"),Sa(7,"em"),is(8,"Adapter.isLoading"),Ia(),is(9," is a read-only boolean property indicating whether there are any pending processes running by the Scroller. So when "),Sa(10,"em"),is(11,"datasource.adapter.isLoading"),Ia(),is(12," is "),Sa(13,"em"),is(14,"true"),Ia(),is(15,", it means that the Scroller is working right now and the viewport might be updated soon. 225ms delay was added to the "),Sa(16,"em"),is(17,"Datasource.get"),Ia(),is(18," implementation in this sample. "),Ia(),Sa(19,"p"),is(20," In addition to read-only scalar "),Sa(21,"em"),is(22,"isLoading"),Ia(),is(23," property there is also "),Sa(24,"em"),is(25,"isLoading$"),Ia(),is(26," property which is Observable. A Subject, to be exact. In this demo we have a subscription and "),Sa(27,"em"),is(28,"isLoadingCounter"),Ia(),is(29," which is incremented each time the "),Sa(30,"em"),is(31,"isLoading"),Ia(),is(32," value becomes "),Sa(33,"em"),is(34,"false"),Ia(),is(35,". We see that the initial value of this counter on the UI (before any scrolling) is 1. So the Scroller does initialization and first 3 fetches in a single session. "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(2),as(" The uiScroll is ",t.datasource.adapter.isLoading?"loading":"relaxing",". "),$i(2),as(" The value of isLoading counter has been changed for ",t.isLoadingCounter," times. "))},directives:[ox],encapsulation:2}),e}(),Rx=function(){function e(){var e=this;this.demoContext={config:Pw.adapterProps.map.isLoadingAdvanced,viewportId:"is-loading-advanced-viewport",count:0,log:""},this.datasource=new Tm({get:fx(this.demoContext,125)}),this.sources=[{name:Fw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 125);\n  }\n});\n\nloadingCounter = 0;\ninnerLoopCounter = 0;\n\nconstructor() {\n  this.datasource.adapter.isLoading$\n    .subscribe(result =>\n      this.loadingCounter += !result ? 1 : 0\n    );\n  this.datasource.adapter.loopPending$\n    .subscribe(result =>\n      this.innerLoopCounter += !result ? 1 : 0\n    );\n}"},{active:!0,name:Fw.Template,text:"The uiScroll is\n{{datasource.adapter.isLoading ? 'loading': 'relaxing'}},\ncounter {{loadingCounter}}\n\n<br>\n\nInner loop is\n{{datasource.adapter.loopPending ? 'pending': 'stopped'}},\ncounter: {{innerLoopCounter}}\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>"},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 175px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.loadingCounter=0,this.innerLoopCounter=0,this.datasource.adapter.isLoading$.subscribe(function(t){return e.loadingCounter+=t?0:1}),this.datasource.adapter.loopPending$.subscribe(function(t){return e.innerLoopCounter+=t?0:1})}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-is-loading-advanced"]],decls:64,vars:7,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),is(2),Ca(3,"br"),is(4),Ia(),Sa(5,"div",2),Sa(6,"p"),is(7,' The Scroller has internal process layer that might be called "inner loop", which is responsible for single fetch-clip-render chain. Inner loop can be empty and non-empty. Empty inner loop does nothing but check if the Scroller could relax. Non-empty inner loop corresponds to 1 '),Sa(8,"em"),is(9,"Datasource.get"),Ia(),is(10,' call (which is "fetch" subprocess) and following viewport updates: clipping old items, inserting new ones and render. '),Sa(11,"em"),is(12,"Adapter.loopPending"),Ia(),is(13," read-only scalar property and "),Sa(14,"em"),is(15,"Adapter.loopPending$"),Ia(),is(16,' observable property let us to know if the "inner loop" is pending or not. '),Ia(),Sa(17,"p"),is(18," The "),Sa(19,"em"),is(20,"isLoading"),Ia(),is(21," property, which we discussed earlier, majorizes "),Sa(22,"em"),is(23,"loopPending"),Ia(),is(24,' property, and this demo shows how they correlate. Here we count the Scroller "loading" sessions and the Scroller "inner loops" within the '),Sa(25,"em"),is(26,"Adapter.isLoading$"),Ia(),is(27," and "),Sa(28,"em"),is(29,"Adapter.loopPending$"),Ia(),is(30," subscriptions respectively. After the Scroller is initialized and started relaxing, we see that there are 4 inner loops done, while "),Sa(31,"em"),is(32,"isLoading"),Ia(),is(33," counter is 1. Practically it means that we have 3 "),Sa(34,"em"),is(35,"Datasource.get"),Ia(),is(36,' calls and 1 more empty loop to ensure that the Scroller could relax. And these 4 inner loops are being packed into 1 "isLoading" session. '),Ia(),Sa(37,"p"),is(38," So, there might be distinguished 3 levels of pending: "),Ia(),Sa(39,"ul"),Sa(40,"li"),Sa(41,"em"),is(42,"Datasource.get"),Ia(),is(43," pending, which is fully manual, because the implementation of the "),Sa(44,"em"),is(45,"Datasource"),Ia(),is(46," is in our hands; "),Ia(),Sa(47,"li"),Sa(48,"em"),is(49,"inner loop"),Ia(),is(50," pending, which is "),Sa(51,"em"),is(52,"loopPending"),Ia(),is(53," and which includes some internal Scroller's subprocesses (fetch, clip, render) that can take some time in addition to "),Sa(54,"em"),is(55,"Datasource.get"),Ia(),is(56,' call (which is a part of "fetch" subprocess); '),Ia(),Sa(57,"li"),Sa(58,"em"),is(59,"Workflow"),Ia(),is(60," pending, which is "),Sa(61,"em"),is(62,"isLoading"),Ia(),is(63,' and which consists of 1 and more inner loops making up one continuous "loading" session. '),Ia(),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(2),ss(" The Scroller is ",t.datasource.adapter.isLoading?"loading":"relaxing",", counter ",t.loadingCounter," "),$i(2),ss(" Inner loop is ",t.datasource.adapter.loopPending?"pending":"stopped",", counter: ",t.innerLoopCounter," "))},directives:[ox],encapsulation:2}),e}(),Nx=function(){function e(){this.demoContext={config:Pw.adapterProps.map.itemsCount,viewportId:"items-count-viewport",count:0,log:""},this.datasource=new Tm({get:fx(this.demoContext)}),this.sources=[{name:Fw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:Fw.Template,text:'The uiScroll buffer has\n{{datasource.adapter.itemsCount}} items.\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-items-count"]],decls:12,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),is(2),Ia(),Sa(3,"div",2),Sa(4,"p"),is(5," We may use "),Sa(6,"em"),is(7,"Adapter.itemsCount"),Ia(),is(8," read-only property to see how many items exist in the Scroller's Buffer at the moment. The "),Sa(9,"em"),is(10,"itemsCount"),Ia(),is(11," value is the same as the value of DOM elements counter. "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(2),as(" The Buffer has ",t.datasource.adapter.itemsCount," items. "))},directives:[ox],encapsulation:2}),e}(),Vx=function(){function e(){this.demoContext={config:Pw.adapterProps.map.bufferInfo,viewportId:"buffer-info-viewport",count:0,log:""},this.datasource=new Tm({get:fx(this.demoContext)}),this.sources=[{name:Fw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:Fw.Template,text:'firstIndex: {{datasource.adapter.bufferInfo.firstIndex}} /\nlastIndex: {{datasource.adapter.bufferInfo.lastIndex}} <br>\nminIndex: {{datasource.adapter.bufferInfo.minIndex}} /\nmaxIndex: {{datasource.adapter.bufferInfo.maxIndex}} <br>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.bufferInfoType="interface IBufferInfo {\n  firstIndex: number;\n  lastIndex: number;\n  minIndex: number;\n  maxIndex: number;\n  absMinIndex: number;\n  absMaxIndex: number;\n}"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-buffer-info"]],decls:32,vars:8,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),is(2),Ca(3,"br"),is(4),Ca(5,"br"),Ia(),Sa(6,"div",2),Sa(7,"p"),Sa(8,"em"),is(9,"Adapter.bufferInfo"),Ia(),is(10," is a read-only property which exposes an object of the following type: "),Ia(),Sa(11,"pre"),is(12),Ia(),Sa(13,"p"),Sa(14,"em"),is(15,"firstIndex"),Ia(),is(16," & "),Sa(17,"em"),is(18,"lastIndex"),Ia(),is(19," are the first and the last indexes in the current Buffer, "),Sa(20,"em"),is(21,"minIndex"),Ia(),is(22," & "),Sa(23,"em"),is(24,"maxIndex"),Ia(),is(25," are min and max indexes that were present in the Buffer, "),Sa(26,"em"),is(27,"absMinIndex"),Ia(),is(28," & "),Sa(29,"em"),is(30,"absMaxIndex"),Ia(),is(31," are min and max indexes that can be present in the Buffer. "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(2),ss(" firstIndex: ",t.datasource.adapter.bufferInfo.firstIndex," / lastIndex: ",t.datasource.adapter.bufferInfo.lastIndex,""),$i(2),ss(" minIndex: ",t.datasource.adapter.bufferInfo.minIndex," / maxIndex: ",t.datasource.adapter.bufferInfo.maxIndex,""),$i(8),os(t.bufferInfoType))},directives:[ox],encapsulation:2}),e}(),zx=function(){function e(){var e=this;this.demoContext={config:Pw.adapterProps.map.bofEof,viewportId:"bof-eof-viewport",count:0,log:""},this.datasource=new Tm({get:function(t,n,r){var i=[],o=Math.max(1,t),a=Math.min(t+n-1,100);if(o<=a)for(var s=o;s<=a;s++)i.push({id:s,text:"item #"+s});hx(e.demoContext,t,n,i.length),r(i)}}),this.edgeCounter=0,this.sources=[{name:Fw.Component,text:"datasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const MIN = 1, MAX = 100;\n    const data = [];\n    const start = Math.max(MIN, index);\n    const end = Math.min(index + count - 1, MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i, height: 20 + i });\n      }\n    }\n    success(data);\n  }\n});\n\nedgeCounter = 0;\n\nconstructor() {\n  const { eof$, bof$ } = this.datasource.adapter;\n  merge(bof$, eof$).subscribe(() => this.edgeCounter++);\n}\n"},{active:!0,name:Fw.Template,text:"Begin of file is {{datasource.adapter.bof ? '' : 'not'}} reached\n<br>\nEnd of file is {{datasource.adapter.eof ? '' : 'not'}} reached\n<br>\nBOF / EOF changes counter: {{edgeCounter}}\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>"},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}];var t=this.datasource.adapter;he(t.bof$,t.eof$).subscribe(function(){return e.edgeCounter++})}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-bof-eof"]],decls:45,vars:6,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),is(2),Ca(3,"br"),is(4),Ca(5,"br"),is(6),Ia(),Sa(7,"div",2),Sa(8,"p"),Sa(9,"em"),is(10,"Adapter.bof"),Ia(),is(11," and "),Sa(12,"em"),is(13,"Adapter.eof"),Ia(),is(14," are read-only boolean properties that indicate whether the dataset beginning (bof, begin of file) or the dataset ending (eof, end of file) is reached or not. "),Ia(),Sa(15,"p"),is(16," Along with scalar properties there are also two Observable ones: "),Sa(17,"em"),is(18,"Adapter.bof$"),Ia(),is(19," and "),Sa(20,"em"),is(21,"Adapter.eof$"),Ia(),is(22," which are Subjects and produce new values when scalar properties change. "),Ia(),Sa(23,"p"),is(24,' In this demo we have limited datasource consisting of 100 items starting from index 1. So initially we are at the left border of the dataset, and that\'s why we see "Begin of file is reached" message. After some scrolling down '),Sa(25,"em"),is(26,"bof"),Ia(),is(27," is turned to "),Sa(28,"em"),is(29,"false"),Ia(),is(30,", the first item is destroyed and can be retrieved again. "),Ia(),Sa(31,"p"),is(32," The "),Sa(33,"em"),is(34,"edgeCounter"),Ia(),is(35," is bof/eof changes counter. It is defined via "),Sa(36,"em"),is(37,"merge(bof$, eof$)"),Ia(),is(38," subscription which is triggered each time "),Sa(39,"em"),is(40,"bof$"),Ia(),is(41,"/"),Sa(42,"em"),is(43,"eof$"),Ia(),is(44," emits a new value. "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(2),as(" Begin of file is ",t.datasource.adapter.bof?"":"not"," reached "),$i(2),as(" End of file is ",t.datasource.adapter.eof?"":"not"," reached "),$i(2),as(" BOF / EOF changes counter: ",t.edgeCounter," "))},directives:[ox],encapsulation:2}),e}();function jx(e,t){if(1&e&&(Sa(0,"div",3),is(1),Ca(2,"br"),is(3),Pu(4,"async"),Ca(5,"br"),is(6),Ia()),2&e){var n,r=Ra();$i(1),as(" First visible item's index: ",r.datasource.adapter.firstVisible.$index," "),$i(2),as(" Last visible item's index: ",null==(n=Du(4,3,r.datasource.adapter.lastVisible$))?null:n.$index," "),$i(3),as(" Visible items counter: ",r.visibleCount," ")}}var Lx=function(){function e(){var e=this;this.demoContext={config:Pw.adapterProps.map.firstLastVisible,viewportId:"first-last-visible-items-viewport",count:0,log:""},this.datasource=new Tm({get:fx(this.demoContext)}),this.init=!1,this.visibleCount=0,this.sources=[{name:Fw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nconstructor() {\n  const { firstVisible$, lastVisible$ } = this.datasource.adapter;\n  combineLatest(firstVisible$, lastVisible$)\n    .subscribe(result => {\n      const first = Number(result[0].$index);\n      const last = Number(result[1].$index);\n      this.visibleCount =\n        isNaN(first) || isNaN(last) ? 0 : last - first + 1;\n    });\n}"},{active:!0,name:Fw.Template,text:'First visible item\'s index:\n{{datasource.adapter.firstVisible.$index}}\n<br>\nLast visible item\'s index:\n{{(datasource.adapter.lastVisible$ | async)?.$index}}\n<br>\nVisible items counter: {{visibleCount}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.itemAdapterDescription="  ItemAdapter {\n    $index: number;\n    data: any;\n    element?: HTMLElement;\n  }",setTimeout(function(){return e.init=!0});var t=this.datasource.adapter;Pm([t.firstVisible$,t.lastVisible$]).subscribe(function(t){var n=Number(t[0].$index),r=Number(t[1].$index);e.visibleCount=isNaN(n)||isNaN(r)?0:r-n+1})}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-first-last-visible-items"]],decls:57,vars:5,consts:[[3,"datasource","context","sources"],["actions","",4,"ngIf"],["description",""],["actions",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),ba(1,jx,7,5,"div",1),Sa(2,"div",2),Sa(3,"p"),is(4," The "),Sa(5,"em"),is(6,"Adapter"),Ia(),is(7," has two read-only properties which allow to determine the first and the last visible items: "),Sa(8,"em"),is(9,"firstVisible"),Ia(),is(10," and "),Sa(11,"em"),is(12,"lastVisible"),Ia(),is(13,". These are the objects of special "),Sa(14,"em"),is(15,"ItemAdapter"),Ia(),is(16," type "),Ia(),Sa(17,"pre"),is(18),Ia(),Sa(19,"p"),Sa(20,"em"),is(21,"$index"),Ia(),is(22," corresponds to "),Sa(23,"em"),is(24,"Datasource"),Ia(),is(25," item index value; "),Sa(26,"em"),is(27,"data"),Ia(),is(28," is what we were pushing to the Scroller on "),Sa(29,"em"),is(30,"Datasource.get"),Ia(),is(31," (item's content); "),Sa(32,"em"),is(33,"element"),Ia(),is(34," is the DOM element that is relevant to our item. "),Ia(),Sa(35,"p"),is(36," In addition to scalar "),Sa(37,"em"),is(38,"firstVisible"),Ia(),is(39," and "),Sa(40,"em"),is(41,"lastVisible"),Ia(),is(42," properties there are also Observable versions: "),Sa(43,"em"),is(44,"firstVisible$"),Ia(),is(45," and "),Sa(46,"em"),is(47,"lastVisible$"),Ia(),is(48,". In this demo we calculate a number of visible items with the help of "),Sa(49,"em"),is(50,"combineLatest"),Ia(),is(51," RxJs method. "),Ia(),Sa(52,"p"),is(53,' Recalculation of the first and the last items occurs per each non-empty "inner loop" session, when a bunch of new items are fetched via '),Sa(54,"em"),is(55,"Datasource.get"),Ia(),is(56,", rendered and unnecessary items are clipped out. "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(1),ka("ngIf",t.init),$i(17),os(t.itemAdapterDescription))},directives:[ox,Al],pipes:[Nl],encapsulation:2}),e}(),Fx=function(){function e(){this.demoConfig=Pw.adapterMethods.map.returnValue,this.returnValueType="  Promise<{\n    success: boolean,\n    immediate: boolean,\n    details: string | null\n  }>",this.returnValueSample="\n  const { immediate } = await adapter.remove({ predicate });\n  if (immediate) {\n    console.log('No items were removed');\n  }",this.explicitSequenceSample='\n  await adapter.append({ items });\n  scrollToBottom(); // will not scroll without "await"\n  '}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-adapter-return-value"]],decls:76,vars:4,consts:[[1,"demo"],[3,"config"],[1,"description"]],template:function(e,t){1&e&&(Sa(0,"div",0),Ca(1,"app-demo-title",1),Sa(2,"div",2),Sa(3,"p"),is(4," Along with "),Sa(5,"em"),is(6,"Adapter"),Ia(),is(7," properties there are several "),Sa(8,"em"),is(9,"Adapter"),Ia(),is(10," methods. Each "),Sa(11,"em"),is(12,"Adapter"),Ia(),is(13," method runs the Scroller's Workflow that handles multiple internal processes, some of which may be asynchronous. In order to deal with such asynchronicity, the return value of any "),Sa(14,"em"),is(15,"Adapter"),Ia(),is(16," method is a "),Sa(17,"em"),is(18,"Promise"),Ia(),is(19," that is resolved when all internal processes triggered by the "),Sa(20,"em"),is(21,"Adapter"),Ia(),is(22," are terminated. Return value has following type "),Ia(),Sa(23,"pre"),is(24),Ia(),Sa(25,"p"),is(26," - "),Sa(27,"em"),is(28,"success"),Ia(),is(29,": specifies whether the "),Sa(30,"em"),is(31,"Adapter"),Ia(),is(32," method completed successfully or not; for example, if some method is invoked with wrong arguments, no error will be thrown, but we'll get "),Sa(33,"em"),is(34,"success:\xa0false"),Ia(),is(35," in the result; "),Ca(36,"br"),is(37," - "),Sa(38,"em"),is(39,"details"),Ia(),is(40,": contains error message in case "),Sa(41,"em"),is(42,"success"),Ia(),is(43," is "),Sa(44,"em"),is(45,"false"),Ia(),is(46,"; "),Ca(47,"br"),is(48," - "),Sa(49,"em"),is(50,"immediate"),Ia(),is(51,": specifies whether the "),Sa(52,"em"),is(53,"Adapter"),Ia(),is(54," method completed immediately or not; for example, if "),Sa(55,"em"),is(56,"Adapter.remove"),Ia(),is(57," won't remove any items, then it will be terminated immediately and we'll get "),Sa(58,"em"),is(59,"immediate:\xa0true"),Ia(),is(60," in the result. "),Ia(),Sa(61,"pre"),is(62),Ia(),Sa(63,"p"),is(64," Note, "),Sa(65,"em"),is(66,"immediate:\xa0false"),Ia(),is(67," does not necessarily mean that the "),Sa(68,"em"),is(69,"Adapter"),Ia(),is(70," method worked asynchronously. For example, "),Sa(71,"em"),is(72,"Adapter.clip"),Ia(),is(73," does its work in a single call stack regardless of whether there are items to be clipped or not. But in any case, if there is any logic that needs to be run after the Adapter method completes its job, it is highly recommended to implement an explicit sequence like this: "),Ia(),Sa(74,"pre"),is(75),Ia(),Ia(),Ia()),2&e&&($i(1),ka("config",t.demoConfig),$i(23),os(t.returnValueType),$i(38),os(t.returnValueSample),$i(13),os(t.explicitSequenceSample))},directives:[Bw],encapsulation:2}),e}(),Ux=function(e){return["/",e]},Bx=function(){function e(){this.demoContext={config:Pw.adapterMethods.map.relax,noInfo:!0},this.adapterMethodsScope=Pw.adapterMethods,this.datasource=new Tm({get:function(e,t,n){for(var r=[],i=e;i<e+t;i++)r.push({id:i,text:"item #"+i});n(r)}}),this.sources=[{active:!0,name:"Relax",text:"async doReplace() {\n  const { adapter } = this.datasource;\n  await adapter.relax();\n  adapter.remove({\n    predicate: ({ $index }) => $index > 4 && $index < 8\n  });\n  await adapter.relax();\n  adapter.insert({\n    items: [{ id: '5*', text: 'item #5 *' }],\n    after: ({ $index }) => $index === 4\n  });\n}\n"},{name:"Is loading",text:"relax(cb: Function) {\n  const { adapter } = this.datasource;\n  if (!adapter.isLoading) {\n    cb();\n  } else {\n    adapter.isLoading$\n      .pipe(filter(isLoading => !isLoading), take(1))\n      .subscribe(() => cb());\n  }\n}\n\ndoReplace() {\n  const { adapter } = this.datasource;\n  this.relax(() =>\n    adapter.remove({\n      predicate: ({ $index }) => $index > 4 && $index < 8\n    })\n  );\n  this.relax(() =>\n    adapter.insert({\n      items: [{ id: '5*', text: 'item #5 *' }],\n      after: ({ $index }) => $index === 4\n    })\n  );\n}\n"},{name:"Callback",text:"doReplace() {\n  const { adapter } = this.datasource;\n  adapter.relax(() =>\n    adapter.remove({\n      predicate: ({ $index }) => $index > 4 && $index < 8\n    })\n  );\n  adapter.relax(() =>\n    adapter.insert({\n      items: [{ id: '5*', text: 'item #5 *' }],\n      after: ({ $index }) => $index === 4\n    })\n  );\n}\n"},{name:"Return",text:"async doReplace() {\n  const { adapter } = this.datasource;\n  await adapter.relax();\n  await adapter.remove({\n    predicate: ({ $index }) => $index > 4 && $index < 8\n  });\n  adapter.insert({\n    items: [{ id: '5*', text: 'item #5 *' }],\n    after: ({ $index }) => $index === 4\n  });\n}\n"}],this.isLoadingSample="\n  if (!adapter.isLoading) {\n    doSomething();\n  } else {\n    adapter.isLoading$\n      .pipe(filter(isLoading => !isLoading), take(1))\n      .subscribe(() => doSomething());\n  }",this.relaxSample="\n  await adapter.relax();\n  doSomething();"}return e.prototype.doReplace=function(){return e=this,void 0,n=function(){var e,t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(n){switch(n.label){case 0:return t={id:"5*",text:"item #5 *"},[4,(e=this.datasource.adapter).relax()];case 1:return n.sent(),e.remove({predicate:function(e){var t=e.$index;return t>4&&t<8}}),[4,e.relax()];case 2:return n.sent(),e.insert({items:[t],after:function(e){return 4===e.$index}}),[2]}})},new((t=void 0)||(t=Promise))(function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(o,a)}s((n=n.apply(e,[])).next())});var e,t,n},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-adapter-relax"]],decls:66,vars:13,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doReplace()}),is(3,"replace (5, 6, 7) with (5 *)"),Ia(),Ia(),Sa(4,"div",3),Sa(5,"p"),is(6," The "),Sa(7,"em"),is(8,"Adapter.relax"),Ia(),is(9," is a kind of empty "),Sa(10,"em"),is(11,"Adapter"),Ia(),is(12,' method that does only one thing: it resolves when the Scroller is relaxed. If we need to run any logic that should not interfere with the Scroller internal processes, it should be protected by the "relax" promise: '),Ia(),Sa(13,"pre"),is(14),Ia(),Sa(15,"p"),is(16," In this demo we simulate items replacement by performing a sequence of 2 "),Sa(17,"em"),is(18,"Adapter"),Ia(),is(19,' methods: remove and insert. A few existed items (5, 6, 7) are being replaced with a new one (5*). Removing is an asynchronous operation, and we can\'t perform "insert" before "remove" is done (it will produce an error). Thus, both operations must be run in sequence. Also, we should be wary of any async processes before running the Adapter methods chain. So the algorithm for this demo can be written as follows: '),Ia(),Sa(20,"ul"),Sa(21,"li"),is(22,"wait for Scroller stops"),Ia(),Sa(23,"li"),is(24,"run remove"),Ia(),Sa(25,"li"),is(26,"wait for remove is done"),Ia(),Sa(27,"li"),is(28,"run insert"),Ia(),Ia(),Sa(29,"p"),is(30," (Please note, a replacement can be done via "),Sa(31,"a",4),is(32,"Adapter.replace API"),Ia(),is(33," in a single run; the "),Sa(34,"em"),is(35,"insert-remove"),Ia(),is(36," approach is less performant than the "),Sa(37,"em"),is(38,"Adapter.replace"),Ia(),is(39,") "),Ia(),Sa(40,"p"),is(41," The purpose of the "),Sa(42,"em"),is(43,"Adapter.relax"),Ia(),is(44," method is to make sure that the "),Sa(45,"em"),is(46,"uiScroll"),Ia(),is(47,' relaxes and there are no pending internal tasks running on the Scroller\'s end. The first tab "Relax" demonstrates how the desired sequence can be implemented with the '),Sa(48,"em"),is(49,"Adapter.relax"),Ia(),is(50,' method. This method returns a promise which becomes resolved when the Scroller stops. Basically, this may be treated as a shortcut for the following approach, which is presented on the "Is\xa0loading" tab: '),Ia(),Sa(51,"pre"),is(52),Ia(),Sa(53,"p"),is(54,' All the tabs are equivalent. The third tab "Callback" uses a callback signature of the '),Sa(55,"em"),is(56,"Adapter.relax"),Ia(),is(57,' method. The method accepts callback as an optional argument, and this allows to run necessary logic right before resolving the "relax" promise. This might be helpful if we don\'t want to wait until the end of the current call stack. '),Ia(),Sa(58,"p"),is(59," At last, we may use "),Sa(60,"a",4),is(61,"Return value API"),Ia(),is(62," (which is a part of each "),Sa(63,"em"),is(64,"Adapter"),Ia(),is(65,' method) and get rid of the second "relax". This approach is demonstrated on the last tab "Return". '),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(14),os(t.relaxSample),$i(17),ja("fragment",t.adapterMethodsScope.map.replace.id),ka("routerLink",Eu(9,Ux,t.adapterMethodsScope.map.replace.scope)),$i(21),os(t.isLoadingSample),$i(8),ja("fragment",t.adapterMethodsScope.map.returnValue.id),ka("routerLink",Eu(11,Ux,t.adapterMethodsScope.map.returnValue.scope)))},directives:[ox,tw],encapsulation:2}),e}(),$x=function(e){return["/",e]},Hx=function(){function e(){this.demoContext={config:Pw.adapterMethods.map.reload,viewportId:"reload-viewport",count:0,log:""},this.startIndexDemoConfig=Pw.settings.map.startIndex,this.datasource=new Tm({get:fx(this.demoContext)}),this.sources=[{name:Fw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nreloadIndex: number = 99;\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}"},{active:!0,name:Fw.Template,text:'<button (click)="doReload()">Reload</button>\nby index <input [(ngModel)]="reloadIndex">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.reloadIndex=99}return e.prototype.onInputChanged=function(e){var t=parseInt(e.value,10);isNaN(t)&&(t=1),e.value=t.toString(),this.reloadIndex=t},e.prototype.doReload=function(){this.demoContext.count=0,this.demoContext.log="",this.datasource.adapter.reload(this.reloadIndex)},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-reload"]],decls:52,vars:8,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["size","2",3,"ngModel","change"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doReload()}),is(3,"Reload"),Ia(),is(4," \xa0 by index \xa0 "),Sa(5,"input",3),Ma("change",function(e){return t.onInputChanged(e.target)}),Ia(),Ia(),Sa(6,"div",4),Sa(7,"p"),is(8," The "),Sa(9,"em"),is(10,"Adapter.reload"),Ia(),is(11," method allows to reload the Scroller. This includes resetting the items "),Sa(12,"em"),is(13,"Buffer"),Ia(),is(14," and the "),Sa(15,"em"),is(16,"Viewport"),Ia(),is(17," params. The "),Sa(18,"em"),is(19,"reload"),Ia(),is(20," method has 1 optional argument: "),Sa(21,"em"),is(22,"index"),Ia(),is(23,". It specifies the index of the item to be first in the visible part of the viewport after reload. "),Ia(),Sa(24,"p"),is(25," If "),Sa(26,"em"),is(27,"index"),Ia(),is(28," argument is not set, "),Sa(29,"em"),is(30,"settings.startIndex"),Ia(),is(31," will be used as the first index. If neither "),Sa(32,"em"),is(33,"index"),Ia(),is(34," argument not "),Sa(35,"em"),is(36,"startIndex"),Ia(),is(37," setting is present, the default value 1 will be used. See also "),Sa(38,"a",5),is(39,"startIndex setting"),Ia(),is(40," demo. "),Ia(),Sa(41,"p"),is(42," The "),Sa(43,"em"),is(44,"Adapter.reload"),Ia(),is(45," method is safe and needs not to be protected with the "),Sa(46,"em"),is(47,"Adapter.relax"),Ia(),is(48," (though it could be protected if that's the UX requirement). This method interrupts the Scroller's flow and synchronously terminates any pending processes on the Scroller's end. The same is true also for the "),Sa(49,"em"),is(50,"Adapter.reset"),Ia(),is(51," method. "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(5),ka("ngModel",t.reloadIndex),$i(33),ja("fragment",t.startIndexDemoConfig.id),ka("routerLink",Eu(6,$x,t.startIndexDemoConfig.scope)))},directives:[ox,Ad,$d,uh,tw],encapsulation:2}),e}(),qx=function(){function e(){this.demoContext={config:Pw.adapterMethods.map.reset,viewportId:"reset-viewport",count:0,log:""},this.datasource=new Tm({get:fx(this.demoContext)}),this.startIndex=100,this.bufferSize=20,this.sources=[{name:Fw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nstartIndex = 100;\nbufferSize = 20;\n\ndoReset() {\n  const settings = {\n    startIndex: Number(this.startIndex),\n    bufferSize: Number(this.bufferSize)\n  };\n  this.datasource.adapter.reset({ settings });\n}"},{active:!0,name:Fw.Template,text:'<button (click)="doReset()">Reset</button>\n<input [(ngModel)]="startIndex" size="3"> - new start index\n<input [(ngModel)]="bufferSize" size="3"> - new buffer size\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'}],this.resetWithNewInstanceSample="  this.datasource.adapter.reset(new Datasource(...));"}return e.prototype.doReset=function(){this.demoContext.count=0,this.demoContext.log="";var e={startIndex:Number(this.startIndex),bufferSize:Number(this.bufferSize)};this.datasource.adapter.reset({settings:e})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-reset"]],decls:59,vars:6,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["size","3",3,"ngModel","ngModelChange"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doReset()}),is(3,"Reset"),Ia(),Ca(4,"br"),Sa(5,"input",3),Ma("ngModelChange",function(e){return t.startIndex=e}),Ia(),is(6," - new start index"),Ca(7,"br"),Sa(8,"input",3),Ma("ngModelChange",function(e){return t.bufferSize=e}),Ia(),is(9," - new buffer size "),Ia(),Sa(10,"div",4),Sa(11,"p"),is(12," The "),Sa(13,"em"),is(14,"Adapter.reset"),Ia(),is(15," method is designed to reset the internal state of the Scroller. It differs from the "),Sa(16,"em"),is(17,"Adapter.reload"),Ia(),is(18," because it re-instantiates all internal entities, which is equivalent to destroying the Scroller and re-creating it again via "),Sa(19,"em"),is(20,"ngIf"),Ia(),is(21,". "),Ia(),Sa(22,"p"),is(23," The method has 1 optional argument: "),Sa(24,"em"),is(25,"datasource"),Ia(),is(26," object. By passing it, we tell the Scroller that we want to use a new datasource. If the argument is not passed, the old Datasource will be used. "),Ia(),Sa(27,"p"),is(28," All fields of the "),Sa(29,"em"),is(30,"datasource"),Ia(),is(31," argument are optional. Missing parts of a new Datasource will be taken from the original one. For instance, in this demo only "),Sa(32,"em"),is(33,"settings"),Ia(),is(34," field is passed: "),Sa(35,"em"),is(36,"Adapter.reset({ settings })"),Ia(),is(37,". This sets new "),Sa(38,"em"),is(39,"startIndex"),Ia(),is(40," and "),Sa(41,"em"),is(42,"bufferSize"),Ia(),is(43," settings while "),Sa(44,"em"),is(45,"Datasource.get"),Ia(),is(46," remains pristine. It affects the value of the DOM elements counter. "),Ia(),Sa(47,"p"),Sa(48,"b"),is(49,"Important note!"),Ia(),is(50," Do not re-assign the Datasource at the App component level, "),Sa(51,"em"),is(52,"this.datasource"),Ia(),is(53," must keep the same reference before and after reset. So "),Sa(54,"em"),is(55,"this.datasource\xa0=\xa0..."),Ia(),is(56," expressions are prohibited after reset, for it will make the Adapter subscriptions broken. The Scroller maintains Datasource params and provides the Adapter consistency across the reset. Even in case of passing a new instance of Datasource: "),Ia(),Sa(57,"pre"),is(58),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(5),ka("ngModel",t.startIndex),$i(3),ka("ngModel",t.bufferSize),$i(50),os(t.resetWithNewInstanceSample))},directives:[ox,Ad,$d,uh],encapsulation:2}),e}(),Wx=function(){function e(){var e=this;this.demoContext={config:Pw.adapterMethods.map.check,viewportId:"check-size-viewport",count:0,log:""},this.MIN=1,this.MAX=200,this.startIndex=20,this.sizeValue=15,this.datasource=new Tm({get:function(t,n,r){for(var i=[],o=function(t){var n=e.data.find(function(e){return e.id===t});n&&i.push(n)},a=t;a<t+n;a++)o(a);hx(e.demoContext,t,n,i.length),r(i)},settings:{startIndex:this.startIndex}}),this.sources=[{name:Fw.Component,text:"MIN = 1;\nMAX = 200;\nstartIndex = 20;\nsizeValue = 15;\ndata: MyItem[];\nneedAutoscroll: false;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i, size: 50 });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      const found = this.data.find(item => item.id === i);\n      if (found) {\n        data.push(found);\n      }\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: this.startIndex\n  }\n});\n\nfindElement(index: number): HTMLElement | null {\n  const viewportElement = document.getElementsByClassName('viewport')[0];\n  return viewportElement\n    ? viewportElement.querySelector(`[data-sid=\"${index}\"]`)\n    : null;\n}\n\ndoChangeSize() {\n  const DELTA = 5;\n  const index = Number(this.startIndex - DELTA);\n  if (!isNaN(index)) {\n    for (let i = index; i < index + DELTA * 2; i++) {\n      const element = this.findElement(i);\n      if (element) {\n        element.style.height = this.sizeValue + 'px';\n        const item = this.data.find(({ id }) => id === i);\n        if (item) {\n          item.size = this.sizeValue;\n        }\n      }\n    }\n  }\n}\n\nautoscroll(index: number) {\n  const element = this.findElement(index);\n  const viewportElement = document.getElementsByClassName('viewport')[0];\n  if (!element || !viewportElement) {\n    return;\n  }\n  const elementTop = element.getBoundingClientRect().top;\n  const viewportTop = viewportElement.getBoundingClientRect().top;\n  const toScroll = viewportTop - elementTop;\n  const diff = viewportElement.scrollTop - toScroll;\n  if (viewportElement.scrollTop === diff) {\n    return;\n  }\n  this.datasource.adapter.fix({ scrollPosition: diff });\n}\n\nasync doCheck() {\n  await this.datasource.adapter.relax();\n  let firstVisibleIndex: number | undefined;\n  if (this.needAutoscroll) {\n    firstVisibleIndex = this.datasource.adapter.firstVisible.$index;\n  }\n  this.doChangeSize();\n  await this.datasource.adapter.check();\n  if (firstVisibleIndex !== undefined) {\n    this.autoscroll(firstVisibleIndex);\n  }\n}"},{active:!0,name:Fw.Template,text:'<button (click)="doCheck(20)">Resize and Check</button>\n<br />\nAutoscroll: <input type="checkbox" [(ngModel)]="needAutoscroll"/>\n<br />\nFirst visible item\'s index: {{datasource.adapter.firstVisible.$index}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n  overflow: hidden;\n}"}],this.data=[];for(var t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t,size:50})}return e.prototype.findElement=function(e){var t=document.getElementById(this.demoContext.viewportId||this.demoContext.config.id);return t?t.querySelector('[data-sid="'+e+'"]'):null},e.prototype.doChangeSize=function(){var e=Number(this.startIndex-5);if(!isNaN(e))for(var t=function(e){var t=n.findElement(e);if(t){t.style.height=n.sizeValue+"px";var r=n.data.find(function(t){return t.id===e});r&&(r.size=n.sizeValue)}},n=this,r=e;r<e+10;r++)t(r)},e.prototype.autoscroll=function(e){var t=this.findElement(e),n=document.getElementById(this.demoContext.viewportId||this.demoContext.config.id);if(t&&n){var r=t.getBoundingClientRect().top,i=n.getBoundingClientRect().top,o=n.scrollTop-(i-r);n.scrollTop!==o&&this.datasource.adapter.fix({scrollPosition:o})}},e.prototype.doCheck=function(){return e=this,void 0,n=function(){var e;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(t){switch(t.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return t.sent(),this.needAutoscroll&&(e=this.datasource.adapter.firstVisible.$index),this.doChangeSize(),[4,this.datasource.adapter.check()];case 2:return t.sent(),void 0!==e&&this.autoscroll(e),[2]}})},new((t=void 0)||(t=Promise))(function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(o,a)}s((n=n.apply(e,[])).next())});var e,t,n},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-check-size"]],decls:33,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["type","checkbox",3,"ngModel","ngModelChange"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doCheck()}),is(3,"Resize and Check"),Ia(),Ca(4,"br"),is(5," Autoscroll: "),Sa(6,"input",3),Ma("ngModelChange",function(e){return t.needAutoscroll=e}),Ia(),Ca(7,"br"),is(8),Ia(),Sa(9,"div",4),Sa(10,"p"),is(11," The "),Sa(12,"em"),is(13,"Adapter.check"),Ia(),is(14," method could be useful when rows heights can change after rendering. By invoking the "),Sa(15,"em"),is(16,"Adapter.check"),Ia(),is(17," method we ask the Scroller to check if any of items that are in the current Buffer (and present in DOM) changed their size. "),Ia(),Sa(18,"p"),is(19," In this demo, the "),Sa(20,"em"),is(21,"doCheck"),Ia(),is(22," method is implemented to "),Ia(),Sa(23,"ul"),Sa(24,"li"),is(25,"change the actual size of 10 items (from 15 to 25) in DOM;"),Ia(),Sa(26,"li"),is(27,"run "),Sa(28,"em"),is(29,"Adapter.check()"),Ia(),is(30,";"),Ia(),Sa(31,"li"),is(32,"autoscroll to the first visible item before changing(optionally)."),Ia(),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(6),ka("ngModel",t.needAutoscroll),$i(2),as(" First visible item's index: ",t.datasource.adapter.firstVisible.$index," "))},directives:[ox,Id,$d,uh],encapsulation:2}),e}(),Gx=function(e){return["/",e]},Xx=function(){function e(){this.demoContext={config:Pw.adapterMethods.map.clip,viewportId:"clip-viewport",count:0,log:""},this.settingsScope=Pw.settings,this.datasource=new Tm({get:fx(this.demoContext),settings:{infinite:!0}}),this.sources=[{name:Fw.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n});\n\nasync doClip() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.clip();\n}"},{active:!0,name:Fw.Template,text:'<button (click)="doClip()">Clip</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.clipOptionsDescription="  AdapterClipOptions {\n    forwardOnly?: boolean;\n    backwardOnly?: boolean;\n  }",this.clipOptionsSample="{ backwardOnly: true }"}return e.prototype.doClip=function(){return e=this,void 0,n=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(e){switch(e.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return e.sent(),[4,this.datasource.adapter.clip()];case 2:return e.sent(),[2]}})},new((t=void 0)||(t=Promise))(function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(o,a)}s((n=n.apply(e,[])).next())});var e,t,n},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-clip"]],decls:45,vars:13,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doClip()}),is(3,"Clip"),Ia(),Ia(),Sa(4,"div",3),Sa(5,"p"),is(6," The "),Sa(7,"em"),is(8,"Adapter.clip"),Ia(),is(9," method allows to remove out-of-viewport items on demand. Out-of-viewport means out of visible part of the viewport + paddings, see "),Sa(10,"a",4),is(11,"padding setting"),Ia(),is(12," demo. Not to be confused with "),Sa(13,"em"),is(14,"Adapter.remove"),Ia(),is(15,", as the "),Sa(16,"em"),is(17,"Adapter.clip"),Ia(),is(18," method has no impact on the "),Sa(19,"em"),is(20,"Datasource"),Ia(),is(21,". It just cleans up the DOM. "),Ia(),Sa(22,"p"),is(23," Commonly, the Scroller runs a clipping procedure each time new items are fetched after scrolling and it clips old items from a side of the viewport that is opposite to a side where new items appear. This is one of the core parts of the virtualization concept. By invoking the "),Sa(24,"em"),is(25,"Adapter.clip"),Ia(),is(26," method we are telling the Scroller to run this procedure immediately and remove items that are out-of-viewport in both directions or in specific direction. Here is an argument object that lets to specify the clipping direction: "),Ia(),Sa(27,"pre"),is(28),Ia(),Sa(29,"p"),is(30," This could be useful when we enlarge the list of items manually, via "),Sa(31,"em"),is(32,"Adapter.append"),Ia(),is(33," or "),Sa(34,"em"),is(35,"Adapter.prepend"),Ia(),is(36," methods. For example, we appended 100 new items and started scrolling down, in forward direction. We might want the items that exit the viewport in backward direction to be clipped. Such a clipping will occur automatically only when we reach the bottom line of the buffer and new items are fetched and rendered in forward direction. If we don't want to wait, we just call "),Sa(37,"em"),is(38),Ia(),is(39,". "),Ia(),Sa(40,"p"),is(41," This demo implements some artificial but quite illustrative case. Here we disabled virtualization by turning on the "),Sa(42,"a",4),is(43,"infinite setting"),Ia(),is(44,'. Clipping will never happen automatically. We see how the DOM elements counter value is getting bigger and bigger as we scroll on and on. By pressing the "Clip" button, we let only 20-21 items to survive. This way a kind of manual virtualization could be implemented. '),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(10),ja("fragment",t.settingsScope.map.padding.id),ka("routerLink",Eu(9,Gx,t.settingsScope.id)),$i(18),os(t.clipOptionsDescription),$i(10),as("Adapter.clip(",t.clipOptionsSample,")"),$i(4),ja("fragment",t.settingsScope.map.infiniteMode.id),ka("routerLink",Eu(11,Gx,t.settingsScope.id)))},directives:[ox,tw],encapsulation:2}),e}(),Zx=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},Qx=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Kx=function(e){return["/",e]},Yx=function(){function e(){var e=this;this.demoContext={config:Pw.adapterMethods.map.appendPrepend,viewportId:"append-prepend-viewport",count:0,log:""},this.adapterScope=Pw.adapter,this.adapterMethodsScope=Pw.adapterMethods,this.inputValue=4,this.newIndex=0,this.datasource=new Tm({get:function(t,n,r){for(var i=[],o=t;o<t+n;o++)i.push({id:o,text:"item #"+o});hx(e.demoContext,t,n,i.length),r(i)},settings:{startIndex:100}}),this.sources=[{name:Fw.Component,text:"data: MyItem[];\ninputValue = 4;\nnewIndex = 0;\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 100\n  }\n});\n\ngenerateItems(isPrepend: boolean) {\n    const items: MyItem[] = [];\n    for (let i = 0; i < this.inputValue; i++) {\n      this.newIndex++;\n      const item = {\n        id: this.newIndex,\n        text: 'new item #' + this.newIndex + '*'\n      };\n      isPrepend ? items.unshift(item) : items.push(item);\n    }\n    return items;\n}\n\nasync doPrepend() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.prepend({\n    items: this.generateItems(true)\n  });\n}\n\nasync doAppend() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.append({\n    items: this.generateItems(false)\n  });\n}"},{active:!0,name:Fw.Template,text:'<button (click)="doAppend()">Append</button> /\n<button (click)="doPrepend()">Prepend</button>\n<input [(ngModel)]="inputValue" size="2">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.prependCallSample="Adapter.prepend({ items })",this.appendCallSample="Adapter.append({ items })",this.prependArgumentsDescription="  AdapterPrependOptions {\n    items: unknown[];\n    bof?: boolean;\n    increase?: boolean;\n  }",this.appendArgumentsDescription="  AdapterAppendOptions {\n    items: unknown[];\n    eof?: boolean;\n    decrease?: boolean;\n  }"}return e.prototype.onInputChanged=function(e){var t=parseInt(e.value.trim(),10);e.value=t.toString(),this.inputValue=t},e.prototype.generateItems=function(e){for(var t=[],n=0;n<this.inputValue;n++){this.newIndex++;var r={id:this.newIndex,text:"new item #"+this.newIndex+"*"};e?t.unshift(r):t.push(r)}return t},e.prototype.doPrepend=function(){return Zx(this,void 0,void 0,function(){return Qx(this,function(e){switch(e.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return e.sent(),[4,this.datasource.adapter.prepend({items:this.generateItems(!0)})];case 2:return e.sent(),[2]}})})},e.prototype.doAppend=function(){return Zx(this,void 0,void 0,function(){return Qx(this,function(e){switch(e.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return e.sent(),[4,this.datasource.adapter.append({items:this.generateItems(!1)})];case 2:return e.sent(),[2]}})})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-append-prepend"]],decls:81,vars:14,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["size","2",3,"ngModel","change"],["description",""],[1,"row"],[1,"column"],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"button",2),Ma("click",function(){return t.doAppend()}),is(3,"Append"),Ia(),is(4," / "),Sa(5,"button",2),Ma("click",function(){return t.doPrepend()}),is(6,"Prepend"),Ia(),Sa(7,"input",3),Ma("change",function(e){return t.onInputChanged(e.target)}),Ia(),Ia(),Sa(8,"div",4),Sa(9,"p"),is(10," Adding items at the end and at the beginning of the Scroller's Buffer is possible with "),Sa(11,"em"),is(12,"Adapter.append"),Ia(),is(13," and "),Sa(14,"em"),is(15,"Adapter.prepend"),Ia(),is(16," methods respectively. They have the following object-arguments: "),Ia(),Sa(17,"div",5),Sa(18,"div",6),Sa(19,"pre"),is(20),Ia(),Ia(),Sa(21,"div",6),Sa(22,"pre"),is(23),Ia(),Ia(),Ia(),Sa(24,"p"),is(25," The "),Sa(26,"em"),is(27,"items"),Ia(),is(28," parameter is an array of items we want to add, "),Sa(29,"em"),is(30,"eof"),Ia(),is(31,"/"),Sa(32,"em"),is(33,"bof"),Ia(),is(34," params provide virtualization, "),Sa(35,"em"),is(36,"decrease"),Ia(),is(37,"/"),Sa(38,"em"),is(39,"increase"),Ia(),is(40," define index strategy. Here we deal with only "),Sa(41,"em"),is(42,"items"),Ia(),is(43," parameter, other params are considered in the "),Sa(44,"a",7),is(45,"next demo"),Ia(),is(46,". Both "),Sa(47,"em"),is(48,"append"),Ia(),is(49," and "),Sa(50,"em"),is(51,"prepend"),Ia(),is(52," methods act in the same way, so let's discuss "),Sa(53,"em"),is(54,"prepend"),Ia(),is(55,". "),Ia(),Sa(56,"p"),is(57,' In this demo we have 20 items on start, 5 of them (95-99) are invisible on the backward direction. By pushing "Prepend" button we want to add 4 (which is the input value) new items to the top of the list. After they are prepended, they become visible when scrolling up. The Scroller accurately injects prepended items into its Buffer consisting of 95-114 rows initially, so 1-4 new items temporary take place of items with indexes 91-94. '),Ia(),Sa(58,"p"),is(59,' But if we scroll away and make \'90s items invisible and deleted from the viewport, and then scroll back, we will realise that nothing changes: "new" items are gone and the old 91-94 items returned to initial position. The point is that the changes we provide via '),Sa(60,"em"),is(61,"Adapter"),Ia(),is(62," over the internal Scroller's Buffer don't affect the external "),Sa(63,"em"),is(64,"Datasource"),Ia(),is(65," we implemented on the Component level. This is our responsibility to take care of data passing to the Scroller through the "),Sa(66,"em"),is(67,"Datasource"),Ia(),is(68,". "),Sa(69,"a",7),is(70,"The next sample"),Ia(),is(71," provides one of the approach of consistent "),Sa(72,"em"),is(73,"Datasource"),Ia(),is(74," implementation with "),Sa(75,"em"),is(76,"Adapter.append"),Ia(),is(77," and "),Sa(78,"em"),is(79,"Adapter.prepend"),Ia(),is(80," methods usage. "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(7),ka("ngModel",t.inputValue),$i(13),os(t.appendArgumentsDescription),$i(3),os(t.prependArgumentsDescription),$i(21),ja("fragment",t.adapterMethodsScope.map.appendPrependSync.id),ka("routerLink",Eu(10,Kx,t.adapterScope.id)),$i(25),ja("fragment",t.adapterMethodsScope.map.appendPrependSync.id),ka("routerLink",Eu(12,Kx,t.adapterScope.id)))},directives:[ox,Ad,$d,uh,tw],encapsulation:2}),e}(),Jx=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},ek=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function tk(e,t){if(1&e&&(Sa(0,"span",8),is(1),Ia(),is(2)),2&e){var n=t.item,r=t.index;$i(1),as("",r,")"),$i(1),as(" ",n.text,"\n")}}var nk=function(e){return["/",e]},rk=function(){function e(){var e=this;this.demoContext={config:Pw.adapterMethods.map.appendPrependSync,viewportId:"append-prepend-sync-viewport",count:0,log:""},this.adapterScope=Pw.adapter,this.adapterPropsScope=Pw.adapterProps,this.adapterMethodsScope=Pw.adapterMethods,this.inputPrepend=4,this.inputAppend=4,this.increasePrepend=!1,this.decreaseAppend=!1,this.MIN=1,this.MAX=100,this.absMinIndex=this.MIN,this.absMaxIndex=this.MAX,this.datasource=new Tm({get:function(t,n,r){for(var i=[],o=t+n-1,a=t;a<=o;a++){var s=a-e.MIN;s>=0&&s<e.data.length&&i.push(e.data[s])}hx(e.demoContext,t,n,i.length),r(i)},settings:{startIndex:Math.round((this.MAX-this.MIN)/2)}}),this.sources=[{name:Fw.Component,text:"inputPrepend = 4;\ninputAppend = 4;\nincreasePrepend = false;\ndecreaseAppend = false;\n    \nMIN = 1;\nMAX = 100;\ndata: MyItem[];\nabsMinIndex = this.MIN;\nabsMaxIndex = this.MAX;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ text: 'item #' + i });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data: MyItem[] = [];\n    const start = index;\n    const end = start + count - 1;\n    for (let i = start; i <= end; i++) {\n      const _index = i - this.MIN;\n      if (_index >= 0 && _index < this.data.length) {\n        data.push(this.data[_index]);\n      }\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: Math.round((this.MAX - this.MIN) / 2)\n  }\n});\n\nasync doPrepend() {\n  await this.datasource.adapter.relax();\n  const items = [];\n  for (let i = 0; i < this.inputPrepend; i++) {\n    if (!this.increasePrepend) {\n      this.MIN--;\n    } else {\n      this.MAX++;\n    }\n    this.absMinIndex--;\n    const newItem: MyItem = {\n      text: 'item #' + this.absMinIndex + '*'\n    };\n    this.data.unshift(newItem);\n    items.push(newItem);\n  }\n  this.datasource.adapter.prepend({\n    items, bof: true, increase: this.increasePrepend\n  });\n}\n\nasync doAppend() {\n  await this.datasource.adapter.relax();\n  const items = [];\n  for (let i = 0; i < this.inputAppend; i++) {\n    if (!this.decreaseAppend) {\n      this.MAX++;\n    } else {\n      this.MIN--;\n    }\n    this.absMaxIndex++;\n    const newItem: MyItem = {\n      text: 'item #' + this.absMaxIndex + '*'\n    };\n    this.data.push(newItem);\n    items.push(newItem);\n  }\n  this.datasource.adapter.append({\n    items, eof: true, decrease: this.decreaseAppend\n  });\n}"},{active:!0,name:Fw.Template,text:'<button (click)="doPrepend()">Prepend</button>\n<input [ngModel]="inputPrepend" size="2"> items\n{{increasePrepend ? \'increasingly\' : \'decreasingly\'}}\n<input type="checkbox" [(ngModel)]="increasePrepend">\n<br>\n<button (click)="doAppend()">Append</button>\n<input [ngModel]="inputAppend" size="2"> items\n{{decreaseAppend ? \'decreasingly\' : \'increasingly\'}}\n<input type="checkbox" [(ngModel)]="decreaseAppend">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource; let index = index">\n    <div class="item">\n      <span class="index">{{index}})</span> {{item.text}}\n    </div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.prependCallSample="Adapter.prepend({ items, bof: true })",this.appendCallSample="Adapter.append({ items, eof: true })",this.prependIncreaseCallSample="Adapter.prepend({ items, increase: true })",this.data=[];for(var t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t})}return e.prototype.onInputChanged=function(e,t){var n=parseInt(t.value.trim(),10);t.value=n.toString(),e?this.inputPrepend=n:this.inputAppend=n},e.prototype.doPrepend=function(){return Jx(this,void 0,void 0,function(){var e,t,n;return ek(this,function(r){switch(r.label){case 0:return[4,this.datasource.adapter.relax()];case 1:for(r.sent(),e=[],t=0;t<this.inputPrepend;t++)this.increasePrepend?this.MAX++:this.MIN--,this.absMinIndex--,this.data.unshift(n={id:"x",text:"item #"+this.absMinIndex+"*"}),e.push(n);return this.datasource.adapter.prepend({items:e,bof:!0,increase:this.increasePrepend}),[2]}})})},e.prototype.doAppend=function(){return Jx(this,void 0,void 0,function(){var e,t,n;return ek(this,function(r){switch(r.label){case 0:return[4,this.datasource.adapter.relax()];case 1:for(r.sent(),e=[],t=0;t<this.inputAppend;t++)this.decreaseAppend?this.MIN--:this.MAX++,this.absMaxIndex++,this.data.push(n={id:"x",text:"item #"+this.absMaxIndex+"*"}),e.push(n);return this.datasource.adapter.append({items:e,eof:!0,decrease:this.decreaseAppend}),[2]}})})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-append-prepend-sync"]],decls:89,vars:25,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],[3,"click"],["size","2",3,"ngModel","change"],["type","checkbox",3,"ngModel","ngModelChange"],["description",""],[3,"routerLink","fragment"],[1,"index"]],template:function(e,t){if(1&e&&(ba(0,tk,3,2,"ng-template",null,0,Ju),Sa(2,"app-demo",1),Sa(3,"div",2),Sa(4,"button",3),Ma("click",function(){return t.doPrepend()}),is(5,"Prepend"),Ia(),is(6,"\xa0 "),Sa(7,"input",4),Ma("change",function(e){return t.onInputChanged(!0,e.target)}),Ia(),is(8),Sa(9,"input",5),Ma("ngModelChange",function(e){return t.increasePrepend=e}),Ia(),Ca(10,"br"),Sa(11,"button",3),Ma("click",function(){return t.doAppend()}),is(12,"Append"),Ia(),is(13,"\xa0 "),Sa(14,"input",4),Ma("change",function(e){return t.onInputChanged(!1,e.target)}),Ia(),is(15),Sa(16,"input",5),Ma("ngModelChange",function(e){return t.decreaseAppend=e}),Ia(),Ia(),Sa(17,"div",6),Sa(18,"p"),is(19," Along with "),Sa(20,"em"),is(21,"items"),Ia(),is(22," parameter both append and prepend methods have "),Sa(23,"em"),is(24,"eof"),Ia(),is(25,"/"),Sa(26,"em"),is(27,"bof"),Ia(),is(28," parameter which is optional and which prevents rendering of new items when the end of the dataset (if we are speaking of "),Sa(29,"em"),is(30,"append"),Ia(),is(31,") or beginning of the dataset ("),Sa(32,"em"),is(33,"prepend"),Ia(),is(34," case) is not reached. See also "),Sa(35,"a",7),is(36,"bof/eof demo"),Ia(),is(37,". "),Ia(),Sa(38,"p"),is(39," For example, if we call "),Sa(40,"em"),is(41),Ia(),is(42," when the beginning of the dataset is reached and no more items can be fetched in the backward direction, then the new items will be injected immediately. But if we are not in BOF, new items will not appear, they will be virtualized: viewport backward padding element size will be increased in accordance with the number of new items multiplied by the default item size. The same works for "),Sa(43,"em"),is(44),Ia(),is(45," call adjusted for forward direction and forward padding element. "),Ia(),Sa(46,"p"),is(47," Indexes increase by default when "),Sa(48,"em"),is(49,"Adapter.append"),Ia(),is(50," and decrease by default when "),Sa(51,"em"),is(52,"Adapter.prepend"),Ia(),is(53,". The indexing strategy can be changed by "),Sa(54,"em"),is(55,"decrease"),Ia(),is(56,"/"),Sa(57,"em"),is(58,"increase"),Ia(),is(59," params. They are boolean and set to "),Sa(60,"em"),is(61,"false"),Ia(),is(62," by default. For example, if we call "),Sa(63,"em"),is(64),Ia(),is(65,", the topmost index remains unchanged and it will be given to the first prepended item. "),Ia(),Sa(66,"p"),is(67," The most important idea behind the Adapter update API is that the changes made via Adapter must be synched with the Datasource. This demo implements one of the possible ways of synching the Datasource with the Adapter.append/prepend updates. The dataset is changed per each "),Sa(68,"em"),is(69,"doAppend"),Ia(),is(70," / "),Sa(71,"em"),is(72,"doPrepend"),Ia(),is(73," calls destructively by "),Sa(74,"em"),is(75,"unshift"),Ia(),is(76," and "),Sa(77,"em"),is(78,"push"),Ia(),is(79," Array's methods. There are also some additional variables that provide index offsets and that are used in the "),Sa(80,"em"),is(81,"Datasource.get"),Ia(),is(82," and doPrepend/doAppend methods to guarantee a stable data flow from the App component to the Scroller. Another examples of such synchronization could be found in "),Sa(83,"a",7),is(84,"remove"),Ia(),is(85," and "),Sa(86,"a",7),is(87,"insert"),Ia(),is(88," demos. "),Ia(),Ia(),Ia()),2&e){var n=wa(1);$i(2),ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)("itemTemplate",n),$i(5),ka("ngModel",t.inputPrepend),$i(1),as(" \xa0items ",t.increasePrepend?"increasingly":"decreasingly"," \xa0"),$i(1),ka("ngModel",t.increasePrepend),$i(5),ka("ngModel",t.inputAppend),$i(1),as(" \xa0items ",t.decreaseAppend?"decreasingly":"increasingly"," \xa0"),$i(1),ka("ngModel",t.decreaseAppend),$i(19),ja("fragment",t.adapterPropsScope.map.bofEof.id),ka("routerLink",Eu(19,nk,t.adapterScope.id)),$i(6),os(t.prependCallSample),$i(3),os(t.appendCallSample),$i(20),os(t.prependIncreaseCallSample),$i(19),ja("fragment",t.adapterMethodsScope.map.remove.id),ka("routerLink",Eu(21,nk,t.adapterScope.id)),$i(3),ja("fragment",t.adapterMethodsScope.map.insert.id),ka("routerLink",Eu(23,nk,t.adapterScope.id))}},directives:[ox,Ad,$d,uh,Id,tw],encapsulation:2}),e}(),ik=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},ok=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function ak(e,t){if(1&e){var n=Ta();is(0),Sa(1,"span",6),Ma("click",function(){var e=en(n).item;return Ra().removeById(e.id)}),is(2,"[remove]"),Ia()}2&e&&as(" ",t.item.text," ")}var sk=function(){function e(){var e=this;this.demoContext={config:Pw.adapterMethods.map.remove,viewportId:"remove-viewport",addClass:"remove",count:0,log:""},this.MIN=-50,this.MAX=50,this.inputValue=5,this.datasource=new Tm({get:function(t,n,r){var i=[],o=-Math.min(e.MIN,0),a=Math.max(t+o,0),s=Math.min(t+n-1,e.MAX)+o;a<=s&&(i=e.data.slice(a,s+1)),hx(e.demoContext,t,n,i.length),r(i)}}),this.sources=[{name:Fw.Component,text:"MIN = -50;\nMAX = 50;\ndata: MyItem[];\ninputValue = 5;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const shift = -Math.min(this.MIN, 0);\n    const start = Math.max(index + shift, 0);\n    const end = Math.min(index + count - 1, this.MAX) + shift;\n    success(start <= end\n      ? this.data.slice(start, end + 1)\n      : []\n    );\n  }\n});\n\nremoveFromDatasource(toRemove: number, byIndex = false) {\n  const indexToRemove = byIndex\n    ? toRemove - Math.min(this.MIN, 0) // shift!\n    : this.data.findIndex(({ id }) => id === toRemove);\n  if (indexToRemove >= 0) {\n    this.data.splice(indexToRemove, 1);\n  }\n  this.MAX--;\n}\n\nasync removeById(id: number) {\n  await this.datasource.adapter.relax();\n  this.removeFromDatasource(id);\n  await this.datasource.adapter.remove({\n    predicate: ({ data }) => data.id === id\n  });\n}\n\nasync removeByIndex(index: number) {\n  await this.datasource.adapter.relax();\n  this.removeFromDatasource(index, true);\n  await this.datasource.adapter.remove({\n    predicate: ({ $index }) => $index === index\n  });\n}"},{active:!0,name:Fw.Template,text:'<input [(ngModel)]="inputValue" size="3">\n<button (click)="removeByIndex(inputValue)">\n  Remove by index\n</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">\n      {{item.text}}\n      <span class="remove" (click)="removeById(item.id)">\n        [remove]\n      </span>\n    </div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.remove {\n  font-weight: normal;\n  font-size: smaller;\n  cursor: pointer;\n}\n.remove:hover {\n  color: rgb(158, 0, 0);\n}"}],this.argumentsDescription="  AdapterRemoveOptions {\n    predicate?: ItemsPredicate;\n    indexes?: number[];\n    increase?: boolean;\n  }",this.predicateDescription="  adapter.remove({ predicate: ({ data }) => data.id === id });\n  adapter.remove({ predicate: ({ $index }) => $index === index });",this.data=[];for(var t=this.MIN;t<=this.MAX;t++)this.data.push({id:t,text:"item #"+t})}return e.prototype.onInputChanged=function(e){var t=parseInt(e.value.trim(),10);e.value=t.toString(),this.inputValue=t},e.prototype.removeFromDatasource=function(e,t){void 0===t&&(t=!1);var n=t?e-Math.min(this.MIN,0):this.data.findIndex(function(t){return t.id===e});n>=0&&this.data.splice(n,1),this.MAX--},e.prototype.removeById=function(e){return ik(this,void 0,void 0,function(){return ok(this,function(t){switch(t.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return t.sent(),this.removeFromDatasource(e),[4,this.datasource.adapter.remove({predicate:function(t){return t.data.id===e}})];case 2:return t.sent(),[2]}})})},e.prototype.removeByIndex=function(e){return ik(this,void 0,void 0,function(){return ok(this,function(t){switch(t.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return t.sent(),this.removeFromDatasource(e,!0),[4,this.datasource.adapter.remove({predicate:function(t){return t.$index===e}})];case 2:return t.sent(),[2]}})})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-remove"]],decls:75,vars:7,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],["size","3",3,"ngModel","ngModelChange","change"],[3,"click"],["description",""],[1,"remove",3,"click"]],template:function(e,t){if(1&e&&(ba(0,ak,3,1,"ng-template",null,0,Ju),Sa(2,"app-demo",1),Sa(3,"div",2),Sa(4,"input",3),Ma("ngModelChange",function(e){return t.inputValue=e})("change",function(e){return t.onInputChanged(e.target)}),Ia(),Sa(5,"button",4),Ma("click",function(){return t.removeByIndex(t.inputValue)}),is(6,"Remove by index"),Ia(),Ia(),Sa(7,"div",5),Sa(8,"p"),is(9," The "),Sa(10,"em"),is(11,"Adapter.remove"),Ia(),is(12," method allows to remove items from current buffer or/and virtually. The argument of this method is an object of the following type: "),Ia(),Sa(13,"pre"),is(14),Ia(),Sa(15,"p"),is(16," The "),Sa(17,"em"),is(18,"predicate"),Ia(),is(19," option is a function applying to each item in the buffer. If the return value is true, the item will be removed. The argument of the predicate has "),Sa(20,"em"),is(21,"ItemAdapter"),Ia(),is(22," type, and in this demo we have two versions of "),Sa(23,"em"),is(24,"predicate"),Ia(),is(25," using for removing by id and by index: "),Ia(),Sa(26,"pre"),is(27),Ia(),Sa(28,"p"),is(29," Indexes are adjusted each time we perform a removing via Adapter. It is impossible to remove item with id = 5 twice, because there is only one item with id = 5. But we may remove item with index = 5 as many times as many items we have after this index. "),Ia(),Sa(30,"p"),is(31," Only a continuous series of items can be removed at a time using "),Sa(32,"em"),is(33,"predicate"),Ia(),is(34,". So, if we want to remove items 1, 2, 3 and 5 with "),Sa(35,"em"),is(36,"predicate"),Ia(),is(37,", we need to call this method twice: once for 1, 2, 3 and then for 5. "),Ia(),Sa(38,"p"),is(39," Instead of "),Sa(40,"em"),is(41,"predicate"),Ia(),is(42," running over buffered items, it is possible to remove items by "),Sa(43,"em"),is(44,"indexes"),Ia(),is(45,". It has no sequence limitation. This method works with both buffered and virtual items. For example, we have [1..10] buffered items (they are rendered) and [11..100] virtual items (emulated via forward padding element which size corresponds to 90 virtual items), and we want to remove the last item via "),Sa(46,"em"),is(47,"Adapter.remove({ indexes: [100] })"),Ia(),is(48,", the result will be as follows: "),Ia(),Sa(49,"ul"),Sa(50,"li"),is(51,"buffer is not affected"),Ia(),Sa(52,"li"),is(53,"the visible part of the viewport remains the same"),Ia(),Sa(54,"li"),is(55," size of the forward padding is reduced by size of the 100th item, so the scrollable area becomes slightly smaller "),Ia(),Ia(),Sa(56,"p"),is(57," Indexes decrease by default, and the "),Sa(58,"em"),is(59,"increase"),Ia(),is(60," option allows to change the default indexes adjustment strategy. By setting "),Sa(61,"em"),is(62,"increase"),Ia(),is(63," to "),Sa(64,"em"),is(65,"true"),Ia(),is(66,", we tell the Scroller that we want to increase indexes of the items before the removed one(s). "),Ia(),Sa(67,"p"),is(68," The very important thing is to synchronize the datasource with the changes we are making over the Scroller's buffer via "),Sa(69,"em"),is(70,"Adapter.remove"),Ia(),is(71,". Generally this is the App component responsibility, and in this demo it is done by the "),Sa(72,"em"),is(73,"removeFromDatasource"),Ia(),is(74," method. It removes 1 item from the initial dataset, and decrements the value of the right border. "),Ia(),Ia(),Ia()),2&e){var n=wa(1);$i(2),ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)("itemTemplate",n),$i(2),ka("ngModel",t.inputValue),$i(10),os(t.argumentsDescription),$i(13),os(t.predicateDescription)}},directives:[ox,Ad,$d,uh],encapsulation:2}),e}(),uk=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((r=r.apply(e,t||[])).next())})},ck=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},lk=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},dk=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function hk(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div",13),Sa(2,"small"),is(3),Ia(),is(4),Ia(),Ia()),2&e){var n=t.$implicit,r=t.index;$i(3),as("",r,")"),$i(1),as(" ",n," ")}}function fk(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div",13),Sa(2,"small"),is(3),Ia(),is(4),Ia(),Ia()),2&e){var n=t.$implicit,r=t.index;$i(3),as("",r,")"),$i(1),as(" ",n," ")}}var pk=function(){function e(){var e=this;this.demoConfig=Pw.adapterMethods.map.insert,this.MIN=1,this.MAX=100,this.MIN2=1,this.MAX2=100,this.datasource=new Tm({get:function(t,n,r){t-=e.MIN;var i=Math.max(0,t),o=Math.min(e.MAX-e.MIN+1,t+n);r(i>o?[]:e.data.slice(i,o))},settings:{startIndex:this.MIN}}),this.datasource2=new Tm({get:function(t,n,r){t-=e.MIN2;var i=Math.max(0,t),o=Math.min(e.MAX2-e.MIN2+1,t+n);r(i>o?[]:e.data2.slice(i,o))},settings:{startIndex:this.MIN2}}),this.inputCount="2",this.inputIndex="3",this.inputCount2="2",this.inputIndex2="3",this.sources=[{active:!0,name:Fw.Component,text:"MIN = 1;\nMAX = 100;\ndata: string[] = [];\n\ninputCount = '2';\ninputIndex = '3';\n\nconstructor() {\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push('item #' + i);\n  }\n}\n\ndatasource = new Datasource<string>({\n  get: (index, count, success) => {\n    index -= this.MIN; // convert to natural indexes starting with 0\n    const start = Math.max(0, index);\n    const end = Math.min(this.MAX - this.MIN + 1, index + count);\n    if (start > end) {\n      success([]);\n      return;\n    }\n    success(this.data.slice(start, end));\n  },\n  settings: {\n    startIndex: this.MIN\n  }\n});\n  "},{name:"Increase",text:"\nasync doInsert() {\n  await this.datasource.adapter.relax();\n  const count = Number(this.inputCount); // first input\n  const itemData = 'item #' + this.inputIndex; // second input\n  const index = this.data.indexOf(itemData);\n  if (index < 0 || isNaN(count)) {\n    return;\n  }\n  const items = [];\n  for (let i = 1; i <= count; i++) {\n    this.MAX++;\n    const newItem = itemData + ' ' + Array(i).fill('*').join('');\n    items.push(newItem);\n  }\n  this.data = [\n    ...this.data.slice(0, index),\n    ...items,\n    ...this.data.slice(index)\n  ];\n  await this.datasource.adapter.insert({\n    after: ({ data }) => data === itemData,\n    items\n  });\n}\n"},{name:"Decrease",text:"\nasync doInsert() {\n  await this.datasource.adapter.relax();\n  const count = Number(this.inputCount); // first input\n  const itemData = 'item #' + this.inputIndex; // second input\n  const index = this.data.indexOf(itemData);\n  if (index < 0 || isNaN(count)) {\n    return;\n  }\n  const items = [];\n  for (let i = 1; i <= count; i++) {\n    this.MIN--;\n    const newItem = itemData + ' ' + Array(i).fill('*').join('');\n    items.unshift(newItem);\n  }\n  this.data = [\n    ...this.data.slice(0, index),\n    ...items,\n    ...this.data.slice(index)\n  ];\n  await this.datasource.adapter.insert({\n    before: ({ data }) => data === itemData,\n    items,\n    decrease: true\n  });\n}\n"}],this.argumentsDescription="  AdapterInsertOptions {\n    items: any[];\n    before?: ItemsPredicate;\n    after?: ItemsPredicate;\n    decrease?: boolean;\n  }",this.data=[];for(var t=this.MIN;t<=this.MAX;t++)this.data.push("item #"+t);for(this.data2=[],t=this.MIN2;t<=this.MAX2;t++)this.data2.push("item #"+t)}return e.prototype.doInsert=function(){return uk(this,void 0,void 0,function(){var e,t,n,r,i,o;return ck(this,function(a){switch(a.label){case 0:return[4,this.datasource.adapter.relax()];case 1:if(a.sent(),t=this.data.indexOf(e="item #"+this.inputIndex),n=Number(this.inputCount),t<0||isNaN(n))return[2];for(r=[],i=1;i<=n;i++)this.MAX++,o=e+" "+Array(i).fill("*").join(""),r.push(o);return this.data=dk(dk(dk([],lk(this.data.slice(0,t))),lk(r)),lk(this.data.slice(t))),[4,this.datasource.adapter.insert({after:function(t){return t.data===e},items:r})];case 2:return a.sent(),[2]}})})},e.prototype.doInsert2=function(){return uk(this,void 0,void 0,function(){var e,t,n,r,i,o;return ck(this,function(a){switch(a.label){case 0:return[4,this.datasource2.adapter.relax()];case 1:if(a.sent(),t=this.data.indexOf(e="item #"+this.inputIndex2),n=Number(this.inputCount2),t<0||isNaN(n))return[2];for(r=[],i=1;i<=n;i++)this.MIN2--,o=e+" "+Array(i).fill("*").join(""),r.unshift(o);return this.data2=dk(dk(dk([],lk(this.data2.slice(0,t))),lk(r)),lk(this.data2.slice(t))),[4,this.datasource2.adapter.insert({before:function(t){return t.data===e},items:r,decrease:!0})];case 2:return a.sent(),[2]}})})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-insert"]],decls:101,vars:9,consts:[[1,"demo"],[3,"config"],[1,"work"],[1,"viewport-wrapper"],[1,"actions"],[3,"click"],["size","2",3,"ngModel","ngModelChange"],["size","4",3,"ngModel","ngModelChange"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"clearfix","mb-3"],[3,"sources"],[1,"description"],[1,"item"]],template:function(e,t){1&e&&(Sa(0,"div",0),Ca(1,"app-demo-title",1),Sa(2,"div",2),Sa(3,"div",3),Sa(4,"div",4),Sa(5,"button",5),Ma("click",function(){return t.doInsert()}),is(6,"Insert"),Ia(),Sa(7,"input",6),Ma("ngModelChange",function(e){return t.inputCount=e}),Ia(),is(8," items "),Ca(9,"br"),is(10," after item #"),Sa(11,"input",7),Ma("ngModelChange",function(e){return t.inputIndex=e}),Ia(),Ca(12,"br"),is(13," incrementally "),Ia(),Sa(14,"div",8),ba(15,hk,5,2,"div",9),Ia(),Ia(),Sa(16,"div",3),Sa(17,"div",4),Sa(18,"button",5),Ma("click",function(){return t.doInsert2()}),is(19,"Insert"),Ia(),Sa(20,"input",6),Ma("ngModelChange",function(e){return t.inputCount2=e}),Ia(),is(21," items "),Ca(22,"br"),is(23," before item #"),Sa(24,"input",7),Ma("ngModelChange",function(e){return t.inputIndex2=e}),Ia(),Ca(25,"br"),is(26," decrementally "),Ia(),Sa(27,"div",8),ba(28,fk,5,2,"div",9),Ia(),Ia(),Ca(29,"div",10),Ia(),Ca(30,"app-demo-sources",11),Sa(31,"div",12),Sa(32,"p"),is(33," The "),Sa(34,"em"),is(35,"Adapter.insert"),Ia(),is(36," method is dedicated for adding items in the runtime without scrolling. It allows to insert new items before or after specified one. The argument of this method is an object of the following type: "),Ia(),Sa(37,"pre"),is(38),Ia(),Sa(39,"p"),is(40," The "),Sa(41,"em"),is(42,"items"),Ia(),is(43," option is an array we want to be added to the viewport. This option is mandatory. Both "),Sa(44,"em"),is(45,"before"),Ia(),is(46," and "),Sa(47,"em"),is(48,"after"),Ia(),is(49," options are predicate functions applying to each item in the current buffer. The first "),Sa(50,"em"),is(51,"true"),Ia(),is(52," result of running the predicate determines the item before/after which the new ones should appear. Only one of the "),Sa(53,"em"),is(54,"before"),Ia(),is(55," and "),Sa(56,"em"),is(57,"after"),Ia(),is(58," fields is allowed. "),Ia(),Sa(59,"p"),is(60," The last option is "),Sa(61,"em"),is(62,"decrease"),Ia(),is(63,". The indexes of the items following after the inserted ones increase by default. This behavior can be changed, and setting "),Sa(64,"em"),is(65,"decrease"),Ia(),is(66," to "),Sa(67,"em"),is(68,"true"),Ia(),is(69,", we are telling the Scroller that we want to decrease the indexes of the items that are before the inserted ones. "),Ia(),Sa(70,"p"),is(71," This demo shows how the "),Sa(72,"em"),is(73,"Adapter.insert"),Ia(),is(74,' method can be used in the real life. "Component" tab contains common datasource logic. "Increase" and "Decrease" tabs present inserting logic for both cases we have in this demo. Note that each item is just a string, and the Scroller deals with natural indexes, which forces us to subtract '),Sa(75,"em"),is(76,"MIN"),Ia(),is(77," value from the "),Sa(78,"em"),is(79,"index"),Ia(),is(80," coming into the "),Sa(81,"em"),is(82,"Datasource.get"),Ia(),is(83," body. "),Ia(),Sa(84,"p"),is(85," Also, this is very important to maintain consistency between the external "),Sa(86,"em"),is(87,"Datasource"),Ia(),is(88," and the internal Scroller's buffer. Both "),Sa(89,"em"),is(90,"doInsert"),Ia(),is(91," methods do it.They a) generate new items in a for-loop, b) insert them into the datasource by updating "),Sa(92,"em"),is(93,"this.data"),Ia(),is(94,", c) insert them into the internal "),Sa(95,"em"),is(96,"Buffer"),Ia(),is(97," via "),Sa(98,"em"),is(99,"Adapter.insert"),Ia(),is(100,". "),Ia(),Ia(),Ia()),2&e&&($i(1),ka("config",t.demoConfig),$i(6),ka("ngModel",t.inputCount),$i(4),ka("ngModel",t.inputIndex),$i(4),ka("uiScrollOf",t.datasource),$i(5),ka("ngModel",t.inputCount2),$i(4),ka("ngModel",t.inputIndex2),$i(4),ka("uiScrollOf",t.datasource2),$i(2),ka("sources",t.sources),$i(8),os(t.argumentsDescription))},directives:[Bw,Ad,$d,uh,_m,Gw],encapsulation:2}),e}(),vk=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},mk=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};function gk(e,t){if(1&e&&(Sa(0,"span",6),is(1),Ia(),is(2)),2&e){var n=t.item,r=t.index;$i(1),as("",r,")"),$i(1),as(" ",n.text,"\n")}}var yk=function(e){return["/",e]},bk=function(){function e(){var e=this;this.demoContext={config:Pw.adapterMethods.map.replace,viewportId:"replace-viewport",addClass:"replace",count:0,log:""},this.adapterScope=Pw.adapter,this.adapterMethodsScope=Pw.adapterMethods,this.MAX=100,this.datasource=new Tm({get:function(t,n,r){var i=[],o=Math.min(t+n-1,e.data.length-1);t<=o&&(i=e.data.slice(t,o+1)),hx(e.demoContext,t,n,i.length),r(i)},settings:{startIndex:0}}),this.sources=[{name:Fw.Component,text:"MAX = 100;\ndata: Item[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i < this.MAX; i++) {\n    this.data.push({ text: 'item #' + (i + 1) });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (start, count, success) => {\n    let data: Item[] = [];\n    const end = Math.min(start + count - 1, this.data.length - 1);\n    if (start <= end) {\n      data = this.data.slice(start, end + 1);\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n});\n\nasync doReplace() {\n  await this.datasource.adapter.relax();\n  const toRemove = [3, 4, 5];\n  const newItems: Item[] = [{ text: 'X' }, { text: 'Y' }];\n  this.data = [\n    ...this.data.slice(0, toRemove[0]),\n    ...newItems,\n    ...this.data.slice(toRemove[toRemove.length - 1])\n  ];\n  await this.datasource.adapter.replace({\n    predicate: ({ $index }) => toRemove.includes($index),\n    items: newItems\n  });\n}"},{active:!0,name:Fw.Template,text:'<button (click)="doReplace()">3, 4, 5 to X, Y</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource; let index = index">\n    <div class="item">\n      <span class="index">{{index}}</span>\n      {{item.text}}\n    </div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.index {\n  font-weight: normal;\n  font-size: smaller;\n}"}],this.argumentsDescription="  AdapterReplaceOptions {\n    predicate: ItemsPredicate;\n    items: any[];\n    fixRight?: boolean;\n  }",this.data=[];for(var t=0;t<this.MAX;t++)this.data.push({text:"item #"+(t+1)})}return e.prototype.doReplace=function(){return e=this,void 0,n=function(){var e,t;return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(n){switch(n.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return n.sent(),t=[{text:"X"},{text:"Y"}],this.data=mk(mk(mk([],vk(this.data.slice(0,(e=[3,4,5])[0]))),vk(t)),vk(this.data.slice(e[e.length-1]))),[4,this.datasource.adapter.replace({predicate:function(t){return e.includes(t.$index)},items:t})];case 2:return n.sent(),[2]}})},new((t=void 0)||(t=Promise))(function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(o,a)}s((n=n.apply(e,[])).next())});var e,t,n},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-replace"]],decls:56,vars:13,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],[3,"click"],["description",""],[3,"routerLink","fragment"],[1,"index"]],template:function(e,t){if(1&e&&(ba(0,gk,3,2,"ng-template",null,0,Ju),Sa(2,"app-demo",1),Sa(3,"div",2),Sa(4,"button",3),Ma("click",function(){return t.doReplace()}),is(5,"3, 4, 5 to X, Y"),Ia(),Ia(),Sa(6,"div",4),Sa(7,"p"),is(8," The "),Sa(9,"em"),is(10,"Adapter.replace"),Ia(),is(11," method allows to perform many-to-many in-Buffer replacement. It acts as a combination of insert and remove operations working in a single run, which means minimal latency in comparison to applying "),Sa(12,"em"),is(13,"Adapter.insert"),Ia(),is(14," and "),Sa(15,"em"),is(16,"Adapter.remove"),Ia(),is(17," methods one by one. The argument of this method is an object of the following type: "),Ia(),Sa(18,"pre"),is(19),Ia(),Sa(20,"p"),is(21," The "),Sa(22,"em"),is(23,"predicate"),Ia(),is(24," option is exactly the same as in "),Sa(25,"a",5),is(26,"Adapter-remove"),Ia(),is(27," and case. The "),Sa(28,"em"),is(29,"indexes"),Ia(),is(30," options is exactly the same as in the "),Sa(31,"a",5),is(32,"Adapter-insert"),Ia(),is(33," case. The "),Sa(34,"em"),is(35,"fixRight"),Ia(),is(36," option allows to change the default indexing strategy. The default "),Sa(37,"em"),is(38,"fixRight"),Ia(),is(39," value is "),Sa(40,"em"),is(41,"false"),Ia(),is(42,", which means the indexes of the items following the replaced ones will be changed during the replacement. Otherwise, if "),Sa(43,"em"),is(44,"fixRight"),Ia(),is(45," is set "),Sa(46,"em"),is(47,"true"),Ia(),is(48,", the indexes of the items preceding the replaced ones will be changed. "),Ia(),Sa(49,"p"),is(50," Current limitations of the "),Sa(51,"em"),is(52,"Adapter.replace"),Ia(),is(53," method: no virtual replacements are possible and only continues series are allowed. So only a portion of items that are currently in the Scroller Buffer can be replaced with this method and this portion must consist of a continuous list of items. "),Ia(),Sa(54,"p"),is(55,' In this demo we are replacing 3 items with indexes [3, 4, 5] with 2 new items. Switching to "fixRight" strategy is not implemented here, in order to keep natural indexes flow as simple as possible. Note, before running the "replace" operation over the Scroller\'s Buffer, the Datasource gets the update as well. '),Ia(),Ia(),Ia()),2&e){var n=wa(1);$i(2),ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)("itemTemplate",n),$i(17),os(t.argumentsDescription),$i(6),ja("fragment",t.adapterMethodsScope.map.remove.id),ka("routerLink",Eu(9,yk,t.adapterScope.id)),$i(6),ja("fragment",t.adapterMethodsScope.map.insert.id),ka("routerLink",Eu(11,yk,t.adapterScope.id))}},directives:[ox,tw],encapsulation:2}),e}();function wk(e,t){if(1&e&&(Sa(0,"span",7),is(1),Ia(),is(2)),2&e){var n=t.item,r=t.index;$i(1),as("",r,")"),$i(1),as(" ",n.text,"\n")}}var xk=function(e){return["/",e]},kk=function(){function e(){var e=this;this.demoContext={config:Pw.adapterMethods.map.update,viewportId:"update-viewport",addClass:"update",count:0,log:""},this.adapterScope=Pw.adapter,this.adapterMethodsScope=Pw.adapterMethods,this.MAX=100,this.START=1,this.fixRight=!1,this.datasource=new Tm({get:function(t,n,r){var i=[],o=t-e.START,a=Math.min(o+n-1,e.data.length-1);o<=a&&(i=e.data.slice(o,a+1)),hx(e.demoContext,t,n,i.length),r(i)},settings:{startIndex:this.START}}),this.sources=[{name:Fw.Component,text:"MAX = 100;\nSTART = 1;\nfixRight = false;\ndata: MyItem[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i <= this.MAX - this.START; i++) {\n    this.data.push({ text: 'item #' + (i + this.START) });\n  }\n}\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    let data: MyItem[] = [];\n    const start = index - this.START;\n    const end = Math.min(start + count - 1, this.data.length - 1);\n    if (start <= end) {\n      data = this.data.slice(start, end + 1);\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n});\n\nasync doUpdate() {\n  await this.datasource.adapter.relax();\n  await this.datasource.adapter.update({\n    predicate: ({ $index, data, element }) => {\n      if ($index === 3) {\n        // remove 3\n        return false;\n      }\n      if (data.text === 'item #5') {\n        // replace 5 with A and B\n        return [{ text: 'A' }, { text: 'B' }];\n      }\n      if (element?.innerText.match('item #7')) {\n        // append C and D to 7\n        return [data, { text: 'C' }, { text: 'D' }];\n      }\n      // don't touch other items\n      return true;\n    },\n    fixRight: this.fixRight\n  });\n}"},{active:!0,name:Fw.Template,text:'<button (click)="doUpdate()">Run update</button>\n<input type="checkbox" [(ngModel)]="fixRight"> fix right\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource; let index = index">\n    <div class="item">\n      <span class="index">{{index}}</span>\n      {{item.text}}\n    </div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.index {\n  font-weight: normal;\n  font-size: smaller;\n}"}],this.argumentsDescription="  AdapterReplaceOptions {\n    predicate: ItemsPredicate;\n    items: any[];\n    fixRight?: boolean;\n  }",this.data=[];for(var t=0;t<=this.MAX-this.START;t++)this.data.push({text:"item #"+(t+this.START)})}return e.prototype.doUpdate=function(){return e=this,void 0,n=function(){return function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(e){switch(e.label){case 0:return[4,this.datasource.adapter.relax()];case 1:return e.sent(),[4,this.datasource.adapter.update({predicate:function(e){var t=e.data,n=e.element;return 3!==e.$index&&("item #5"===t.text?[{text:"A"},{text:"B"}]:!(null==n?void 0:n.innerText.match("item #7"))||[t,{text:"C"},{text:"D"}])},fixRight:this.fixRight})];case 2:return e.sent(),[2]}})},new((t=void 0)||(t=Promise))(function(r,i){function o(e){try{s(n.next(e))}catch(t){i(t)}}function a(e){try{s(n.throw(e))}catch(t){i(t)}}function s(e){var n;e.done?r(e.value):(n=e.value,n instanceof t?n:new t(function(e){e(n)})).then(o,a)}s((n=n.apply(e,[])).next())});var e,t,n},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-demo-update"]],decls:75,vars:17,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["actions",""],[3,"click"],["type","checkbox",3,"ngModel","ngModelChange"],["description",""],[3,"routerLink","fragment"],[1,"index"]],template:function(e,t){if(1&e&&(ba(0,wk,3,2,"ng-template",null,0,Ju),Sa(2,"app-demo",1),Sa(3,"div",2),Sa(4,"button",3),Ma("click",function(){return t.doUpdate()}),is(5,"Run update"),Ia(),Ca(6,"br"),Sa(7,"input",4),Ma("ngModelChange",function(e){return t.fixRight=e}),Ia(),is(8," fix right "),Ia(),Sa(9,"div",5),Sa(10,"p"),is(11," The "),Sa(12,"em"),is(13,"Adapter.update"),Ia(),is(14," method provides access to Scroller's Buffer and allows to perform insert/replace/remove operations on the fly. The "),Sa(15,"em"),is(16,"Adapter.update"),Ia(),is(17," method has 1 required argument which is a predicate that is applied to each item in the current Scroller's Buffer. The argument of the predicate gives natural datasource "),Sa(18,"em"),is(19,"$index"),Ia(),is(20," of the item, its "),Sa(21,"em"),is(22,"data"),Ia(),is(23," payload and its HTML "),Sa(24,"em"),is(25,"element"),Ia(),is(26,". The return value of "),Sa(27,"em"),is(28,"predicate"),Ia(),is(29," determines what should happen with each item in the Buffer: "),Ia(),Sa(30,"ul"),Sa(31,"li"),is(32," returning of a falsy value or an empty array means removal of an item; "),Ia(),Sa(33,"li"),is(34," returning of a truthy value or an array with only current item in it means leaving an item as is; "),Ia(),Sa(35,"li"),is(36," returning of a non-empty array means replacement/insertion. "),Ia(),Ia(),Sa(37,"p"),is(38," In the demo the predicate is implemented to remove item 3, replace item 5 with new A and B items, insert new C and D items after item 7, while other items should remain pristine. This particular predicate should provide [1..10] to [1, 2, 4, A, B, 6, 7, C, D, 8] contents transition. "),Ia(),Sa(39,"p"),is(40," On index shifting. The second option of the "),Sa(41,"em"),is(42,"Adapter.update"),Ia(),is(43," is "),Sa(44,"em"),is(45,"fixRight"),Ia(),is(46,". This is a non-required boolean setting that defines the indexing strategy. If "),Sa(47,"em"),is(48,"fixRight"),Ia(),is(49," is false (which is default), indexes to the right of the updated ones will be affected. Since the first updated item has index 3, the indexes of the first two items should not change after update when fixRight\xa0=\xa0false. But the index of the 8 item should grow up to 10: 2 removals (3, 5) and 4 insertions (A, B, C, D) results in +2\xa0shift. If "),Sa(50,"em"),is(51,"fixRight"),Ia(),is(52," is true, indexes to the left of the updated ones will be affected. And we'll see -2\xa0shift on the first two items when fixRight\xa0=\xa0true. "),Ia(),Sa(53,"p"),is(54," The very important thing is to synchronize each update we perform via Adapter API over the Scroller's Buffer with the Datasource outside the Scroller. This demo does not have such synchronization due to high complexity of the operations. But there are some examples in other demos: "),Sa(55,"a",6),is(56,"append"),Ia(),is(57,", "),Sa(58,"a",6),is(59,"remove"),Ia(),is(60," and "),Sa(61,"a",6),is(62,"insert"),Ia(),is(63,". "),Ia(),Sa(64,"p"),is(65," Since v2, the "),Sa(66,"em"),is(67,"Adapter.insert"),Ia(),is(68," and "),Sa(69,"em"),is(70,"Adapter.replace"),Ia(),is(71," methods use the "),Sa(72,"em"),is(73,"Adapter.update"),Ia(),is(74," method under hood. "),Ia(),Ia(),Ia()),2&e){var n=wa(1);$i(2),ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)("itemTemplate",n),$i(5),ka("ngModel",t.fixRight),$i(48),ja("fragment",t.adapterMethodsScope.map.appendPrependSync.id),ka("routerLink",Eu(11,xk,t.adapterScope.id)),$i(3),ja("fragment",t.adapterMethodsScope.map.remove.id),ka("routerLink",Eu(13,xk,t.adapterScope.id)),$i(3),ja("fragment",t.adapterMethodsScope.map.insert.id),ka("routerLink",Eu(15,xk,t.adapterScope.id))}},directives:[ox,Id,$d,uh,tw],encapsulation:2}),e}(),_k=function(){function e(){this.datasourceSample="  import { Datasource } from 'ngx-ui-scroll';\n\n  datasource = new Datasource({ get, settings });",this.datasourceTypedSample="datasource = new Datasource<MyItem>({ get, settings });"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-samples-adapter"]],decls:64,vars:2,template:function(e,t){1&e&&(Sa(0,"h1"),is(1,"Angular UI Scroll Adapter Demos"),Ia(),Sa(2,"p"),Sa(3,"em"),is(4,"Adapter"),Ia(),is(5," is\xa0a\xa0special object to\xa0assess and manipulate the Scroller. The API it\xa0provides is\xa0 discussed on\xa0this page. In order to get an access to the "),Sa(6,"em"),is(7,"Adapter"),Ia(),is(8," API, the "),Sa(9,"em"),is(10,"Datasource"),Ia(),is(11," has to be instantiated via operator "),Sa(12,"em"),is(13,"new"),Ia(),is(14,":\n"),Ia(),Sa(15,"pre"),is(16),Ia(),Sa(17,"p"),is(18," For better typings it is recommended to provide also data item type argument:\n"),Ia(),Sa(19,"pre"),is(20),Ia(),Sa(21,"p"),is(22," The constructor argument is\xa0an\xa0object of\xa0"),Sa(23,"em"),is(24,"IDatasource"),Ia(),is(25," type which must include "),Sa(26,"em"),is(27,"get"),Ia(),is(28," method property and may include "),Sa(29,"em"),is(30,"settings"),Ia(),is(31," object property. The Scroller's augments the result "),Sa(32,"em"),is(33,"Datasource"),Ia(),is(34," object with the "),Sa(35,"em"),is(36,"Adapter"),Ia(),is(37," object property during instantiating. So, after the "),Sa(38,"em"),is(39,"Datasource"),Ia(),is(40," object had been instantiated, we\xa0may access "),Sa(41,"em"),is(42,"this.datasource.adapter"),Ia(),is(43," property object with its API methods and properties.\n"),Ia(),Ca(44,"app-demo-init"),Ca(45,"app-demo-package-info"),Ca(46,"app-demo-is-loading"),Ca(47,"app-demo-is-loading-advanced"),Ca(48,"app-demo-items-count"),Ca(49,"app-demo-buffer-info"),Ca(50,"app-demo-bof-eof"),Ca(51,"app-demo-first-last-visible-items"),Ca(52,"app-demo-adapter-return-value"),Ca(53,"app-adapter-relax"),Ca(54,"app-demo-reload"),Ca(55,"app-demo-reset"),Ca(56,"app-demo-check-size"),Ca(57,"app-demo-clip"),Ca(58,"app-demo-append-prepend"),Ca(59,"app-demo-append-prepend-sync"),Ca(60,"app-demo-remove"),Ca(61,"app-demo-insert"),Ca(62,"app-demo-replace"),Ca(63,"app-demo-update")),2&e&&($i(16),os(t.datasourceSample),$i(4),os(t.datasourceTypedSample))},directives:[Mx,Px,Dx,Rx,Nx,Vx,zx,Lx,Fx,Bx,Hx,qx,Wx,Xx,Yx,rk,sk,pk,bk,kk],encapsulation:2}),e}(),Sk=function(){function e(){this.demoContext={config:Pw.datasource.map.datasourceGetSignatures,noWorkView:!0},this.sources=[{name:Fw.Datasource,text:"datasourceCallback: IDatasource = {\n  get: (index, count, success) =>\n    success(this.getData(index, count))\n};\n\ndatasourceCallback2: IDatasource = {\n  get: (index, count, success) => setTimeout(\n    success(this.getData(index, count)), DELAY\n  )\n};\n\ndatasourcePromise: IDatasource = {\n  get: (index, count) => new Promise(resolve =>\n    resolve(this.getData(index, count))\n  )\n};\n\ndatasourceObservable: IDatasource = {\n  get: (index, count) => Observable.create(observer =>\n    observer.next(this.getData(index, count))\n};\n\ndatasourcePromise2: IDatasource = {\n  get: (index, count) =>\n    this.getDataPromise(index, count)\n};\n\ndatasourceObservable2: IDatasource = {\n  get: (index, count) =>\n    this.getDataObservable(index, count)\n};"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-datasource-signatures"]],decls:60,vars:2,consts:[[3,"context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," All the datasources listed above are valid. The first version ("),Sa(4,"em"),is(5,"datasourceCallback"),Ia(),is(6,") introduces simplest callback-based signature when we need to pass a third argument which is a callback function that should be called explicitly with the items array argument. We assume that "),Sa(7,"em"),is(8,"this.getData(index, count)"),Ia(),is(9," returns appropriate part of the dataset we want to virtualize, which is an array of "),Sa(10,"em"),is(11,"count"),Ia(),is(12," items started from "),Sa(13,"em"),is(14,"index"),Ia(),is(15," position. "),Sa(16,"em"),is(17,"datasourceCallback2"),Ia(),is(18," demonstrates an asynchronous version of callback-based Datasource. "),Ia(),Sa(19,"p"),Sa(20,"em"),is(21,"datasourcePromise"),Ia(),is(22," and "),Sa(23,"em"),is(24,"datasourcePromise2"),Ia(),is(25," introduce promise-based signature when an object of "),Sa(26,"em"),is(27,"Promise"),Ia(),is(28," type needs to be returned. Resolving this promise is our responsibility, and we assume that "),Sa(29,"em"),is(30,"this.getDataPromise"),Ia(),is(31," method resolves necessary part of the dataset based on "),Sa(32,"em"),is(33,"index"),Ia(),is(34," and "),Sa(35,"em"),is(36,"count"),Ia(),is(37," parameters. "),Ia(),Sa(38,"p"),Sa(39,"em"),is(40,"datasourceObservable"),Ia(),is(41," and "),Sa(42,"em"),is(43,"datasourceObservable2"),Ia(),is(44," introduce observable-based signature when an object of "),Sa(45,"em"),is(46,"Observable"),Ia(),is(47," type needs to be returned. Similar to Promise case we need to be sure that the "),Sa(48,"em"),is(49,"next"),Ia(),is(50," method is called in appropriate time, and we assume that "),Sa(51,"em"),is(52,"this.getDataObservable"),Ia(),is(53," method delivers necessary part of the dataset based on "),Sa(54,"em"),is(55,"index"),Ia(),is(56," and "),Sa(57,"em"),is(58,"count"),Ia(),is(59," parameters. "),Ia(),Ia(),Ia()),2&e&&ka("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}(),Ik=function(){function e(){var e=this;this.demoContext={config:Pw.datasource.map.unlimitedBidirectional,logViewOnly:!0,log:"",count:0},this.datasource={get:function(t,n,r){for(var i=[],o=t;o<=t+n-1;o++)i.push({text:"item #"+o});hx(e.demoContext,t,n,i.length),r(i)}},this.sources=[{name:Fw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ text: 'item #' + i });\n    }\n    success(data);\n  }\n};"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-bidirectional-unlimited-datasource"]],decls:27,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," The datasource implemented here has no boundaries. The result "),Sa(4,"em"),is(5,"data"),Ia(),is(6," array will consist of "),Sa(7,"em"),is(8,"count"),Ia(),is(9," items started exactly from "),Sa(10,"em"),is(11,"index"),Ia(),is(12," position regardless of "),Sa(13,"em"),is(14,"count"),Ia(),is(15," and "),Sa(16,"em"),is(17,"index"),Ia(),is(18," values. They could be any finite integers. "),Ia(),Sa(19,"p"),is(20," This sample as well as following ones does include "),Sa(21,"em"),is(22,"Datasource.get"),Ia(),is(23," method log telling us how many items are fetched by the Scroller via "),Sa(24,"em"),is(25,"Datasource"),Ia(),is(26," in a single run. "),Ia(),Ia(),Ia()),2&e&&ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}(),Ck=function(e){return["/",e]},Tk=function(){function e(){var e=this;this.demoContext={config:Pw.datasource.map.limited,logViewOnly:!0,log:"",count:0},this.minMaxDemoConfig=Pw.settings.map.minMaxIndexes,this.MIN=-99,this.MAX=100,this.datasource={get:function(t,n,r){var i=[],o=Math.max(e.MIN,t),a=Math.min(t+n-1,e.MAX);if(o<=a)for(var s=o;s<=a;s++)i.push({text:"item #"+s});hx(e.demoContext,t,n,i.length),r(i)}},this.sources=[{name:"Runtime generation",text:"MIN = -99;\nMAX = 100;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(this.MIN, index);\n    const end = Math.min(index + count - 1, this.MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ text: 'item #' + i });\n      }\n    }\n    success(data);\n  }\n};"},{name:"Fixed dataset",text:"MIN = -99;\nMAX = 100;\n\nconstructor() {\n  for (let i = this.MIN; i <= this.MAX; ++i) {\n    this.data.push({ text: 'item #' + i });\n  }\n}\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = index;\n    const end = start + count - 1;\n    for (let i = start; i <= end; i++) {\n      const _index = i - this.MIN;\n      if (_index >= 0 && _index < this.data.length) {\n        data.push(this.data[_index]);\n      }\n    }\n    success(data);\n  }\n};"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-limited-datasource"]],decls:16,vars:7,consts:[[3,"datasource","context","sources"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," The datasource could be limited. The main point of limited datasource implementation is to cut the result in accordance with dataset boundaries and return an empty array if we are out of range. "),Ia(),Sa(4,"p"),is(5," In this sample we have only 200 items in the dataset: from -99 to 100 including 0. If at some point the Scroller will request this datasource for, say, 10 items started from -105 index, the result will consist of only 4 items: -99, -98, -97, -96. If a request falls out of [-99..100] range, an empty array will be returned. "),Ia(),Sa(6,"p"),is(7," The second tab (Fixed dataset) implements a limited datasource over a fixed dataset, which is initialized in the Component's constructor. This way data could be retrieved from a remote source. "),Ia(),Sa(8,"p"),is(9," Another option of how to limit the datasource is to use "),Sa(10,"a",2),is(11,"minIndex/maxIndex settings"),Ia(),is(12,"; this way the implementation of the "),Sa(13,"em"),is(14,"Datasource.get"),Ia(),is(15," method could remain unlimited as the Scroller will not request for items that are out of [minIndex..maxIndex] range. "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(10),ja("fragment",t.minMaxDemoConfig.id),ka("routerLink",Eu(5,Ck,t.minMaxDemoConfig.scope)))},directives:[ox,tw],encapsulation:2}),e}(),Ak=function(e){return["/",e]},Ek=function(){function e(){var e=this;this.demoContext={config:Pw.datasource.map.positiveLimitedIndexes,logViewOnly:!0,log:"",count:0},this.settingsScope=Pw.settings.map,this.datasource={get:function(t,n,r){var i=[],o=Math.max(1,t),a=t+n-1;if(o<=a)for(var s=o;s<=a;s++)i.push({text:"item #"+s});hx(e.demoContext,t,n,i.length),r(i)}},this.sources=[{name:Fw.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(1, index); // or 0\n    const end = index + count - 1;\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ text: 'item #' + i });\n      }\n    }\n    success(data);\n  }\n};"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-positive-limited-datasource"]],decls:18,vars:11,consts:[[3,"datasource","context","sources"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3," If we are not going to deal with negative indexes, we can fix the datasource left boundary at 1 (or 0 depends on your needs). This is a particular case of a limited datasource implementation discussed above with only "),Sa(4,"em"),is(5,"MIN"),Ia(),is(6," value set up. Also, positive limitation could be alternatively achieved by assigning "),Sa(7,"a",2),is(8,"minIndex setting"),Ia(),is(9," to 1 (or 0). "),Ia(),Sa(10,"p"),is(11," Note that if 0 index is the left boundary of the dataset, then it seems reasonable to assign 0 value to "),Sa(12,"a",2),is(13,"startIndex setting"),Ia(),is(14," too, because the default "),Sa(15,"em"),is(16,"startIndex"),Ia(),is(17," value is 1. "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(7),ja("fragment",t.settingsScope.minMaxIndexes.id),ka("routerLink",Eu(7,Ak,t.settingsScope.minMaxIndexes.scope)),$i(5),ja("fragment",t.settingsScope.startIndex.id),ka("routerLink",Eu(9,Ak,t.settingsScope.startIndex.scope)))},directives:[ox,tw],encapsulation:2}),e}();function Ok(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div",9),is(2),Ia(),Ia()),2&e){var n=t.$implicit;$i(2),os(n.text)}}function Mk(e,t){if(1&e&&(Sa(0,"div"),Sa(1,"div",9),is(2),Ia(),Ia()),2&e){var n=t.$implicit;$i(2),os(n.text)}}var Pk=function(){function e(){var e=this;this.demoConfig=Pw.datasource.map.invertedIndexes,this.MIN=1,this.datasourceCommon={get:function(t,n,r){return r(e.getData(t,n))}},this.datasourceInverted={get:function(t,n,r){r(e.getData(-t-n+e.MIN,n).reverse())},settings:{startIndex:-10}},this.sources=[{name:Fw.Component,text:"MIN = 1;\n\ndatasourceCommon: IDatasource = {\n  get: (index, count, success) =>\n    success(this.getData(index, count))\n};\n\ndatasourceInverted: IDatasource = {\n  get: (index, count, success) => {\n    const _index = -index - count + this.MIN;\n    const data = this.getData(_index, count).reverse();\n    success(data);\n  },\n  settings: {\n    startIndex: -10\n  }\n};\n\ngetData(index: number, count: number) {\n  const data = [];\n  const start = Math.max(this.MIN, index);\n  const end = index + count - 1;\n  if (start <= end) {\n    for (let i = start; i <= end; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n  }\n  return data;\n}"}]}return e.prototype.getData=function(e,t){var n=[],r=Math.max(this.MIN,e),i=e+t-1;if(r<=i)for(var o=r;o<=i;o++)n.push({id:o,text:"item #"+o});return n},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-inverted-datasource"]],decls:50,vars:4,consts:[[1,"demo"],[3,"config"],[1,"work"],[1,"viewport-wrapper"],[1,"viewport-label"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"clearfix","mb-3"],[1,"prettyprint"],[1,"item"]],template:function(e,t){1&e&&(Sa(0,"div",0),Ca(1,"app-demo-title",1),Sa(2,"div",2),Sa(3,"div",3),Sa(4,"div",4),is(5,"common \u2193"),Ia(),Sa(6,"div",5),ba(7,Ok,3,1,"div",6),Ia(),Ia(),Sa(8,"div",3),Sa(9,"div",4),is(10,"inverted \u2191"),Ia(),Sa(11,"div",5),ba(12,Mk,3,1,"div",6),Ia(),Ia(),Ca(13,"div",7),Ia(),Sa(14,"pre",8),is(15),Ia(),Sa(16,"p"),Sa(17,"em"),is(18,"Datasource.get"),Ia(),is(19,' method implementation could be quite complex and flexible. This piece demonstrates how the dataset we want to virtualize could be processed to provide "inverted" viewport logic when new positive items are retrieved by scrolling up. '),Ia(),Sa(20,"p"),Sa(21,"em"),is(22,"getData"),Ia(),is(23," method implements positive limited datasource as it was done in the previous sample with one change: left dataset boundary is parametrized by "),Sa(24,"em"),is(25,"MIN"),Ia(),is(26," property. So "),Sa(27,"em"),is(28,"datasourceCommon.get"),Ia(),is(29," just passes "),Sa(30,"em"),is(31,"getData"),Ia(),is(32," result to its "),Sa(33,"em"),is(34,"success"),Ia(),is(35," callback. "),Ia(),Sa(36,"p"),is(37," But "),Sa(38,"em"),is(39,"datasourceInverted.get"),Ia(),is(40," does the simple math: it inverts and shifts the "),Sa(41,"em"),is(42,"index"),Ia(),is(43," and reverses the result array. So the Scroller gets some specifically processed portion of our dataset that reflects our needs. By settings "),Sa(44,"em"),is(45,"startIndex"),Ia(),is(46," value to -10 in this case we are telling that we want 10 items to be fetched and rendered in forward direction initially. And it does not depend on "),Sa(47,"em"),is(48,"MIN"),Ia(),is(49,", it does depend on the viewport and single item size: 10 items are visible. "),Ia(),Ia()),2&e&&($i(1),ka("config",t.demoConfig),$i(6),ka("uiScrollOf",t.datasourceCommon),$i(5),ka("uiScrollOf",t.datasourceInverted),$i(3),os(t.sources[0].text))},directives:[Bw,_m],encapsulation:2}),e}(),Dk=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Rk=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Nk=function(){function e(){var e=this;this.demoContext={config:Pw.datasource.map.pages,logViewOnly:!0,log:""},this.getCount=0,this.pagesCount=30,this.pageSize=7,this.datasource={get:function(t,n,r){e.getCount++,e.demoContext.log="\n"+e.demoContext.log,e.demoContext.log=e.getCount+".1 index = "+t+", count = "+n+"\n"+e.demoContext.log;var i=Math.max(t,0),o=t+n-1;if(i>o)return e.demoContext.log=e.getCount+".2 empty result\n"+e.demoContext.log,void r([]);e.demoContext.log=e.getCount+".2 requesting items ["+i+".."+o+"]\n"+e.demoContext.log;for(var a=Math.floor(i/e.pageSize),s=Math.floor(o/e.pageSize),u=[],c=[],l=a;l<=s;l++)c.push(l),u=Rk(Rk([],Dk(u)),Dk(e.getDataPage(l)));e.demoContext.log=e.getCount+".3 requesting pages: "+c.join(", ")+"\n"+e.demoContext.log,e.demoContext.log=e.getCount+".4 "+(u.length?"pages result ["+u[0].index+".."+u[u.length-1].index+"]":"empty result")+"\n"+e.demoContext.log;var d=i-a*e.pageSize,h=u.slice(d,d+o-i+1);e.demoContext.log=(h.length?e.getCount+".5 sliced result ["+h[0].index+".."+h[h.length-1].index+"]\n":"")+e.demoContext.log,r(h)},settings:{startIndex:0}},this.sources=[{name:Fw.Component,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    // items to request (x.2)\n    const startIndex = Math.max(index, 0);\n    const endIndex = index + count - 1;\n    if (startIndex > endIndex) {\n      success([]); // empty result\n      return;\n    }\n\n    // pages to request (x.3)\n    const startPage = Math.floor(startIndex / this.pageSize);\n    const endPage = Math.floor(endIndex / this.pageSize);\n\n    // pages result (x.4)\n    let pagesResult: MyItem[] = [];\n    for (let i = startPage; i <= endPage; i++) {\n      pagesResult = [...pagesResult, ...this.getDataPage(i)];\n    }\n\n    // sliced result (x.5)\n    const start = startIndex - startPage * this.pageSize;\n    const end = start + endIndex - startIndex + 1;\n    const data = pagesResult.slice(start, end);\n\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n};\n\npagesCount = 30;\npageSize = 7;\ndata: MyItem[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i < this.pagesCount; i++) {\n    this.data[i] = [];\n    for (let j = 0; j < this.pageSize; j++) {\n      const index = i * this.pageSize + j;\n      this.data[i].push({\n        index,\n        text: 'test ' + index\n      });\n    }\n  }\n}\n\ngetDataPage(page: number) {\n  if (page < 0 || page >= this.pagesCount) {\n    return [];\n  }\n  return this.data[page];\n}"},{name:Fw.Component+" (async)",text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const startIndex = Math.max(index, 0);\n    const endIndex = index + count - 1;\n    if (startIndex > endIndex) {\n      success([]); // empty result\n      return;\n    }\n\n    const startPage = Math.floor(startIndex / this.pageSize);\n    const endPage = Math.floor(endIndex / this.pageSize);\n\n    const pagesRequest: Promise<MyItem>[] = [];\n    for (let i = startPage; i <= endPage; i++) {\n      pagesRequest.push(\n        this.remoteDataService.getDataPageAsync(i)\n      );\n    }\n    return Promise.all(pagesRequest).then(pagesResult => {\n      pagesResult = pagesResult.reduce((acc, result) =>\n        [...acc, ...result]\n      , []);\n      const start = startIndex - startPage * this.pageSize;\n      const end = start + endIndex - startIndex + 1;\n      return pagesResult.slice(start, end);\n    });\n  },\n  settings: {\n    startIndex: 0\n  }\n};\n\nconstructor(\n  private remoteDataService: RemoteDataService\n) {\n}"}],this.data=[];for(var t=0;t<this.pagesCount;t++){this.data[t]=[];for(var n=0;n<this.pageSize;n++){var r=t*this.pageSize+n;this.data[t].push({index:r,text:"test "+r})}}}return e.prototype.getDataPage=function(e){return e<0||e>=this.pagesCount?[]:this.data[e]},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-pages-datasource"]],decls:37,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"p"),is(3,' This sample demonstrates how the Scroller can be integrated with the datasource which has "pages" API only. The Scroller deals with "offset-limit" (that is "index-count") API by default, but necessary transition layer could be implemented via '),Sa(4,"em"),is(5,"datasource.get"),Ia(),is(6,". "),Ia(),Sa(7,"p"),is(8," The "),Sa(9,"em"),is(10,"constructor"),Ia(),is(11," initializes "),Sa(12,"em"),is(13,"data"),Ia(),is(14," two-dimensional array, "),Sa(15,"em"),is(16,"getDataPage"),Ia(),is(17,' method simulates "pages" API. We are assuming that '),Sa(18,"em"),is(19,"getDataPage"),Ia(),is(20," is the only entry point to our data. Then each time the "),Sa(21,"em"),is(22,"datasource.get"),Ia(),is(23,' method is called, we are converting "index-count" API params to appropriate pages numbers, retrieving these pages, joining pages results and slicing it to resolve the exactly part of the dataset the Scroller needs for. '),Ia(),Sa(24,"p"),Sa(25,"em"),is(26,"getDataPage"),Ia(),is(27," could be async, let's imagine that there is "),Sa(28,"em"),is(29,"remoteDataService"),Ia(),is(30," which has "),Sa(31,"em"),is(32,"getDataPageAsync"),Ia(),is(33," method which returns "),Sa(34,"em"),is(35,"Promise"),Ia(),is(36,'. Using promise-based signature in this case, x.3, x.4 and x.5 code sections might be rewritten as it is shown in "Component (async)" tab. '),Ia(),Ia(),Ia()),2&e&&ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}(),Vk=function(e){return["/",e]},zk=function(){function e(){this.demos=Pw,this.importSample="import { Datasource, IDatasource } from 'ngx-ui-scroll';",this.datasourceSampleLiteral="datasource: IDatasource = { get, settings };",this.datasourceSampleClass="datasource = new Datasource({ get, settings });"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-datasource"]],decls:102,vars:9,consts:[[3,"routerLink"]],template:function(e,t){1&e&&(Sa(0,"h1"),is(1,"Angular UI Scroll Datasource Demos"),Ia(),Sa(2,"p"),is(3," The idea of\xa0the "),Sa(4,"em"),is(5,"*uiScroll"),Ia(),is(6," directive usage is\xa0very similar to\xa0the\xa0use of\xa0"),Sa(7,"em"),is(8,"*ngFor"),Ia(),is(9," directive in\xa0the simplest case, but as\xa0it\xa0follows from the documentation, a\xa0special "),Sa(10,"em"),is(11,"Datasource"),Ia(),is(12," object needs to\xa0be\xa0passed instead of Angular "),Sa(13,"em"),is(14,"Iterable"),Ia(),is(15,". "),Sa(16,"em"),is(17,"Datasource"),Ia(),is(18," is\xa0an\xa0entry point to\xa0the "),Sa(19,"em"),is(20,"uiScroll"),Ia(),is(21,", that provides data flow from the host App to the Scroller. There are two common ways of\xa0how the "),Sa(22,"em"),is(23,"Datasource"),Ia(),is(24," could be\xa0defined:\n"),Ia(),Sa(25,"ul"),Sa(26,"li"),is(27," as an object literal of "),Sa(28,"em"),is(29,"IDatasource"),Ia(),is(30," type "),Sa(31,"pre"),is(32),Ia(),Ia(),Sa(33,"li"),is(34," as an instance of "),Sa(35,"em"),is(36,"Datasource"),Ia(),is(37," class "),Sa(38,"pre"),is(39),Ia(),Ia(),Ia(),Sa(40,"p"),is(41," The constructor argument in\xa0the second case should be\xa0an object of "),Sa(42,"em"),is(43,"IDatasource"),Ia(),is(44," type. Instantiating via operator "),Sa(45,"em"),is(46,"new"),Ia(),is(47," is\xa0needed for the "),Sa(48,"em"),is(49,"Adapter"),Ia(),is(50," to\xa0be\xa0available on\xa0the result "),Sa(51,"em"),is(52,"datasource"),Ia(),is(53," object (see "),Sa(54,"a",0),is(55,"Adapter demo page"),Ia(),is(56," for details). Both of\xa0"),Sa(57,"em"),is(58,"IDatasource"),Ia(),is(59," and "),Sa(60,"em"),is(61,"Datasource"),Ia(),is(62," definitions could be\xa0imported from "),Sa(63,"em"),is(64,"UiScrollModule"),Ia(),is(65,":\n"),Ia(),Sa(66,"pre"),is(67),Ia(),Sa(68,"p"),is(69," The "),Sa(70,"em"),is(71,"IDatasource"),Ia(),is(72," object we need to define in both cases\n"),Ia(),Sa(73,"ul"),Sa(74,"li"),is(75,"must contain "),Sa(76,"em"),is(77,"get"),Ia(),is(78," method property and"),Ia(),Sa(79,"li"),is(80,"may contain "),Sa(81,"em"),is(82,"settings"),Ia(),is(83," object property."),Ia(),Ia(),Sa(84,"p"),is(85," With the help of\xa0"),Sa(86,"em"),is(87,"settings"),Ia(),is(88," object the Scroller could be\xa0configured, as\xa0it\xa0is\xa0 described on\xa0"),Sa(89,"a",0),is(90,"Settings demo page"),Ia(),is(91,". On this page we\xa0are going to\xa0discuss the "),Sa(92,"em"),is(93,"Datasource.get"),Ia(),is(94," method implementation.\n"),Ia(),Ca(95,"app-datasource-signatures"),Ca(96,"app-bidirectional-unlimited-datasource"),Ca(97,"app-limited-datasource"),Ca(98,"app-positive-limited-datasource"),Ca(99,"app-remote-datasource"),Ca(100,"app-inverted-datasource"),Ca(101,"app-pages-datasource")),2&e&&($i(32),os(t.datasourceSampleLiteral),$i(7),os(t.datasourceSampleClass),$i(15),ka("routerLink",Eu(5,Vk,t.demos.adapter.id)),$i(13),os(t.importSample),$i(22),ka("routerLink",Eu(7,Vk,t.demos.settings.id)))},directives:[tw,Sk,Ik,Tk,Ek,sx,Pk,Nk],encapsulation:2}),e}(),jk=function(){function e(){this.demoContext={config:Pw.experimental.map.viewportElementSetting,noWorkView:!0},this.sources=[{name:Fw.Datasource,text:"@ViewChild('viewport', { static: true }) viewportRef: ElementRef<HTMLElement>;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    viewportElement: () => this.viewportRef.nativeElement\n  }\n}"},{name:Fw.Template,active:!0,text:'<div class="viewport" #viewport>\n  <div>\n    <div>\n      <div *uiScroll="let item of datasource">\n        <div class="item">{{item.text}}</div>\n      </div>\n    </div>\n  </div>\n</div>'},{name:Fw.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.nativeSample="settings: {\n  viewportElement: () =>\n    document.getElementsByClassName('viewport')[0]\n}"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-viewport-element-setting"]],decls:35,vars:3,consts:[[3,"context","sources"],["actions","",1,"comment"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),is(2,"Available since v1.8.1, undocumented"),Ia(),Sa(3,"div",2),Sa(4,"p"),is(5," As it follows from the doc, the viewport is a scrollable area with a finite height. By default, the nearest ancestor of the "),Sa(6,"em"),is(7,"*uiScroll"),Ia(),is(8," container is treated as the Viewport. With the "),Sa(9,"em"),is(10,"viewportElement"),Ia(),is(11," setting we may change the default behavior and make another html element to be the Viewport. "),Ia(),Sa(12,"p"),is(13," The value of "),Sa(14,"em"),is(15,"viewportElement"),Ia(),is(16," setting can be an html element or a function synchronously returning an html element. The second option is useful if the Viewport is a part of the template of the same component that contains the Scroller, and the "),Sa(17,"em"),is(18,"Datasource"),Ia(),is(19," is initialized before the view is ready (before "),Sa(20,"em"),is(21,"ngOnInit"),Ia(),is(22,"). "),Ia(),Sa(23,"p"),is(24," This sample shows a declarative way and uses "),Sa(25,"em"),is(26,"ViewChild"),Ia(),is(27," decorator and "),Sa(28,"em"),is(29,"#viewport"),Ia(),is(30," syntax to access the 3d ancestor of the Scroller base container. This also could be achieved via native javascript methods, for example "),Ia(),Sa(31,"pre"),is(32),Ia(),Sa(33,"p"),is(34," Note, using this feature is potentially dangerous, because any html element can be set as the Viewport this way. For example, the engine does not check whether this element is an ancestor of the Scroller element or not. "),Ia(),Ia(),Ia()),2&e&&(ka("context",t.demoContext)("sources",t.sources),$i(32),os(t.nativeSample))},directives:[ox],encapsulation:2}),e}(),Lk=function(){function e(){var e=this;this.demoContext={config:Pw.experimental.map.inverseSetting,addClass:"inverse",noInfo:!0},this.MIN=1,this.MAX=5,this.datasource={get:function(t,n,r){var i=[],o=Math.max(e.MIN,t),a=Math.min(t+n-1,e.MAX);if(o<=a)for(var s=o;s<=a;s++)i.push({id:s,text:"item #"+s});r(i)},settings:{inverse:!0}},this.sources=[{name:Fw.Datasource,text:"MIN = 1;\nMAX = 5;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(this.MIN, index);\n    const end = Math.min(index + count - 1, this.MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n    }\n    success(data);\n  },\n  settings: {\n    inverse: true\n  }\n};"},{name:Fw.Styles,text:".viewport div[data-padding-backward] {\n  background-color: #e1f0ff;\n}\n.item {\n  background-color: #bcdeff;\n}"}]}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-inverse-setting"]],decls:17,vars:3,consts:[[3,"datasource","context","sources"],["actions","",1,"comment"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),is(2,"Available since v1.3.4, undocumented"),Ia(),Sa(3,"div",2),Sa(4,"p"),is(5," When there is a lack of items in the viewport, the Scroller sets the height of the forward padding element to some value enough to fill the viewport. This is the default behavior, and this can be changed with the help of the "),Sa(6,"em"),is(7,"inverse"),Ia(),is(8," setting. "),Ia(),Sa(9,"p"),is(10," When "),Sa(11,"em"),is(12,"inverse"),Ia(),is(13," setting is set to "),Sa(14,"em"),is(15,"true"),Ia(),is(16,", the backward padding element will have a priority over the forward one, and it will be stretched if there are not enough items in the viewport. "),Ia(),Ia(),Ia()),2&e&&ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}(),Fk=function(){function e(){this.demoContext={config:Pw.experimental.map.adapterFixPosition,noInfo:!0},this.datasource=new Tm({get:function(e,t,n){for(var r=[],i=e;i<e+t;i++)r.push({id:i,text:"item #"+i});n(r)}}),this.sources=[{name:Fw.Template,text:'<button (click)="scrollTop()">scroll top</button>\n<button (click)="scrollBottom()">scroll bottom</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Component,text:"datasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\n  scrollTop() {\n    this.datasource.adapter.fix({ scrollPosition: 0 });\n  }\n\n  scrollBottom() {\n    this.datasource.adapter.fix({ scrollPosition: +Infinity });\n  }\n"}],this.adapterFixPosition="Adapter.fix({ scrollPosition: 0 })"}return e.prototype.scrollTop=function(){this.datasource.adapter.fix({scrollPosition:0})},e.prototype.scrollBottom=function(){this.datasource.adapter.fix({scrollPosition:1/0})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-adapter-fix-position"]],decls:51,vars:3,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"div",2),is(3,"Available since v1.2.4, undocumented"),Ia(),Sa(4,"button",3),Ma("click",function(){return t.scrollTop()}),is(5,"scroll top"),Ia(),Sa(6,"button",3),Ma("click",function(){return t.scrollBottom()}),is(7,"scroll bottom"),Ia(),Ia(),Sa(8,"div",4),Sa(9,"p"),is(10," The "),Sa(11,"em"),is(12,"Adapter.fix"),Ia(),is(13," method has a number of settings, one of them is "),Sa(14,"em"),is(15,"scrollPosition"),Ia(),is(16,". It allows to change the position of the viewport's scrollbar programmatically. It is used in the lib tests. "),Ia(),Sa(17,"p"),is(18," The value of "),Sa(19,"em"),is(20,"scrollPosition"),Ia(),is(21," should be an integer or Infinity. Negative value would be treated as zero. Despite the browsers have no agreement on how to deal with setting "),Sa(22,"em"),is(23,"scrollTop"),Ia(),is(24,"/"),Sa(25,"em"),is(26,"scrollLeft"),Ia(),is(27," properties into "),Sa(28,"em"),is(29,"+/-Infinity"),Ia(),is(30,", the Scroller treats them as follows: "),Ia(),Sa(31,"ul"),Sa(32,"li"),is(33," scroll to the beginning of the viewport if "),Sa(34,"em"),is(35,"-Infinity"),Ia(),is(36,", (the value will be set to "),Sa(37,"em"),is(38,"0"),Ia(),is(39,") "),Ia(),Sa(40,"li"),is(41," scroll to the end of the viewport if "),Sa(42,"em"),is(43,"Infinity"),Ia(),is(44," (scroll position will be set into the viewport's "),Sa(45,"em"),is(46,"scrollHeight"),Ia(),is(47," or "),Sa(48,"em"),is(49,"scrollWidth"),Ia(),is(50," value) "),Ia(),Ia(),Ia(),Ia()),2&e&&ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources)},directives:[ox],encapsulation:2}),e}(),Uk=function(e){return["/",e]},Bk=function(){function e(){this.demoContext={config:Pw.experimental.map.adapterFixUpdater,noInfo:!0},this.adapterPropsScope=Pw.adapterProps,this.adapterMethodsScope=Pw.adapterMethods,this.datasource=new Tm({get:function(e,t,n){for(var r=[],i=e;i<e+t;i++)r.push({id:i,text:"item #"+i});n(r)}}),this.sources=[{name:Fw.Template,text:'<button (click)="doUpdate()">Update</button> item #\n<input [(ngModel)]="inputValue" size="2">\n<div>Items in buffer: {{this.countItems()}}</div>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Component,text:"inputValue = '5'\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data: MyItem[] = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\ndoUpdate() {\n  const index = Number(this.inputValue);\n  if (!isNaN(index)) {\n    this.datasource.adapter.fix({\n      updater: ({ $index, data }, update) => {\n        if (index === $index) {\n          data.text += '*';\n          // update();\n        }\n      }\n    });\n  }\n}\n\ncountItems() {\n  let count = 0;\n  this.datasource.adapter.fix({\n    updater: ({}) => count++\n  });\n  return count;\n}\n"}],this.itemAdapterDescription="  ItemAdapter {\n    $index: number;\n    data: any;\n    element?: HTMLElement;\n  }",this.adapterFixUpdater="Adapter.fix({ updater })",this.inputValue="5"}return e.prototype.doUpdate=function(){var e=Number(this.inputValue);isNaN(e)||this.datasource.adapter.fix({updater:function(t,n){e===t.$index&&(t.data.text+="*"),n()}})},e.prototype.countItems=function(){var e=0;return this.datasource.adapter.fix({updater:function(){return e++}}),e},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-adapter-fix-updater"]],decls:78,vars:22,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["size","2",3,"ngModel","ngModelChange"],["description",""],[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"div",2),is(3,"Available since v1.3.1, undocumented"),Ia(),Sa(4,"button",3),Ma("click",function(){return t.doUpdate()}),is(5,"Update"),Ia(),is(6," item # "),Sa(7,"input",4),Ma("ngModelChange",function(e){return t.inputValue=e}),Ia(),Sa(8,"div"),is(9),Ia(),Ia(),Sa(10,"div",5),Sa(11,"p"),is(12," The "),Sa(13,"em"),is(14,"Adapter.fix"),Ia(),is(15," method could be invoked with "),Sa(16,"em"),is(17,"updater"),Ia(),is(18," option which is a function that is applied to each element in the current Scroller's Buffer list and allows to update buffered items on the fly. The argument of the "),Sa(19,"em"),is(20,"updater"),Ia(),is(21," function is an object of special "),Sa(22,"em"),is(23,"ItemAdapter"),Ia(),is(24," type "),Ia(),Sa(25,"pre"),is(26),Ia(),Sa(27,"p"),is(28," The "),Sa(29,"em"),is(30,"data"),Ia(),is(31," is exactly what the "),Sa(32,"em"),is(33,"Datasource"),Ia(),is(34," sends to the Scroller as the items contents. So we have access to the items inside the Scroller's Buffer, and in this demo we update the "),Sa(35,"em"),is(36,"text"),Ia(),is(37," of selected item by its index. If we destroy the updated item by scrolling out and then scroll back, we will see that our update is gone. Speaking generally, we need to care about datasource consistency and every update we want to be applied to the Scroller's Buffer should also happen at the datasource level. The examples of Datasource-Adapter synching can be found "),Sa(38,"a",6),is(39,"here"),Ia(),is(40,", "),Sa(41,"a",6),is(42,"here"),Ia(),is(43," and "),Sa(44,"a",6),is(45,"here"),Ia(),is(46,". "),Ia(),Sa(47,"p"),is(48," The "),Sa(49,"em"),is(50,"Adapter.fix({ updater })"),Ia(),is(51," usage can be very diverse. For example, we may not change anything in the buffer, but gather some statistic. In this demo "),Sa(52,"em"),is(53,"countItems"),Ia(),is(54," method uses "),Sa(55,"em"),is(56,"updater"),Ia(),is(57," to get a number of items in the buffer at a particular moment. The result is equal to the value of "),Sa(58,"em"),is(59,"Adapter.itemsCount"),Ia(),is(60," read-only property ("),Sa(61,"a",6),is(62,"link"),Ia(),is(63,"). Also, I would not recommend to bind "),Sa(64,"em"),is(65,"countItems"),Ia(),is(66,"-like methods with the template as it is in this demo, for it might affect the performance. "),Ia(),Sa(67,"p"),is(68," The "),Sa(69,"em"),is(70,"Adapter.fix-updater"),Ia(),is(71," method has the second argument "),Sa(72,"em"),is(73,"update"),Ia(),is(74," (available since v2.0.0-rc.6) which is a function that can be invoked in case the "),Sa(75,"em"),is(76,"Buffer.items"),Ia(),is(77," array reference needs to be updated. "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(7),ka("ngModel",t.inputValue),$i(2),as("Items in buffer: ",t.countItems(),""),$i(17),os(t.itemAdapterDescription),$i(12),ja("fragment",t.adapterMethodsScope.map.appendPrependSync.id),ka("routerLink",Eu(14,Uk,t.adapterMethodsScope.id)),$i(3),ja("fragment",t.adapterMethodsScope.map.remove.id),ka("routerLink",Eu(16,Uk,t.adapterMethodsScope.id)),$i(3),ja("fragment",t.adapterMethodsScope.map.insert.id),ka("routerLink",Eu(18,Uk,t.adapterMethodsScope.id)),$i(17),ja("fragment",t.adapterPropsScope.map.itemsCount.id),ka("routerLink",Eu(20,Uk,t.adapterPropsScope.id)))},directives:[ox,Ad,$d,uh,tw],encapsulation:2}),e}(),$k=function(){function e(){this.demoContext={config:Pw.experimental.map.adapterFixScrollToItem,noInfo:!0},this.datasource=new Tm({get:function(e,t,n){for(var r=[],i=e;i<e+t;i++)r.push({id:i,text:"item #"+i});n(r)}}),this.sources=[{name:Fw.Template,text:'<button (click)="doScrollTo()">Scroll to</button> item #\n<input [(ngModel)]="index" size="2">\n<input type="checkbox" [(ngModel)]="scrollToBottom"> - scroll to bottom\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Fw.Component,text:"index = '5'\nscrollToBottom = false;\n\ndatasource = new Datasource<MyItem>({\n  get: (index, count, success) => {\n    const data: MyItem[] = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\ndoScrollTo() {\n  const index = Number(this.index);\n  const alignToTop = !Boolean(this.scrollToBottom);\n  if (!isNaN(index)) {\n    this.datasource.adapter.fix({\n      scrollToItem: ({ data }) => data.id === index,\n      scrollToItemOpt: alignToTop\n    });\n  }\n}\n"}],this.adapterFixUpdater="Adapter.fix({ scrollToItem })",this.index="5",this.scrollToBottom=!1}return e.prototype.doScrollTo=function(){var e=Number(this.index),t=!this.scrollToBottom;isNaN(e)||this.datasource.adapter.fix({scrollToItem:function(t){return t.data.id===e},scrollToItemOpt:t})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-adapter-fix-scroll-to-item"]],decls:34,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["size","2",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange"],["description",""],["href","https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView"]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"div",2),is(3,"Available since v1.6.2, undocumented"),Ia(),Sa(4,"button",3),Ma("click",function(){return t.doScrollTo()}),is(5,"Scroll to"),Ia(),is(6," item # "),Sa(7,"input",4),Ma("ngModelChange",function(e){return t.index=e}),Ia(),Ca(8,"br"),Sa(9,"input",5),Ma("ngModelChange",function(e){return t.scrollToBottom=e}),Ia(),is(10," - scroll to bottom "),Ia(),Sa(11,"div",6),Sa(12,"p"),is(13," What if we want to scroll to a specific item in the viewport? This can be done via "),Sa(14,"em"),is(15,"scrollToItem"),Ia(),is(16," option of the "),Sa(17,"em"),is(18,"Adapter.fix"),Ia(),is(19," method. This option specifies an item predicate function, and the first item in the Buffer, that satisfies this predicate, will be the item to which the viewport will scroll. "),Ia(),Sa(20,"p"),is(21," Scrolling is performed via "),Sa(22,"em"),is(23,"element.scrollIntoView()"),Ia(),is(24," native DOM Element interface's method. According to its specification, it accepts 1 optional argument which can be a Boolean parameter or special Object parameter (details can be found on "),Sa(25,"a",7),is(26,"MDN"),Ia(),is(27,"). To provide this option, the "),Sa(28,"em"),is(29,"Adapter.fix"),Ia(),is(30," method handles another property of its argument object: "),Sa(31,"em"),is(32,"scrollToItemOpt"),Ia(),is(33,". The demo shows how to use it. "),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(7),ka("ngModel",t.index),$i(2),ka("ngModel",t.scrollToBottom))},directives:[ox,Ad,$d,uh,Id],encapsulation:2}),e}(),Hk=function(){function e(){var e=this;this.demoContext={config:Pw.experimental.map.onBeforeClipSetting,viewportId:"onBeforeClip-setting-viewport",log:"",count:0},this.datasource=new Tm({get:function(e,t,n){for(var r=[],i=e;i<=e+t-1;i++)r.push({id:i,text:"item #"+i});n(r)},settings:{bufferSize:25,onBeforeClip:function(t){var n=++e.demoContext.count+") clipping "+t.length+" items["+t[0].$index+".."+t[t.length-1].$index+"]\n";e.demoContext.log=n+e.demoContext.log}}}),this.sources=[{name:Fw.Datasource,active:!0,text:"datasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 25,\n    onBeforeClip: (items) => {\n      const range = `[${items[0].$index}..${items[items.length - 1].$index}]`;\n      const text = `clipping ${items.length} items ${range}`;\n      console.log(text);\n    }\n  }\n})"},{name:Fw.Template,text:'<button (click)="datasource.adapter.clip()">Clip now</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'}],this.argumentDescription="  onBeforeClip: (items: {\n    $index: number,\n    data: any,\n    element?: HTMLElement\n  }[]) => void"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-on-before-clip-setting"]],decls:24,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["description",""]],template:function(e,t){1&e&&(Sa(0,"app-demo",0),Sa(1,"div",1),Sa(2,"div",2),is(3,"Available since v1.9.0, undocumented"),Ia(),Sa(4,"button",3),Ma("click",function(){return t.datasource.adapter.clip()}),is(5,"Clip"),Ia(),Ia(),Sa(6,"div",4),Sa(7,"p"),Sa(8,"em"),is(9,"onBeforeClip"),Ia(),is(10," setting allows to run some code at the moment when 1 or more items are to clip out of the viewport. The code will run synchronously. Clipping cannot be cancelled. It is like to "),Sa(11,"em"),is(12,"OnDestroy"),Ia(),is(13," Angular lifecycle hook, but it is triggered before the elements are removed from DOM. "),Ia(),Sa(14,"p"),is(15," The log in this demo shows exactly what the "),Sa(16,"em"),is(17,"onBeforeClip"),Ia(),is(18," method sends to the console. The argument of the callback is the array of items of "),Sa(19,"em"),is(20,"ItemAdapter"),Ia(),is(21," type: "),Ia(),Sa(22,"pre"),is(23),Ia(),Ia(),Ia()),2&e&&(ka("datasource",t.datasource)("context",t.demoContext)("sources",t.sources),$i(23),os(t.argumentDescription))},directives:[ox],encapsulation:2}),e}(),qk=function(){function e(){this.scope=Pw.experimental.map,this.base="../"+Pw.experimental.id,this.adapterFixArgumentDescription="  interface AdapterFixOptions {\n    scrollPosition?: number;\n    minIndex?: number;\n    maxIndex?: number;\n    updater?: (item: ItemAdapter, update: () => void) => void;\n    scrollToItem?: (item: ItemAdapter) => boolean;\n    scrollToItemOpt?: boolean | ScrollIntoViewOptions;\n  }"}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-experimental"]],decls:37,vars:16,consts:[[3,"routerLink","fragment"]],template:function(e,t){1&e&&(Sa(0,"h1"),is(1,"Angular UI Scroll Experimental Demos"),Ia(),Sa(2,"p"),is(3," There are some undocumented settings and Adapter methods that provide additional flexibility. We can consider them as experimental features. Most of these features are not tested well and may have some side effects or behave imperfectly.\n"),Ia(),Sa(4,"ul"),Sa(5,"li"),Sa(6,"a",0),is(7),Ia(),Ia(),Sa(8,"li"),Sa(9,"a",0),is(10),Ia(),Ia(),Sa(11,"li"),is(12,"fix adapter method: "),Sa(13,"a",0),is(14,"position"),Ia(),is(15,", "),Sa(16,"a",0),is(17,"updater"),Ia(),is(18,", "),Sa(19,"a",0),is(20,"scroll to item"),Ia(),Ia(),Sa(21,"li"),Sa(22,"a",0),is(23),Ia(),Ia(),Ia(),Sa(24,"p"),is(25," For example, "),Sa(26,"em"),is(27,"Adapter.fix"),Ia(),is(28," method. It has different options for different cases which are discussed below. These options are passed as an object of the following type:\n"),Ia(),Sa(29,"pre"),is(30),Ia(),Ca(31,"app-viewport-element-setting"),Ca(32,"app-inverse-setting"),Ca(33,"app-adapter-fix-position"),Ca(34,"app-adapter-fix-updater"),Ca(35,"app-adapter-fix-scroll-to-item"),Ca(36,"app-on-before-clip-setting")),2&e&&($i(6),ja("routerLink",t.base),ja("fragment",t.scope.viewportElementSetting.id),$i(1),as(" ",t.scope.viewportElementSetting.name," "),$i(2),ja("routerLink",t.base),ja("fragment",t.scope.inverseSetting.id),$i(1),as(" ",t.scope.inverseSetting.name," "),$i(3),ja("routerLink",t.base),ja("fragment",t.scope.adapterFixPosition.id),$i(3),ja("routerLink",t.base),ja("fragment",t.scope.adapterFixUpdater.id),$i(3),ja("routerLink",t.base),ja("fragment",t.scope.adapterFixScrollToItem.id),$i(3),ja("routerLink",t.base),ja("fragment",t.scope.onBeforeClipSetting.id),$i(1),as(" ",t.scope.onBeforeClipSetting.name," "),$i(7),os(t.adapterFixArgumentDescription))},directives:[tw,jk,Lk,Fk,Bk,$k,Hk],encapsulation:2}),e}();function Wk(e,t){if(1&e&&(Sa(0,"div",5),Sa(1,"b"),is(2),Ia(),Sa(3,"span"),is(4),Ia(),Ia()),2&e){var n=t.$implicit;$i(2),os(n.text),$i(1),Wa("color",n.color),$i(1),as(" ",n.data," ")}}function Gk(e,t){if(1&e&&(Sa(0,"div"),ba(1,Wk,5,4,"div",4),Ia()),2&e){var n=Ra();$i(1),ka("uiScrollOf",n.datasource)}}var Xk=function(){function e(){var e=this;this.datasource=new Tm({get:function(e,t,n){var r=Math.max(e,1),i=Math.min(e+t-1,500),o=[];if(r<=i)for(var a=r;a<=i;a++){var s={data:"",text:"item #"+a,color:"black",size:20};a%15==0&&(s.data=Array.from({length:7*Math.random()+3},function(){return"*"}).join(""),s.color=a%30==0?"red":"black"),o.push(s)}n(o)},settings:{startIndex:100,padding:.25,bufferSize:1,itemSize:20,minIndex:1,windowViewport:!0}}),setTimeout(function(){return e.init=!0})}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-samples-window"]],decls:9,vars:4,consts:[[1,"header"],["routerLink","/",1,"navbar-link"],[1,"top-visible"],[4,"ngIf"],["style","height: 20px;",4,"uiScroll","uiScrollOf"],[2,"height","20px"]],template:function(e,t){var n;1&e&&(Sa(0,"div",0),Sa(1,"h1"),is(2,"Entire window scrolling demo"),Ia(),Sa(3,"a",1),is(4,"Home"),Ia(),Ia(),Sa(5,"div",2),is(6),Pu(7,"async"),Ia(),ba(8,Gk,2,1,"div",3)),2&e&&($i(6),as(" Top visible: ",null==(n=Du(7,2,t.datasource.adapter.firstVisible$))?null:n.$index,"\n"),$i(2),ka("ngIf",t.init))},directives:[tw,Al,_m],pipes:[Nl],encapsulation:2}),e}(),Zk=["*"],Qk=["viewport"];function Kk(e,t){1&e&&(Sa(0,"span"),is(1,"Destroy"),Ia())}function Yk(e,t){1&e&&(Sa(0,"span"),is(1,"Create"),Ia())}function Jk(e,t){if(1&e){var n=Ta();Sa(0,"div"),Sa(1,"button",1),Ma("click",function(){return en(n),Ra().doReload()}),is(2,"Reload"),Ia(),Sa(3,"button",1),Ma("click",function(){return en(n),Ra().doPrepend()}),is(4,"Prepend"),Ia(),Sa(5,"button",1),Ma("click",function(){return en(n),Ra().doLog()}),is(6,"Show log"),Ia(),Ca(7,"br"),Sa(8,"button",1),Ma("click",function(){return en(n),Ra().doScrollHome()}),is(9,"Up"),Ia(),Sa(10,"button",1),Ma("click",function(){return en(n),Ra().doScrollEnd()}),is(11,"Down"),Ia(),Sa(12,"button",1),Ma("click",function(){return en(n),Ra().doScrollSome()}),is(13,"Some"),Ia(),Ca(14,"br"),Sa(15,"input",0),Ma("ngModelChange",function(e){return en(n),Ra().sizeIndex=e}),Ia(),Sa(16,"button",1),Ma("click",function(){return en(n),Ra().doChangeSize()}),is(17,"Size"),Ia(),Ca(18,"br"),Sa(19,"small"),is(20),Ia(),Ca(21,"br"),Sa(22,"small"),is(23),Pu(24,"async"),Ia(),Ca(25,"br"),Sa(26,"small"),is(27),Pu(28,"async"),Ia(),Ca(29,"br"),Sa(30,"small"),is(31),Pu(32,"async"),Ia(),Ca(33,"br"),Sa(34,"small"),is(35),Ia(),Ia()}if(2&e){var r,i,o=Ra();$i(15),ka("ngModel",o.sizeIndex),$i(5),as("ngx-ui-scroll version: ",o.datasource.adapter.version,""),$i(3),ss("isLoading: ",o.datasource.adapter.isLoading," (",Du(24,10,o.datasource.adapter.isLoading$),") "),$i(4),ss("first visible: ",o.datasource.adapter.firstVisible.$index," (",null==(r=Du(28,12,o.datasource.adapter.firstVisible$))?null:r.$index,") "),$i(4),ss("last visible: ",o.datasource.adapter.lastVisible.$index," (",null==(i=Du(32,14,o.datasource.adapter.lastVisible$))?null:i.$index,") "),$i(4),ss("total: ",o.datasource.adapter.itemsCount,", visible: ",o.getVisibleItemsCount()," ")}}function e_(e,t){if(1&e){var n=Ta();Sa(0,"div",1),Ma("click",function(){var e=en(n).$implicit;return Ra(2).doToggleItem(e)}),Sa(1,"app-samples-test-inner"),is(2),Sa(3,"span"),is(4),Ia(),Ia(),Ia()}if(2&e){var r=t.$implicit;Wa("height",r.size+"px"),$i(2),as(" ",r.text," "),$i(1),Wa("color",r.color),$i(1),as(" ",r.isSelected?"********":""," ")}}function t_(e,t){if(1&e&&(Sa(0,"div"),ba(1,e_,5,6,"div",5),Ia()),2&e){var n=Ra();$i(1),ka("uiScrollOf",n.datasource)}}var n_=-199,r_=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-samples-test-inner"]],ngContentSelectors:Zk,decls:2,vars:0,template:function(e,t){1&e&&(Va(),Sa(0,"b"),za(1),Ia())},encapsulation:2}),e}(),i_=[{path:"",component:dx},{path:"settings",component:Ox},{path:"adapter",component:_k},{path:"datasource",component:zk},{path:"experimental",component:qk},{path:"window",component:Xk},{path:"test",component:function(){function e(){var e=this;this.reloadIndex=1,this.sizeIndex=1,this.sizeValue=10,this.datasourceDelay=0,this.datasource=new Tm({get:function(t,n){return e.fetchData(t,n)},settings:{padding:.1,bufferSize:10,itemSize:100,startIndex:1,viewportElement:function(){return e.viewportRef.nativeElement}},devSettings:{debug:!0,immediateLog:!1,logTime:!1,logProcessRun:!0,throttle:40}}),this.show=!0,this.generateData()}return e.prototype.generateData=function(){this.data=[];for(var e=0;e<=50-n_;e++){var t={id:e+n_,text:"item #"+(e+n_),isSelected:e%15==0,size:Math.max(5,20+e+n_)};t.isSelected&&(t.data=Array.from({length:7*Math.random()+3},function(){return"*"}).join(""),t.color=e%30==0?"red":"black"),this.data.push(t)}},e.prototype.fetchData=function(e,t){var n=this,r=[],i=Math.max(n_,e),o=Math.min(50,e+t-1);if(i<=o)for(var a=i;a<=o;a++)r.push(this.data[a-n_]);return new L(function(e){n.datasourceDelay?setTimeout(function(){return e.next(r)},n.datasourceDelay):e.next(r)})},e.prototype.getVisibleItemsCount=function(){var e=this.datasource.adapter,t=e.lastVisible.$index;t=Number.isInteger(t)?t:NaN;var n=e.firstVisible.$index;return n=Number.isInteger(n)?n:NaN,Number.isNaN(t)||Number.isNaN(n)?0:t-n+1},e.prototype.getViewportElement=function(){return document.getElementsByClassName("viewport")[0]},e.prototype.doScroll=function(e,t,n){var r=this,i=this.getViewportElement();setTimeout(function(){i.scrollTop-=n,--e>0&&r.doScroll(e,t,n)},t)},e.prototype.doHideShow=function(){this.show=!this.show},e.prototype.doReload=function(){this.datasource.adapter.reload(this.reloadIndex)},e.prototype.doPrepend=function(){var e={id:--n_,text:"item #"+n_,isSelected:!1,size:25};this.data.unshift(e),this.datasource.adapter.prepend(e,!0)},e.prototype.doScrollHome=function(){this.getViewportElement().scrollTop=0},e.prototype.doScrollEnd=function(){this.getViewportElement().scrollTop=999999},e.prototype.doScrollSome=function(){var e=this.getViewportElement().scrollTop;this.getViewportElement().scrollTop=e+300},e.prototype.doChangeSize=function(){var e=document.getElementById("my-viewport"),t=Number(this.sizeIndex);if(!isNaN(t)&&e){for(var n=function(t){var n=e.querySelector('[data-sid="'+t+'"]');if(n){n.style.height=r.sizeValue+"px";var i=r.data.find(function(e){return e.id===t});i&&(i.size=r.sizeValue)}},r=this,i=t;i<t+5;i++)n(i);this.datasource.adapter.check()}},e.prototype.doLog=function(){this.datasource.adapter.showLog()},e.prototype.doToggleItem=function(e){this.datasource.adapter.fix({updater:function(t){var n=t.data;e.id===n.id&&(n.isSelected=!n.isSelected)}})},e.prototype.autoscroll=function(){var e=this.datasource.adapter,t=e.isLoading$.subscribe(function(n){var r=document.getElementById("my-viewport"),i=e.lastVisible.element;if(!n&&r&&i&&i.getBoundingClientRect){var o=i.getBoundingClientRect().bottom,a=r.getBoundingClientRect().bottom,s=r.scrollTop-(a-o);r.scrollTop===s?t.unsubscribe():(e.fix({scrollPosition:s}),r.scrollTop===s&&t.unsubscribe())}})},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=lt({type:e,selectors:[["app-samples-test"]],viewQuery:function(e,t){var n,r,i;1&e&&(r=Qk,7,(i=Jt()).firstCreatePass&&(Ku(i,new Fu(r,7,undefined),-1),i.staticViewQueries=!0),Qu(i,Yt(),7)),2&e&&Gu(n=Zu())&&(t.viewportRef=n.first)},decls:21,vars:6,consts:[[2,"width","50px",3,"ngModel","ngModelChange"],[3,"click"],[4,"ngIf"],["id","my-viewport",1,"viewport",2,"height","600px"],["viewport",""],[3,"height","click",4,"uiScroll","uiScrollOf"]],template:function(e,t){1&e&&(Sa(0,"div"),Sa(1,"input",0),Ma("ngModelChange",function(e){return t.datasourceDelay=e}),Ia(),is(2," - "),Sa(3,"small"),is(4,"datasource delay"),Ia(),Ca(5,"br"),Sa(6,"input",0),Ma("ngModelChange",function(e){return t.reloadIndex=e}),Ia(),is(7," - "),Sa(8,"small"),is(9,"reload index"),Ia(),Ca(10,"br"),Sa(11,"button",1),Ma("click",function(){return t.doHideShow()}),ba(12,Kk,2,0,"span",2),ba(13,Yk,2,0,"span",2),Ia(),Ca(14,"br"),ba(15,Jk,36,16,"div",2),Ca(16,"br"),Ca(17,"br"),Ia(),Sa(18,"div",3,4),ba(20,t_,2,1,"div",2),Ia()),2&e&&($i(1),ka("ngModel",t.datasourceDelay),$i(5),ka("ngModel",t.reloadIndex),$i(6),ka("ngIf",t.show),$i(1),ka("ngIf",!t.show),$i(2),ka("ngIf",t.show),$i(5),ka("ngIf",t.show))},directives:[Ad,$d,uh,Al,_m,r_],pipes:[Nl],encapsulation:2}),e}()},{path:"**",redirectTo:"",pathMatch:"full"}],o_=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=De({imports:[[vw.forRoot(i_,{useHash:!0})],vw]}),e}(),a_=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pt({type:e,bootstrap:[Lw]}),e.\u0275inj=De({providers:[ax],imports:[[bd,mh,ef,lf.forRoot(),df,o_]]}),e}();(function(){if(Dc)throw new Error("Cannot enable prod mode after platform setup.");Pc=!1})(),gd().bootstrapModule(a_).catch(function(e){return console.log(e)})}},function(e){"use strict";e(e.s=51064)}]);
//# sourceMappingURL=main.917cf7045d278df85677.js.map